(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Sd={exports:{}},pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function iS(){if(Ey)return pl;Ey=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return pl.Fragment=t,pl.jsx=n,pl.jsxs=n,pl}var Ty;function rS(){return Ty||(Ty=1,Sd.exports=iS()),Sd.exports}var it=rS(),bd={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function sS(){if(Ay)return St;Ay=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.iterator;function C(D){return D===null||typeof D!="object"?null:(D=b&&D[b]||D["@@iterator"],typeof D=="function"?D:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,tt={};function Z(D,X,nt){this.props=D,this.context=X,this.refs=tt,this.updater=nt||q}Z.prototype.isReactComponent={},Z.prototype.setState=function(D,X){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,X,"setState")},Z.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Tt(){}Tt.prototype=Z.prototype;function dt(D,X,nt){this.props=D,this.context=X,this.refs=tt,this.updater=nt||q}var ct=dt.prototype=new Tt;ct.constructor=dt,$(ct,Z.prototype),ct.isPureReactComponent=!0;var Vt=Array.isArray,vt={H:null,A:null,T:null,S:null,V:null},Mt=Object.prototype.hasOwnProperty;function V(D,X,nt,W,ht,Rt){return nt=Rt.ref,{$$typeof:r,type:D,key:X,ref:nt!==void 0?nt:null,props:Rt}}function S(D,X){return V(D.type,X,void 0,void 0,void 0,D.props)}function R(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function N(D){var X={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(nt){return X[nt]})}var M=/\/+/g;function x(D,X){return typeof D=="object"&&D!==null&&D.key!=null?N(""+D.key):X.toString(36)}function I(){}function xe(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(I,I):(D.status="pending",D.then(function(X){D.status==="pending"&&(D.status="fulfilled",D.value=X)},function(X){D.status==="pending"&&(D.status="rejected",D.reason=X)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function se(D,X,nt,W,ht){var Rt=typeof D;(Rt==="undefined"||Rt==="boolean")&&(D=null);var yt=!1;if(D===null)yt=!0;else switch(Rt){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(D.$$typeof){case r:case t:yt=!0;break;case T:return yt=D._init,se(yt(D._payload),X,nt,W,ht)}}if(yt)return ht=ht(D),yt=W===""?"."+x(D,0):W,Vt(ht)?(nt="",yt!=null&&(nt=yt.replace(M,"$&/")+"/"),se(ht,X,nt,"",function(Hn){return Hn})):ht!=null&&(R(ht)&&(ht=S(ht,nt+(ht.key==null||D&&D.key===ht.key?"":(""+ht.key).replace(M,"$&/")+"/")+yt)),X.push(ht)),1;yt=0;var Ce=W===""?".":W+":";if(Vt(D))for(var Zt=0;Zt<D.length;Zt++)W=D[Zt],Rt=Ce+x(W,Zt),yt+=se(W,X,nt,Rt,ht);else if(Zt=C(D),typeof Zt=="function")for(D=Zt.call(D),Zt=0;!(W=D.next()).done;)W=W.value,Rt=Ce+x(W,Zt++),yt+=se(W,X,nt,Rt,ht);else if(Rt==="object"){if(typeof D.then=="function")return se(xe(D),X,nt,W,ht);throw X=String(D),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return yt}function H(D,X,nt){if(D==null)return D;var W=[],ht=0;return se(D,W,"","",function(Rt){return X.call(nt,Rt,ht++)}),W}function et(D){if(D._status===-1){var X=D._result;X=X(),X.then(function(nt){(D._status===0||D._status===-1)&&(D._status=1,D._result=nt)},function(nt){(D._status===0||D._status===-1)&&(D._status=2,D._result=nt)}),D._status===-1&&(D._status=0,D._result=X)}if(D._status===1)return D._result.default;throw D._result}var lt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function zt(){}return St.Children={map:H,forEach:function(D,X,nt){H(D,function(){X.apply(this,arguments)},nt)},count:function(D){var X=0;return H(D,function(){X++}),X},toArray:function(D){return H(D,function(X){return X})||[]},only:function(D){if(!R(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},St.Component=Z,St.Fragment=n,St.Profiler=o,St.PureComponent=dt,St.StrictMode=s,St.Suspense=g,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=vt,St.__COMPILER_RUNTIME={__proto__:null,c:function(D){return vt.H.useMemoCache(D)}},St.cache=function(D){return function(){return D.apply(null,arguments)}},St.cloneElement=function(D,X,nt){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var W=$({},D.props),ht=D.key,Rt=void 0;if(X!=null)for(yt in X.ref!==void 0&&(Rt=void 0),X.key!==void 0&&(ht=""+X.key),X)!Mt.call(X,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&X.ref===void 0||(W[yt]=X[yt]);var yt=arguments.length-2;if(yt===1)W.children=nt;else if(1<yt){for(var Ce=Array(yt),Zt=0;Zt<yt;Zt++)Ce[Zt]=arguments[Zt+2];W.children=Ce}return V(D.type,ht,void 0,void 0,Rt,W)},St.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},St.createElement=function(D,X,nt){var W,ht={},Rt=null;if(X!=null)for(W in X.key!==void 0&&(Rt=""+X.key),X)Mt.call(X,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ht[W]=X[W]);var yt=arguments.length-2;if(yt===1)ht.children=nt;else if(1<yt){for(var Ce=Array(yt),Zt=0;Zt<yt;Zt++)Ce[Zt]=arguments[Zt+2];ht.children=Ce}if(D&&D.defaultProps)for(W in yt=D.defaultProps,yt)ht[W]===void 0&&(ht[W]=yt[W]);return V(D,Rt,void 0,void 0,null,ht)},St.createRef=function(){return{current:null}},St.forwardRef=function(D){return{$$typeof:p,render:D}},St.isValidElement=R,St.lazy=function(D){return{$$typeof:T,_payload:{_status:-1,_result:D},_init:et}},St.memo=function(D,X){return{$$typeof:_,type:D,compare:X===void 0?null:X}},St.startTransition=function(D){var X=vt.T,nt={};vt.T=nt;try{var W=D(),ht=vt.S;ht!==null&&ht(nt,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(zt,lt)}catch(Rt){lt(Rt)}finally{vt.T=X}},St.unstable_useCacheRefresh=function(){return vt.H.useCacheRefresh()},St.use=function(D){return vt.H.use(D)},St.useActionState=function(D,X,nt){return vt.H.useActionState(D,X,nt)},St.useCallback=function(D,X){return vt.H.useCallback(D,X)},St.useContext=function(D){return vt.H.useContext(D)},St.useDebugValue=function(){},St.useDeferredValue=function(D,X){return vt.H.useDeferredValue(D,X)},St.useEffect=function(D,X,nt){var W=vt.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(D,X)},St.useId=function(){return vt.H.useId()},St.useImperativeHandle=function(D,X,nt){return vt.H.useImperativeHandle(D,X,nt)},St.useInsertionEffect=function(D,X){return vt.H.useInsertionEffect(D,X)},St.useLayoutEffect=function(D,X){return vt.H.useLayoutEffect(D,X)},St.useMemo=function(D,X){return vt.H.useMemo(D,X)},St.useOptimistic=function(D,X){return vt.H.useOptimistic(D,X)},St.useReducer=function(D,X,nt){return vt.H.useReducer(D,X,nt)},St.useRef=function(D){return vt.H.useRef(D)},St.useState=function(D){return vt.H.useState(D)},St.useSyncExternalStore=function(D,X,nt){return vt.H.useSyncExternalStore(D,X,nt)},St.useTransition=function(){return vt.H.useTransition()},St.version="19.1.0",St}var Sy;function mm(){return Sy||(Sy=1,bd.exports=sS()),bd.exports}var On=mm(),wd={exports:{}},gl={},Rd={exports:{}},Id={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by;function aS(){return by||(by=1,function(r){function t(H,et){var lt=H.length;H.push(et);t:for(;0<lt;){var zt=lt-1>>>1,D=H[zt];if(0<o(D,et))H[zt]=et,H[lt]=D,lt=zt;else break t}}function n(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var et=H[0],lt=H.pop();if(lt!==et){H[0]=lt;t:for(var zt=0,D=H.length,X=D>>>1;zt<X;){var nt=2*(zt+1)-1,W=H[nt],ht=nt+1,Rt=H[ht];if(0>o(W,lt))ht<D&&0>o(Rt,W)?(H[zt]=Rt,H[ht]=lt,zt=ht):(H[zt]=W,H[nt]=lt,zt=nt);else if(ht<D&&0>o(Rt,lt))H[zt]=Rt,H[ht]=lt,zt=ht;else break t}}return et}function o(H,et){var lt=H.sortIndex-et.sortIndex;return lt!==0?lt:H.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();r.unstable_now=function(){return f.now()-p}}var g=[],_=[],T=1,b=null,C=3,q=!1,$=!1,tt=!1,Z=!1,Tt=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function Vt(H){for(var et=n(_);et!==null;){if(et.callback===null)s(_);else if(et.startTime<=H)s(_),et.sortIndex=et.expirationTime,t(g,et);else break;et=n(_)}}function vt(H){if(tt=!1,Vt(H),!$)if(n(g)!==null)$=!0,Mt||(Mt=!0,x());else{var et=n(_);et!==null&&se(vt,et.startTime-H)}}var Mt=!1,V=-1,S=5,R=-1;function N(){return Z?!0:!(r.unstable_now()-R<S)}function M(){if(Z=!1,Mt){var H=r.unstable_now();R=H;var et=!0;try{t:{$=!1,tt&&(tt=!1,dt(V),V=-1),q=!0;var lt=C;try{e:{for(Vt(H),b=n(g);b!==null&&!(b.expirationTime>H&&N());){var zt=b.callback;if(typeof zt=="function"){b.callback=null,C=b.priorityLevel;var D=zt(b.expirationTime<=H);if(H=r.unstable_now(),typeof D=="function"){b.callback=D,Vt(H),et=!0;break e}b===n(g)&&s(g),Vt(H)}else s(g);b=n(g)}if(b!==null)et=!0;else{var X=n(_);X!==null&&se(vt,X.startTime-H),et=!1}}break t}finally{b=null,C=lt,q=!1}et=void 0}}finally{et?x():Mt=!1}}}var x;if(typeof ct=="function")x=function(){ct(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,xe=I.port2;I.port1.onmessage=M,x=function(){xe.postMessage(null)}}else x=function(){Tt(M,0)};function se(H,et){V=Tt(function(){H(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_next=function(H){switch(C){case 1:case 2:case 3:var et=3;break;default:et=C}var lt=C;C=et;try{return H()}finally{C=lt}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var lt=C;C=H;try{return et()}finally{C=lt}},r.unstable_scheduleCallback=function(H,et,lt){var zt=r.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?zt+lt:zt):lt=zt,H){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=lt+D,H={id:T++,callback:et,priorityLevel:H,startTime:lt,expirationTime:D,sortIndex:-1},lt>zt?(H.sortIndex=lt,t(_,H),n(g)===null&&H===n(_)&&(tt?(dt(V),V=-1):tt=!0,se(vt,lt-zt))):(H.sortIndex=D,t(g,H),$||q||($=!0,Mt||(Mt=!0,x()))),H},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(H){var et=C;return function(){var lt=C;C=et;try{return H.apply(this,arguments)}finally{C=lt}}}}(Id)),Id}var wy;function oS(){return wy||(wy=1,Rd.exports=aS()),Rd.exports}var Cd={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry;function lS(){if(Ry)return Qe;Ry=1;var r=mm();function t(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,_,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:_,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qe.createPortal=function(g,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return u(g,_,null,T)},Qe.flushSync=function(g){var _=f.T,T=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=_,s.p=T,s.d.f()}},Qe.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(g,_))},Qe.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Qe.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var T=_.as,b=p(T,_.crossOrigin),C=typeof _.integrity=="string"?_.integrity:void 0,q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?s.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:C,fetchPriority:q}):T==="script"&&s.d.X(g,{crossOrigin:b,integrity:C,fetchPriority:q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Qe.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=p(_.as,_.crossOrigin);s.d.M(g,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(g)},Qe.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,b=p(T,_.crossOrigin);s.d.L(g,T,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Qe.preloadModule=function(g,_){if(typeof g=="string")if(_){var T=p(_.as,_.crossOrigin);s.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(g)},Qe.requestFormReset=function(g){s.d.r(g)},Qe.unstable_batchedUpdates=function(g,_){return g(_)},Qe.useFormState=function(g,_,T){return f.H.useFormState(g,_,T)},Qe.useFormStatus=function(){return f.H.useHostTransitionStatus()},Qe.version="19.1.0",Qe}var Iy;function uS(){if(Iy)return Cd.exports;Iy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Cd.exports=lS(),Cd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function cS(){if(Cy)return gl;Cy=1;var r=oS(),t=mm(),n=uS();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(s(188))}function g(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),e;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,l=d;break}if(E===l){v=!0,l=h,a=d;break}E=E.sibling}if(!v){for(E=d.child;E;){if(E===a){v=!0,a=d,l=h;break}if(E===l){v=!0,l=d,a=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function _(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=_(e),i!==null)return i;e=e.sibling}return null}var T=Object.assign,b=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),Tt=Symbol.for("react.provider"),dt=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),Vt=Symbol.for("react.forward_ref"),vt=Symbol.for("react.suspense"),Mt=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function x(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function xe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $:return"Fragment";case Z:return"Profiler";case tt:return"StrictMode";case vt:return"Suspense";case Mt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case q:return"Portal";case ct:return(e.displayName||"Context")+".Provider";case dt:return(e._context.displayName||"Context")+".Consumer";case Vt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return i=e.displayName||null,i!==null?i:xe(e.type)||"Memo";case S:i=e._payload,e=e._init;try{return xe(e(i))}catch{}}return null}var se=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},zt=[],D=-1;function X(e){return{current:e}}function nt(e){0>D||(e.current=zt[D],zt[D]=null,D--)}function W(e,i){D++,zt[D]=e.current,e.current=i}var ht=X(null),Rt=X(null),yt=X(null),Ce=X(null);function Zt(e,i){switch(W(yt,i),W(Rt,e),W(ht,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Y_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Y_(i),e=X_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}nt(ht),W(ht,e)}function Hn(){nt(ht),nt(Rt),nt(yt)}function Ki(e){e.memoizedState!==null&&W(Ce,e);var i=ht.current,a=X_(i,e.type);i!==a&&(W(Rt,e),W(ht,a))}function mi(e){Rt.current===e&&(nt(ht),nt(Rt)),Ce.current===e&&(nt(Ce),cl._currentValue=lt)}var Gr=Object.prototype.hasOwnProperty,Qr=r.unstable_scheduleCallback,Kr=r.unstable_cancelCallback,ao=r.unstable_shouldYield,$l=r.unstable_requestPaint,_n=r.unstable_now,Ah=r.unstable_getCurrentPriorityLevel,oo=r.unstable_ImmediatePriority,js=r.unstable_UserBlockingPriority,Yr=r.unstable_NormalPriority,Sh=r.unstable_LowPriority,qs=r.unstable_IdlePriority,lo=r.log,Zl=r.unstable_setDisableYieldValue,ae=null,Ht=null;function on(e){if(typeof lo=="function"&&Zl(e),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(ae,e)}catch{}}var Fe=Math.clz32?Math.clz32:Xr,Wl=Math.log,bh=Math.LN2;function Xr(e){return e>>>=0,e===0?32:31-(Wl(e)/bh|0)|0}var $r=256,Zr=4194304;function Vn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Hs(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~d,l!==0?h=Vn(l):(v&=E,v!==0?h=Vn(v):a||(a=E&~e,a!==0&&(h=Vn(a))))):(E=l&~d,E!==0?h=Vn(E):v!==0?h=Vn(v):a||(a=l&~e,a!==0&&(h=Vn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Wr(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function uo(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function co(){var e=$r;return $r<<=1,($r&4194048)===0&&($r=256),e}function ho(){var e=Zr;return Zr<<=1,(Zr&62914560)===0&&(Zr=4194304),e}function pi(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function gi(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function fo(e,i,a,l,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,w=e.expirationTimes,L=e.hiddenUpdates;for(a=v&~a;0<a;){var F=31-Fe(a),K=1<<F;E[F]=0,w[F]=-1;var z=L[F];if(z!==null)for(L[F]=null,F=0;F<z.length;F++){var B=z[F];B!==null&&(B.lane&=-536870913)}a&=~K}l!==0&&Fn(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function Fn(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-Fe(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function mo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-Fe(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function Yi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Xi(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:my(e.type))}function Jl(e,i){var a=et.p;try{return et.p=e,i()}finally{et.p=a}}var ee=Math.random().toString(36).slice(2),Te="__reactFiber$"+ee,de="__reactProps$"+ee,yn="__reactContainer$"+ee,po="__reactEvents$"+ee,wh="__reactListeners$"+ee,$i="__reactHandles$"+ee,tu="__reactResources$"+ee,Jr="__reactMarker$"+ee;function Zi(e){delete e[Te],delete e[de],delete e[po],delete e[wh],delete e[$i]}function _i(e){var i=e[Te];if(i)return i;for(var a=e.parentNode;a;){if(i=a[yn]||a[Te]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=J_(e);e!==null;){if(a=e[Te])return a;e=J_(e)}return i}e=a,a=e.parentNode}return null}function Gn(e){if(e=e[Te]||e[yn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Qn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function Ze(e){var i=e[tu];return i||(i=e[tu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ue(e){e[Jr]=!0}var go=new Set,Gs={};function Mn(e,i){yi(e,i),yi(e+"Capture",i)}function yi(e,i){for(Gs[e]=i,e=0;e<i.length;e++)go.add(i[e])}var eu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nu={},ts={};function iu(e){return Gr.call(ts,e)?!0:Gr.call(nu,e)?!1:eu.test(e)?ts[e]=!0:(nu[e]=!0,!1)}function Wi(e,i,a){if(iu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Kn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function ke(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}var es,ru;function vi(e){if(es===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);es=i&&i[1]||"",ru=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+es+e+ru}var Qs=!1;function Ks(e,i){if(!e||Qs)return"";Qs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(B){var z=B}Reflect.construct(e,[],K)}else{try{K.call()}catch(B){z=B}e.call(K.prototype)}}else{try{throw Error()}catch(B){z=B}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],E=d[1];if(v&&E){var w=v.split(`
`),L=E.split(`
`);for(h=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(l===w.length||h===L.length)for(l=w.length-1,h=L.length-1;1<=l&&0<=h&&w[l]!==L[h];)h--;for(;1<=l&&0<=h;l--,h--)if(w[l]!==L[h]){if(l!==1||h!==1)do if(l--,h--,0>h||w[l]!==L[h]){var F=`
`+w[l].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=l&&0<=h);break}}}finally{Qs=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?vi(a):""}function _o(e){switch(e.tag){case 26:case 27:case 5:return vi(e.type);case 16:return vi("Lazy");case 13:return vi("Suspense");case 19:return vi("SuspenseList");case 0:case 15:return Ks(e.type,!1);case 11:return Ks(e.type.render,!1);case 1:return Ks(e.type,!0);case 31:return vi("Activity");default:return""}}function Ys(e){try{var i="";do i+=_o(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function We(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yo(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Rh(e){var i=yo(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Xs(e){e._valueTracker||(e._valueTracker=Rh(e))}function vo(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=yo(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function ns(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ih=/[\n"\\]/g;function me(e){return e.replace(Ih,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ln(e,i,a,l,h,d,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+We(i)):e.value!==""+We(i)&&(e.value=""+We(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?Ji(e,v,We(i)):a!=null?Ji(e,v,We(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+We(E):e.removeAttribute("name")}function is(e,i,a,l,h,d,v,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+We(a):"",i=i!=null?""+We(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Ji(e,i,a){i==="number"&&ns(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ei(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+We(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Qt(e,i,a){if(i!=null&&(i=""+We(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+We(a):""}function rs(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(se(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=We(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function vn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var ss=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function su(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||ss.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Eo(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&su(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&su(e,d,i[d])}function To(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ch=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $s(e){return Dh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ti=null;function En(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ai=null,Si=null;function Ao(e){var i=Gn(e);if(i&&(e=i.stateNode)){var a=e[de]||null;t:switch(e=i.stateNode,i.type){case"input":if(ln(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+me(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[de]||null;if(!h)throw Error(s(90));ln(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&vo(l)}break t;case"textarea":Qt(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Ei(e,!!a.multiple,i,!1)}}}var Yn=!1;function au(e,i,a){if(Yn)return e(i,a);Yn=!0;try{var l=e(i);return l}finally{if(Yn=!1,(Ai!==null||Si!==null)&&(Ju(),Ai&&(i=Ai,e=Si,Si=Ai=null,Ao(i),e)))for(i=0;i<e.length;i++)Ao(e[i])}}function as(e,i){var a=e.stateNode;if(a===null)return null;var l=a[de]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tn=!1;if(Pn)try{var os={};Object.defineProperty(os,"passive",{get:function(){Tn=!0}}),window.addEventListener("test",os,os),window.removeEventListener("test",os,os)}catch{Tn=!1}var Xn=null,tr=null,bi=null;function So(){if(bi)return bi;var e,i=tr,a=i.length,l,h="value"in Xn?Xn.value:Xn.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return bi=h.slice(e,1<l?1-l:void 0)}function $n(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Zn(){return!0}function bo(){return!1}function De(e){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Zn:bo,this.isPropagationStopped=bo,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zn)},persist:function(){},isPersistent:Zn}),i}var jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zs=De(jt),ls=T({},jt,{view:0,detail:0}),ou=De(ls),Ws,Js,Wn,us=T({},ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wn&&(Wn&&e.type==="mousemove"?(Ws=e.screenX-Wn.screenX,Js=e.screenY-Wn.screenY):Js=Ws=0,Wn=e),Ws)},movementY:function(e){return"movementY"in e?e.movementY:Js}}),An=De(us),lu=T({},us,{dataTransfer:0}),Oh=De(lu),cs=T({},ls,{relatedTarget:0}),ta=De(cs),wo=T({},jt,{animationName:0,elapsedTime:0,pseudoElement:0}),ea=De(wo),uu=T({},jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),na=De(uu),Nh=T({},jt,{data:0}),Ro=De(Nh),hs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Io(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=hu[e])?!!i[e]:!1}function fs(){return Io}var fu=T({},ls,{key:function(e){if(e.key){var i=hs[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=$n(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fs,charCode:function(e){return e.type==="keypress"?$n(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$n(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ia=De(fu),du=T({},us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Co=De(du),wi=T({},ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fs}),mu=De(wi),pu=T({},jt,{propertyName:0,elapsedTime:0,pseudoElement:0}),gu=De(pu),_u=T({},us,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ra=De(_u),Je=T({},jt,{newState:0,oldState:0}),yu=De(Je),vu=[9,13,27,32],Jn=Pn&&"CompositionEvent"in window,c=null;Pn&&"documentMode"in document&&(c=document.documentMode);var m=Pn&&"TextEvent"in window&&!c,y=Pn&&(!Jn||c&&8<c&&11>=c),A=" ",k=!1;function j(e,i){switch(e){case"keyup":return vu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pt=!1;function Ae(e,i){switch(e){case"compositionend":return J(i);case"keypress":return i.which!==32?null:(k=!0,A);case"textInput":return e=i.data,e===A&&k?null:e;default:return null}}function xt(e,i){if(Pt)return e==="compositionend"||!Jn&&j(e,i)?(e=So(),bi=tr=Xn=null,Pt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return y&&i.locale!=="ko"?null:i.data;default:return null}}var Oe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Se(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Oe[e.type]:i==="textarea"}function Ri(e,i,a,l){Ai?Si?Si.push(l):Si=[l]:Ai=l,i=sc(i,"onChange"),0<i.length&&(a=new Zs("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Ue=null,ti=null;function Do(e){H_(e,0)}function Eu(e){var i=Qn(e);if(vo(i))return e}function cp(e,i){if(e==="change")return i}var hp=!1;if(Pn){var Vh;if(Pn){var Mh="oninput"in document;if(!Mh){var fp=document.createElement("div");fp.setAttribute("oninput","return;"),Mh=typeof fp.oninput=="function"}Vh=Mh}else Vh=!1;hp=Vh&&(!document.documentMode||9<document.documentMode)}function dp(){Ue&&(Ue.detachEvent("onpropertychange",mp),ti=Ue=null)}function mp(e){if(e.propertyName==="value"&&Eu(ti)){var i=[];Ri(i,ti,e,En(e)),au(Do,i)}}function M0(e,i,a){e==="focusin"?(dp(),Ue=i,ti=a,Ue.attachEvent("onpropertychange",mp)):e==="focusout"&&dp()}function P0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Eu(ti)}function x0(e,i){if(e==="click")return Eu(i)}function k0(e,i){if(e==="input"||e==="change")return Eu(i)}function U0(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var un=typeof Object.is=="function"?Object.is:U0;function Oo(e,i){if(un(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Gr.call(i,h)||!un(e[h],i[h]))return!1}return!0}function pp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gp(e,i){var a=pp(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=pp(a)}}function _p(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?_p(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function yp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=ns(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=ns(e.document)}return i}function Ph(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var L0=Pn&&"documentMode"in document&&11>=document.documentMode,sa=null,xh=null,No=null,kh=!1;function vp(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;kh||sa==null||sa!==ns(l)||(l=sa,"selectionStart"in l&&Ph(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),No&&Oo(No,l)||(No=l,l=sc(xh,"onSelect"),0<l.length&&(i=new Zs("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=sa)))}function ds(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var aa={animationend:ds("Animation","AnimationEnd"),animationiteration:ds("Animation","AnimationIteration"),animationstart:ds("Animation","AnimationStart"),transitionrun:ds("Transition","TransitionRun"),transitionstart:ds("Transition","TransitionStart"),transitioncancel:ds("Transition","TransitionCancel"),transitionend:ds("Transition","TransitionEnd")},Uh={},Ep={};Pn&&(Ep=document.createElement("div").style,"AnimationEvent"in window||(delete aa.animationend.animation,delete aa.animationiteration.animation,delete aa.animationstart.animation),"TransitionEvent"in window||delete aa.transitionend.transition);function ms(e){if(Uh[e])return Uh[e];if(!aa[e])return e;var i=aa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Ep)return Uh[e]=i[a];return e}var Tp=ms("animationend"),Ap=ms("animationiteration"),Sp=ms("animationstart"),z0=ms("transitionrun"),B0=ms("transitionstart"),j0=ms("transitioncancel"),bp=ms("transitionend"),wp=new Map,Lh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lh.push("scrollEnd");function xn(e,i){wp.set(e,i),Mn(i,[e])}var Rp=new WeakMap;function Sn(e,i){if(typeof e=="object"&&e!==null){var a=Rp.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Ys(i)},Rp.set(e,i),i)}return{value:e,source:i,stack:Ys(i)}}var bn=[],oa=0,zh=0;function Tu(){for(var e=oa,i=zh=oa=0;i<e;){var a=bn[i];bn[i++]=null;var l=bn[i];bn[i++]=null;var h=bn[i];bn[i++]=null;var d=bn[i];if(bn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Ip(a,h,d)}}function Au(e,i,a,l){bn[oa++]=e,bn[oa++]=i,bn[oa++]=a,bn[oa++]=l,zh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Bh(e,i,a,l){return Au(e,i,a,l),Su(e)}function la(e,i){return Au(e,null,null,i),Su(e)}function Ip(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-Fe(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Su(e){if(50<nl)throw nl=0,Kf=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var ua={};function q0(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(e,i,a,l){return new q0(e,i,a,l)}function jh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ii(e,i){var a=e.alternate;return a===null?(a=cn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Cp(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function bu(e,i,a,l,h,d){var v=0;if(l=e,typeof e=="function")jh(e)&&(v=1);else if(typeof e=="string")v=FA(e,a,ht.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=cn(31,a,i,h),e.elementType=R,e.lanes=d,e;case $:return ps(a.children,h,d,i);case tt:v=8,h|=24;break;case Z:return e=cn(12,a,i,h|2),e.elementType=Z,e.lanes=d,e;case vt:return e=cn(13,a,i,h),e.elementType=vt,e.lanes=d,e;case Mt:return e=cn(19,a,i,h),e.elementType=Mt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Tt:case ct:v=10;break t;case dt:v=9;break t;case Vt:v=11;break t;case V:v=14;break t;case S:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=cn(v,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function ps(e,i,a,l){return e=cn(7,e,l,i),e.lanes=a,e}function qh(e,i,a){return e=cn(6,e,null,i),e.lanes=a,e}function Hh(e,i,a){return i=cn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var ca=[],ha=0,wu=null,Ru=0,wn=[],Rn=0,gs=null,Ci=1,Di="";function _s(e,i){ca[ha++]=Ru,ca[ha++]=wu,wu=e,Ru=i}function Dp(e,i,a){wn[Rn++]=Ci,wn[Rn++]=Di,wn[Rn++]=gs,gs=e;var l=Ci;e=Di;var h=32-Fe(l)-1;l&=~(1<<h),a+=1;var d=32-Fe(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ci=1<<32-Fe(i)+h|a<<h|l,Di=d+e}else Ci=1<<d|a<<h|l,Di=e}function Fh(e){e.return!==null&&(_s(e,1),Dp(e,1,0))}function Gh(e){for(;e===wu;)wu=ca[--ha],ca[ha]=null,Ru=ca[--ha],ca[ha]=null;for(;e===gs;)gs=wn[--Rn],wn[Rn]=null,Di=wn[--Rn],wn[Rn]=null,Ci=wn[--Rn],wn[Rn]=null}var tn=null,oe=null,Bt=!1,ys=null,ei=!1,Qh=Error(s(519));function vs(e){var i=Error(s(418,""));throw Po(Sn(i,e)),Qh}function Op(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Te]=e,i[de]=l,a){case"dialog":Dt("cancel",i),Dt("close",i);break;case"iframe":case"object":case"embed":Dt("load",i);break;case"video":case"audio":for(a=0;a<rl.length;a++)Dt(rl[a],i);break;case"source":Dt("error",i);break;case"img":case"image":case"link":Dt("error",i),Dt("load",i);break;case"details":Dt("toggle",i);break;case"input":Dt("invalid",i),is(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Xs(i);break;case"select":Dt("invalid",i);break;case"textarea":Dt("invalid",i),rs(i,l.value,l.defaultValue,l.children),Xs(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||K_(i.textContent,a)?(l.popover!=null&&(Dt("beforetoggle",i),Dt("toggle",i)),l.onScroll!=null&&Dt("scroll",i),l.onScrollEnd!=null&&Dt("scrollend",i),l.onClick!=null&&(i.onclick=ac),i=!0):i=!1,i||vs(e)}function Np(e){for(tn=e.return;tn;)switch(tn.tag){case 5:case 13:ei=!1;return;case 27:case 3:ei=!0;return;default:tn=tn.return}}function Vo(e){if(e!==tn)return!1;if(!Bt)return Np(e),Bt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||ud(e.type,e.memoizedProps)),a=!a),a&&oe&&vs(e),Np(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){oe=Un(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}oe=null}}else i===27?(i=oe,gr(e.type)?(e=dd,dd=null,oe=e):oe=i):oe=tn?Un(e.stateNode.nextSibling):null;return!0}function Mo(){oe=tn=null,Bt=!1}function Vp(){var e=ys;return e!==null&&(rn===null?rn=e:rn.push.apply(rn,e),ys=null),e}function Po(e){ys===null?ys=[e]:ys.push(e)}var Kh=X(null),Es=null,Oi=null;function er(e,i,a){W(Kh,i._currentValue),i._currentValue=a}function Ni(e){e._currentValue=Kh.current,nt(Kh)}function Yh(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function Xh(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var E=d;d=h;for(var w=0;w<i.length;w++)if(E.context===i[w]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),Yh(d.return,a,e),l||(v=null);break t}d=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Yh(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function xo(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;un(h.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ce.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(cl):e=[cl])}h=h.return}e!==null&&Xh(i,e,a,l),i.flags|=262144}function Iu(e){for(e=e.firstContext;e!==null;){if(!un(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ts(e){Es=e,Oi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ge(e){return Mp(Es,e)}function Cu(e,i){return Es===null&&Ts(e),Mp(e,i)}function Mp(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Oi===null){if(e===null)throw Error(s(308));Oi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Oi=Oi.next=i;return a}var H0=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},F0=r.unstable_scheduleCallback,G0=r.unstable_NormalPriority,be={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $h(){return{controller:new H0,data:new Map,refCount:0}}function ko(e){e.refCount--,e.refCount===0&&F0(G0,function(){e.controller.abort()})}var Uo=null,Zh=0,fa=0,da=null;function Q0(e,i){if(Uo===null){var a=Uo=[];Zh=0,fa=td(),da={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Zh++,i.then(Pp,Pp),i}function Pp(){if(--Zh===0&&Uo!==null){da!==null&&(da.status="fulfilled");var e=Uo;Uo=null,fa=0,da=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function K0(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var xp=H.S;H.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Q0(e,i),xp!==null&&xp(e,i)};var As=X(null);function Wh(){var e=As.current;return e!==null?e:Wt.pooledCache}function Du(e,i){i===null?W(As,As.current):W(As,i.pool)}function kp(){var e=Wh();return e===null?null:{parent:be._currentValue,pool:e}}var Lo=Error(s(460)),Up=Error(s(474)),Ou=Error(s(542)),Jh={then:function(){}};function Lp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Nu(){}function zp(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Nu,Nu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,jp(e),e;default:if(typeof i.status=="string")i.then(Nu,Nu);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,jp(e),e}throw zo=i,Lo}}var zo=null;function Bp(){if(zo===null)throw Error(s(459));var e=zo;return zo=null,e}function jp(e){if(e===Lo||e===Ou)throw Error(s(483))}var nr=!1;function tf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ef(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ir(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function rr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ft&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Su(e),Ip(e,null,a),i}return Au(e,l,i,a),Su(e)}function Bo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,mo(e,a)}}function nf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var rf=!1;function jo(){if(rf){var e=da;if(e!==null)throw e}}function qo(e,i,a,l){rf=!1;var h=e.updateQueue;nr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var w=E,L=w.next;w.next=null,v===null?d=L:v.next=L,v=w;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==v&&(E===null?F.firstBaseUpdate=L:E.next=L,F.lastBaseUpdate=w))}if(d!==null){var K=h.baseState;v=0,F=L=w=null,E=d;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(kt&z)===z:(l&z)===z){z!==0&&z===fa&&(rf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var _t=e,ft=E;z=i;var Xt=a;switch(ft.tag){case 1:if(_t=ft.payload,typeof _t=="function"){K=_t.call(Xt,K,z);break t}K=_t;break t;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=ft.payload,z=typeof _t=="function"?_t.call(Xt,K,z):_t,z==null)break t;K=T({},K,z);break t;case 2:nr=!0}}z=E.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(L=F=B,w=K):F=F.next=B,v|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);F===null&&(w=K),h.baseState=w,h.firstBaseUpdate=L,h.lastBaseUpdate=F,d===null&&(h.shared.lanes=0),fr|=v,e.lanes=v,e.memoizedState=K}}function qp(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Hp(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)qp(a[e],i)}var ma=X(null),Vu=X(0);function Fp(e,i){e=Li,W(Vu,e),W(ma,i),Li=e|i.baseLanes}function sf(){W(Vu,Li),W(ma,ma.current)}function af(){Li=Vu.current,nt(ma),nt(Vu)}var sr=0,bt=null,Kt=null,pe=null,Mu=!1,pa=!1,Ss=!1,Pu=0,Ho=0,ga=null,Y0=0;function ce(){throw Error(s(321))}function of(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!un(e[a],i[a]))return!1;return!0}function lf(e,i,a,l,h,d){return sr=d,bt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,H.H=e===null||e.memoizedState===null?Ig:Cg,Ss=!1,d=a(l,h),Ss=!1,pa&&(d=Qp(i,a,l,h)),Gp(e),d}function Gp(e){H.H=Bu;var i=Kt!==null&&Kt.next!==null;if(sr=0,pe=Kt=bt=null,Mu=!1,Ho=0,ga=null,i)throw Error(s(300));e===null||Ne||(e=e.dependencies,e!==null&&Iu(e)&&(Ne=!0))}function Qp(e,i,a,l){bt=e;var h=0;do{if(pa&&(ga=null),Ho=0,pa=!1,25<=h)throw Error(s(301));if(h+=1,pe=Kt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}H.H=eA,d=i(a,l)}while(pa);return d}function X0(){var e=H.H,i=e.useState()[0];return i=typeof i.then=="function"?Fo(i):i,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(bt.flags|=1024),i}function uf(){var e=Pu!==0;return Pu=0,e}function cf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function hf(e){if(Mu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Mu=!1}sr=0,pe=Kt=bt=null,pa=!1,Ho=Pu=0,ga=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?bt.memoizedState=pe=e:pe=pe.next=e,pe}function ge(){if(Kt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var i=pe===null?bt.memoizedState:pe.next;if(i!==null)pe=i,Kt=e;else{if(e===null)throw bt.alternate===null?Error(s(467)):Error(s(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},pe===null?bt.memoizedState=pe=e:pe=pe.next=e}return pe}function ff(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fo(e){var i=Ho;return Ho+=1,ga===null&&(ga=[]),e=zp(ga,e,i),i=bt,(pe===null?i.memoizedState:pe.next)===null&&(i=i.alternate,H.H=i===null||i.memoizedState===null?Ig:Cg),e}function xu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Fo(e);if(e.$$typeof===ct)return Ge(e)}throw Error(s(438,String(e)))}function df(e){var i=null,a=bt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=bt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=ff(),bt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=N;return i.index++,a}function Vi(e,i){return typeof i=="function"?i(e):i}function ku(e){var i=ge();return mf(i,Kt,e)}function mf(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var E=v=null,w=null,L=i,F=!1;do{var K=L.lane&-536870913;if(K!==L.lane?(kt&K)===K:(sr&K)===K){var z=L.revertLane;if(z===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),K===fa&&(F=!0);else if((sr&z)===z){L=L.next,z===fa&&(F=!0);continue}else K={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},w===null?(E=w=K,v=d):w=w.next=K,bt.lanes|=z,fr|=z;K=L.action,Ss&&a(d,K),d=L.hasEagerState?L.eagerState:a(d,K)}else z={lane:K,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},w===null?(E=w=z,v=d):w=w.next=z,bt.lanes|=K,fr|=K;L=L.next}while(L!==null&&L!==i);if(w===null?v=d:w.next=E,!un(d,e.memoizedState)&&(Ne=!0,F&&(a=da,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=w,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function pf(e){var i=ge(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);un(d,i.memoizedState)||(Ne=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Kp(e,i,a){var l=bt,h=ge(),d=Bt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!un((Kt||h).memoizedState,a);v&&(h.memoizedState=a,Ne=!0),h=h.queue;var E=$p.bind(null,l,h,e);if(Go(2048,8,E,[e]),h.getSnapshot!==i||v||pe!==null&&pe.memoizedState.tag&1){if(l.flags|=2048,_a(9,Uu(),Xp.bind(null,l,h,a,i),null),Wt===null)throw Error(s(349));d||(sr&124)!==0||Yp(l,i,a)}return a}function Yp(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=bt.updateQueue,i===null?(i=ff(),bt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Xp(e,i,a,l){i.value=a,i.getSnapshot=l,Zp(i)&&Wp(e)}function $p(e,i,a){return a(function(){Zp(i)&&Wp(e)})}function Zp(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!un(e,a)}catch{return!0}}function Wp(e){var i=la(e,2);i!==null&&pn(i,e,2)}function gf(e){var i=en();if(typeof e=="function"){var a=e;if(e=a(),Ss){on(!0);try{a()}finally{on(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:e},i}function Jp(e,i,a,l){return e.baseState=a,mf(e,Kt,typeof l=="function"?l:Vi)}function $0(e,i,a,l,h){if(zu(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};H.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,tg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function tg(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=H.T,v={};H.T=v;try{var E=a(h,l),w=H.S;w!==null&&w(v,E),eg(e,i,E)}catch(L){_f(e,i,L)}finally{H.T=d}}else try{d=a(h,l),eg(e,i,d)}catch(L){_f(e,i,L)}}function eg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ng(e,i,l)},function(l){return _f(e,i,l)}):ng(e,i,a)}function ng(e,i,a){i.status="fulfilled",i.value=a,ig(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,tg(e,a)))}function _f(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,ig(i),i=i.next;while(i!==l)}e.action=null}function ig(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function rg(e,i){return i}function sg(e,i){if(Bt){var a=Wt.formState;if(a!==null){t:{var l=bt;if(Bt){if(oe){e:{for(var h=oe,d=ei;h.nodeType!==8;){if(!d){h=null;break e}if(h=Un(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){oe=Un(h.nextSibling),l=h.data==="F!";break t}}vs(l)}l=!1}l&&(i=a[0])}}return a=en(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rg,lastRenderedState:i},a.queue=l,a=bg.bind(null,bt,l),l.dispatch=a,l=gf(!1),d=Af.bind(null,bt,!1,l.queue),l=en(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=$0.bind(null,bt,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function ag(e){var i=ge();return og(i,Kt,e)}function og(e,i,a){if(i=mf(e,i,rg)[0],e=ku(Vi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Fo(i)}catch(v){throw v===Lo?Ou:v}else l=i;i=ge();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(bt.flags|=2048,_a(9,Uu(),Z0.bind(null,h,a),null)),[l,d,e]}function Z0(e,i){e.action=i}function lg(e){var i=ge(),a=Kt;if(a!==null)return og(i,a,e);ge(),i=i.memoizedState,a=ge();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function _a(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=bt.updateQueue,i===null&&(i=ff(),bt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function Uu(){return{destroy:void 0,resource:void 0}}function ug(){return ge().memoizedState}function Lu(e,i,a,l){var h=en();l=l===void 0?null:l,bt.flags|=e,h.memoizedState=_a(1|i,Uu(),a,l)}function Go(e,i,a,l){var h=ge();l=l===void 0?null:l;var d=h.memoizedState.inst;Kt!==null&&l!==null&&of(l,Kt.memoizedState.deps)?h.memoizedState=_a(i,d,a,l):(bt.flags|=e,h.memoizedState=_a(1|i,d,a,l))}function cg(e,i){Lu(8390656,8,e,i)}function hg(e,i){Go(2048,8,e,i)}function fg(e,i){return Go(4,2,e,i)}function dg(e,i){return Go(4,4,e,i)}function mg(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function pg(e,i,a){a=a!=null?a.concat([e]):null,Go(4,4,mg.bind(null,i,e),a)}function yf(){}function gg(e,i){var a=ge();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&of(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function _g(e,i){var a=ge();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&of(i,l[1]))return l[0];if(l=e(),Ss){on(!0);try{e()}finally{on(!1)}}return a.memoizedState=[l,i],l}function vf(e,i,a){return a===void 0||(sr&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=E_(),bt.lanes|=e,fr|=e,a)}function yg(e,i,a,l){return un(a,i)?a:ma.current!==null?(e=vf(e,a,l),un(e,i)||(Ne=!0),e):(sr&42)===0?(Ne=!0,e.memoizedState=a):(e=E_(),bt.lanes|=e,fr|=e,i)}function vg(e,i,a,l,h){var d=et.p;et.p=d!==0&&8>d?d:8;var v=H.T,E={};H.T=E,Af(e,!1,i,a);try{var w=h(),L=H.S;if(L!==null&&L(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var F=K0(w,l);Qo(e,i,F,mn(e))}else Qo(e,i,l,mn(e))}catch(K){Qo(e,i,{then:function(){},status:"rejected",reason:K},mn())}finally{et.p=d,H.T=v}}function W0(){}function Ef(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=Eg(e).queue;vg(e,h,i,lt,a===null?W0:function(){return Tg(e),a(l)})}function Eg(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:lt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Tg(e){var i=Eg(e).next.queue;Qo(e,i,{},mn())}function Tf(){return Ge(cl)}function Ag(){return ge().memoizedState}function Sg(){return ge().memoizedState}function J0(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=mn();e=ir(a);var l=rr(i,e,a);l!==null&&(pn(l,i,a),Bo(l,i,a)),i={cache:$h()},e.payload=i;return}i=i.return}}function tA(e,i,a){var l=mn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},zu(e)?wg(i,a):(a=Bh(e,i,a,l),a!==null&&(pn(a,e,l),Rg(a,i,l)))}function bg(e,i,a){var l=mn();Qo(e,i,a,l)}function Qo(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(zu(e))wg(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,E=d(v,a);if(h.hasEagerState=!0,h.eagerState=E,un(E,v))return Au(e,i,h,0),Wt===null&&Tu(),!1}catch{}finally{}if(a=Bh(e,i,h,l),a!==null)return pn(a,e,l),Rg(a,i,l),!0}return!1}function Af(e,i,a,l){if(l={lane:2,revertLane:td(),action:l,hasEagerState:!1,eagerState:null,next:null},zu(e)){if(i)throw Error(s(479))}else i=Bh(e,a,l,2),i!==null&&pn(i,e,2)}function zu(e){var i=e.alternate;return e===bt||i!==null&&i===bt}function wg(e,i){pa=Mu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Rg(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,mo(e,a)}}var Bu={readContext:Ge,use:xu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce},Ig={readContext:Ge,use:xu,useCallback:function(e,i){return en().memoizedState=[e,i===void 0?null:i],e},useContext:Ge,useEffect:cg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Lu(4194308,4,mg.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Lu(4194308,4,e,i)},useInsertionEffect:function(e,i){Lu(4,2,e,i)},useMemo:function(e,i){var a=en();i=i===void 0?null:i;var l=e();if(Ss){on(!0);try{e()}finally{on(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=en();if(a!==void 0){var h=a(i);if(Ss){on(!0);try{a(i)}finally{on(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=tA.bind(null,bt,e),[l.memoizedState,e]},useRef:function(e){var i=en();return e={current:e},i.memoizedState=e},useState:function(e){e=gf(e);var i=e.queue,a=bg.bind(null,bt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:yf,useDeferredValue:function(e,i){var a=en();return vf(a,e,i)},useTransition:function(){var e=gf(!1);return e=vg.bind(null,bt,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=bt,h=en();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Wt===null)throw Error(s(349));(kt&124)!==0||Yp(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,cg($p.bind(null,l,d,e),[e]),l.flags|=2048,_a(9,Uu(),Xp.bind(null,l,d,a,i),null),a},useId:function(){var e=en(),i=Wt.identifierPrefix;if(Bt){var a=Di,l=Ci;a=(l&~(1<<32-Fe(l)-1)).toString(32)+a,i=""+i+"R"+a,a=Pu++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=Y0++,i=""+i+"r"+a.toString(32)+"";return e.memoizedState=i},useHostTransitionStatus:Tf,useFormState:sg,useActionState:sg,useOptimistic:function(e){var i=en();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Af.bind(null,bt,!0,a),a.dispatch=i,[e,i]},useMemoCache:df,useCacheRefresh:function(){return en().memoizedState=J0.bind(null,bt)}},Cg={readContext:Ge,use:xu,useCallback:gg,useContext:Ge,useEffect:hg,useImperativeHandle:pg,useInsertionEffect:fg,useLayoutEffect:dg,useMemo:_g,useReducer:ku,useRef:ug,useState:function(){return ku(Vi)},useDebugValue:yf,useDeferredValue:function(e,i){var a=ge();return yg(a,Kt.memoizedState,e,i)},useTransition:function(){var e=ku(Vi)[0],i=ge().memoizedState;return[typeof e=="boolean"?e:Fo(e),i]},useSyncExternalStore:Kp,useId:Ag,useHostTransitionStatus:Tf,useFormState:ag,useActionState:ag,useOptimistic:function(e,i){var a=ge();return Jp(a,Kt,e,i)},useMemoCache:df,useCacheRefresh:Sg},eA={readContext:Ge,use:xu,useCallback:gg,useContext:Ge,useEffect:hg,useImperativeHandle:pg,useInsertionEffect:fg,useLayoutEffect:dg,useMemo:_g,useReducer:pf,useRef:ug,useState:function(){return pf(Vi)},useDebugValue:yf,useDeferredValue:function(e,i){var a=ge();return Kt===null?vf(a,e,i):yg(a,Kt.memoizedState,e,i)},useTransition:function(){var e=pf(Vi)[0],i=ge().memoizedState;return[typeof e=="boolean"?e:Fo(e),i]},useSyncExternalStore:Kp,useId:Ag,useHostTransitionStatus:Tf,useFormState:lg,useActionState:lg,useOptimistic:function(e,i){var a=ge();return Kt!==null?Jp(a,Kt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:df,useCacheRefresh:Sg},ya=null,Ko=0;function ju(e){var i=Ko;return Ko+=1,ya===null&&(ya=[]),zp(ya,e,i)}function Yo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function qu(e,i){throw i.$$typeof===b?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Dg(e){var i=e._init;return i(e._payload)}function Og(e){function i(P,O){if(e){var U=P.deletions;U===null?(P.deletions=[O],P.flags|=16):U.push(O)}}function a(P,O){if(!e)return null;for(;O!==null;)i(P,O),O=O.sibling;return null}function l(P){for(var O=new Map;P!==null;)P.key!==null?O.set(P.key,P):O.set(P.index,P),P=P.sibling;return O}function h(P,O){return P=Ii(P,O),P.index=0,P.sibling=null,P}function d(P,O,U){return P.index=U,e?(U=P.alternate,U!==null?(U=U.index,U<O?(P.flags|=67108866,O):U):(P.flags|=67108866,O)):(P.flags|=1048576,O)}function v(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function E(P,O,U,G){return O===null||O.tag!==6?(O=qh(U,P.mode,G),O.return=P,O):(O=h(O,U),O.return=P,O)}function w(P,O,U,G){var at=U.type;return at===$?F(P,O,U.props.children,G,U.key):O!==null&&(O.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&Dg(at)===O.type)?(O=h(O,U.props),Yo(O,U),O.return=P,O):(O=bu(U.type,U.key,U.props,null,P.mode,G),Yo(O,U),O.return=P,O)}function L(P,O,U,G){return O===null||O.tag!==4||O.stateNode.containerInfo!==U.containerInfo||O.stateNode.implementation!==U.implementation?(O=Hh(U,P.mode,G),O.return=P,O):(O=h(O,U.children||[]),O.return=P,O)}function F(P,O,U,G,at){return O===null||O.tag!==7?(O=ps(U,P.mode,G,at),O.return=P,O):(O=h(O,U),O.return=P,O)}function K(P,O,U){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=qh(""+O,P.mode,U),O.return=P,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case C:return U=bu(O.type,O.key,O.props,null,P.mode,U),Yo(U,O),U.return=P,U;case q:return O=Hh(O,P.mode,U),O.return=P,O;case S:var G=O._init;return O=G(O._payload),K(P,O,U)}if(se(O)||x(O))return O=ps(O,P.mode,U,null),O.return=P,O;if(typeof O.then=="function")return K(P,ju(O),U);if(O.$$typeof===ct)return K(P,Cu(P,O),U);qu(P,O)}return null}function z(P,O,U,G){var at=O!==null?O.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return at!==null?null:E(P,O,""+U,G);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case C:return U.key===at?w(P,O,U,G):null;case q:return U.key===at?L(P,O,U,G):null;case S:return at=U._init,U=at(U._payload),z(P,O,U,G)}if(se(U)||x(U))return at!==null?null:F(P,O,U,G,null);if(typeof U.then=="function")return z(P,O,ju(U),G);if(U.$$typeof===ct)return z(P,O,Cu(P,U),G);qu(P,U)}return null}function B(P,O,U,G,at){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return P=P.get(U)||null,E(O,P,""+G,at);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case C:return P=P.get(G.key===null?U:G.key)||null,w(O,P,G,at);case q:return P=P.get(G.key===null?U:G.key)||null,L(O,P,G,at);case S:var It=G._init;return G=It(G._payload),B(P,O,U,G,at)}if(se(G)||x(G))return P=P.get(U)||null,F(O,P,G,at,null);if(typeof G.then=="function")return B(P,O,U,ju(G),at);if(G.$$typeof===ct)return B(P,O,U,Cu(O,G),at);qu(O,G)}return null}function _t(P,O,U,G){for(var at=null,It=null,ot=O,mt=O=0,Me=null;ot!==null&&mt<U.length;mt++){ot.index>mt?(Me=ot,ot=null):Me=ot.sibling;var Lt=z(P,ot,U[mt],G);if(Lt===null){ot===null&&(ot=Me);break}e&&ot&&Lt.alternate===null&&i(P,ot),O=d(Lt,O,mt),It===null?at=Lt:It.sibling=Lt,It=Lt,ot=Me}if(mt===U.length)return a(P,ot),Bt&&_s(P,mt),at;if(ot===null){for(;mt<U.length;mt++)ot=K(P,U[mt],G),ot!==null&&(O=d(ot,O,mt),It===null?at=ot:It.sibling=ot,It=ot);return Bt&&_s(P,mt),at}for(ot=l(ot);mt<U.length;mt++)Me=B(ot,P,mt,U[mt],G),Me!==null&&(e&&Me.alternate!==null&&ot.delete(Me.key===null?mt:Me.key),O=d(Me,O,mt),It===null?at=Me:It.sibling=Me,It=Me);return e&&ot.forEach(function(Tr){return i(P,Tr)}),Bt&&_s(P,mt),at}function ft(P,O,U,G){if(U==null)throw Error(s(151));for(var at=null,It=null,ot=O,mt=O=0,Me=null,Lt=U.next();ot!==null&&!Lt.done;mt++,Lt=U.next()){ot.index>mt?(Me=ot,ot=null):Me=ot.sibling;var Tr=z(P,ot,Lt.value,G);if(Tr===null){ot===null&&(ot=Me);break}e&&ot&&Tr.alternate===null&&i(P,ot),O=d(Tr,O,mt),It===null?at=Tr:It.sibling=Tr,It=Tr,ot=Me}if(Lt.done)return a(P,ot),Bt&&_s(P,mt),at;if(ot===null){for(;!Lt.done;mt++,Lt=U.next())Lt=K(P,Lt.value,G),Lt!==null&&(O=d(Lt,O,mt),It===null?at=Lt:It.sibling=Lt,It=Lt);return Bt&&_s(P,mt),at}for(ot=l(ot);!Lt.done;mt++,Lt=U.next())Lt=B(ot,P,mt,Lt.value,G),Lt!==null&&(e&&Lt.alternate!==null&&ot.delete(Lt.key===null?mt:Lt.key),O=d(Lt,O,mt),It===null?at=Lt:It.sibling=Lt,It=Lt);return e&&ot.forEach(function(nS){return i(P,nS)}),Bt&&_s(P,mt),at}function Xt(P,O,U,G){if(typeof U=="object"&&U!==null&&U.type===$&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case C:t:{for(var at=U.key;O!==null;){if(O.key===at){if(at=U.type,at===$){if(O.tag===7){a(P,O.sibling),G=h(O,U.props.children),G.return=P,P=G;break t}}else if(O.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&Dg(at)===O.type){a(P,O.sibling),G=h(O,U.props),Yo(G,U),G.return=P,P=G;break t}a(P,O);break}else i(P,O);O=O.sibling}U.type===$?(G=ps(U.props.children,P.mode,G,U.key),G.return=P,P=G):(G=bu(U.type,U.key,U.props,null,P.mode,G),Yo(G,U),G.return=P,P=G)}return v(P);case q:t:{for(at=U.key;O!==null;){if(O.key===at)if(O.tag===4&&O.stateNode.containerInfo===U.containerInfo&&O.stateNode.implementation===U.implementation){a(P,O.sibling),G=h(O,U.children||[]),G.return=P,P=G;break t}else{a(P,O);break}else i(P,O);O=O.sibling}G=Hh(U,P.mode,G),G.return=P,P=G}return v(P);case S:return at=U._init,U=at(U._payload),Xt(P,O,U,G)}if(se(U))return _t(P,O,U,G);if(x(U)){if(at=x(U),typeof at!="function")throw Error(s(150));return U=at.call(U),ft(P,O,U,G)}if(typeof U.then=="function")return Xt(P,O,ju(U),G);if(U.$$typeof===ct)return Xt(P,O,Cu(P,U),G);qu(P,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,O!==null&&O.tag===6?(a(P,O.sibling),G=h(O,U),G.return=P,P=G):(a(P,O),G=qh(U,P.mode,G),G.return=P,P=G),v(P)):a(P,O)}return function(P,O,U,G){try{Ko=0;var at=Xt(P,O,U,G);return ya=null,at}catch(ot){if(ot===Lo||ot===Ou)throw ot;var It=cn(29,ot,null,P.mode);return It.lanes=G,It.return=P,It}finally{}}}var va=Og(!0),Ng=Og(!1),In=X(null),ni=null;function ar(e){var i=e.alternate;W(we,we.current&1),W(In,e),ni===null&&(i===null||ma.current!==null||i.memoizedState!==null)&&(ni=e)}function Vg(e){if(e.tag===22){if(W(we,we.current),W(In,e),ni===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ni=e)}}else or()}function or(){W(we,we.current),W(In,In.current)}function Mi(e){nt(In),ni===e&&(ni=null),nt(we)}var we=X(0);function Hu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||fd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Sf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var bf={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=mn(),h=ir(l);h.payload=i,a!=null&&(h.callback=a),i=rr(e,h,l),i!==null&&(pn(i,e,l),Bo(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=mn(),h=ir(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=rr(e,h,l),i!==null&&(pn(i,e,l),Bo(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=mn(),l=ir(a);l.tag=2,i!=null&&(l.callback=i),i=rr(e,l,a),i!==null&&(pn(i,e,a),Bo(i,e,a))}};function Mg(e,i,a,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Oo(a,l)||!Oo(h,d):!0}function Pg(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&bf.enqueueReplaceState(i,i.state,null)}function bs(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=T({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Fu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function xg(e){Fu(e)}function kg(e){console.error(e)}function Ug(e){Fu(e)}function Gu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Lg(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function wf(e,i,a){return a=ir(a),a.tag=3,a.payload={element:null},a.callback=function(){Gu(e,i)},a}function zg(e){return e=ir(e),e.tag=3,e}function Bg(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Lg(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Lg(i,a,l),typeof h!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function nA(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&xo(i,a,h,!0),a=In.current,a!==null){switch(a.tag){case 13:return ni===null?Xf():a.alternate===null&&le===0&&(le=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Jh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Zf(e,l,h)),!1;case 22:return a.flags|=65536,l===Jh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Zf(e,l,h)),!1}throw Error(s(435,a.tag))}return Zf(e,l,h),Xf(),!1}if(Bt)return i=In.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Qh&&(e=Error(s(422),{cause:l}),Po(Sn(e,a)))):(l!==Qh&&(i=Error(s(423),{cause:l}),Po(Sn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Sn(l,a),h=wf(e.stateNode,l,h),nf(e,h),le!==4&&(le=2)),!1;var d=Error(s(520),{cause:l});if(d=Sn(d,a),el===null?el=[d]:el.push(d),le!==4&&(le=2),i===null)return!0;l=Sn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=wf(a.stateNode,l,e),nf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(dr===null||!dr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=zg(h),Bg(h,e,a,l),nf(a,h),!1}a=a.return}while(a!==null);return!1}var jg=Error(s(461)),Ne=!1;function Le(e,i,a,l){i.child=e===null?Ng(i,null,a,l):va(i,e.child,a,l)}function qg(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return Ts(i),l=lf(e,i,a,v,d,h),E=uf(),e!==null&&!Ne?(cf(e,i,h),Pi(e,i,h)):(Bt&&E&&Fh(i),i.flags|=1,Le(e,i,l,h),i.child)}function Hg(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!jh(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Fg(e,i,d,l,h)):(e=bu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Mf(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Oo,a(v,l)&&e.ref===i.ref)return Pi(e,i,h)}return i.flags|=1,e=Ii(d,l),e.ref=i.ref,e.return=i,i.child=e}function Fg(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(Oo(d,l)&&e.ref===i.ref)if(Ne=!1,i.pendingProps=l=d,Mf(e,h))(e.flags&131072)!==0&&(Ne=!0);else return i.lanes=e.lanes,Pi(e,i,h)}return Rf(e,i,a,l,h)}function Gg(e,i,a){var l=i.pendingProps,h=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Qg(e,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Du(i,d!==null?d.cachePool:null),d!==null?Fp(i,d):sf(),Vg(i);else return i.lanes=i.childLanes=536870912,Qg(e,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Du(i,d.cachePool),Fp(i,d),or(),i.memoizedState=null):(e!==null&&Du(i,null),sf(),or());return Le(e,i,h,a),i.child}function Qg(e,i,a,l){var h=Wh();return h=h===null?null:{parent:be._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Du(i,null),sf(),Vg(i),e!==null&&xo(e,i,l,!0),null}function Qu(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Rf(e,i,a,l,h){return Ts(i),a=lf(e,i,a,l,void 0,h),l=uf(),e!==null&&!Ne?(cf(e,i,h),Pi(e,i,h)):(Bt&&l&&Fh(i),i.flags|=1,Le(e,i,a,h),i.child)}function Kg(e,i,a,l,h,d){return Ts(i),i.updateQueue=null,a=Qp(i,l,a,h),Gp(e),l=uf(),e!==null&&!Ne?(cf(e,i,d),Pi(e,i,d)):(Bt&&l&&Fh(i),i.flags|=1,Le(e,i,a,d),i.child)}function Yg(e,i,a,l,h){if(Ts(i),i.stateNode===null){var d=ua,v=a.contextType;typeof v=="object"&&v!==null&&(d=Ge(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=bf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},tf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Ge(v):ua,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Sf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&bf.enqueueReplaceState(d,d.state,null),qo(i,l,d,h),jo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var E=i.memoizedProps,w=bs(a,E);d.props=w;var L=d.context,F=a.contextType;v=ua,typeof F=="object"&&F!==null&&(v=Ge(F));var K=a.getDerivedStateFromProps;F=typeof K=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,F||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||L!==v)&&Pg(i,d,l,v),nr=!1;var z=i.memoizedState;d.state=z,qo(i,l,d,h),jo(),L=i.memoizedState,E||z!==L||nr?(typeof K=="function"&&(Sf(i,a,K,l),L=i.memoizedState),(w=nr||Mg(i,a,w,l,z,L,v))?(F||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=L),d.props=l,d.state=L,d.context=v,l=w):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,ef(e,i),v=i.memoizedProps,F=bs(a,v),d.props=F,K=i.pendingProps,z=d.context,L=a.contextType,w=ua,typeof L=="object"&&L!==null&&(w=Ge(L)),E=a.getDerivedStateFromProps,(L=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==K||z!==w)&&Pg(i,d,l,w),nr=!1,z=i.memoizedState,d.state=z,qo(i,l,d,h),jo();var B=i.memoizedState;v!==K||z!==B||nr||e!==null&&e.dependencies!==null&&Iu(e.dependencies)?(typeof E=="function"&&(Sf(i,a,E,l),B=i.memoizedState),(F=nr||Mg(i,a,F,l,z,B,w)||e!==null&&e.dependencies!==null&&Iu(e.dependencies))?(L||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,B,w),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,B,w)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=w,l=F):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,Qu(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=va(i,e.child,null,h),i.child=va(i,null,a,h)):Le(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Pi(e,i,h),e}function Xg(e,i,a,l){return Mo(),i.flags|=256,Le(e,i,a,l),i.child}var If={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cf(e){return{baseLanes:e,cachePool:kp()}}function Df(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Cn),e}function $g(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(we.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(Bt){if(h?ar(i):or(),Bt){var E=oe,w;if(w=E){t:{for(w=E,E=ei;w.nodeType!==8;){if(!E){E=null;break t}if(w=Un(w.nextSibling),w===null){E=null;break t}}E=w}E!==null?(i.memoizedState={dehydrated:E,treeContext:gs!==null?{id:Ci,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},w=cn(18,null,null,0),w.stateNode=E,w.return=i,i.child=w,tn=i,oe=null,w=!0):w=!1}w||vs(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return fd(E)?i.lanes=32:i.lanes=536870912,null;Mi(i)}return E=l.children,l=l.fallback,h?(or(),h=i.mode,E=Ku({mode:"hidden",children:E},h),l=ps(l,h,a,null),E.return=i,l.return=i,E.sibling=l,i.child=E,h=i.child,h.memoizedState=Cf(a),h.childLanes=Df(e,v,a),i.memoizedState=If,l):(ar(i),Of(i,E))}if(w=e.memoizedState,w!==null&&(E=w.dehydrated,E!==null)){if(d)i.flags&256?(ar(i),i.flags&=-257,i=Nf(e,i,a)):i.memoizedState!==null?(or(),i.child=e.child,i.flags|=128,i=null):(or(),h=l.fallback,E=i.mode,l=Ku({mode:"visible",children:l.children},E),h=ps(h,E,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,va(i,e.child,null,a),l=i.child,l.memoizedState=Cf(a),l.childLanes=Df(e,v,a),i.memoizedState=If,i=h);else if(ar(i),fd(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var L=v.dgst;v=L,l=Error(s(419)),l.stack="",l.digest=v,Po({value:l,source:null,stack:null}),i=Nf(e,i,a)}else if(Ne||xo(e,i,a,!1),v=(a&e.childLanes)!==0,Ne||v){if(v=Wt,v!==null&&(l=a&-a,l=(l&42)!==0?1:Yi(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==w.retryLane))throw w.retryLane=l,la(e,l),pn(v,e,l),jg;E.data==="$?"||Xf(),i=Nf(e,i,a)}else E.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=w.treeContext,oe=Un(E.nextSibling),tn=i,Bt=!0,ys=null,ei=!1,e!==null&&(wn[Rn++]=Ci,wn[Rn++]=Di,wn[Rn++]=gs,Ci=e.id,Di=e.overflow,gs=i),i=Of(i,l.children),i.flags|=4096);return i}return h?(or(),h=l.fallback,E=i.mode,w=e.child,L=w.sibling,l=Ii(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,L!==null?h=Ii(L,h):(h=ps(h,E,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,E=e.child.memoizedState,E===null?E=Cf(a):(w=E.cachePool,w!==null?(L=be._currentValue,w=w.parent!==L?{parent:L,pool:L}:w):w=kp(),E={baseLanes:E.baseLanes|a,cachePool:w}),h.memoizedState=E,h.childLanes=Df(e,v,a),i.memoizedState=If,l):(ar(i),a=e.child,e=a.sibling,a=Ii(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function Of(e,i){return i=Ku({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Ku(e,i){return e=cn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Nf(e,i,a){return va(i,e.child,null,a),e=Of(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Zg(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),Yh(e.return,i,a)}function Vf(e,i,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Wg(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Le(e,i,l.children,a),l=we.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zg(e,a,i);else if(e.tag===19)Zg(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(W(we,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Hu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Vf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Hu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Vf(i,!0,a,null,d);break;case"together":Vf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Pi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),fr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(xo(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Ii(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Ii(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Mf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Iu(e)))}function iA(e,i,a){switch(i.tag){case 3:Zt(i,i.stateNode.containerInfo),er(i,be,e.memoizedState.cache),Mo();break;case 27:case 5:Ki(i);break;case 4:Zt(i,i.stateNode.containerInfo);break;case 10:er(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(ar(i),i.flags|=128,null):(a&i.child.childLanes)!==0?$g(e,i,a):(ar(i),e=Pi(e,i,a),e!==null?e.sibling:null);ar(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(xo(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Wg(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(we,we.current),l)break;return null;case 22:case 23:return i.lanes=0,Gg(e,i,a);case 24:er(i,be,e.memoizedState.cache)}return Pi(e,i,a)}function Jg(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ne=!0;else{if(!Mf(e,a)&&(i.flags&128)===0)return Ne=!1,iA(e,i,a);Ne=(e.flags&131072)!==0}else Ne=!1,Bt&&(i.flags&1048576)!==0&&Dp(i,Ru,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")jh(l)?(e=bs(l,e),i.tag=1,i=Yg(null,i,l,e,a)):(i.tag=0,i=Rf(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===Vt){i.tag=11,i=qg(null,i,l,e,a);break t}else if(h===V){i.tag=14,i=Hg(null,i,l,e,a);break t}}throw i=xe(l)||l,Error(s(306,i,""))}}return i;case 0:return Rf(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=bs(l,i.pendingProps),Yg(e,i,l,h,a);case 3:t:{if(Zt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,ef(e,i),qo(i,l,null,a);var v=i.memoizedState;if(l=v.cache,er(i,be,l),l!==d.cache&&Xh(i,[be],a,!0),jo(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Xg(e,i,l,a);break t}else if(l!==h){h=Sn(Error(s(424)),i),Po(h),i=Xg(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(oe=Un(e.firstChild),tn=i,Bt=!0,ys=null,ei=!0,a=Ng(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Mo(),l===h){i=Pi(e,i,a);break t}Le(e,i,l,a)}i=i.child}return i;case 26:return Qu(e,i),e===null?(a=iy(i.type,null,i.pendingProps,null))?i.memoizedState=a:Bt||(a=i.type,e=i.pendingProps,l=oc(yt.current).createElement(a),l[Te]=i,l[de]=e,Be(l,a,e),ue(l),i.stateNode=l):i.memoizedState=iy(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Ki(i),e===null&&Bt&&(l=i.stateNode=ty(i.type,i.pendingProps,yt.current),tn=i,ei=!0,h=oe,gr(i.type)?(dd=h,oe=Un(l.firstChild)):oe=h),Le(e,i,i.pendingProps.children,a),Qu(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Bt&&((h=l=oe)&&(l=NA(l,i.type,i.pendingProps,ei),l!==null?(i.stateNode=l,tn=i,oe=Un(l.firstChild),ei=!1,h=!0):h=!1),h||vs(i)),Ki(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,ud(h,d)?l=null:v!==null&&ud(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=lf(e,i,X0,null,null,a),cl._currentValue=h),Qu(e,i),Le(e,i,l,a),i.child;case 6:return e===null&&Bt&&((e=a=oe)&&(a=VA(a,i.pendingProps,ei),a!==null?(i.stateNode=a,tn=i,oe=null,e=!0):e=!1),e||vs(i)),null;case 13:return $g(e,i,a);case 4:return Zt(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=va(i,null,l,a):Le(e,i,l,a),i.child;case 11:return qg(e,i,i.type,i.pendingProps,a);case 7:return Le(e,i,i.pendingProps,a),i.child;case 8:return Le(e,i,i.pendingProps.children,a),i.child;case 12:return Le(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,er(i,i.type,l.value),Le(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ts(i),h=Ge(h),l=l(h),i.flags|=1,Le(e,i,l,a),i.child;case 14:return Hg(e,i,i.type,i.pendingProps,a);case 15:return Fg(e,i,i.type,i.pendingProps,a);case 19:return Wg(e,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},e===null?(a=Ku(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ii(e.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Gg(e,i,a);case 24:return Ts(i),l=Ge(be),e===null?(h=Wh(),h===null&&(h=Wt,d=$h(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},tf(i),er(i,be,h)):((e.lanes&a)!==0&&(ef(e,i),qo(i,null,null,a),jo()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),er(i,be,l)):(l=d.cache,er(i,be,l),l!==h.cache&&Xh(i,[be],a,!0))),Le(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function xi(e){e.flags|=4}function t_(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ly(i)){if(i=In.current,i!==null&&((kt&4194048)===kt?ni!==null:(kt&62914560)!==kt&&(kt&536870912)===0||i!==ni))throw zo=Jh,Up;e.flags|=8192}}function Yu(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?ho():536870912,e.lanes|=i,Sa|=i)}function Xo(e,i){if(!Bt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ie(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function rA(e,i,a){var l=i.pendingProps;switch(Gh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(i),null;case 1:return ie(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ni(be),Hn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Vo(i)?xi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Vp())),ie(i),null;case 26:return a=i.memoizedState,e===null?(xi(i),a!==null?(ie(i),t_(i,a)):(ie(i),i.flags&=-16777217)):a?a!==e.memoizedState?(xi(i),ie(i),t_(i,a)):(ie(i),i.flags&=-16777217):(e.memoizedProps!==l&&xi(i),ie(i),i.flags&=-16777217),null;case 27:mi(i),a=yt.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&xi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ie(i),null}e=ht.current,Vo(i)?Op(i):(e=ty(h,l,a),i.stateNode=e,xi(i))}return ie(i),null;case 5:if(mi(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&xi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ie(i),null}if(e=ht.current,Vo(i))Op(i);else{switch(h=oc(yt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[Te]=i,e[de]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(Be(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&xi(i)}}return ie(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&xi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=yt.current,Vo(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=tn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Te]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||K_(e.nodeValue,a)),e||vs(i)}else e=oc(e).createTextNode(l),e[Te]=i,i.stateNode=e}return ie(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Vo(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Te]=i}else Mo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ie(i),h=!1}else h=Vp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Mi(i),i):(Mi(i),null)}if(Mi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Yu(i,i.updateQueue),ie(i),null;case 4:return Hn(),e===null&&rd(i.stateNode.containerInfo),ie(i),null;case 10:return Ni(i.type),ie(i),null;case 19:if(nt(we),h=i.memoizedState,h===null)return ie(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Xo(h,!1);else{if(le!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Hu(e),d!==null){for(i.flags|=128,Xo(h,!1),e=d.updateQueue,i.updateQueue=e,Yu(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Cp(a,e),a=a.sibling;return W(we,we.current&1|2),i.child}e=e.sibling}h.tail!==null&&_n()>Zu&&(i.flags|=128,l=!0,Xo(h,!1),i.lanes=4194304)}else{if(!l)if(e=Hu(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,Yu(i,e),Xo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Bt)return ie(i),null}else 2*_n()-h.renderingStartTime>Zu&&a!==536870912&&(i.flags|=128,l=!0,Xo(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=_n(),i.sibling=null,e=we.current,W(we,l?e&1|2:e&1),i):(ie(i),null);case 22:case 23:return Mi(i),af(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ie(i),i.subtreeFlags&6&&(i.flags|=8192)):ie(i),a=i.updateQueue,a!==null&&Yu(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&nt(As),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ni(be),ie(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function sA(e,i){switch(Gh(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Ni(be),Hn(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return mi(i),null;case 13:if(Mi(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Mo()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return nt(we),null;case 4:return Hn(),null;case 10:return Ni(i.type),null;case 22:case 23:return Mi(i),af(),e!==null&&nt(As),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Ni(be),null;case 25:return null;default:return null}}function e_(e,i){switch(Gh(i),i.tag){case 3:Ni(be),Hn();break;case 26:case 27:case 5:mi(i);break;case 4:Hn();break;case 13:Mi(i);break;case 19:nt(we);break;case 10:Ni(i.type);break;case 22:case 23:Mi(i),af(),e!==null&&nt(As);break;case 24:Ni(be)}}function $o(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(E){$t(i,i.return,E)}}function lr(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=i;var w=a,L=E;try{L()}catch(F){$t(h,w,F)}}}l=l.next}while(l!==d)}}catch(F){$t(i,i.return,F)}}function n_(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Hp(i,a)}catch(l){$t(e,e.return,l)}}}function i_(e,i,a){a.props=bs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){$t(e,i,l)}}function Zo(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){$t(e,i,h)}}function ii(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){$t(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$t(e,i,h)}else a.current=null}function r_(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){$t(e,e.return,h)}}function Pf(e,i,a){try{var l=e.stateNode;RA(l,e.type,a,i),l[de]=i}catch(h){$t(e,e.return,h)}}function s_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&gr(e.type)||e.tag===4}function xf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||s_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&gr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kf(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ac));else if(l!==4&&(l===27&&gr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(kf(e,i,a),e=e.sibling;e!==null;)kf(e,i,a),e=e.sibling}function Xu(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&gr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Xu(e,i,a),e=e.sibling;e!==null;)Xu(e,i,a),e=e.sibling}function a_(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Be(i,l,a),i[Te]=e,i[de]=a}catch(d){$t(e,e.return,d)}}var ki=!1,he=!1,Uf=!1,o_=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function aA(e,i){if(e=e.containerInfo,od=dc,e=yp(e),Ph(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,E=-1,w=-1,L=0,F=0,K=e,z=null;e:for(;;){for(var B;K!==a||h!==0&&K.nodeType!==3||(E=v+h),K!==d||l!==0&&K.nodeType!==3||(w=v+l),K.nodeType===3&&(v+=K.nodeValue.length),(B=K.firstChild)!==null;)z=K,K=B;for(;;){if(K===e)break e;if(z===a&&++L===h&&(E=v),z===d&&++F===l&&(w=v),(B=K.nextSibling)!==null)break;K=z,z=K.parentNode}K=B}a=E===-1||w===-1?null:{start:E,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(ld={focusedElem:e,selectionRange:a},dc=!1,Ve=i;Ve!==null;)if(i=Ve,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Ve=e;else for(;Ve!==null;){switch(i=Ve,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var _t=bs(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(_t,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(ft){$t(a,a.return,ft)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)hd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":hd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Ve=e;break}Ve=i.return}}function l_(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ur(e,a),l&4&&$o(5,a);break;case 1:if(ur(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){$t(a,a.return,v)}else{var h=bs(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){$t(a,a.return,v)}}l&64&&n_(a),l&512&&Zo(a,a.return);break;case 3:if(ur(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Hp(e,i)}catch(v){$t(a,a.return,v)}}break;case 27:i===null&&l&4&&a_(a);case 26:case 5:ur(e,a),i===null&&l&4&&r_(a),l&512&&Zo(a,a.return);break;case 12:ur(e,a);break;case 13:ur(e,a),l&4&&h_(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=pA.bind(null,a),MA(e,a))));break;case 22:if(l=a.memoizedState!==null||ki,!l){i=i!==null&&i.memoizedState!==null||he,h=ki;var d=he;ki=l,(he=i)&&!d?cr(e,a,(a.subtreeFlags&8772)!==0):ur(e,a),ki=h,he=d}break;case 30:break;default:ur(e,a)}}function u_(e){var i=e.alternate;i!==null&&(e.alternate=null,u_(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Zi(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ne=null,nn=!1;function Ui(e,i,a){for(a=a.child;a!==null;)c_(e,i,a),a=a.sibling}function c_(e,i,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(ae,a)}catch{}switch(a.tag){case 26:he||ii(a,i),Ui(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:he||ii(a,i);var l=ne,h=nn;gr(a.type)&&(ne=a.stateNode,nn=!1),Ui(e,i,a),al(a.stateNode),ne=l,nn=h;break;case 5:he||ii(a,i);case 6:if(l=ne,h=nn,ne=null,Ui(e,i,a),ne=l,nn=h,ne!==null)if(nn)try{(ne.nodeType===9?ne.body:ne.nodeName==="HTML"?ne.ownerDocument.body:ne).removeChild(a.stateNode)}catch(d){$t(a,i,d)}else try{ne.removeChild(a.stateNode)}catch(d){$t(a,i,d)}break;case 18:ne!==null&&(nn?(e=ne,W_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ml(e)):W_(ne,a.stateNode));break;case 4:l=ne,h=nn,ne=a.stateNode.containerInfo,nn=!0,Ui(e,i,a),ne=l,nn=h;break;case 0:case 11:case 14:case 15:he||lr(2,a,i),he||lr(4,a,i),Ui(e,i,a);break;case 1:he||(ii(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&i_(a,i,l)),Ui(e,i,a);break;case 21:Ui(e,i,a);break;case 22:he=(l=he)||a.memoizedState!==null,Ui(e,i,a),he=l;break;default:Ui(e,i,a)}}function h_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ml(e)}catch(a){$t(i,i.return,a)}}function oA(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new o_),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new o_),i;default:throw Error(s(435,e.tag))}}function Lf(e,i){var a=oA(e);i.forEach(function(l){var h=gA.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function hn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,v=i,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(gr(E.type)){ne=E.stateNode,nn=!1;break t}break;case 5:ne=E.stateNode,nn=!1;break t;case 3:case 4:ne=E.stateNode.containerInfo,nn=!0;break t}E=E.return}if(ne===null)throw Error(s(160));c_(d,v,h),ne=null,nn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)f_(i,e),i=i.sibling}var kn=null;function f_(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hn(i,e),fn(e),l&4&&(lr(3,e,e.return),$o(3,e),lr(5,e,e.return));break;case 1:hn(i,e),fn(e),l&512&&(he||a===null||ii(a,a.return)),l&64&&ki&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=kn;if(hn(i,e),fn(e),l&512&&(he||a===null||ii(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Jr]||d[Te]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Be(d,l,a),d[Te]=e,ue(d),l=d;break t;case"link":var v=ay("link","href",h).get(l+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(d=v[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}d=h.createElement(l),Be(d,l,a),h.head.appendChild(d);break;case"meta":if(v=ay("meta","content",h).get(l+(a.content||""))){for(E=0;E<v.length;E++)if(d=v[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}d=h.createElement(l),Be(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Te]=e,ue(d),l=d}e.stateNode=l}else oy(h,e.type,e.stateNode);else e.stateNode=sy(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?oy(h,e.type,e.stateNode):sy(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Pf(e,e.memoizedProps,a.memoizedProps)}break;case 27:hn(i,e),fn(e),l&512&&(he||a===null||ii(a,a.return)),a!==null&&l&4&&Pf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(hn(i,e),fn(e),l&512&&(he||a===null||ii(a,a.return)),e.flags&32){h=e.stateNode;try{vn(h,"")}catch(B){$t(e,e.return,B)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Pf(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Uf=!0);break;case 6:if(hn(i,e),fn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(B){$t(e,e.return,B)}}break;case 3:if(cc=null,h=kn,kn=lc(i.containerInfo),hn(i,e),kn=h,fn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ml(i.containerInfo)}catch(B){$t(e,e.return,B)}Uf&&(Uf=!1,d_(e));break;case 4:l=kn,kn=lc(e.stateNode.containerInfo),hn(i,e),fn(e),kn=l;break;case 12:hn(i,e),fn(e);break;case 13:hn(i,e),fn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ff=_n()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Lf(e,l)));break;case 22:h=e.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,L=ki,F=he;if(ki=L||h,he=F||w,hn(i,e),he=F,ki=L,fn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||w||ki||he||ws(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){w=a=i;try{if(d=w.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=w.stateNode;var K=w.memoizedProps.style,z=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(B){$t(w,w.return,B)}}}else if(i.tag===6){if(a===null){w=i;try{w.stateNode.nodeValue=h?"":w.memoizedProps}catch(B){$t(w,w.return,B)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Lf(e,a))));break;case 19:hn(i,e),fn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Lf(e,l)));break;case 30:break;case 21:break;default:hn(i,e),fn(e)}}function fn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(s_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=xf(e);Xu(e,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(vn(v,""),a.flags&=-33);var E=xf(e);Xu(e,E,v);break;case 3:case 4:var w=a.stateNode.containerInfo,L=xf(e);kf(e,L,w);break;default:throw Error(s(161))}}catch(F){$t(e,e.return,F)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function d_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;d_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function ur(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)l_(e,i.alternate,i),i=i.sibling}function ws(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:lr(4,i,i.return),ws(i);break;case 1:ii(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&i_(i,i.return,a),ws(i);break;case 27:al(i.stateNode);case 26:case 5:ii(i,i.return),ws(i);break;case 22:i.memoizedState===null&&ws(i);break;case 30:ws(i);break;default:ws(i)}e=e.sibling}}function cr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:cr(h,d,a),$o(4,d);break;case 1:if(cr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){$t(l,l.return,L)}if(l=d,h=l.updateQueue,h!==null){var E=l.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)qp(w[h],E)}catch(L){$t(l,l.return,L)}}a&&v&64&&n_(d),Zo(d,d.return);break;case 27:a_(d);case 26:case 5:cr(h,d,a),a&&l===null&&v&4&&r_(d),Zo(d,d.return);break;case 12:cr(h,d,a);break;case 13:cr(h,d,a),a&&v&4&&h_(h,d);break;case 22:d.memoizedState===null&&cr(h,d,a),Zo(d,d.return);break;case 30:break;default:cr(h,d,a)}i=i.sibling}}function zf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ko(a))}function Bf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&ko(e))}function ri(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)m_(e,i,a,l),i=i.sibling}function m_(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ri(e,i,a,l),h&2048&&$o(9,i);break;case 1:ri(e,i,a,l);break;case 3:ri(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&ko(e)));break;case 12:if(h&2048){ri(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,E=d.onPostCommit;typeof E=="function"&&E(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){$t(i,i.return,w)}}else ri(e,i,a,l);break;case 13:ri(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ri(e,i,a,l):Wo(e,i):d._visibility&2?ri(e,i,a,l):(d._visibility|=2,Ea(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&zf(v,i);break;case 24:ri(e,i,a,l),h&2048&&Bf(i.alternate,i);break;default:ri(e,i,a,l)}}function Ea(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,E=a,w=l,L=v.flags;switch(v.tag){case 0:case 11:case 15:Ea(d,v,E,w,h),$o(8,v);break;case 23:break;case 22:var F=v.stateNode;v.memoizedState!==null?F._visibility&2?Ea(d,v,E,w,h):Wo(d,v):(F._visibility|=2,Ea(d,v,E,w,h)),h&&L&2048&&zf(v.alternate,v);break;case 24:Ea(d,v,E,w,h),h&&L&2048&&Bf(v.alternate,v);break;default:Ea(d,v,E,w,h)}i=i.sibling}}function Wo(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:Wo(a,l),h&2048&&zf(l.alternate,l);break;case 24:Wo(a,l),h&2048&&Bf(l.alternate,l);break;default:Wo(a,l)}i=i.sibling}}var Jo=8192;function Ta(e){if(e.subtreeFlags&Jo)for(e=e.child;e!==null;)p_(e),e=e.sibling}function p_(e){switch(e.tag){case 26:Ta(e),e.flags&Jo&&e.memoizedState!==null&&QA(kn,e.memoizedState,e.memoizedProps);break;case 5:Ta(e);break;case 3:case 4:var i=kn;kn=lc(e.stateNode.containerInfo),Ta(e),kn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Jo,Jo=16777216,Ta(e),Jo=i):Ta(e));break;default:Ta(e)}}function g_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function tl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ve=l,y_(l,e)}g_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)__(e),e=e.sibling}function __(e){switch(e.tag){case 0:case 11:case 15:tl(e),e.flags&2048&&lr(9,e,e.return);break;case 3:tl(e);break;case 12:tl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,$u(e)):tl(e);break;default:tl(e)}}function $u(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ve=l,y_(l,e)}g_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:lr(8,i,i.return),$u(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,$u(i));break;default:$u(i)}e=e.sibling}}function y_(e,i){for(;Ve!==null;){var a=Ve;switch(a.tag){case 0:case 11:case 15:lr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ko(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ve=l;else t:for(a=e;Ve!==null;){l=Ve;var h=l.sibling,d=l.return;if(u_(l),l===a){Ve=null;break t}if(h!==null){h.return=d,Ve=h;break t}Ve=d}}}var lA={getCacheForType:function(e){var i=Ge(be),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},uA=typeof WeakMap=="function"?WeakMap:Map,Ft=0,Wt=null,Ct=null,kt=0,Gt=0,dn=null,hr=!1,Aa=!1,jf=!1,Li=0,le=0,fr=0,Rs=0,qf=0,Cn=0,Sa=0,el=null,rn=null,Hf=!1,Ff=0,Zu=1/0,Wu=null,dr=null,ze=0,mr=null,ba=null,wa=0,Gf=0,Qf=null,v_=null,nl=0,Kf=null;function mn(){if((Ft&2)!==0&&kt!==0)return kt&-kt;if(H.T!==null){var e=fa;return e!==0?e:td()}return Xi()}function E_(){Cn===0&&(Cn=(kt&536870912)===0||Bt?co():536870912);var e=In.current;return e!==null&&(e.flags|=32),Cn}function pn(e,i,a){(e===Wt&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)&&(Ra(e,0),pr(e,kt,Cn,!1)),gi(e,a),((Ft&2)===0||e!==Wt)&&(e===Wt&&((Ft&2)===0&&(Rs|=a),le===4&&pr(e,kt,Cn,!1)),si(e))}function T_(e,i,a){if((Ft&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&e.expiredLanes)===0||Wr(e,i),h=l?fA(e,i):$f(e,i,!0),d=l;do{if(h===0){Aa&&!l&&pr(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!cA(a)){h=$f(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var E=e;h=el;var w=E.current.memoizedState.isDehydrated;if(w&&(Ra(E,v).flags|=256),v=$f(E,v,!1),v!==2){if(jf&&!w){E.errorRecoveryDisabledLanes|=d,Rs|=d,h=4;break t}d=rn,rn=h,d!==null&&(rn===null?rn=d:rn.push.apply(rn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ra(e,0),pr(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:pr(l,i,Cn,!hr);break t;case 2:rn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Ff+300-_n(),10<h)){if(pr(l,i,Cn,!hr),Hs(l,0,!0)!==0)break t;l.timeoutHandle=$_(A_.bind(null,l,a,rn,Wu,Hf,i,Cn,Rs,Sa,hr,d,2,-0,0),h);break t}A_(l,a,rn,Wu,Hf,i,Cn,Rs,Sa,hr,d,0,-0,0)}}break}while(!0);si(e)}function A_(e,i,a,l,h,d,v,E,w,L,F,K,z,B){if(e.timeoutHandle=-1,K=i.subtreeFlags,(K&8192||(K&16785408)===16785408)&&(ul={stylesheets:null,count:0,unsuspend:GA},p_(i),K=KA(),K!==null)){e.cancelPendingCommit=K(D_.bind(null,e,i,d,a,l,h,v,E,w,F,1,z,B)),pr(e,d,v,!L);return}D_(e,i,d,a,l,h,v,E,w)}function cA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!un(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function pr(e,i,a,l){i&=~qf,i&=~Rs,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-Fe(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Fn(e,a,i)}function Ju(){return(Ft&6)===0?(il(0),!1):!0}function Yf(){if(Ct!==null){if(Gt===0)var e=Ct.return;else e=Ct,Oi=Es=null,hf(e),ya=null,Ko=0,e=Ct;for(;e!==null;)e_(e.alternate,e),e=e.return;Ct=null}}function Ra(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,CA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Yf(),Wt=e,Ct=a=Ii(e.current,null),kt=i,Gt=0,dn=null,hr=!1,Aa=Wr(e,i),jf=!1,Sa=Cn=qf=Rs=fr=le=0,rn=el=null,Hf=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-Fe(l),d=1<<h;i|=e[h],l&=~d}return Li=i,Tu(),a}function S_(e,i){bt=null,H.H=Bu,i===Lo||i===Ou?(i=Bp(),Gt=3):i===Up?(i=Bp(),Gt=4):Gt=i===jg?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,dn=i,Ct===null&&(le=1,Gu(e,Sn(i,e.current)))}function b_(){var e=H.H;return H.H=Bu,e===null?Bu:e}function w_(){var e=H.A;return H.A=lA,e}function Xf(){le=4,hr||(kt&4194048)!==kt&&In.current!==null||(Aa=!0),(fr&134217727)===0&&(Rs&134217727)===0||Wt===null||pr(Wt,kt,Cn,!1)}function $f(e,i,a){var l=Ft;Ft|=2;var h=b_(),d=w_();(Wt!==e||kt!==i)&&(Wu=null,Ra(e,i)),i=!1;var v=le;t:do try{if(Gt!==0&&Ct!==null){var E=Ct,w=dn;switch(Gt){case 8:Yf(),v=6;break t;case 3:case 2:case 9:case 6:In.current===null&&(i=!0);var L=Gt;if(Gt=0,dn=null,Ia(e,E,w,L),a&&Aa){v=0;break t}break;default:L=Gt,Gt=0,dn=null,Ia(e,E,w,L)}}hA(),v=le;break}catch(F){S_(e,F)}while(!0);return i&&e.shellSuspendCounter++,Oi=Es=null,Ft=l,H.H=h,H.A=d,Ct===null&&(Wt=null,kt=0,Tu()),v}function hA(){for(;Ct!==null;)R_(Ct)}function fA(e,i){var a=Ft;Ft|=2;var l=b_(),h=w_();Wt!==e||kt!==i?(Wu=null,Zu=_n()+500,Ra(e,i)):Aa=Wr(e,i);t:do try{if(Gt!==0&&Ct!==null){i=Ct;var d=dn;e:switch(Gt){case 1:Gt=0,dn=null,Ia(e,i,d,1);break;case 2:case 9:if(Lp(d)){Gt=0,dn=null,I_(i);break}i=function(){Gt!==2&&Gt!==9||Wt!==e||(Gt=7),si(e)},d.then(i,i);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:Lp(d)?(Gt=0,dn=null,I_(i)):(Gt=0,dn=null,Ia(e,i,d,7));break;case 5:var v=null;switch(Ct.tag){case 26:v=Ct.memoizedState;case 5:case 27:var E=Ct;if(!v||ly(v)){Gt=0,dn=null;var w=E.sibling;if(w!==null)Ct=w;else{var L=E.return;L!==null?(Ct=L,tc(L)):Ct=null}break e}}Gt=0,dn=null,Ia(e,i,d,5);break;case 6:Gt=0,dn=null,Ia(e,i,d,6);break;case 8:Yf(),le=6;break t;default:throw Error(s(462))}}dA();break}catch(F){S_(e,F)}while(!0);return Oi=Es=null,H.H=l,H.A=h,Ft=a,Ct!==null?0:(Wt=null,kt=0,Tu(),le)}function dA(){for(;Ct!==null&&!ao();)R_(Ct)}function R_(e){var i=Jg(e.alternate,e,Li);e.memoizedProps=e.pendingProps,i===null?tc(e):Ct=i}function I_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Kg(a,i,i.pendingProps,i.type,void 0,kt);break;case 11:i=Kg(a,i,i.pendingProps,i.type.render,i.ref,kt);break;case 5:hf(i);default:e_(a,i),i=Ct=Cp(i,Li),i=Jg(a,i,Li)}e.memoizedProps=e.pendingProps,i===null?tc(e):Ct=i}function Ia(e,i,a,l){Oi=Es=null,hf(i),ya=null,Ko=0;var h=i.return;try{if(nA(e,h,i,a,kt)){le=1,Gu(e,Sn(a,e.current)),Ct=null;return}}catch(d){if(h!==null)throw Ct=h,d;le=1,Gu(e,Sn(a,e.current)),Ct=null;return}i.flags&32768?(Bt||l===1?e=!0:Aa||(kt&536870912)!==0?e=!1:(hr=e=!0,(l===2||l===9||l===3||l===6)&&(l=In.current,l!==null&&l.tag===13&&(l.flags|=16384))),C_(i,e)):tc(i)}function tc(e){var i=e;do{if((i.flags&32768)!==0){C_(i,hr);return}e=i.return;var a=rA(i.alternate,i,Li);if(a!==null){Ct=a;return}if(i=i.sibling,i!==null){Ct=i;return}Ct=i=e}while(i!==null);le===0&&(le=5)}function C_(e,i){do{var a=sA(e.alternate,e);if(a!==null){a.flags&=32767,Ct=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=a}while(e!==null);le=6,Ct=null}function D_(e,i,a,l,h,d,v,E,w){e.cancelPendingCommit=null;do ec();while(ze!==0);if((Ft&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=zh,fo(e,a,d,v,E,w),e===Wt&&(Ct=Wt=null,kt=0),ba=i,mr=e,wa=a,Gf=d,Qf=h,v_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,_A(Yr,function(){return P_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,h=et.p,et.p=2,v=Ft,Ft|=4;try{aA(e,i,a)}finally{Ft=v,et.p=h,H.T=l}}ze=1,O_(),N_(),V_()}}function O_(){if(ze===1){ze=0;var e=mr,i=ba,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=et.p;et.p=2;var h=Ft;Ft|=4;try{f_(i,e);var d=ld,v=yp(e.containerInfo),E=d.focusedElem,w=d.selectionRange;if(v!==E&&E&&E.ownerDocument&&_p(E.ownerDocument.documentElement,E)){if(w!==null&&Ph(E)){var L=w.start,F=w.end;if(F===void 0&&(F=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(F,E.value.length);else{var K=E.ownerDocument||document,z=K&&K.defaultView||window;if(z.getSelection){var B=z.getSelection(),_t=E.textContent.length,ft=Math.min(w.start,_t),Xt=w.end===void 0?ft:Math.min(w.end,_t);!B.extend&&ft>Xt&&(v=Xt,Xt=ft,ft=v);var P=gp(E,ft),O=gp(E,Xt);if(P&&O&&(B.rangeCount!==1||B.anchorNode!==P.node||B.anchorOffset!==P.offset||B.focusNode!==O.node||B.focusOffset!==O.offset)){var U=K.createRange();U.setStart(P.node,P.offset),B.removeAllRanges(),ft>Xt?(B.addRange(U),B.extend(O.node,O.offset)):(U.setEnd(O.node,O.offset),B.addRange(U))}}}}for(K=[],B=E;B=B.parentNode;)B.nodeType===1&&K.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var G=K[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}dc=!!od,ld=od=null}finally{Ft=h,et.p=l,H.T=a}}e.current=i,ze=2}}function N_(){if(ze===2){ze=0;var e=mr,i=ba,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=et.p;et.p=2;var h=Ft;Ft|=4;try{l_(e,i.alternate,i)}finally{Ft=h,et.p=l,H.T=a}}ze=3}}function V_(){if(ze===4||ze===3){ze=0,$l();var e=mr,i=ba,a=wa,l=v_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ze=5:(ze=0,ba=mr=null,M_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(dr=null),Fs(a),i=i.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(ae,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=H.T,h=et.p,et.p=2,H.T=null;try{for(var d=e.onRecoverableError,v=0;v<l.length;v++){var E=l[v];d(E.value,{componentStack:E.stack})}}finally{H.T=i,et.p=h}}(wa&3)!==0&&ec(),si(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===Kf?nl++:(nl=0,Kf=e):nl=0,il(0)}}function M_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,ko(i)))}function ec(e){return O_(),N_(),V_(),P_()}function P_(){if(ze!==5)return!1;var e=mr,i=Gf;Gf=0;var a=Fs(wa),l=H.T,h=et.p;try{et.p=32>a?32:a,H.T=null,a=Qf,Qf=null;var d=mr,v=wa;if(ze=0,ba=mr=null,wa=0,(Ft&6)!==0)throw Error(s(331));var E=Ft;if(Ft|=4,__(d.current),m_(d,d.current,v,a),Ft=E,il(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(ae,d)}catch{}return!0}finally{et.p=h,H.T=l,M_(e,i)}}function x_(e,i,a){i=Sn(a,i),i=wf(e.stateNode,i,2),e=rr(e,i,2),e!==null&&(gi(e,2),si(e))}function $t(e,i,a){if(e.tag===3)x_(e,e,a);else for(;i!==null;){if(i.tag===3){x_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(dr===null||!dr.has(l))){e=Sn(a,e),a=zg(2),l=rr(i,a,2),l!==null&&(Bg(a,l,i,e),gi(l,2),si(l));break}}i=i.return}}function Zf(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new uA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(jf=!0,h.add(a),e=mA.bind(null,e,i,a),i.then(e,e))}function mA(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Wt===e&&(kt&a)===a&&(le===4||le===3&&(kt&62914560)===kt&&300>_n()-Ff?(Ft&2)===0&&Ra(e,0):qf|=a,Sa===kt&&(Sa=0)),si(e)}function k_(e,i){i===0&&(i=ho()),e=la(e,i),e!==null&&(gi(e,i),si(e))}function pA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),k_(e,a)}function gA(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),k_(e,a)}function _A(e,i){return Qr(e,i)}var nc=null,Ca=null,Wf=!1,ic=!1,Jf=!1,Is=0;function si(e){e!==Ca&&e.next===null&&(Ca===null?nc=Ca=e:Ca=Ca.next=e),ic=!0,Wf||(Wf=!0,vA())}function il(e,i){if(!Jf&&ic){Jf=!0;do for(var a=!1,l=nc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-Fe(42|e)+1)-1,d&=h&~(v&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,B_(l,d))}else d=kt,d=Hs(l,l===Wt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Wr(l,d)||(a=!0,B_(l,d));l=l.next}while(a);Jf=!1}}function yA(){U_()}function U_(){ic=Wf=!1;var e=0;Is!==0&&(IA()&&(e=Is),Is=0);for(var i=_n(),a=null,l=nc;l!==null;){var h=l.next,d=L_(l,i);d===0?(l.next=null,a===null?nc=h:a.next=h,h===null&&(Ca=a)):(a=l,(e!==0||(d&3)!==0)&&(ic=!0)),l=h}il(e)}function L_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-Fe(d),E=1<<v,w=h[v];w===-1?((E&a)===0||(E&l)!==0)&&(h[v]=uo(E,i)):w<=i&&(e.expiredLanes|=E),d&=~E}if(i=Wt,a=kt,a=Hs(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Kr(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Wr(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&Kr(l),Fs(a)){case 2:case 8:a=js;break;case 32:a=Yr;break;case 268435456:a=qs;break;default:a=Yr}return l=z_.bind(null,e),a=Qr(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&Kr(l),e.callbackPriority=2,e.callbackNode=null,2}function z_(e,i){if(ze!==0&&ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(ec()&&e.callbackNode!==a)return null;var l=kt;return l=Hs(e,e===Wt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(T_(e,l,i),L_(e,_n()),e.callbackNode!=null&&e.callbackNode===a?z_.bind(null,e):null)}function B_(e,i){if(ec())return null;T_(e,i,!0)}function vA(){DA(function(){(Ft&6)!==0?Qr(oo,yA):U_()})}function td(){return Is===0&&(Is=co()),Is}function j_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:$s(""+e)}function q_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function EA(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=j_((h[de]||null).action),v=l.submitter;v&&(i=(i=v[de]||null)?j_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var E=new Zs("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Is!==0){var w=v?q_(h,v):new FormData(h);Ef(a,{pending:!0,data:w,method:h.method,action:d},null,w)}}else typeof d=="function"&&(E.preventDefault(),w=v?q_(h,v):new FormData(h),Ef(a,{pending:!0,data:w,method:h.method,action:d},d,w))},currentTarget:h}]})}}for(var ed=0;ed<Lh.length;ed++){var nd=Lh[ed],TA=nd.toLowerCase(),AA=nd[0].toUpperCase()+nd.slice(1);xn(TA,"on"+AA)}xn(Tp,"onAnimationEnd"),xn(Ap,"onAnimationIteration"),xn(Sp,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(z0,"onTransitionRun"),xn(B0,"onTransitionStart"),xn(j0,"onTransitionCancel"),xn(bp,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rl));function H_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var E=l[v],w=E.instance,L=E.currentTarget;if(E=E.listener,w!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=L;try{d(h)}catch(F){Fu(F)}h.currentTarget=null,d=w}else for(v=0;v<l.length;v++){if(E=l[v],w=E.instance,L=E.currentTarget,E=E.listener,w!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=L;try{d(h)}catch(F){Fu(F)}h.currentTarget=null,d=w}}}}function Dt(e,i){var a=i[po];a===void 0&&(a=i[po]=new Set);var l=e+"__bubble";a.has(l)||(F_(i,e,2,!1),a.add(l))}function id(e,i,a){var l=0;i&&(l|=4),F_(a,e,l,i)}var rc="_reactListening"+Math.random().toString(36).slice(2);function rd(e){if(!e[rc]){e[rc]=!0,go.forEach(function(a){a!=="selectionchange"&&(SA.has(a)||id(a,!1,e),id(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[rc]||(i[rc]=!0,id("selectionchange",!1,i))}}function F_(e,i,a,l){switch(my(i)){case 2:var h=$A;break;case 8:h=ZA;break;default:h=yd}a=h.bind(null,i,a,e),h=void 0,!Tn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function sd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===h)break;if(v===4)for(v=l.return;v!==null;){var w=v.tag;if((w===3||w===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;E!==null;){if(v=_i(E),v===null)return;if(w=v.tag,w===5||w===6||w===26||w===27){l=d=v;continue t}E=E.parentNode}}l=l.return}au(function(){var L=d,F=En(a),K=[];t:{var z=wp.get(e);if(z!==void 0){var B=Zs,_t=e;switch(e){case"keypress":if($n(a)===0)break t;case"keydown":case"keyup":B=ia;break;case"focusin":_t="focus",B=ta;break;case"focusout":_t="blur",B=ta;break;case"beforeblur":case"afterblur":B=ta;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=An;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Oh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=mu;break;case Tp:case Ap:case Sp:B=ea;break;case bp:B=gu;break;case"scroll":case"scrollend":B=ou;break;case"wheel":B=ra;break;case"copy":case"cut":case"paste":B=na;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Co;break;case"toggle":case"beforetoggle":B=yu}var ft=(i&4)!==0,Xt=!ft&&(e==="scroll"||e==="scrollend"),P=ft?z!==null?z+"Capture":null:z;ft=[];for(var O=L,U;O!==null;){var G=O;if(U=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||U===null||P===null||(G=as(O,P),G!=null&&ft.push(sl(O,G,U))),Xt)break;O=O.return}0<ft.length&&(z=new B(z,_t,null,a,F),K.push({event:z,listeners:ft}))}}if((i&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&a!==Ti&&(_t=a.relatedTarget||a.fromElement)&&(_i(_t)||_t[yn]))break t;if((B||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,B?(_t=a.relatedTarget||a.toElement,B=L,_t=_t?_i(_t):null,_t!==null&&(Xt=u(_t),ft=_t.tag,_t!==Xt||ft!==5&&ft!==27&&ft!==6)&&(_t=null)):(B=null,_t=L),B!==_t)){if(ft=An,G="onMouseLeave",P="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(ft=Co,G="onPointerLeave",P="onPointerEnter",O="pointer"),Xt=B==null?z:Qn(B),U=_t==null?z:Qn(_t),z=new ft(G,O+"leave",B,a,F),z.target=Xt,z.relatedTarget=U,G=null,_i(F)===L&&(ft=new ft(P,O+"enter",_t,a,F),ft.target=U,ft.relatedTarget=Xt,G=ft),Xt=G,B&&_t)e:{for(ft=B,P=_t,O=0,U=ft;U;U=Da(U))O++;for(U=0,G=P;G;G=Da(G))U++;for(;0<O-U;)ft=Da(ft),O--;for(;0<U-O;)P=Da(P),U--;for(;O--;){if(ft===P||P!==null&&ft===P.alternate)break e;ft=Da(ft),P=Da(P)}ft=null}else ft=null;B!==null&&G_(K,z,B,ft,!1),_t!==null&&Xt!==null&&G_(K,Xt,_t,ft,!0)}}t:{if(z=L?Qn(L):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var at=cp;else if(Se(z))if(hp)at=k0;else{at=P0;var It=M0}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?L&&To(L.elementType)&&(at=cp):at=x0;if(at&&(at=at(e,L))){Ri(K,at,a,F);break t}It&&It(e,z,L),e==="focusout"&&L&&z.type==="number"&&L.memoizedProps.value!=null&&Ji(z,"number",z.value)}switch(It=L?Qn(L):window,e){case"focusin":(Se(It)||It.contentEditable==="true")&&(sa=It,xh=L,No=null);break;case"focusout":No=xh=sa=null;break;case"mousedown":kh=!0;break;case"contextmenu":case"mouseup":case"dragend":kh=!1,vp(K,a,F);break;case"selectionchange":if(L0)break;case"keydown":case"keyup":vp(K,a,F)}var ot;if(Jn)t:{switch(e){case"compositionstart":var mt="onCompositionStart";break t;case"compositionend":mt="onCompositionEnd";break t;case"compositionupdate":mt="onCompositionUpdate";break t}mt=void 0}else Pt?j(e,a)&&(mt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(mt="onCompositionStart");mt&&(y&&a.locale!=="ko"&&(Pt||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Pt&&(ot=So()):(Xn=F,tr="value"in Xn?Xn.value:Xn.textContent,Pt=!0)),It=sc(L,mt),0<It.length&&(mt=new Ro(mt,e,null,a,F),K.push({event:mt,listeners:It}),ot?mt.data=ot:(ot=J(a),ot!==null&&(mt.data=ot)))),(ot=m?Ae(e,a):xt(e,a))&&(mt=sc(L,"onBeforeInput"),0<mt.length&&(It=new Ro("onBeforeInput","beforeinput",null,a,F),K.push({event:It,listeners:mt}),It.data=ot)),EA(K,e,L,a,F)}H_(K,i)})}function sl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function sc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=as(e,a),h!=null&&l.unshift(sl(e,h,d)),h=as(e,i),h!=null&&l.push(sl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function Da(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function G_(e,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var E=a,w=E.alternate,L=E.stateNode;if(E=E.tag,w!==null&&w===l)break;E!==5&&E!==26&&E!==27||L===null||(w=L,h?(L=as(a,d),L!=null&&v.unshift(sl(a,L,w))):h||(L=as(a,d),L!=null&&v.push(sl(a,L,w)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var bA=/\r\n?/g,wA=/\u0000|\uFFFD/g;function Q_(e){return(typeof e=="string"?e:""+e).replace(bA,`
`).replace(wA,"")}function K_(e,i){return i=Q_(i),Q_(e)===i}function ac(){}function Yt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||vn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&vn(e,""+l);break;case"className":Kn(e,"class",l);break;case"tabIndex":Kn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Kn(e,a,l);break;case"style":Eo(e,l,d);break;case"data":if(i!=="object"){Kn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=$s(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Yt(e,i,"name",h.name,h,null),Yt(e,i,"formEncType",h.formEncType,h,null),Yt(e,i,"formMethod",h.formMethod,h,null),Yt(e,i,"formTarget",h.formTarget,h,null)):(Yt(e,i,"encType",h.encType,h,null),Yt(e,i,"method",h.method,h,null),Yt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=$s(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=ac);break;case"onScroll":l!=null&&Dt("scroll",e);break;case"onScrollEnd":l!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=$s(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),Wi(e,"popover",l);break;case"xlinkActuate":ke(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ke(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ke(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ke(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ke(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ke(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ke(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ke(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ke(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Wi(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ch.get(a)||a,Wi(e,a,l))}}function ad(e,i,a,l,h,d){switch(a){case"style":Eo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?vn(e,l):(typeof l=="number"||typeof l=="bigint")&&vn(e,""+l);break;case"onScroll":l!=null&&Dt("scroll",e);break;case"onScrollEnd":l!=null&&Dt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ac);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gs.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[de]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Wi(e,a,l)}}}function Be(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(e,i,d,v,a,null)}}h&&Yt(e,i,"srcSet",a.srcSet,a,null),l&&Yt(e,i,"src",a.src,a,null);return;case"input":Dt("invalid",e);var E=d=v=h=null,w=null,L=null;for(l in a)if(a.hasOwnProperty(l)){var F=a[l];if(F!=null)switch(l){case"name":h=F;break;case"type":v=F;break;case"checked":w=F;break;case"defaultChecked":L=F;break;case"value":d=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:Yt(e,i,l,F,a,null)}}is(e,d,E,w,L,v,h,!1),Xs(e);return;case"select":Dt("invalid",e),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:Yt(e,i,h,E,a,null)}i=d,a=v,e.multiple=!!l,i!=null?Ei(e,!!l,i,!1):a!=null&&Ei(e,!!l,a,!0);return;case"textarea":Dt("invalid",e),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Yt(e,i,v,E,a,null)}rs(e,l,h,d),Xs(e);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(l=a[w],l!=null))switch(w){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(e,i,w,l,a,null)}return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(l=0;l<rl.length;l++)Dt(rl[l],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(l=a[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(e,i,L,l,a,null)}return;default:if(To(i)){for(F in a)a.hasOwnProperty(F)&&(l=a[F],l!==void 0&&ad(e,i,F,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Yt(e,i,E,l,a,null))}function RA(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,E=null,w=null,L=null,F=null;for(B in a){var K=a[B];if(a.hasOwnProperty(B)&&K!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":w=K;default:l.hasOwnProperty(B)||Yt(e,i,B,null,l,K)}}for(var z in l){var B=l[z];if(K=a[z],l.hasOwnProperty(z)&&(B!=null||K!=null))switch(z){case"type":d=B;break;case"name":h=B;break;case"checked":L=B;break;case"defaultChecked":F=B;break;case"value":v=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:B!==K&&Yt(e,i,z,B,l,K)}}ln(e,v,E,w,L,F,d,h);return;case"select":B=v=E=z=null;for(d in a)if(w=a[d],a.hasOwnProperty(d)&&w!=null)switch(d){case"value":break;case"multiple":B=w;default:l.hasOwnProperty(d)||Yt(e,i,d,null,l,w)}for(h in l)if(d=l[h],w=a[h],l.hasOwnProperty(h)&&(d!=null||w!=null))switch(h){case"value":z=d;break;case"defaultValue":E=d;break;case"multiple":v=d;default:d!==w&&Yt(e,i,h,d,l,w)}i=E,a=v,l=B,z!=null?Ei(e,!!a,z,!1):!!l!=!!a&&(i!=null?Ei(e,!!a,i,!0):Ei(e,!!a,a?[]:"",!1));return;case"textarea":B=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(e,i,E,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Yt(e,i,v,h,l,d)}Qt(e,z,B);return;case"option":for(var _t in a)if(z=a[_t],a.hasOwnProperty(_t)&&z!=null&&!l.hasOwnProperty(_t))switch(_t){case"selected":e.selected=!1;break;default:Yt(e,i,_t,null,l,z)}for(w in l)if(z=l[w],B=a[w],l.hasOwnProperty(w)&&z!==B&&(z!=null||B!=null))switch(w){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Yt(e,i,w,z,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in a)z=a[ft],a.hasOwnProperty(ft)&&z!=null&&!l.hasOwnProperty(ft)&&Yt(e,i,ft,null,l,z);for(L in l)if(z=l[L],B=a[L],l.hasOwnProperty(L)&&z!==B&&(z!=null||B!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:Yt(e,i,L,z,l,B)}return;default:if(To(i)){for(var Xt in a)z=a[Xt],a.hasOwnProperty(Xt)&&z!==void 0&&!l.hasOwnProperty(Xt)&&ad(e,i,Xt,void 0,l,z);for(F in l)z=l[F],B=a[F],!l.hasOwnProperty(F)||z===B||z===void 0&&B===void 0||ad(e,i,F,z,l,B);return}}for(var P in a)z=a[P],a.hasOwnProperty(P)&&z!=null&&!l.hasOwnProperty(P)&&Yt(e,i,P,null,l,z);for(K in l)z=l[K],B=a[K],!l.hasOwnProperty(K)||z===B||z==null&&B==null||Yt(e,i,K,z,l,B)}var od=null,ld=null;function oc(e){return e.nodeType===9?e:e.ownerDocument}function Y_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function X_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function ud(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var cd=null;function IA(){var e=window.event;return e&&e.type==="popstate"?e===cd?!1:(cd=e,!0):(cd=null,!1)}var $_=typeof setTimeout=="function"?setTimeout:void 0,CA=typeof clearTimeout=="function"?clearTimeout:void 0,Z_=typeof Promise=="function"?Promise:void 0,DA=typeof queueMicrotask=="function"?queueMicrotask:typeof Z_<"u"?function(e){return Z_.resolve(null).then(e).catch(OA)}:$_;function OA(e){setTimeout(function(){throw e})}function gr(e){return e==="head"}function W_(e,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=e.ownerDocument;if(a&1&&al(v.documentElement),a&2&&al(v.body),a&4)for(a=v.head,al(a),v=a.firstChild;v;){var E=v.nextSibling,w=v.nodeName;v[Jr]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(h===0){e.removeChild(d),ml(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);ml(i)}function hd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":hd(a),Zi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function NA(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Jr])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Un(e.nextSibling),e===null)break}return null}function VA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Un(e.nextSibling),e===null))return null;return e}function fd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function MA(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Un(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var dd=null;function J_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function ty(e,i,a){switch(i=oc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function al(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Zi(e)}var Dn=new Map,ey=new Set;function lc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var zi=et.d;et.d={f:PA,r:xA,D:kA,C:UA,L:LA,m:zA,X:jA,S:BA,M:qA};function PA(){var e=zi.f(),i=Ju();return e||i}function xA(e){var i=Gn(e);i!==null&&i.tag===5&&i.type==="form"?Tg(i):zi.r(e)}var Oa=typeof document>"u"?null:document;function ny(e,i,a){var l=Oa;if(l&&typeof i=="string"&&i){var h=me(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),ey.has(h)||(ey.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Be(i,"link",e),ue(i),l.head.appendChild(i)))}}function kA(e){zi.D(e),ny("dns-prefetch",e,null)}function UA(e,i){zi.C(e,i),ny("preconnect",e,i)}function LA(e,i,a){zi.L(e,i,a);var l=Oa;if(l&&e&&i){var h='link[rel="preload"][as="'+me(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+me(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+me(a.imageSizes)+'"]')):h+='[href="'+me(e)+'"]';var d=h;switch(i){case"style":d=Na(e);break;case"script":d=Va(e)}Dn.has(d)||(e=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Dn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(ol(d))||i==="script"&&l.querySelector(ll(d))||(i=l.createElement("link"),Be(i,"link",e),ue(i),l.head.appendChild(i)))}}function zA(e,i){zi.m(e,i);var a=Oa;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+me(l)+'"][href="'+me(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Va(e)}if(!Dn.has(d)&&(e=T({rel:"modulepreload",href:e},i),Dn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ll(d)))return}l=a.createElement("link"),Be(l,"link",e),ue(l),a.head.appendChild(l)}}}function BA(e,i,a){zi.S(e,i,a);var l=Oa;if(l&&e){var h=Ze(l).hoistableStyles,d=Na(e);i=i||"default";var v=h.get(d);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(ol(d)))E.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Dn.get(d))&&md(e,a);var w=v=l.createElement("link");ue(w),Be(w,"link",e),w._p=new Promise(function(L,F){w.onload=L,w.onerror=F}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,uc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(d,v)}}}function jA(e,i){zi.X(e,i);var a=Oa;if(a&&e){var l=Ze(a).hoistableScripts,h=Va(e),d=l.get(h);d||(d=a.querySelector(ll(h)),d||(e=T({src:e,async:!0},i),(i=Dn.get(h))&&pd(e,i),d=a.createElement("script"),ue(d),Be(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function qA(e,i){zi.M(e,i);var a=Oa;if(a&&e){var l=Ze(a).hoistableScripts,h=Va(e),d=l.get(h);d||(d=a.querySelector(ll(h)),d||(e=T({src:e,async:!0,type:"module"},i),(i=Dn.get(h))&&pd(e,i),d=a.createElement("script"),ue(d),Be(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function iy(e,i,a,l){var h=(h=yt.current)?lc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Na(a.href),a=Ze(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Na(a.href);var d=Ze(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(ol(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Dn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Dn.set(e,a),d||HA(h,e,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Va(a),a=Ze(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Na(e){return'href="'+me(e)+'"'}function ol(e){return'link[rel="stylesheet"]['+e+"]"}function ry(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function HA(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Be(i,"link",a),ue(i),e.head.appendChild(i))}function Va(e){return'[src="'+me(e)+'"]'}function ll(e){return"script[async]"+e}function sy(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+me(a.href)+'"]');if(l)return i.instance=l,ue(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ue(l),Be(l,"style",h),uc(l,a.precedence,e),i.instance=l;case"stylesheet":h=Na(a.href);var d=e.querySelector(ol(h));if(d)return i.state.loading|=4,i.instance=d,ue(d),d;l=ry(a),(h=Dn.get(h))&&md(l,h),d=(e.ownerDocument||e).createElement("link"),ue(d);var v=d;return v._p=new Promise(function(E,w){v.onload=E,v.onerror=w}),Be(d,"link",l),i.state.loading|=4,uc(d,a.precedence,e),i.instance=d;case"script":return d=Va(a.src),(h=e.querySelector(ll(d)))?(i.instance=h,ue(h),h):(l=a,(h=Dn.get(d))&&(l=T({},a),pd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),ue(h),Be(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,uc(l,a.precedence,e));return i.instance}function uc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===i)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function md(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function pd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var cc=null;function ay(e,i,a){if(cc===null){var l=new Map,h=cc=new Map;h.set(a,l)}else h=cc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[Jr]||d[Te]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var E=l.get(v);E?E.push(d):l.set(v,[d])}}return l}function oy(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function FA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function ly(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var ul=null;function GA(){}function QA(e,i,a){if(ul===null)throw Error(s(475));var l=ul;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Na(a.href),d=e.querySelector(ol(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=hc.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,ue(d);return}d=e.ownerDocument||e,a=ry(a),(h=Dn.get(h))&&md(a,h),d=d.createElement("link"),ue(d);var v=d;v._p=new Promise(function(E,w){v.onload=E,v.onerror=w}),Be(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=hc.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function KA(){if(ul===null)throw Error(s(475));var e=ul;return e.stylesheets&&e.count===0&&gd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&gd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function hc(){if(this.count--,this.count===0){if(this.stylesheets)gd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var fc=null;function gd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,fc=new Map,i.forEach(YA,e),fc=null,hc.call(e))}function YA(e,i){if(!(i.state.loading&4)){var a=fc.get(e);if(a)var l=a.get(null);else{a=new Map,fc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=hc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var cl={$$typeof:ct,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function XA(e,i,a,l,h,d,v,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function uy(e,i,a,l,h,d,v,E,w,L,F,K){return e=new XA(e,i,a,v,E,w,L,K),i=1,d===!0&&(i|=24),d=cn(3,null,null,i),e.current=d,d.stateNode=e,i=$h(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},tf(d),e}function cy(e){return e?(e=ua,e):ua}function hy(e,i,a,l,h,d){h=cy(h),l.context===null?l.context=h:l.pendingContext=h,l=ir(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=rr(e,l,i),a!==null&&(pn(a,e,i),Bo(a,e,i))}function fy(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function _d(e,i){fy(e,i),(e=e.alternate)&&fy(e,i)}function dy(e){if(e.tag===13){var i=la(e,67108864);i!==null&&pn(i,e,67108864),_d(e,67108864)}}var dc=!0;function $A(e,i,a,l){var h=H.T;H.T=null;var d=et.p;try{et.p=2,yd(e,i,a,l)}finally{et.p=d,H.T=h}}function ZA(e,i,a,l){var h=H.T;H.T=null;var d=et.p;try{et.p=8,yd(e,i,a,l)}finally{et.p=d,H.T=h}}function yd(e,i,a,l){if(dc){var h=vd(l);if(h===null)sd(e,i,l,mc,a),py(e,l);else if(JA(h,e,i,a,l))l.stopPropagation();else if(py(e,l),i&4&&-1<WA.indexOf(e)){for(;h!==null;){var d=Gn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Vn(d.pendingLanes);if(v!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var w=1<<31-Fe(v);E.entanglements[1]|=w,v&=~w}si(d),(Ft&6)===0&&(Zu=_n()+500,il(0))}}break;case 13:E=la(d,2),E!==null&&pn(E,d,2),Ju(),_d(d,2)}if(d=vd(l),d===null&&sd(e,i,l,mc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else sd(e,i,l,null,a)}}function vd(e){return e=En(e),Ed(e)}var mc=null;function Ed(e){if(mc=null,e=_i(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return mc=e,null}function my(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ah()){case oo:return 2;case js:return 8;case Yr:case Sh:return 32;case qs:return 268435456;default:return 32}default:return 32}}var Td=!1,_r=null,yr=null,vr=null,hl=new Map,fl=new Map,Er=[],WA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function py(e,i){switch(e){case"focusin":case"focusout":_r=null;break;case"dragenter":case"dragleave":yr=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":hl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(i.pointerId)}}function dl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Gn(i),i!==null&&dy(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function JA(e,i,a,l,h){switch(i){case"focusin":return _r=dl(_r,e,i,a,l,h),!0;case"dragenter":return yr=dl(yr,e,i,a,l,h),!0;case"mouseover":return vr=dl(vr,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return hl.set(d,dl(hl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,fl.set(d,dl(fl.get(d)||null,e,i,a,l,h)),!0}return!1}function gy(e){var i=_i(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,Jl(e.priority,function(){if(a.tag===13){var l=mn();l=Yi(l);var h=la(a,l);h!==null&&pn(h,a,l),_d(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=vd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Ti=l,a.target.dispatchEvent(l),Ti=null}else return i=Gn(a),i!==null&&dy(i),e.blockedOn=a,!1;i.shift()}return!0}function _y(e,i,a){pc(e)&&a.delete(i)}function tS(){Td=!1,_r!==null&&pc(_r)&&(_r=null),yr!==null&&pc(yr)&&(yr=null),vr!==null&&pc(vr)&&(vr=null),hl.forEach(_y),fl.forEach(_y)}function gc(e,i){e.blockedOn===i&&(e.blockedOn=null,Td||(Td=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,tS)))}var _c=null;function yy(e){_c!==e&&(_c=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){_c===e&&(_c=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Ed(l||a)===null)continue;break}var d=Gn(a);d!==null&&(e.splice(i,3),i-=3,Ef(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function ml(e){function i(w){return gc(w,e)}_r!==null&&gc(_r,e),yr!==null&&gc(yr,e),vr!==null&&gc(vr,e),hl.forEach(i),fl.forEach(i);for(var a=0;a<Er.length;a++){var l=Er[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Er.length&&(a=Er[0],a.blockedOn===null);)gy(a),a.blockedOn===null&&Er.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[de]||null;if(typeof d=="function")v||yy(a);else if(v){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[de]||null)E=v.formAction;else if(Ed(h)!==null)continue}else E=v.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),yy(a)}}}function Ad(e){this._internalRoot=e}yc.prototype.render=Ad.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=mn();hy(a,l,e,i,null,null)},yc.prototype.unmount=Ad.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;hy(e.current,2,null,e,null,null),Ju(),i[yn]=null}};function yc(e){this._internalRoot=e}yc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Xi();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Er.length&&i!==0&&i<Er[a].priority;a++);Er.splice(a,0,e),a===0&&gy(e)}};var vy=t.version;if(vy!=="19.1.0")throw Error(s(527,vy,"19.1.0"));et.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(i),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var eS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{ae=vc.inject(eS),Ht=vc}catch{}}return gl.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=xg,d=kg,v=Ug,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=uy(e,1,!1,null,null,a,l,h,d,v,E,null),e[yn]=i.current,rd(e),new Ad(i)},gl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=xg,v=kg,E=Ug,w=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),i=uy(e,1,!0,i,a??null,l,h,d,v,E,w,L),i.context=cy(null),a=i.current,l=mn(),l=Yi(l),h=ir(l),h.callback=null,rr(a,h,l),a=l,i.current.lanes=a,gi(i,a),si(i),e[yn]=i.current,rd(e),new yc(i)},gl.version="19.1.0",gl}var Dy;function hS(){if(Dy)return wd.exports;Dy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),wd.exports=cS(),wd.exports}var fS=hS();const dS=()=>{};var Oy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},mS=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],p=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(g>>10)),t[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},hE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,p=f?r[o+1]:0,g=o+2<r.length,_=g?r[o+2]:0,T=u>>2,b=(u&3)<<4|p>>4;let C=(p&15)<<2|_>>6,q=_&63;g||(q=64,f||(C=64)),s.push(n[T],n[b],n[C],n[q])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(cE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):mS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const _=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||p==null||_==null||b==null)throw new pS;const C=u<<2|p>>4;if(s.push(C),_!==64){const q=p<<4&240|_>>2;if(s.push(q),b!==64){const $=_<<6&192|b;s.push($)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class pS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gS=function(r){const t=cE(r);return hE.encodeByteArray(t,!0)},kc=function(r){return gS(r).replace(/\./g,"")},fE=function(r){try{return hE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _S(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS=()=>_S().__FIREBASE_DEFAULTS__,vS=()=>{if(typeof process>"u"||typeof Oy>"u")return;const r=Oy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},ES=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&fE(r[1]);return t&&JSON.parse(t)},nh=()=>{try{return dS()||yS()||vS()||ES()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},dE=r=>{var t,n;return(n=(t=nh())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},TS=r=>{const t=dE(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},mE=()=>{var r;return(r=nh())===null||r===void 0?void 0:r.config},pE=r=>{var t;return(t=nh())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function gE(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[kc(JSON.stringify(n)),kc(JSON.stringify(f)),""].join(".")}const Sl={};function bS(){const r={prod:[],emulator:[]};for(const t of Object.keys(Sl))Sl[t]?r.emulator.push(t):r.prod.push(t);return r}function wS(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let Ny=!1;function _E(r,t){if(typeof window>"u"||typeof document>"u"||!Za(window.location.host)||Sl[r]===t||Sl[r]||Ny)return;Sl[r]=t;function n(C){return`__firebase__banner__${C}`}const s="__firebase__banner",u=bS().prod.length>0;function f(){const C=document.getElementById(s);C&&C.remove()}function p(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function g(C,q){C.setAttribute("width","24"),C.setAttribute("id",q),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function _(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{Ny=!0,f()},C}function T(C,q){C.setAttribute("id",q),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function b(){const C=wS(s),q=n("text"),$=document.getElementById(q)||document.createElement("span"),tt=n("learnmore"),Z=document.getElementById(tt)||document.createElement("a"),Tt=n("preprendIcon"),dt=document.getElementById(Tt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const ct=C.element;p(ct),T(Z,tt);const Vt=_();g(dt,Tt),ct.append(dt,$,Z,Vt),document.body.appendChild(ct)}u?($.innerText="Preview backend disconnected.",dt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(dt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function IS(){var r;const t=(r=nh())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function DS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function OS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NS(){const r=$e();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function VS(){return!IS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function MS(){try{return typeof indexedDB=="object"}catch{return!1}}function PS(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="FirebaseError";class Qi extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=xS,Object.setPrototypeOf(this,Qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zl.prototype.create)}}class zl{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?kS(u,s):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new Qi(o,p,s)}}function kS(r,t){return r.replace(US,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const US=/\{\$([^}]+)}/g;function LS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Vs(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(Vy(u)&&Vy(f)){if(!Vs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Vy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function _l(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function yl(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function zS(r,t){const n=new BS(r,t);return n.subscribe.bind(n)}class BS{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");jS(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=Dd),o.error===void 0&&(o.error=Dd),o.complete===void 0&&(o.complete=Dd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jS(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Dd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(r){return r&&r._delegate?r._delegate:r}class Ms{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new AS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t?.identifier),o=(n=t?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(FS(t))try{this.getOrInitializeService({instanceIdentifier:Cs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Cs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Cs){return this.instances.has(t)}getOptions(t=Cs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&f.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:HS(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Cs){return this.component?this.component.multipleInstances?t:Cs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HS(r){return r===Cs?void 0:r}function FS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new qS(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ot||(Ot={}));const QS={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},KS=Ot.INFO,YS={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},XS=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=YS[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class pm{constructor(t){this.name=t,this._logLevel=KS,this._logHandler=XS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?QS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const $S=(r,t)=>t.some(n=>r instanceof n);let My,Py;function ZS(){return My||(My=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WS(){return Py||(Py=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yE=new WeakMap,Bd=new WeakMap,vE=new WeakMap,Od=new WeakMap,gm=new WeakMap;function JS(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Cr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&yE.set(n,r)}).catch(()=>{}),gm.set(t,r),t}function tb(r){if(Bd.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Bd.set(r,t)}let jd={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Bd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||vE.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function eb(r){jd=r(jd)}function nb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Nd(this),t,...n);return vE.set(s,t.sort?t.sort():[t]),Cr(s)}:WS().includes(r)?function(...t){return r.apply(Nd(this),t),Cr(yE.get(this))}:function(...t){return Cr(r.apply(Nd(this),t))}}function ib(r){return typeof r=="function"?nb(r):(r instanceof IDBTransaction&&tb(r),$S(r,ZS())?new Proxy(r,jd):r)}function Cr(r){if(r instanceof IDBRequest)return JS(r);if(Od.has(r))return Od.get(r);const t=ib(r);return t!==r&&(Od.set(r,t),gm.set(t,r)),t}const Nd=r=>gm.get(r);function rb(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),p=Cr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Cr(f.result),g.oldVersion,g.newVersion,Cr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const sb=["get","getKey","getAll","getAllKeys","count"],ab=["put","add","delete","clear"],Vd=new Map;function xy(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Vd.get(t))return Vd.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=ab.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||sb.includes(n)))return;const u=async function(f,...p){const g=this.transaction(f,o?"readwrite":"readonly");let _=g.store;return s&&(_=_.index(p.shift())),(await Promise.all([_[n](...p),o&&g.done]))[0]};return Vd.set(t,u),u}eb(r=>({...r,get:(t,n,s)=>xy(t,n)||r.get(t,n,s),has:(t,n)=>!!xy(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lb(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function lb(r){const t=r.getComponent();return t?.type==="VERSION"}const qd="@firebase/app",ky="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=new pm("@firebase/app"),ub="@firebase/app-compat",cb="@firebase/analytics-compat",hb="@firebase/analytics",fb="@firebase/app-check-compat",db="@firebase/app-check",mb="@firebase/auth",pb="@firebase/auth-compat",gb="@firebase/database",_b="@firebase/data-connect",yb="@firebase/database-compat",vb="@firebase/functions",Eb="@firebase/functions-compat",Tb="@firebase/installations",Ab="@firebase/installations-compat",Sb="@firebase/messaging",bb="@firebase/messaging-compat",wb="@firebase/performance",Rb="@firebase/performance-compat",Ib="@firebase/remote-config",Cb="@firebase/remote-config-compat",Db="@firebase/storage",Ob="@firebase/storage-compat",Nb="@firebase/firestore",Vb="@firebase/ai",Mb="@firebase/firestore-compat",Pb="firebase",xb="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd="[DEFAULT]",kb={[qd]:"fire-core",[ub]:"fire-core-compat",[hb]:"fire-analytics",[cb]:"fire-analytics-compat",[db]:"fire-app-check",[fb]:"fire-app-check-compat",[mb]:"fire-auth",[pb]:"fire-auth-compat",[gb]:"fire-rtdb",[_b]:"fire-data-connect",[yb]:"fire-rtdb-compat",[vb]:"fire-fn",[Eb]:"fire-fn-compat",[Tb]:"fire-iid",[Ab]:"fire-iid-compat",[Sb]:"fire-fcm",[bb]:"fire-fcm-compat",[wb]:"fire-perf",[Rb]:"fire-perf-compat",[Ib]:"fire-rc",[Cb]:"fire-rc-compat",[Db]:"fire-gcs",[Ob]:"fire-gcs-compat",[Nb]:"fire-fst",[Mb]:"fire-fst-compat",[Vb]:"fire-vertex","fire-js":"fire-js",[Pb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=new Map,Ub=new Map,Fd=new Map;function Uy(r,t){try{r.container.addComponent(t)}catch(n){qi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ha(r){const t=r.name;if(Fd.has(t))return qi.debug(`There were multiple attempts to register component ${t}.`),!1;Fd.set(t,r);for(const n of Uc.values())Uy(n,r);for(const n of Ub.values())Uy(n,r);return!0}function _m(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Ln(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dr=new zl("app","Firebase",Lb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa=xb;function EE(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Hd,automaticDataCollectionEnabled:!0},t),o=s.name;if(typeof o!="string"||!o)throw Dr.create("bad-app-name",{appName:String(o)});if(n||(n=mE()),!n)throw Dr.create("no-options");const u=Uc.get(o);if(u){if(Vs(n,u.options)&&Vs(s,u.config))return u;throw Dr.create("duplicate-app",{appName:o})}const f=new GS(o);for(const g of Fd.values())f.addComponent(g);const p=new zb(n,s,f);return Uc.set(o,p),p}function TE(r=Hd){const t=Uc.get(r);if(!t&&r===Hd&&mE())return EE();if(!t)throw Dr.create("no-app",{appName:r});return t}function Or(r,t,n){var s;let o=(s=kb[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const p=[`Unable to register library "${o}" with version "${t}":`];u&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&p.push("and"),f&&p.push(`version name "${t}" contains illegal characters (whitespace or "/")`),qi.warn(p.join(" "));return}Ha(new Ms(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="firebase-heartbeat-database",jb=1,Dl="firebase-heartbeat-store";let Md=null;function AE(){return Md||(Md=rb(Bb,jb,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Dl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Dr.create("idb-open",{originalErrorMessage:r.message})})),Md}async function qb(r){try{const n=(await AE()).transaction(Dl),s=await n.objectStore(Dl).get(SE(r));return await n.done,s}catch(t){if(t instanceof Qi)qi.warn(t.message);else{const n=Dr.create("idb-get",{originalErrorMessage:t?.message});qi.warn(n.message)}}}async function Ly(r,t){try{const s=(await AE()).transaction(Dl,"readwrite");await s.objectStore(Dl).put(t,SE(r)),await s.done}catch(n){if(n instanceof Qi)qi.warn(n.message);else{const s=Dr.create("idb-set",{originalErrorMessage:n?.message});qi.warn(s.message)}}}function SE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb=1024,Fb=30;class Gb{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Kb(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=zy();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>Fb){const f=Yb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){qi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=zy(),{heartbeatsToSend:s,unsentEntries:o}=Qb(this._heartbeatsCache.heartbeats),u=kc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return qi.warn(n),""}}}function zy(){return new Date().toISOString().substring(0,10)}function Qb(r,t=Hb){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),By(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),By(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Kb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MS()?PS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qb(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ly(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ly(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function By(r){return kc(JSON.stringify({version:2,heartbeats:r})).length}function Yb(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(r){Ha(new Ms("platform-logger",t=>new ob(t),"PRIVATE")),Ha(new Ms("heartbeat",t=>new Gb(t),"PRIVATE")),Or(qd,ky,r),Or(qd,ky,"esm2017"),Or("fire-js","")}Xb("");function ym(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function bE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $b=bE,wE=new zl("auth","Firebase",bE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc=new pm("@firebase/auth");function Zb(r,...t){Lc.logLevel<=Ot.WARN&&Lc.warn(`Auth (${Wa}): ${r}`,...t)}function Rc(r,...t){Lc.logLevel<=Ot.ERROR&&Lc.error(`Auth (${Wa}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(r,...t){throw vm(r,...t)}function oi(r,...t){return vm(r,...t)}function RE(r,t,n){const s=Object.assign(Object.assign({},$b()),{[t]:n});return new zl("auth","Firebase",s).create(t,{appName:r.name})}function Nr(r){return RE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vm(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return wE.create(r,...t)}function pt(r,t,...n){if(!r)throw vm(t,...n)}function Bi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Rc(t),new Error(t)}function Hi(r,t){r||Bi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function Wb(){return jy()==="http:"||jy()==="https:"}function jy(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Wb()||DS()||"connection"in navigator)?navigator.onLine:!0}function t1(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(t,n){this.shortDelay=t,this.longDelay=n,Hi(n>t,"Short delay should be less than long delay!"),this.isMobile=RS()||OS()}get(){return Jb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(r,t){Hi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],i1=new jl(3e4,6e4);function Us(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function qr(r,t,n,s,o={}){return CE(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const p=Bl(Object.assign({key:r.config.apiKey},f)).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const _=Object.assign({method:t,headers:g},u);return CS()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&Za(r.emulatorConfig.host)&&(_.credentials="include"),IE.fetch()(await DE(r,r.config.apiHost,n,p),_)})}async function CE(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},e1),t);try{const o=new s1(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Ec(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[g,_]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ec(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Ec(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Ec(r,"user-disabled",f);const T=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw RE(r,T,_);jn(r,T)}}catch(o){if(o instanceof Qi)throw o;jn(r,"network-request-failed",{message:String(o)})}}async function ih(r,t,n,s,o={}){const u=await qr(r,t,n,s,o);return"mfaPendingCredential"in u&&jn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function DE(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?Em(r.config,o):`${r.config.apiScheme}://${o}`;return n1.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function r1(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class s1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(oi(this.auth,"network-request-failed")),i1.get())})}}function Ec(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=oi(r,t,s);return o.customData._tokenResponse=n,o}function qy(r){return r!==void 0&&r.enterprise!==void 0}class a1{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return r1(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function o1(r,t){return qr(r,"GET","/v2/recaptchaConfig",Us(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l1(r,t){return qr(r,"POST","/v1/accounts:delete",t)}async function zc(r,t){return qr(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function u1(r,t=!1){const n=Ie(r),s=await n.getIdToken(t),o=Tm(s);pt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:bl(Pd(o.auth_time)),issuedAtTime:bl(Pd(o.iat)),expirationTime:bl(Pd(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Pd(r){return Number(r)*1e3}function Tm(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Rc("JWT malformed, contained fewer than 3 sections"),null;try{const o=fE(n);return o?JSON.parse(o):(Rc("Failed to decode base64 JWT payload"),null)}catch(o){return Rc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Hy(r){const t=Tm(r);return pt(t,"internal-error"),pt(typeof t.exp<"u","internal-error"),pt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Qi&&c1(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function c1({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bl(this.lastLoginAt),this.creationTime=bl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bc(r){var t;const n=r.auth,s=await r.getIdToken(),o=await Ol(r,zc(n,{idToken:s}));pt(o?.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?OE(u.providerUserInfo):[],p=d1(r.providerData,f),g=r.isAnonymous,_=!(r.email&&u.passwordHash)&&!p?.length,T=g?_:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:p,metadata:new Qd(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(r,b)}async function f1(r){const t=Ie(r);await Bc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function d1(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function OE(r){return r.map(t=>{var{providerId:n}=t,s=ym(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m1(r,t){const n=await CE(r,{},async()=>{const s=Bl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await DE(r,o,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:s};return r.emulatorConfig&&Za(r.emulatorConfig.host)&&(g.credentials="include"),IE.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function p1(r,t){return qr(r,"POST","/v2/accounts:revokeToken",Us(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pt(t.idToken,"internal-error"),pt(typeof t.idToken<"u","internal-error"),pt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Hy(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){pt(t.length!==0,"internal-error");const n=Hy(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await m1(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new La;return s&&(pt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(pt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(pt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new La,this.toJSON())}_performRefresh(){return Bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(r,t){pt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class zn{constructor(t){var{uid:n,auth:s,stsTokenManager:o}=t,u=ym(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new h1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Qd(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const n=await Ol(this,this.stsTokenManager.getToken(this.auth,t));return pt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return u1(this,t)}reload(){return f1(this)}_assign(t){this!==t&&(pt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new zn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Bc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(Nr(this.auth));const t=await this.getIdToken();return await Ol(this,l1(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,o,u,f,p,g,_,T;const b=(s=n.displayName)!==null&&s!==void 0?s:void 0,C=(o=n.email)!==null&&o!==void 0?o:void 0,q=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,$=(f=n.photoURL)!==null&&f!==void 0?f:void 0,tt=(p=n.tenantId)!==null&&p!==void 0?p:void 0,Z=(g=n._redirectEventId)!==null&&g!==void 0?g:void 0,Tt=(_=n.createdAt)!==null&&_!==void 0?_:void 0,dt=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:ct,emailVerified:Vt,isAnonymous:vt,providerData:Mt,stsTokenManager:V}=n;pt(ct&&V,t,"internal-error");const S=La.fromJSON(this.name,V);pt(typeof ct=="string",t,"internal-error"),Ar(b,t.name),Ar(C,t.name),pt(typeof Vt=="boolean",t,"internal-error"),pt(typeof vt=="boolean",t,"internal-error"),Ar(q,t.name),Ar($,t.name),Ar(tt,t.name),Ar(Z,t.name),Ar(Tt,t.name),Ar(dt,t.name);const R=new zn({uid:ct,auth:t,email:C,emailVerified:Vt,displayName:b,isAnonymous:vt,photoURL:$,phoneNumber:q,tenantId:tt,stsTokenManager:S,createdAt:Tt,lastLoginAt:dt});return Mt&&Array.isArray(Mt)&&(R.providerData=Mt.map(N=>Object.assign({},N))),Z&&(R._redirectEventId=Z),R}static async _fromIdTokenResponse(t,n,s=!1){const o=new La;o.updateFromServerResponse(n);const u=new zn({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Bc(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];pt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?OE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,p=new La;p.updateFromIdToken(s);const g=new zn({uid:o.localId,auth:t,stsTokenManager:p,isAnonymous:f}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Qd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,_),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy=new Map;function ji(r){Hi(r instanceof Function,"Expected a class definition");let t=Fy.get(r);return t?(Hi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Fy.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}NE.type="NONE";const Gy=NE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(r,t,n){return`firebase:${r}:${t}:${n}`}class za{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Ic(this.userKey,o.apiKey,u),this.fullPersistenceKey=Ic("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await zc(this.auth,{idToken:t}).catch(()=>{});return n?zn._fromGetAccountInfoResponse(this.auth,n,t):null}return zn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new za(ji(Gy),t,s);const o=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=o[0]||ji(Gy);const f=Ic(s,t.config.apiKey,t.name);let p=null;for(const _ of n)try{const T=await _._get(f);if(T){let b;if(typeof T=="string"){const C=await zc(t,{idToken:T}).catch(()=>{});if(!C)break;b=await zn._fromGetAccountInfoResponse(t,C,T)}else b=zn._fromJSON(t,T);_!==u&&(p=b),u=_;break}}catch{}const g=o.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new za(u,t,s):(u=g[0],p&&await u._set(f,p.toJSON()),await Promise.all(n.map(async _=>{if(_!==u)try{await _._remove(f)}catch{}})),new za(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qy(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(xE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(VE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(UE(t))return"Blackberry";if(LE(t))return"Webos";if(ME(t))return"Safari";if((t.includes("chrome/")||PE(t))&&!t.includes("edge/"))return"Chrome";if(kE(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function VE(r=$e()){return/firefox\//i.test(r)}function ME(r=$e()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function PE(r=$e()){return/crios\//i.test(r)}function xE(r=$e()){return/iemobile/i.test(r)}function kE(r=$e()){return/android/i.test(r)}function UE(r=$e()){return/blackberry/i.test(r)}function LE(r=$e()){return/webos/i.test(r)}function Am(r=$e()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function g1(r=$e()){var t;return Am(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function _1(){return NS()&&document.documentMode===10}function zE(r=$e()){return Am(r)||kE(r)||LE(r)||UE(r)||/windows phone/i.test(r)||xE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(r,t=[]){let n;switch(r){case"Browser":n=Qy($e());break;case"Worker":n=`${Qy($e())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wa}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,p)=>{try{const g=t(u);f(g)}catch(g){p(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v1(r,t={}){return qr(r,"GET","/v2/passwordPolicy",Us(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1=6;class T1{constructor(t){var n,s,o,u;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:E1,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,o,u,f,p;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,g),this.validatePasswordCharacterOptions(t,g),g.isValid&&(g.isValid=(n=g.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(f=g.containsNumericCharacter)!==null&&f!==void 0?f:!0),g.isValid&&(g.isValid=(p=g.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),g}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ky(this),this.idTokenSubscription=new Ky(this),this.beforeStateQueue=new y1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ji(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await za.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await zc(this,{idToken:t}),s=await zn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Ln(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(p,p))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,p=o?._redirectEventId,g=await this.tryRedirectSignIn(t);(!f||f===p)&&g?.user&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Bc(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=t1()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ln(this.app))return Promise.reject(Nr(this));const n=t?Ie(t):null;return n&&pt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&pt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(Nr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ln(this.app)?Promise.reject(Nr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ji(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await v1(this),n=new T1(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new zl("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await p1(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ji(t)||this._popupRedirectResolver;pt(n,this,"argument-error"),this.redirectPersistenceManager=await za.create(this,[ji(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=t.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=t.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=BE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n?.error&&Zb(`Error while retrieving App Check token: ${n.error}`),n?.token}}function Ja(r){return Ie(r)}class Ky{constructor(t){this.auth=t,this.observer=null,this.addObserver=zS(n=>this.observer=n)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function S1(r){rh=r}function jE(r){return rh.loadJS(r)}function b1(){return rh.recaptchaEnterpriseScript}function w1(){return rh.gapiScript}function R1(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class I1{constructor(){this.enterprise=new C1}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class C1{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const D1="recaptcha-enterprise",qE="NO_RECAPTCHA";class O1{constructor(t){this.type=D1,this.auth=Ja(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,p)=>{o1(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const _=new a1(g);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,f(_.siteKey)}}).catch(g=>{p(g)})})}function o(u,f,p){const g=window.grecaptcha;qy(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:t}).then(_=>{f(_)}).catch(()=>{f(qE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new I1().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(p=>{if(!n&&qy(window.grecaptcha))o(p,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=b1();g.length!==0&&(g+=p),jE(g).then(()=>{o(p,u,f)}).catch(_=>{f(_)})}}).catch(p=>{f(p)})})}}async function Yy(r,t,n,s=!1,o=!1){const u=new O1(r);let f;if(o)f=qE;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const p=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,_=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:_,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:f}):Object.assign(p,{captchaResponse:f}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Xy(r,t,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Yy(r,t,n,n==="getOobCode");return s(r,f)}else return s(r,t).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await Yy(r,t,n,n==="getOobCode");return s(r,p)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(r,t){const n=_m(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Vs(u,t??{}))return o;jn(o,"already-initialized")}return n.initialize({options:t})}function V1(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ji);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function M1(r,t,n){const s=Ja(r);pt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=HE(t),{host:f,port:p}=P1(t),g=p===null?"":`:${p}`,_={url:`${u}//${f}${g}/`},T=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){pt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),pt(Vs(_,s.config.emulator)&&Vs(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,Za(f)?(gE(`${u}//${f}${g}`),_E("Auth",!0)):x1()}function HE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function P1(r){const t=HE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:$y(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:$y(f)}}}function $y(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function x1(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Bi("not implemented")}_getIdTokenResponse(t){return Bi("not implemented")}_linkToIdToken(t,n){return Bi("not implemented")}_getReauthenticationResolver(t){return Bi("not implemented")}}async function k1(r,t){return qr(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U1(r,t){return ih(r,"POST","/v1/accounts:signInWithPassword",Us(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L1(r,t){return ih(r,"POST","/v1/accounts:signInWithEmailLink",Us(r,t))}async function z1(r,t){return ih(r,"POST","/v1/accounts:signInWithEmailLink",Us(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl extends Sm{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new Nl(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Nl(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xy(t,n,"signInWithPassword",U1);case"emailLink":return L1(t,{email:this._email,oobCode:this._password});default:jn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xy(t,s,"signUpPassword",k1);case"emailLink":return z1(t,{idToken:n,email:this._email,oobCode:this._password});default:jn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ba(r,t){return ih(r,"POST","/v1/accounts:signInWithIdp",Us(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="http://localhost";class Ps extends Sm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ps(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):jn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=n,u=ym(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Ps(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return Ba(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Ba(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ba(t,n)}buildRequest(){const t={requestUri:B1,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Bl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function q1(r){const t=_l(yl(r)).link,n=t?_l(yl(t)).deep_link_id:null,s=_l(yl(r)).deep_link_id;return(s?_l(yl(s)).link:null)||s||n||t||r}class bm{constructor(t){var n,s,o,u,f,p;const g=_l(yl(t)),_=(n=g.apiKey)!==null&&n!==void 0?n:null,T=(s=g.oobCode)!==null&&s!==void 0?s:null,b=j1((o=g.mode)!==null&&o!==void 0?o:null);pt(_&&T&&b,"argument-error"),this.apiKey=_,this.operation=b,this.code=T,this.continueUrl=(u=g.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=g.lang)!==null&&f!==void 0?f:null,this.tenantId=(p=g.tenantId)!==null&&p!==void 0?p:null}static parseLink(t){const n=q1(t);try{return new bm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(){this.providerId=to.PROVIDER_ID}static credential(t,n){return Nl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=bm.parseLink(n);return pt(s,"argument-error"),Nl._fromEmailAndCode(t,s.code,s.tenantId)}}to.PROVIDER_ID="password";to.EMAIL_PASSWORD_SIGN_IN_METHOD="password";to.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql extends FE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends ql{constructor(){super("facebook.com")}static credential(t){return Ps._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Sr.credentialFromTaggedObject(t)}static credentialFromError(t){return Sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Sr.credential(t.oauthAccessToken)}catch{return null}}}Sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Sr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends ql{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ps._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return br.credentialFromTaggedObject(t)}static credentialFromError(t){return br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return br.credential(n,s)}catch{return null}}}br.GOOGLE_SIGN_IN_METHOD="google.com";br.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends ql{constructor(){super("github.com")}static credential(t){return Ps._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return wr.credentialFromTaggedObject(t)}static credentialFromError(t){return wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return wr.credential(t.oauthAccessToken)}catch{return null}}}wr.GITHUB_SIGN_IN_METHOD="github.com";wr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends ql{constructor(){super("twitter.com")}static credential(t,n){return Ps._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Rr.credentialFromTaggedObject(t)}static credentialFromError(t){return Rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Rr.credential(n,s)}catch{return null}}}Rr.TWITTER_SIGN_IN_METHOD="twitter.com";Rr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await zn._fromIdTokenResponse(t,s,o),f=Zy(s);return new Fa({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=Zy(s);return new Fa({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function Zy(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc extends Qi{constructor(t,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,jc.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new jc(t,n,s,o)}}function GE(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?jc._fromErrorAndOperation(r,u,t,s):u})}async function H1(r,t,n=!1){const s=await Ol(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Fa._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F1(r,t,n=!1){const{auth:s}=r;if(Ln(s.app))return Promise.reject(Nr(s));const o="reauthenticate";try{const u=await Ol(r,GE(s,o,t,r),n);pt(u.idToken,s,"internal-error");const f=Tm(u.idToken);pt(f,s,"internal-error");const{sub:p}=f;return pt(r.uid===p,s,"user-mismatch"),Fa._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&jn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QE(r,t,n=!1){if(Ln(r.app))return Promise.reject(Nr(r));const s="signIn",o=await GE(r,s,t),u=await Fa._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function G1(r,t){return QE(Ja(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q1(r){const t=Ja(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function K1(r,t,n){return Ln(r.app)?Promise.reject(Nr(r)):G1(Ie(r),to.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Q1(r),s})}function Y1(r,t,n,s){return Ie(r).onIdTokenChanged(t,n,s)}function X1(r,t,n){return Ie(r).beforeAuthStateChanged(t,n)}function $1(r,t,n,s){return Ie(r).onAuthStateChanged(t,n,s)}function Z1(r){return Ie(r).signOut()}const qc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qc,"1"),this.storage.removeItem(qc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1=1e3,J1=10;class YE extends KE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,p,g)=>{this.notifyListeners(f,g)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);_1()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,J1):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},W1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}YE.type="LOCAL";const tw=YE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE extends KE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}XE.type="SESSION";const $E=XE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new sh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(f).map(async _=>_(n.origin,u)),g=await ew(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((p,g)=>{const _=wm("",20);o.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const C=b;if(C.data.eventId===_)switch(C.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(C.data.response);break;default:clearTimeout(T),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:_,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(){return window}function iw(r){li().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(){return typeof li().WorkerGlobalScope<"u"&&typeof li().importScripts=="function"}async function rw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sw(){var r;return((r=navigator?.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function aw(){return ZE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="firebaseLocalStorageDb",ow=1,Hc="firebaseLocalStorage",JE="fbase_key";class Hl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ah(r,t){return r.transaction([Hc],t?"readwrite":"readonly").objectStore(Hc)}function lw(){const r=indexedDB.deleteDatabase(WE);return new Hl(r).toPromise()}function Kd(){const r=indexedDB.open(WE,ow);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Hc,{keyPath:JE})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Hc)?t(s):(s.close(),await lw(),t(await Kd()))})})}async function Wy(r,t,n){const s=ah(r,!0).put({[JE]:t,value:n});return new Hl(s).toPromise()}async function uw(r,t){const n=ah(r,!1).get(t),s=await new Hl(n).toPromise();return s===void 0?null:s.value}function Jy(r,t){const n=ah(r,!0).delete(t);return new Hl(n).toPromise()}const cw=800,hw=3;class tT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kd(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>hw)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sh._getInstance(aw()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await rw(),!this.activeServiceWorker)return;this.sender=new nw(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||sw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Kd();return await Wy(t,qc,"1"),await Jy(t,qc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Wy(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>uw(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Jy(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=ah(o,!1).getAll();return new Hl(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tT.type="LOCAL";const fw=tT;new jl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(r,t){return t?ji(t):(pt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm extends Sm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ba(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ba(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ba(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function mw(r){return QE(r.auth,new Rm(r),r.bypassAuthState)}function pw(r){const{auth:t,user:n}=r;return pt(n,t,"internal-error"),F1(n,new Rm(r),r.bypassAuthState)}async function gw(r){const{auth:t,user:n}=r;return pt(n,t,"internal-error"),H1(n,new Rm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:p}=t;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return mw;case"linkViaPopup":case"linkViaRedirect":return gw;case"reauthViaPopup":case"reauthViaRedirect":return pw;default:jn(this.auth,"internal-error")}}resolve(t){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w=new jl(2e3,1e4);class Ua extends eT{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ua.currentPopupAction&&Ua.currentPopupAction.cancel(),Ua.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pt(t,this.auth,"internal-error"),t}async onExecution(){Hi(this.filter.length===1,"Popup operations only handle one event");const t=wm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ua.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,_w.get())};t()}}Ua.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="pendingRedirect",Cc=new Map;class vw extends eT{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Cc.get(this.auth._key());if(!t){try{const s=await Ew(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Cc.set(this.auth._key(),t)}return this.bypassAuthState||Cc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ew(r,t){const n=Sw(t),s=Aw(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function Tw(r,t){Cc.set(r._key(),t)}function Aw(r){return ji(r._redirectPersistence)}function Sw(r){return Ic(yw,r.config.apiKey,r.name)}async function bw(r,t,n=!1){if(Ln(r.app))return Promise.reject(Nr(r));const s=Ja(r),o=dw(s,t),f=await new vw(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww=10*60*1e3;class Rw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Iw(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!nT(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(oi(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=ww&&this.cachedEventUids.clear(),this.cachedEventUids.has(tv(t))}saveEventToCache(t){this.cachedEventUids.add(tv(t)),this.lastProcessedEventTime=Date.now()}}function tv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function nT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function Iw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cw(r,t={}){return qr(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ow=/^https?/;async function Nw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await Cw(r);for(const n of t)try{if(Vw(n))return}catch{}jn(r,"unauthorized-domain")}function Vw(r){const t=Gd(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!Ow.test(n))return!1;if(Dw.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw=new jl(3e4,6e4);function ev(){const r=li().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function Pw(r){return new Promise((t,n)=>{var s,o,u;function f(){ev(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ev(),n(oi(r,"network-request-failed"))},timeout:Mw.get()})}if(!((o=(s=li().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=li().gapi)===null||u===void 0)&&u.load)f();else{const p=R1("iframefcb");return li()[p]=()=>{gapi.load?f():n(oi(r,"network-request-failed"))},jE(`${w1()}?onload=${p}`).catch(g=>n(g))}}).catch(t=>{throw Dc=null,t})}let Dc=null;function xw(r){return Dc=Dc||Pw(r),Dc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=new jl(5e3,15e3),Uw="__/auth/iframe",Lw="emulator/auth/iframe",zw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Bw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jw(r){const t=r.config;pt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Em(t,Lw):`https://${r.config.authDomain}/${Uw}`,s={apiKey:t.apiKey,appName:r.name,v:Wa},o=Bw.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Bl(s).slice(1)}`}async function qw(r){const t=await xw(r),n=li().gapi;return pt(n,r,"internal-error"),t.open({where:document.body,url:jw(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zw,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=oi(r,"network-request-failed"),p=li().setTimeout(()=>{u(f)},kw.get());function g(){li().clearTimeout(p),o(s)}s.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Fw=500,Gw=600,Qw="_blank",Kw="http://localhost";class nv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Yw(r,t,n,s=Fw,o=Gw){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const g=Object.assign(Object.assign({},Hw),{width:s.toString(),height:o.toString(),top:u,left:f}),_=$e().toLowerCase();n&&(p=PE(_)?Qw:n),VE(_)&&(t=t||Kw,g.scrollbars="yes");const T=Object.entries(g).reduce((C,[q,$])=>`${C}${q}=${$},`,"");if(g1(_)&&p!=="_self")return Xw(t||"",p),new nv(null);const b=window.open(t||"",p,T);pt(b,r,"popup-blocked");try{b.focus()}catch{}return new nv(b)}function Xw(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="__/auth/handler",Zw="emulator/auth/handler",Ww=encodeURIComponent("fac");async function iv(r,t,n,s,o,u){pt(r.config.authDomain,r,"auth-domain-config-required"),pt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Wa,eventId:o};if(t instanceof FE){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",LS(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,b]of Object.entries({}))f[T]=b}if(t instanceof ql){const T=t.getScopes().filter(b=>b!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const p=f;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const g=await r._getAppCheckToken(),_=g?`#${Ww}=${encodeURIComponent(g)}`:"";return`${Jw(r)}?${Bl(p).slice(1)}${_}`}function Jw({config:r}){return r.emulator?Em(r,Zw):`https://${r.authDomain}/${$w}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd="webStorageSupport";class tR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$E,this._completeRedirectFn=bw,this._overrideRedirectResult=Tw}async _openPopup(t,n,s,o){var u;Hi((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await iv(t,n,s,Gd(),o);return Yw(t,f,wm())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await iv(t,n,s,Gd(),o);return iw(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Hi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await qw(t),s=new Rw(t);return n.register("authEvent",o=>(pt(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(xd,{type:xd},o=>{var u;const f=(u=o?.[0])===null||u===void 0?void 0:u[xd];f!==void 0&&n(!!f),jn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Nw(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return zE()||ME()||Am()}}const eR=tR;var rv="@firebase/auth",sv="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rR(r){Ha(new Ms("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=s.options;pt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BE(r)},_=new A1(s,o,u,g);return V1(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Ha(new Ms("auth-internal",t=>{const n=Ja(t.getProvider("auth").getImmediate());return(s=>new nR(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Or(rv,sv,iR(r)),Or(rv,sv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=5*60,aR=pE("authIdTokenMaxAge")||sR;let av=null;const oR=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>aR)return;const o=n?.token;av!==o&&(av=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function lR(r=TE()){const t=_m(r,"auth");if(t.isInitialized())return t.getImmediate();const n=N1(r,{popupRedirectResolver:eR,persistence:[fw,tw,$E]}),s=pE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=oR(u.toString());X1(n,f,()=>f(n.currentUser)),Y1(n,p=>f(p))}}const o=dE("auth");return o&&M1(n,`http://${o}`),n}function uR(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}S1({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=oi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",uR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rR("Browser");var cR="firebase",hR="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Or(cR,hR,"app");var ov=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vr,iT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,S){function R(){}R.prototype=S.prototype,V.D=S.prototype,V.prototype=new R,V.prototype.constructor=V,V.C=function(N,M,x){for(var I=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)I[xe-2]=arguments[xe];return S.prototype[M].apply(N,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,S,R){R||(R=0);var N=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)N[M]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(M=0;16>M;++M)N[M]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=V.g[0],R=V.g[1],M=V.g[2];var x=V.g[3],I=S+(x^R&(M^x))+N[0]+3614090360&4294967295;S=R+(I<<7&4294967295|I>>>25),I=x+(M^S&(R^M))+N[1]+3905402710&4294967295,x=S+(I<<12&4294967295|I>>>20),I=M+(R^x&(S^R))+N[2]+606105819&4294967295,M=x+(I<<17&4294967295|I>>>15),I=R+(S^M&(x^S))+N[3]+3250441966&4294967295,R=M+(I<<22&4294967295|I>>>10),I=S+(x^R&(M^x))+N[4]+4118548399&4294967295,S=R+(I<<7&4294967295|I>>>25),I=x+(M^S&(R^M))+N[5]+1200080426&4294967295,x=S+(I<<12&4294967295|I>>>20),I=M+(R^x&(S^R))+N[6]+2821735955&4294967295,M=x+(I<<17&4294967295|I>>>15),I=R+(S^M&(x^S))+N[7]+4249261313&4294967295,R=M+(I<<22&4294967295|I>>>10),I=S+(x^R&(M^x))+N[8]+1770035416&4294967295,S=R+(I<<7&4294967295|I>>>25),I=x+(M^S&(R^M))+N[9]+2336552879&4294967295,x=S+(I<<12&4294967295|I>>>20),I=M+(R^x&(S^R))+N[10]+4294925233&4294967295,M=x+(I<<17&4294967295|I>>>15),I=R+(S^M&(x^S))+N[11]+2304563134&4294967295,R=M+(I<<22&4294967295|I>>>10),I=S+(x^R&(M^x))+N[12]+1804603682&4294967295,S=R+(I<<7&4294967295|I>>>25),I=x+(M^S&(R^M))+N[13]+4254626195&4294967295,x=S+(I<<12&4294967295|I>>>20),I=M+(R^x&(S^R))+N[14]+2792965006&4294967295,M=x+(I<<17&4294967295|I>>>15),I=R+(S^M&(x^S))+N[15]+1236535329&4294967295,R=M+(I<<22&4294967295|I>>>10),I=S+(M^x&(R^M))+N[1]+4129170786&4294967295,S=R+(I<<5&4294967295|I>>>27),I=x+(R^M&(S^R))+N[6]+3225465664&4294967295,x=S+(I<<9&4294967295|I>>>23),I=M+(S^R&(x^S))+N[11]+643717713&4294967295,M=x+(I<<14&4294967295|I>>>18),I=R+(x^S&(M^x))+N[0]+3921069994&4294967295,R=M+(I<<20&4294967295|I>>>12),I=S+(M^x&(R^M))+N[5]+3593408605&4294967295,S=R+(I<<5&4294967295|I>>>27),I=x+(R^M&(S^R))+N[10]+38016083&4294967295,x=S+(I<<9&4294967295|I>>>23),I=M+(S^R&(x^S))+N[15]+3634488961&4294967295,M=x+(I<<14&4294967295|I>>>18),I=R+(x^S&(M^x))+N[4]+3889429448&4294967295,R=M+(I<<20&4294967295|I>>>12),I=S+(M^x&(R^M))+N[9]+568446438&4294967295,S=R+(I<<5&4294967295|I>>>27),I=x+(R^M&(S^R))+N[14]+3275163606&4294967295,x=S+(I<<9&4294967295|I>>>23),I=M+(S^R&(x^S))+N[3]+4107603335&4294967295,M=x+(I<<14&4294967295|I>>>18),I=R+(x^S&(M^x))+N[8]+1163531501&4294967295,R=M+(I<<20&4294967295|I>>>12),I=S+(M^x&(R^M))+N[13]+2850285829&4294967295,S=R+(I<<5&4294967295|I>>>27),I=x+(R^M&(S^R))+N[2]+4243563512&4294967295,x=S+(I<<9&4294967295|I>>>23),I=M+(S^R&(x^S))+N[7]+1735328473&4294967295,M=x+(I<<14&4294967295|I>>>18),I=R+(x^S&(M^x))+N[12]+2368359562&4294967295,R=M+(I<<20&4294967295|I>>>12),I=S+(R^M^x)+N[5]+4294588738&4294967295,S=R+(I<<4&4294967295|I>>>28),I=x+(S^R^M)+N[8]+2272392833&4294967295,x=S+(I<<11&4294967295|I>>>21),I=M+(x^S^R)+N[11]+1839030562&4294967295,M=x+(I<<16&4294967295|I>>>16),I=R+(M^x^S)+N[14]+4259657740&4294967295,R=M+(I<<23&4294967295|I>>>9),I=S+(R^M^x)+N[1]+2763975236&4294967295,S=R+(I<<4&4294967295|I>>>28),I=x+(S^R^M)+N[4]+1272893353&4294967295,x=S+(I<<11&4294967295|I>>>21),I=M+(x^S^R)+N[7]+4139469664&4294967295,M=x+(I<<16&4294967295|I>>>16),I=R+(M^x^S)+N[10]+3200236656&4294967295,R=M+(I<<23&4294967295|I>>>9),I=S+(R^M^x)+N[13]+681279174&4294967295,S=R+(I<<4&4294967295|I>>>28),I=x+(S^R^M)+N[0]+3936430074&4294967295,x=S+(I<<11&4294967295|I>>>21),I=M+(x^S^R)+N[3]+3572445317&4294967295,M=x+(I<<16&4294967295|I>>>16),I=R+(M^x^S)+N[6]+76029189&4294967295,R=M+(I<<23&4294967295|I>>>9),I=S+(R^M^x)+N[9]+3654602809&4294967295,S=R+(I<<4&4294967295|I>>>28),I=x+(S^R^M)+N[12]+3873151461&4294967295,x=S+(I<<11&4294967295|I>>>21),I=M+(x^S^R)+N[15]+530742520&4294967295,M=x+(I<<16&4294967295|I>>>16),I=R+(M^x^S)+N[2]+3299628645&4294967295,R=M+(I<<23&4294967295|I>>>9),I=S+(M^(R|~x))+N[0]+4096336452&4294967295,S=R+(I<<6&4294967295|I>>>26),I=x+(R^(S|~M))+N[7]+1126891415&4294967295,x=S+(I<<10&4294967295|I>>>22),I=M+(S^(x|~R))+N[14]+2878612391&4294967295,M=x+(I<<15&4294967295|I>>>17),I=R+(x^(M|~S))+N[5]+4237533241&4294967295,R=M+(I<<21&4294967295|I>>>11),I=S+(M^(R|~x))+N[12]+1700485571&4294967295,S=R+(I<<6&4294967295|I>>>26),I=x+(R^(S|~M))+N[3]+2399980690&4294967295,x=S+(I<<10&4294967295|I>>>22),I=M+(S^(x|~R))+N[10]+4293915773&4294967295,M=x+(I<<15&4294967295|I>>>17),I=R+(x^(M|~S))+N[1]+2240044497&4294967295,R=M+(I<<21&4294967295|I>>>11),I=S+(M^(R|~x))+N[8]+1873313359&4294967295,S=R+(I<<6&4294967295|I>>>26),I=x+(R^(S|~M))+N[15]+4264355552&4294967295,x=S+(I<<10&4294967295|I>>>22),I=M+(S^(x|~R))+N[6]+2734768916&4294967295,M=x+(I<<15&4294967295|I>>>17),I=R+(x^(M|~S))+N[13]+1309151649&4294967295,R=M+(I<<21&4294967295|I>>>11),I=S+(M^(R|~x))+N[4]+4149444226&4294967295,S=R+(I<<6&4294967295|I>>>26),I=x+(R^(S|~M))+N[11]+3174756917&4294967295,x=S+(I<<10&4294967295|I>>>22),I=M+(S^(x|~R))+N[2]+718787259&4294967295,M=x+(I<<15&4294967295|I>>>17),I=R+(x^(M|~S))+N[9]+3951481745&4294967295,V.g[0]=V.g[0]+S&4294967295,V.g[1]=V.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,V.g[2]=V.g[2]+M&4294967295,V.g[3]=V.g[3]+x&4294967295}s.prototype.u=function(V,S){S===void 0&&(S=V.length);for(var R=S-this.blockSize,N=this.B,M=this.h,x=0;x<S;){if(M==0)for(;x<=R;)o(this,V,x),x+=this.blockSize;if(typeof V=="string"){for(;x<S;)if(N[M++]=V.charCodeAt(x++),M==this.blockSize){o(this,N),M=0;break}}else for(;x<S;)if(N[M++]=V[x++],M==this.blockSize){o(this,N),M=0;break}}this.h=M,this.o+=S},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var S=1;S<V.length-8;++S)V[S]=0;var R=8*this.o;for(S=V.length-8;S<V.length;++S)V[S]=R&255,R/=256;for(this.u(V),V=Array(16),S=R=0;4>S;++S)for(var N=0;32>N;N+=8)V[R++]=this.g[S]>>>N&255;return V};function u(V,S){var R=p;return Object.prototype.hasOwnProperty.call(R,V)?R[V]:R[V]=S(V)}function f(V,S){this.h=S;for(var R=[],N=!0,M=V.length-1;0<=M;M--){var x=V[M]|0;N&&x==S||(R[M]=x,N=!1)}this.g=R}var p={};function g(V){return-128<=V&&128>V?u(V,function(S){return new f([S|0],0>S?-1:0)}):new f([V|0],0>V?-1:0)}function _(V){if(isNaN(V)||!isFinite(V))return b;if(0>V)return Z(_(-V));for(var S=[],R=1,N=0;V>=R;N++)S[N]=V/R|0,R*=4294967296;return new f(S,0)}function T(V,S){if(V.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(V.charAt(0)=="-")return Z(T(V.substring(1),S));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=_(Math.pow(S,8)),N=b,M=0;M<V.length;M+=8){var x=Math.min(8,V.length-M),I=parseInt(V.substring(M,M+x),S);8>x?(x=_(Math.pow(S,x)),N=N.j(x).add(_(I))):(N=N.j(R),N=N.add(_(I)))}return N}var b=g(0),C=g(1),q=g(16777216);r=f.prototype,r.m=function(){if(tt(this))return-Z(this).m();for(var V=0,S=1,R=0;R<this.g.length;R++){var N=this.i(R);V+=(0<=N?N:4294967296+N)*S,S*=4294967296}return V},r.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if($(this))return"0";if(tt(this))return"-"+Z(this).toString(V);for(var S=_(Math.pow(V,6)),R=this,N="";;){var M=Vt(R,S).g;R=Tt(R,M.j(S));var x=((0<R.g.length?R.g[0]:R.h)>>>0).toString(V);if(R=M,$(R))return x+N;for(;6>x.length;)x="0"+x;N=x+N}},r.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function $(V){if(V.h!=0)return!1;for(var S=0;S<V.g.length;S++)if(V.g[S]!=0)return!1;return!0}function tt(V){return V.h==-1}r.l=function(V){return V=Tt(this,V),tt(V)?-1:$(V)?0:1};function Z(V){for(var S=V.g.length,R=[],N=0;N<S;N++)R[N]=~V.g[N];return new f(R,~V.h).add(C)}r.abs=function(){return tt(this)?Z(this):this},r.add=function(V){for(var S=Math.max(this.g.length,V.g.length),R=[],N=0,M=0;M<=S;M++){var x=N+(this.i(M)&65535)+(V.i(M)&65535),I=(x>>>16)+(this.i(M)>>>16)+(V.i(M)>>>16);N=I>>>16,x&=65535,I&=65535,R[M]=I<<16|x}return new f(R,R[R.length-1]&-2147483648?-1:0)};function Tt(V,S){return V.add(Z(S))}r.j=function(V){if($(this)||$(V))return b;if(tt(this))return tt(V)?Z(this).j(Z(V)):Z(Z(this).j(V));if(tt(V))return Z(this.j(Z(V)));if(0>this.l(q)&&0>V.l(q))return _(this.m()*V.m());for(var S=this.g.length+V.g.length,R=[],N=0;N<2*S;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<V.g.length;M++){var x=this.i(N)>>>16,I=this.i(N)&65535,xe=V.i(M)>>>16,se=V.i(M)&65535;R[2*N+2*M]+=I*se,dt(R,2*N+2*M),R[2*N+2*M+1]+=x*se,dt(R,2*N+2*M+1),R[2*N+2*M+1]+=I*xe,dt(R,2*N+2*M+1),R[2*N+2*M+2]+=x*xe,dt(R,2*N+2*M+2)}for(N=0;N<S;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=S;N<2*S;N++)R[N]=0;return new f(R,0)};function dt(V,S){for(;(V[S]&65535)!=V[S];)V[S+1]+=V[S]>>>16,V[S]&=65535,S++}function ct(V,S){this.g=V,this.h=S}function Vt(V,S){if($(S))throw Error("division by zero");if($(V))return new ct(b,b);if(tt(V))return S=Vt(Z(V),S),new ct(Z(S.g),Z(S.h));if(tt(S))return S=Vt(V,Z(S)),new ct(Z(S.g),S.h);if(30<V.g.length){if(tt(V)||tt(S))throw Error("slowDivide_ only works with positive integers.");for(var R=C,N=S;0>=N.l(V);)R=vt(R),N=vt(N);var M=Mt(R,1),x=Mt(N,1);for(N=Mt(N,2),R=Mt(R,2);!$(N);){var I=x.add(N);0>=I.l(V)&&(M=M.add(R),x=I),N=Mt(N,1),R=Mt(R,1)}return S=Tt(V,M.j(S)),new ct(M,S)}for(M=b;0<=V.l(S);){for(R=Math.max(1,Math.floor(V.m()/S.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),x=_(R),I=x.j(S);tt(I)||0<I.l(V);)R-=N,x=_(R),I=x.j(S);$(x)&&(x=C),M=M.add(x),V=Tt(V,I)}return new ct(M,V)}r.A=function(V){return Vt(this,V).h},r.and=function(V){for(var S=Math.max(this.g.length,V.g.length),R=[],N=0;N<S;N++)R[N]=this.i(N)&V.i(N);return new f(R,this.h&V.h)},r.or=function(V){for(var S=Math.max(this.g.length,V.g.length),R=[],N=0;N<S;N++)R[N]=this.i(N)|V.i(N);return new f(R,this.h|V.h)},r.xor=function(V){for(var S=Math.max(this.g.length,V.g.length),R=[],N=0;N<S;N++)R[N]=this.i(N)^V.i(N);return new f(R,this.h^V.h)};function vt(V){for(var S=V.g.length+1,R=[],N=0;N<S;N++)R[N]=V.i(N)<<1|V.i(N-1)>>>31;return new f(R,V.h)}function Mt(V,S){var R=S>>5;S%=32;for(var N=V.g.length-R,M=[],x=0;x<N;x++)M[x]=0<S?V.i(x+R)>>>S|V.i(x+R+1)<<32-S:V.i(x+R);return new f(M,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,iT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=T,Vr=f}).apply(typeof ov<"u"?ov:typeof self<"u"?self:typeof window<"u"?window:{});var Tc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rT,vl,sT,Oc,Yd,aT,oT,lT;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,y){return c==Array.prototype||c==Object.prototype||(c[m]=y.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tc=="object"&&Tc];for(var m=0;m<c.length;++m){var y=c[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function o(c,m){if(m)t:{var y=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var k=c[A];if(!(k in y))break t;y=y[k]}c=c[c.length-1],A=y[c],m=m(A),m!=A&&m!=null&&t(y,c,{configurable:!0,writable:!0,value:m})}}function u(c,m){c instanceof String&&(c+="");var y=0,A=!1,k={next:function(){if(!A&&y<c.length){var j=y++;return{value:m(j,c[j]),done:!1}}return A=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}o("Array.prototype.values",function(c){return c||function(){return u(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},p=this||self;function g(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function _(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function T(c,m,y){return c.call.apply(c.bind,arguments)}function b(c,m,y){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,A),c.apply(m,k)}}return function(){return c.apply(m,arguments)}}function C(c,m,y){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:b,C.apply(null,arguments)}function q(c,m){var y=Array.prototype.slice.call(arguments,1);return function(){var A=y.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function $(c,m){function y(){}y.prototype=m.prototype,c.aa=m.prototype,c.prototype=new y,c.prototype.constructor=c,c.Qb=function(A,k,j){for(var J=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)J[Pt-2]=arguments[Pt];return m.prototype[k].apply(A,J)}}function tt(c){const m=c.length;if(0<m){const y=Array(m);for(let A=0;A<m;A++)y[A]=c[A];return y}return[]}function Z(c,m){for(let y=1;y<arguments.length;y++){const A=arguments[y];if(g(A)){const k=c.length||0,j=A.length||0;c.length=k+j;for(let J=0;J<j;J++)c[k+J]=A[J]}else c.push(A)}}class Tt{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function dt(c){return/^[\s\xa0]*$/.test(c)}function ct(){var c=p.navigator;return c&&(c=c.userAgent)?c:""}function Vt(c){return Vt[" "](c),c}Vt[" "]=function(){};var vt=ct().indexOf("Gecko")!=-1&&!(ct().toLowerCase().indexOf("webkit")!=-1&&ct().indexOf("Edge")==-1)&&!(ct().indexOf("Trident")!=-1||ct().indexOf("MSIE")!=-1)&&ct().indexOf("Edge")==-1;function Mt(c,m,y){for(const A in c)m.call(y,c[A],A,c)}function V(c,m){for(const y in c)m.call(void 0,c[y],y,c)}function S(c){const m={};for(const y in c)m[y]=c[y];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,m){let y,A;for(let k=1;k<arguments.length;k++){A=arguments[k];for(y in A)c[y]=A[y];for(let j=0;j<R.length;j++)y=R[j],Object.prototype.hasOwnProperty.call(A,y)&&(c[y]=A[y])}}function M(c){var m=1;c=c.split(":");const y=[];for(;0<m&&c.length;)y.push(c.shift()),m--;return c.length&&y.push(c.join(":")),y}function x(c){p.setTimeout(()=>{throw c},0)}function I(){var c=zt;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class xe{constructor(){this.h=this.g=null}add(m,y){const A=se.get();A.set(m,y),this.h?this.h.next=A:this.g=A,this.h=A}}var se=new Tt(()=>new H,c=>c.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let et,lt=!1,zt=new xe,D=()=>{const c=p.Promise.resolve(void 0);et=()=>{c.then(X)}};var X=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(y){x(y)}var m=se;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}lt=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var ht=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const y=()=>{};p.addEventListener("test",y,m),p.removeEventListener("test",y,m)}catch{}return c}();function Rt(c,m){if(W.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var y=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(vt){t:{try{Vt(m.nodeName);var k=!0;break t}catch{}k=!1}k||(m=null)}}else y=="mouseover"?m=c.fromElement:y=="mouseout"&&(m=c.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:yt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Rt.aa.h.call(this)}}$(Rt,W);var yt={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function Hn(c,m,y,A,k){this.listener=c,this.proxy=null,this.src=m,this.type=y,this.capture=!!A,this.ha=k,this.key=++Zt,this.da=this.fa=!1}function Ki(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function mi(c){this.src=c,this.g={},this.h=0}mi.prototype.add=function(c,m,y,A,k){var j=c.toString();c=this.g[j],c||(c=this.g[j]=[],this.h++);var J=Qr(c,m,A,k);return-1<J?(m=c[J],y||(m.fa=!1)):(m=new Hn(m,this.src,j,!!A,k),m.fa=y,c.push(m)),m};function Gr(c,m){var y=m.type;if(y in c.g){var A=c.g[y],k=Array.prototype.indexOf.call(A,m,void 0),j;(j=0<=k)&&Array.prototype.splice.call(A,k,1),j&&(Ki(m),c.g[y].length==0&&(delete c.g[y],c.h--))}}function Qr(c,m,y,A){for(var k=0;k<c.length;++k){var j=c[k];if(!j.da&&j.listener==m&&j.capture==!!y&&j.ha==A)return k}return-1}var Kr="closure_lm_"+(1e6*Math.random()|0),ao={};function $l(c,m,y,A,k){if(Array.isArray(m)){for(var j=0;j<m.length;j++)$l(c,m[j],y,A,k);return null}return y=Zl(y),c&&c[Ce]?c.K(m,y,_(A)?!!A.capture:!1,k):_n(c,m,y,!1,A,k)}function _n(c,m,y,A,k,j){if(!m)throw Error("Invalid event type");var J=_(k)?!!k.capture:!!k,Pt=qs(c);if(Pt||(c[Kr]=Pt=new mi(c)),y=Pt.add(m,y,A,J,j),y.proxy)return y;if(A=Ah(),y.proxy=A,A.src=c,A.listener=y,c.addEventListener)ht||(k=J),k===void 0&&(k=!1),c.addEventListener(m.toString(),A,k);else if(c.attachEvent)c.attachEvent(Yr(m.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Ah(){function c(y){return m.call(c.src,c.listener,y)}const m=Sh;return c}function oo(c,m,y,A,k){if(Array.isArray(m))for(var j=0;j<m.length;j++)oo(c,m[j],y,A,k);else A=_(A)?!!A.capture:!!A,y=Zl(y),c&&c[Ce]?(c=c.i,m=String(m).toString(),m in c.g&&(j=c.g[m],y=Qr(j,y,A,k),-1<y&&(Ki(j[y]),Array.prototype.splice.call(j,y,1),j.length==0&&(delete c.g[m],c.h--)))):c&&(c=qs(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Qr(m,y,A,k)),(y=-1<c?m[c]:null)&&js(y))}function js(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Ce])Gr(m.i,c);else{var y=c.type,A=c.proxy;m.removeEventListener?m.removeEventListener(y,A,c.capture):m.detachEvent?m.detachEvent(Yr(y),A):m.addListener&&m.removeListener&&m.removeListener(A),(y=qs(m))?(Gr(y,c),y.h==0&&(y.src=null,m[Kr]=null)):Ki(c)}}}function Yr(c){return c in ao?ao[c]:ao[c]="on"+c}function Sh(c,m){if(c.da)c=!0;else{m=new Rt(m,this);var y=c.listener,A=c.ha||c.src;c.fa&&js(c),c=y.call(A,m)}return c}function qs(c){return c=c[Kr],c instanceof mi?c:null}var lo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zl(c){return typeof c=="function"?c:(c[lo]||(c[lo]=function(m){return c.handleEvent(m)}),c[lo])}function ae(){nt.call(this),this.i=new mi(this),this.M=this,this.F=null}$(ae,nt),ae.prototype[Ce]=!0,ae.prototype.removeEventListener=function(c,m,y,A){oo(this,c,m,y,A)};function Ht(c,m){var y,A=c.F;if(A)for(y=[];A;A=A.F)y.push(A);if(c=c.M,A=m.type||m,typeof m=="string")m=new W(m,c);else if(m instanceof W)m.target=m.target||c;else{var k=m;m=new W(A,c),N(m,k)}if(k=!0,y)for(var j=y.length-1;0<=j;j--){var J=m.g=y[j];k=on(J,A,!0,m)&&k}if(J=m.g=c,k=on(J,A,!0,m)&&k,k=on(J,A,!1,m)&&k,y)for(j=0;j<y.length;j++)J=m.g=y[j],k=on(J,A,!1,m)&&k}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var y=c.g[m],A=0;A<y.length;A++)Ki(y[A]);delete c.g[m],c.h--}}this.F=null},ae.prototype.K=function(c,m,y,A){return this.i.add(String(c),m,!1,y,A)},ae.prototype.L=function(c,m,y,A){return this.i.add(String(c),m,!0,y,A)};function on(c,m,y,A){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var k=!0,j=0;j<m.length;++j){var J=m[j];if(J&&!J.da&&J.capture==y){var Pt=J.listener,Ae=J.ha||J.src;J.fa&&Gr(c.i,J),k=Pt.call(Ae,A)!==!1&&k}}return k&&!A.defaultPrevented}function Fe(c,m,y){if(typeof c=="function")y&&(c=C(c,y));else if(c&&typeof c.handleEvent=="function")c=C(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(c,m||0)}function Wl(c){c.g=Fe(()=>{c.g=null,c.i&&(c.i=!1,Wl(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class bh extends nt{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Wl(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xr(c){nt.call(this),this.h=c,this.g={}}$(Xr,nt);var $r=[];function Zr(c){Mt(c.g,function(m,y){this.g.hasOwnProperty(y)&&js(m)},c),c.g={}}Xr.prototype.N=function(){Xr.aa.N.call(this),Zr(this)},Xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vn=p.JSON.stringify,Hs=p.JSON.parse,Wr=class{stringify(c){return p.JSON.stringify(c,void 0)}parse(c){return p.JSON.parse(c,void 0)}};function uo(){}uo.prototype.h=null;function co(c){return c.h||(c.h=c.i())}function ho(){}var pi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gi(){W.call(this,"d")}$(gi,W);function fo(){W.call(this,"c")}$(fo,W);var Fn={},mo=null;function Yi(){return mo=mo||new ae}Fn.La="serverreachability";function Fs(c){W.call(this,Fn.La,c)}$(Fs,W);function Xi(c){const m=Yi();Ht(m,new Fs(m))}Fn.STAT_EVENT="statevent";function Jl(c,m){W.call(this,Fn.STAT_EVENT,c),this.stat=m}$(Jl,W);function ee(c){const m=Yi();Ht(m,new Jl(m,c))}Fn.Ma="timingevent";function Te(c,m){W.call(this,Fn.Ma,c),this.size=m}$(Te,W);function de(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){c()},m)}function yn(){this.g=!0}yn.prototype.xa=function(){this.g=!1};function po(c,m,y,A,k,j){c.info(function(){if(c.g)if(j)for(var J="",Pt=j.split("&"),Ae=0;Ae<Pt.length;Ae++){var xt=Pt[Ae].split("=");if(1<xt.length){var Oe=xt[0];xt=xt[1];var Se=Oe.split("_");J=2<=Se.length&&Se[1]=="type"?J+(Oe+"="+xt+"&"):J+(Oe+"=redacted&")}}else J=null;else J=j;return"XMLHTTP REQ ("+A+") [attempt "+k+"]: "+m+`
`+y+`
`+J})}function wh(c,m,y,A,k,j,J){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+k+"]: "+m+`
`+y+`
`+j+" "+J})}function $i(c,m,y,A){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Jr(c,y)+(A?" "+A:"")})}function tu(c,m){c.info(function(){return"TIMEOUT: "+m})}yn.prototype.info=function(){};function Jr(c,m){if(!c.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(c=0;c<y.length;c++)if(Array.isArray(y[c])){var A=y[c];if(!(2>A.length)){var k=A[1];if(Array.isArray(k)&&!(1>k.length)){var j=k[0];if(j!="noop"&&j!="stop"&&j!="close")for(var J=1;J<k.length;J++)k[J]=""}}}}return Vn(y)}catch{return m}}var Zi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_i={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gn;function Qn(){}$(Qn,uo),Qn.prototype.g=function(){return new XMLHttpRequest},Qn.prototype.i=function(){return{}},Gn=new Qn;function Ze(c,m,y,A){this.j=c,this.i=m,this.l=y,this.R=A||1,this.U=new Xr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ue}function ue(){this.i=null,this.g="",this.h=!1}var go={},Gs={};function Mn(c,m,y){c.L=1,c.v=rs(ln(m)),c.m=y,c.P=!0,yi(c,null)}function yi(c,m){c.F=Date.now(),ts(c),c.A=ln(c.v);var y=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Ao(y.i,"t",A),c.C=0,y=c.j.J,c.h=new ue,c.g=gu(c.j,y?m:null,!c.m),0<c.O&&(c.M=new bh(C(c.Y,c,c.g),c.O)),m=c.U,y=c.g,A=c.ca;var k="readystatechange";Array.isArray(k)||(k&&($r[0]=k.toString()),k=$r);for(var j=0;j<k.length;j++){var J=$l(y,k[j],A||m.handleEvent,!1,m.h||m);if(!J)break;m.g[J.key]=J}m=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),Xi(),po(c.i,c.u,c.A,c.l,c.R,c.m)}Ze.prototype.ca=function(c){c=c.target;const m=this.M;m&&An(c)==3?m.j():this.Y(c)},Ze.prototype.Y=function(c){try{if(c==this.g)t:{const Se=An(this.g);var m=this.g.Ba();const Ri=this.g.Z();if(!(3>Se)&&(Se!=3||this.g&&(this.h.h||this.g.oa()||lu(this.g)))){this.J||Se!=4||m==7||(m==8||0>=Ri?Xi(3):Xi(2)),Wi(this);var y=this.g.Z();this.X=y;e:if(eu(this)){var A=lu(this.g);c="";var k=A.length,j=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ke(this),Kn(this);var J="";break e}this.h.i=new p.TextDecoder}for(m=0;m<k;m++)this.h.h=!0,c+=this.h.i.decode(A[m],{stream:!(j&&m==k-1)});A.length=0,this.h.g+=c,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=y==200,wh(this.i,this.u,this.A,this.l,this.R,Se,y),this.o){if(this.T&&!this.K){e:{if(this.g){var Pt,Ae=this.g;if((Pt=Ae.g?Ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dt(Pt)){var xt=Pt;break e}}xt=null}if(y=xt)$i(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,es(this,y);else{this.o=!1,this.s=3,ee(12),ke(this),Kn(this);break t}}if(this.P){y=!0;let Ue;for(;!this.J&&this.C<J.length;)if(Ue=nu(this,J),Ue==Gs){Se==4&&(this.s=4,ee(14),y=!1),$i(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==go){this.s=4,ee(15),$i(this.i,this.l,J,"[Invalid Chunk]"),y=!1;break}else $i(this.i,this.l,Ue,null),es(this,Ue);if(eu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||J.length!=0||this.h.h||(this.s=1,ee(16),y=!1),this.o=this.o&&y,!y)$i(this.i,this.l,J,"[Invalid Chunked Response]"),ke(this),Kn(this);else if(0<J.length&&!this.W){this.W=!0;var Oe=this.j;Oe.g==this&&Oe.ba&&!Oe.M&&(Oe.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),fs(Oe),Oe.M=!0,ee(11))}}else $i(this.i,this.l,J,null),es(this,J);Se==4&&ke(this),this.o&&!this.J&&(Se==4?du(this.j,this):(this.o=!1,ts(this)))}else Oh(this.g),y==400&&0<J.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),ke(this),Kn(this)}}}catch{}finally{}};function eu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function nu(c,m){var y=c.C,A=m.indexOf(`
`,y);return A==-1?Gs:(y=Number(m.substring(y,A)),isNaN(y)?go:(A+=1,A+y>m.length?Gs:(m=m.slice(A,A+y),c.C=A+y,m)))}Ze.prototype.cancel=function(){this.J=!0,ke(this)};function ts(c){c.S=Date.now()+c.I,iu(c,c.I)}function iu(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=de(C(c.ba,c),m)}function Wi(c){c.B&&(p.clearTimeout(c.B),c.B=null)}Ze.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(tu(this.i,this.A),this.L!=2&&(Xi(),ee(17)),ke(this),this.s=2,Kn(this)):iu(this,this.S-c)};function Kn(c){c.j.G==0||c.J||du(c.j,c)}function ke(c){Wi(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,Zr(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function es(c,m){try{var y=c.j;if(y.G!=0&&(y.g==c||_o(y.h,c))){if(!c.K&&_o(y.h,c)&&y.G==3){try{var A=y.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var k=A;if(k[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<c.F)ia(y),ea(y);else break t;Io(y),ee(18)}}else y.za=k[1],0<y.za-y.T&&37500>k[2]&&y.F&&y.v==0&&!y.C&&(y.C=de(C(y.Za,y),6e3));if(1>=Ks(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else wi(y,11)}else if((c.K||y.g==c)&&ia(y),!dt(m))for(k=y.Da.g.parse(m),m=0;m<k.length;m++){let xt=k[m];if(y.T=xt[0],xt=xt[1],y.G==2)if(xt[0]=="c"){y.K=xt[1],y.ia=xt[2];const Oe=xt[3];Oe!=null&&(y.la=Oe,y.j.info("VER="+y.la));const Se=xt[4];Se!=null&&(y.Aa=Se,y.j.info("SVER="+y.Aa));const Ri=xt[5];Ri!=null&&typeof Ri=="number"&&0<Ri&&(A=1.5*Ri,y.L=A,y.j.info("backChannelRequestTimeoutMs_="+A)),A=y;const Ue=c.g;if(Ue){const ti=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ti){var j=A.h;j.g||ti.indexOf("spdy")==-1&&ti.indexOf("quic")==-1&&ti.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Ys(j,j.h),j.h=null))}if(A.D){const Do=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;Do&&(A.ya=Do,Qt(A.I,A.D,Do))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-c.F,y.j.info("Handshake RTT: "+y.R+"ms")),A=y;var J=c;if(A.qa=pu(A,A.J?A.ia:null,A.W),J.K){We(A.h,J);var Pt=J,Ae=A.L;Ae&&(Pt.I=Ae),Pt.B&&(Wi(Pt),ts(Pt)),A.g=J}else hu(A);0<y.i.length&&na(y)}else xt[0]!="stop"&&xt[0]!="close"||wi(y,7);else y.G==3&&(xt[0]=="stop"||xt[0]=="close"?xt[0]=="stop"?wi(y,7):wo(y):xt[0]!="noop"&&y.l&&y.l.ta(xt),y.v=0)}}Xi(4)}catch{}}var ru=class{constructor(c,m){this.g=c,this.map=m}};function vi(c){this.l=c||10,p.PerformanceNavigationTiming?(c=p.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qs(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ks(c){return c.h?1:c.g?c.g.size:0}function _o(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Ys(c,m){c.g?c.g.add(m):c.h=m}function We(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}vi.prototype.cancel=function(){if(this.i=yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function yo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const y of c.g.values())m=m.concat(y.D);return m}return tt(c.i)}function Rh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var m=[],y=c.length,A=0;A<y;A++)m.push(c[A]);return m}m=[],y=0;for(A in c)m[y++]=c[A];return m}function Xs(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var m=[];c=c.length;for(var y=0;y<c;y++)m.push(y);return m}m=[],y=0;for(const A in c)m[y++]=A;return m}}}function vo(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var y=Xs(c),A=Rh(c),k=A.length,j=0;j<k;j++)m.call(void 0,A[j],y&&y[j],c)}var ns=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ih(c,m){if(c){c=c.split("&");for(var y=0;y<c.length;y++){var A=c[y].indexOf("="),k=null;if(0<=A){var j=c[y].substring(0,A);k=c[y].substring(A+1)}else j=c[y];m(j,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function me(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof me){this.h=c.h,is(this,c.j),this.o=c.o,this.g=c.g,Ji(this,c.s),this.l=c.l;var m=c.i,y=new Ti;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),Ei(this,y),this.m=c.m}else c&&(m=String(c).match(ns))?(this.h=!1,is(this,m[1]||"",!0),this.o=vn(m[2]||""),this.g=vn(m[3]||"",!0),Ji(this,m[4]),this.l=vn(m[5]||"",!0),Ei(this,m[6]||"",!0),this.m=vn(m[7]||"")):(this.h=!1,this.i=new Ti(null,this.h))}me.prototype.toString=function(){var c=[],m=this.j;m&&c.push(ss(m,Eo,!0),":");var y=this.g;return(y||m=="file")&&(c.push("//"),(m=this.o)&&c.push(ss(m,Eo,!0),"@"),c.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&c.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&c.push("/"),c.push(ss(y,y.charAt(0)=="/"?Ch:To,!0))),(y=this.i.toString())&&c.push("?",y),(y=this.m)&&c.push("#",ss(y,$s)),c.join("")};function ln(c){return new me(c)}function is(c,m,y){c.j=y?vn(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function Ji(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function Ei(c,m,y){m instanceof Ti?(c.i=m,au(c.i,c.h)):(y||(m=ss(m,Dh)),c.i=new Ti(m,c.h))}function Qt(c,m,y){c.i.set(m,y)}function rs(c){return Qt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function vn(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ss(c,m,y){return typeof c=="string"?(c=encodeURI(c).replace(m,su),y&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function su(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Eo=/[#\/\?@]/g,To=/[#\?:]/g,Ch=/[#\?]/g,Dh=/[#\?@]/g,$s=/#/g;function Ti(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function En(c){c.g||(c.g=new Map,c.h=0,c.i&&Ih(c.i,function(m,y){c.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=Ti.prototype,r.add=function(c,m){En(this),this.i=null,c=Yn(this,c);var y=this.g.get(c);return y||this.g.set(c,y=[]),y.push(m),this.h+=1,this};function Ai(c,m){En(c),m=Yn(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Si(c,m){return En(c),m=Yn(c,m),c.g.has(m)}r.forEach=function(c,m){En(this),this.g.forEach(function(y,A){y.forEach(function(k){c.call(m,k,A,this)},this)},this)},r.na=function(){En(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let A=0;A<m.length;A++){const k=c[A];for(let j=0;j<k.length;j++)y.push(m[A])}return y},r.V=function(c){En(this);let m=[];if(typeof c=="string")Si(this,c)&&(m=m.concat(this.g.get(Yn(this,c))));else{c=Array.from(this.g.values());for(let y=0;y<c.length;y++)m=m.concat(c[y])}return m},r.set=function(c,m){return En(this),this.i=null,c=Yn(this,c),Si(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},r.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function Ao(c,m,y){Ai(c,m),0<y.length&&(c.i=null,c.g.set(Yn(c,m),tt(y)),c.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var A=m[y];const j=encodeURIComponent(String(A)),J=this.V(A);for(A=0;A<J.length;A++){var k=j;J[A]!==""&&(k+="="+encodeURIComponent(String(J[A]))),c.push(k)}}return this.i=c.join("&")};function Yn(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function au(c,m){m&&!c.j&&(En(c),c.i=null,c.g.forEach(function(y,A){var k=A.toLowerCase();A!=k&&(Ai(this,A),Ao(this,k,y))},c)),c.j=m}function as(c,m){const y=new yn;if(p.Image){const A=new Image;A.onload=q(Tn,y,"TestLoadImage: loaded",!0,m,A),A.onerror=q(Tn,y,"TestLoadImage: error",!1,m,A),A.onabort=q(Tn,y,"TestLoadImage: abort",!1,m,A),A.ontimeout=q(Tn,y,"TestLoadImage: timeout",!1,m,A),p.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else m(!1)}function Pn(c,m){const y=new yn,A=new AbortController,k=setTimeout(()=>{A.abort(),Tn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:A.signal}).then(j=>{clearTimeout(k),j.ok?Tn(y,"TestPingServer: ok",!0,m):Tn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),Tn(y,"TestPingServer: error",!1,m)})}function Tn(c,m,y,A,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),A(y)}catch{}}function os(){this.g=new Wr}function Xn(c,m,y){const A=y||"";try{vo(c,function(k,j){let J=k;_(k)&&(J=Vn(k)),m.push(A+j+"="+encodeURIComponent(J))})}catch(k){throw m.push(A+"type="+encodeURIComponent("_badmap")),k}}function tr(c){this.l=c.Ub||null,this.j=c.eb||!1}$(tr,uo),tr.prototype.g=function(){return new bi(this.l,this.j)},tr.prototype.i=function(c){return function(){return c}}({});function bi(c,m){ae.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(bi,ae),r=bi.prototype,r.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,Zn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$n(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;So(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function So(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?$n(this):Zn(this),this.readyState==3&&So(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,$n(this))},r.Qa=function(c){this.g&&(this.response=c,$n(this))},r.ga=function(){this.g&&$n(this)};function $n(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Zn(c)}r.setRequestHeader=function(c,m){this.u.append(c,m)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,c.push(y[0]+": "+y[1]),y=m.next();return c.join(`\r
`)};function Zn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(bi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function bo(c){let m="";return Mt(c,function(y,A){m+=A,m+=":",m+=y,m+=`\r
`}),m}function De(c,m,y){t:{for(A in y){var A=!1;break t}A=!0}A||(y=bo(y),typeof c=="string"?y!=null&&encodeURIComponent(String(y)):Qt(c,m,y))}function jt(c){ae.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(jt,ae);var Zs=/^https?$/i,ls=["POST","PUT"];r=jt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,m,y,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gn.g(),this.v=this.o?co(this.o):co(Gn),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(j){ou(this,j);return}if(c=y||"",y=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var k in A)y.set(k,A[k]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const j of A.keys())y.set(j,A.get(j));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(y.keys()).find(j=>j.toLowerCase()=="content-type"),k=p.FormData&&c instanceof p.FormData,!(0<=Array.prototype.indexOf.call(ls,m,void 0))||A||k||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,J]of y)this.g.setRequestHeader(j,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{us(this),this.u=!0,this.g.send(c),this.u=!1}catch(j){ou(this,j)}};function ou(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,Ws(c),Wn(c)}function Ws(c){c.A||(c.A=!0,Ht(c,"complete"),Ht(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ht(this,"complete"),Ht(this,"abort"),Wn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wn(this,!0)),jt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Js(this):this.bb())},r.bb=function(){Js(this)};function Js(c){if(c.h&&typeof f<"u"&&(!c.v[1]||An(c)!=4||c.Z()!=2)){if(c.u&&An(c)==4)Fe(c.Ea,0,c);else if(Ht(c,"readystatechange"),An(c)==4){c.h=!1;try{const J=c.Z();t:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var A;if(A=J===0){var k=String(c.D).match(ns)[1]||null;!k&&p.self&&p.self.location&&(k=p.self.location.protocol.slice(0,-1)),A=!Zs.test(k?k.toLowerCase():"")}y=A}if(y)Ht(c,"complete"),Ht(c,"success");else{c.m=6;try{var j=2<An(c)?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.Z()+"]",Ws(c)}}finally{Wn(c)}}}}function Wn(c,m){if(c.g){us(c);const y=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||Ht(c,"ready");try{y.onreadystatechange=A}catch{}}}function us(c){c.I&&(p.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function An(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Hs(m)}};function lu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Oh(c){const m={};c=(c.g&&2<=An(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(dt(c[A]))continue;var y=M(c[A]);const k=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const j=m[k]||[];m[k]=j,j.push(y)}V(m,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function cs(c,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[c]||m}function ta(c){this.Aa=0,this.i=[],this.j=new yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=cs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=cs("baseRetryDelayMs",5e3,c),this.cb=cs("retryDelaySeedMs",1e4,c),this.Wa=cs("forwardChannelMaxRetries",2,c),this.wa=cs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new vi(c&&c.concurrentRequestLimit),this.Da=new os,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ta.prototype,r.la=8,r.G=1,r.connect=function(c,m,y,A){ee(0),this.W=c,this.H=m||{},y&&A!==void 0&&(this.H.OSID=y,this.H.OAID=A),this.F=this.X,this.I=pu(this,null,this.W),na(this)};function wo(c){if(uu(c),c.G==3){var m=c.U++,y=ln(c.I);if(Qt(y,"SID",c.K),Qt(y,"RID",m),Qt(y,"TYPE","terminate"),hs(c,y),m=new Ze(c,c.j,m),m.L=2,m.v=rs(ln(y)),y=!1,p.navigator&&p.navigator.sendBeacon)try{y=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&p.Image&&(new Image().src=m.v,y=!0),y||(m.g=gu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ts(m)}mu(c)}function ea(c){c.g&&(fs(c),c.g.cancel(),c.g=null)}function uu(c){ea(c),c.u&&(p.clearTimeout(c.u),c.u=null),ia(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&p.clearTimeout(c.s),c.s=null)}function na(c){if(!Qs(c.h)&&!c.s){c.s=!0;var m=c.Ga;et||D(),lt||(et(),lt=!0),zt.add(m,c),c.B=0}}function Nh(c,m){return Ks(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=de(C(c.Ga,c,m),Co(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const k=new Ze(this,this.j,c);let j=this.o;if(this.S&&(j?(j=S(j),N(j,this.S)):j=this.S),this.m!==null||this.O||(k.H=j,j=null),this.P)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var A=this.i[y];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=cu(this,k,m),y=ln(this.I),Qt(y,"RID",c),Qt(y,"CVER",22),this.D&&Qt(y,"X-HTTP-Session-Id",this.D),hs(this,y),j&&(this.O?m="headers="+encodeURIComponent(String(bo(j)))+"&"+m:this.m&&De(y,this.m,j)),Ys(this.h,k),this.Ua&&Qt(y,"TYPE","init"),this.P?(Qt(y,"$req",m),Qt(y,"SID","null"),k.T=!0,Mn(k,y,null)):Mn(k,y,m),this.G=2}}else this.G==3&&(c?Ro(this,c):this.i.length==0||Qs(this.h)||Ro(this))};function Ro(c,m){var y;m?y=m.l:y=c.U++;const A=ln(c.I);Qt(A,"SID",c.K),Qt(A,"RID",y),Qt(A,"AID",c.T),hs(c,A),c.m&&c.o&&De(A,c.m,c.o),y=new Ze(c,c.j,y,c.B+1),c.m===null&&(y.H=c.o),m&&(c.i=m.D.concat(c.i)),m=cu(c,y,1e3),y.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ys(c.h,y),Mn(y,A,m)}function hs(c,m){c.H&&Mt(c.H,function(y,A){Qt(m,A,y)}),c.l&&vo({},function(y,A){Qt(m,A,y)})}function cu(c,m,y){y=Math.min(c.i.length,y);var A=c.l?C(c.l.Na,c.l,c):null;t:{var k=c.i;let j=-1;for(;;){const J=["count="+y];j==-1?0<y?(j=k[0].g,J.push("ofs="+j)):j=0:J.push("ofs="+j);let Pt=!0;for(let Ae=0;Ae<y;Ae++){let xt=k[Ae].g;const Oe=k[Ae].map;if(xt-=j,0>xt)j=Math.max(0,k[Ae].g-100),Pt=!1;else try{Xn(Oe,J,"req"+xt+"_")}catch{A&&A(Oe)}}if(Pt){A=J.join("&");break t}}}return c=c.i.splice(0,y),m.D=c,A}function hu(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;et||D(),lt||(et(),lt=!0),zt.add(m,c),c.v=0}}function Io(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=de(C(c.Fa,c),Co(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,fu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=de(C(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),ea(this),fu(this))};function fs(c){c.A!=null&&(p.clearTimeout(c.A),c.A=null)}function fu(c){c.g=new Ze(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=ln(c.qa);Qt(m,"RID","rpc"),Qt(m,"SID",c.K),Qt(m,"AID",c.T),Qt(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&Qt(m,"TO",c.ja),Qt(m,"TYPE","xmlhttp"),hs(c,m),c.m&&c.o&&De(m,c.m,c.o),c.L&&(c.g.I=c.L);var y=c.g;c=c.ia,y.L=1,y.v=rs(ln(m)),y.m=null,y.P=!0,yi(y,c)}r.Za=function(){this.C!=null&&(this.C=null,ea(this),Io(this),ee(19))};function ia(c){c.C!=null&&(p.clearTimeout(c.C),c.C=null)}function du(c,m){var y=null;if(c.g==m){ia(c),fs(c),c.g=null;var A=2}else if(_o(c.h,m))y=m.D,We(c.h,m),A=1;else return;if(c.G!=0){if(m.o)if(A==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var k=c.B;A=Yi(),Ht(A,new Te(A,y)),na(c)}else hu(c);else if(k=m.s,k==3||k==0&&0<m.X||!(A==1&&Nh(c,m)||A==2&&Io(c)))switch(y&&0<y.length&&(m=c.h,m.i=m.i.concat(y)),k){case 1:wi(c,5);break;case 4:wi(c,10);break;case 3:wi(c,6);break;default:wi(c,2)}}}function Co(c,m){let y=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(y*=2),y*m}function wi(c,m){if(c.j.info("Error code "+m),m==2){var y=C(c.fb,c),A=c.Xa;const k=!A;A=new me(A||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||is(A,"https"),rs(A),k?as(A.toString(),y):Pn(A.toString(),y)}else ee(2);c.G=0,c.l&&c.l.sa(m),mu(c),uu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function mu(c){if(c.G=0,c.ka=[],c.l){const m=yo(c.h);(m.length!=0||c.i.length!=0)&&(Z(c.ka,m),Z(c.ka,c.i),c.h.i.length=0,tt(c.i),c.i.length=0),c.l.ra()}}function pu(c,m,y){var A=y instanceof me?ln(y):new me(y);if(A.g!="")m&&(A.g=m+"."+A.g),Ji(A,A.s);else{var k=p.location;A=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;var j=new me(null);A&&is(j,A),m&&(j.g=m),k&&Ji(j,k),y&&(j.l=y),A=j}return y=c.D,m=c.ya,y&&m&&Qt(A,y,m),Qt(A,"VER",c.la),hs(c,A),A}function gu(c,m,y){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new jt(new tr({eb:y})):new jt(c.pa),m.Ha(c.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function _u(){}r=_u.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ra(){}ra.prototype.g=function(c,m){return new Je(c,m)};function Je(c,m){ae.call(this),this.g=new ta(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!dt(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!dt(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Jn(this)}$(Je,ae),Je.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){wo(this.g)},Je.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var y={};y.__data__=c,c=y}else this.u&&(y={},y.__data__=Vn(c),c=y);m.i.push(new ru(m.Ya++,c)),m.G==3&&na(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,wo(this.g),delete this.g,Je.aa.N.call(this)};function yu(c){gi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){t:{for(const y in m){c=y;break t}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}$(yu,gi);function vu(){fo.call(this),this.status=1}$(vu,fo);function Jn(c){this.g=c}$(Jn,_u),Jn.prototype.ua=function(){Ht(this.g,"a")},Jn.prototype.ta=function(c){Ht(this.g,new yu(c))},Jn.prototype.sa=function(c){Ht(this.g,new vu)},Jn.prototype.ra=function(){Ht(this.g,"b")},ra.prototype.createWebChannel=ra.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,lT=function(){return new ra},oT=function(){return Yi()},aT=Fn,Yd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zi.NO_ERROR=0,Zi.TIMEOUT=8,Zi.HTTP_ERROR=6,Oc=Zi,_i.COMPLETE="complete",sT=_i,ho.EventType=pi,pi.OPEN="a",pi.CLOSE="b",pi.ERROR="c",pi.MESSAGE="d",ae.prototype.listen=ae.prototype.K,vl=ho,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,rT=jt}).apply(typeof Tc<"u"?Tc:typeof self<"u"?self:typeof window<"u"?window:{});const lv="@firebase/firestore",uv="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=new pm("@firebase/firestore");function Ma(){return xs.logLevel}function st(r,...t){if(xs.logLevel<=Ot.DEBUG){const n=t.map(Im);xs.debug(`Firestore (${eo}): ${r}`,...n)}}function Fi(r,...t){if(xs.logLevel<=Ot.ERROR){const n=t.map(Im);xs.error(`Firestore (${eo}): ${r}`,...n)}}function xr(r,...t){if(xs.logLevel<=Ot.WARN){const n=t.map(Im);xs.warn(`Firestore (${eo}): ${r}`,...n)}}function Im(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,uT(r,s,n)}function uT(r,t,n){let s=`FIRESTORE (${eo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Fi(s),new Error(s)}function qt(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||uT(t,o,s)}function At(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends Qi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class fR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ye.UNAUTHENTICATED))}shutdown(){}}class dR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class mR{constructor(t){this.t=t,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){qt(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Os,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const g=u;t.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},p=g=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>p(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Os)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string",31837,{l:s}),new cT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qt(t===null||typeof t=="string",2055,{h:t}),new Ye(t)}}class pR{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class gR{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new pR(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _R{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ln(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){qt(this.o===void 0,3512);const s=u=>{u.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,st("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new cv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(qt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new cv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=yR(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function wt(r,t){return r<t?-1:r>t?1:0}function Xd(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),o=t.codePointAt(n);if(s!==o){if(s<128&&o<128)return wt(s,o);{const u=hT(),f=vR(u.encode(hv(r,n)),u.encode(hv(t,n)));return f!==0?f:wt(s,o)}}n+=s>65535?2:1}return wt(r.length,t.length)}function hv(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function vR(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return wt(r[n],t[n]);return wt(r.length,t.length)}function Ga(r,t,n){return r.length===t.length&&r.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="__name__";class ai{constructor(t,n,s){n===void 0?n=0:n>t.length&&gt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&gt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return ai.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ai?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=ai.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return wt(t.length,n.length)}static compareSegments(t,n){const s=ai.isNumericId(t),o=ai.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ai.extractNumericId(t).compare(ai.extractNumericId(n)):Xd(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Vr.fromString(t.substring(4,t.length-2))}}class Jt extends ai{construct(t,n,s){return new Jt(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new rt(Q.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new Jt(n)}static emptyPath(){return new Jt([])}}const ER=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends ai{construct(t,n,s){return new qe(t,n,s)}static isValidIdentifier(t){return ER.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fv}static keyField(){return new qe([fv])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new rt(Q.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new rt(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new rt(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=g,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(s+=p,o++):(u(),o++)}if(u(),f)throw new rt(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qe(n)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(t){this.path=t}static fromPath(t){return new ut(Jt.fromString(t))}static fromName(t){return new ut(Jt.fromString(t).popFirst(5))}static empty(){return new ut(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Jt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Jt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ut(new Jt(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(r,t,n){if(!n)throw new rt(Q.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function TR(r,t,n,s){if(t===!0&&s===!0)throw new rt(Q.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function dv(r){if(!ut.isDocumentKey(r))throw new rt(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function mv(r){if(ut.isDocumentKey(r))throw new rt(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function dT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function oh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":gt(12329,{type:typeof r})}function Mr(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new rt(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=oh(r);throw new rt(Q.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(r,t){const n={typeString:r};return t&&(n.value=t),n}function Fl(r,t){if(!dT(r))throw new rt(Q.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new rt(Q.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv=-62135596800,gv=1e6;class te{static now(){return te.fromMillis(Date.now())}static fromDate(t){return te.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*gv);return new te(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new rt(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new rt(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<pv)throw new rt(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gv}_compareTo(t){return this.seconds===t.seconds?wt(this.nanoseconds,t.nanoseconds):wt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Fl(t,te._jsonSchema))return new te(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-pv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}te._jsonSchemaVersion="firestore/timestamp/1.0",te._jsonSchema={type:ve("string",te._jsonSchemaVersion),seconds:ve("number"),nanoseconds:ve("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new te(0,0))}static max(){return new Et(new te(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=-1;function AR(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(s===1e9?new te(n+1,0):new te(n,s));return new kr(o,ut.empty(),t)}function SR(r){return new kr(r.readTime,r.key,Vl)}class kr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new kr(Et.min(),ut.empty(),Vl)}static max(){return new kr(Et.max(),ut.empty(),Vl)}}function bR(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=ut.comparator(r.documentKey,t.documentKey),n!==0?n:wt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function no(r){if(r.code!==Q.FAILED_PRECONDITION||r.message!==wR)throw r;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Y((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Y.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Y.reject(n)}static resolve(t){return new Y((n,s)=>{n(t)})}static reject(t){return new Y((n,s)=>{s(t)})}static waitFor(t){return new Y((n,s)=>{let o=0,u=0,f=!1;t.forEach(p=>{++o,p.next(()=>{++u,f&&u===o&&n()},g=>s(g))}),f=!0,u===o&&n()})}static or(t){let n=Y.resolve(!1);for(const s of t)n=n.next(o=>o?Y.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(t,n){return new Y((s,o)=>{const u=t.length,f=new Array(u);let p=0;for(let g=0;g<u;g++){const _=g;n(t[_]).next(T=>{f[_]=T,++p,p===u&&s(f)},T=>o(T))}})}static doWhile(t,n){return new Y((s,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):s()};u()})}}function IR(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function io(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}lh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm=-1;function uh(r){return r==null}function Fc(r){return r===0&&1/r==-1/0}function CR(r){return typeof r=="number"&&Number.isInteger(r)&&!Fc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="";function DR(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=_v(t)),t=OR(r.get(n),t);return _v(t)}function OR(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case mT:n+="";break;default:n+=u}}return n}function _v(r){return r+mT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Hr(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function pT(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(t,n){this.comparator=t,this.root=n||je.EMPTY}insert(t,n){return new re(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,je.BLACK,null,null))}remove(t){return new re(this.comparator,this.root.remove(t,this.comparator).copy(null,null,je.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ac(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ac(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ac(this.root,t,this.comparator,!0)}}class Ac{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class je{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??je.RED,this.left=o??je.EMPTY,this.right=u??je.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new je(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return je.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return je.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}je.EMPTY=null,je.RED=!0,je.BLACK=!1;je.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new je(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t){this.comparator=t,this.data=new re(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new vv(this.data.getIterator())}getIteratorFrom(t){return new vv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Re)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Re(this.comparator);return n.data=t,n}}class vv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(t){this.fields=t,t.sort(qe.comparator)}static empty(){return new gn([])}unionWith(t){let n=new Re(qe.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new gn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ga(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new gT("Invalid base64 string: "+u):u}}(t);return new He(n)}static fromUint8Array(t){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new He(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return wt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}He.EMPTY_BYTE_STRING=new He("");const NR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ur(r){if(qt(!!r,39018),typeof r=="string"){let t=0;const n=NR.exec(r);if(qt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:fe(r.seconds),nanos:fe(r.nanos)}}function fe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Lr(r){return typeof r=="string"?He.fromBase64String(r):He.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="server_timestamp",yT="__type__",vT="__previous_value__",ET="__local_write_time__";function Om(r){var t,n;return((n=(((t=r?.mapValue)===null||t===void 0?void 0:t.fields)||{})[yT])===null||n===void 0?void 0:n.stringValue)===_T}function ch(r){const t=r.mapValue.fields[vT];return Om(t)?ch(t):t}function Ml(r){const t=Ur(r.mapValue.fields[ET].timestampValue);return new te(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(t,n,s,o,u,f,p,g,_,T){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=_,this.isUsingEmulator=T}}const Gc="(default)";class Pl{constructor(t,n){this.projectId=t,this.database=n||Gc}static empty(){return new Pl("","")}get isDefaultDatabase(){return this.database===Gc}isEqual(t){return t instanceof Pl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="__type__",MR="__max__",Sc={mapValue:{}},AT="__vector__",Qc="value";function zr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Om(r)?4:xR(r)?9007199254740991:PR(r)?10:11:gt(28295,{value:r})}function di(r,t){if(r===t)return!0;const n=zr(r);if(n!==zr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Ml(r).isEqual(Ml(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Ur(o.timestampValue),p=Ur(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,u){return Lr(o.bytesValue).isEqual(Lr(u.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,u){return fe(o.geoPointValue.latitude)===fe(u.geoPointValue.latitude)&&fe(o.geoPointValue.longitude)===fe(u.geoPointValue.longitude)}(r,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return fe(o.integerValue)===fe(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=fe(o.doubleValue),p=fe(u.doubleValue);return f===p?Fc(f)===Fc(p):isNaN(f)&&isNaN(p)}return!1}(r,t);case 9:return Ga(r.arrayValue.values||[],t.arrayValue.values||[],di);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(yv(f)!==yv(p))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(p[g]===void 0||!di(f[g],p[g])))return!1;return!0}(r,t);default:return gt(52216,{left:r})}}function xl(r,t){return(r.values||[]).find(n=>di(n,t))!==void 0}function Qa(r,t){if(r===t)return 0;const n=zr(r),s=zr(t);if(n!==s)return wt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return wt(r.booleanValue,t.booleanValue);case 2:return function(u,f){const p=fe(u.integerValue||u.doubleValue),g=fe(f.integerValue||f.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1}(r,t);case 3:return Ev(r.timestampValue,t.timestampValue);case 4:return Ev(Ml(r),Ml(t));case 5:return Xd(r.stringValue,t.stringValue);case 6:return function(u,f){const p=Lr(u),g=Lr(f);return p.compareTo(g)}(r.bytesValue,t.bytesValue);case 7:return function(u,f){const p=u.split("/"),g=f.split("/");for(let _=0;_<p.length&&_<g.length;_++){const T=wt(p[_],g[_]);if(T!==0)return T}return wt(p.length,g.length)}(r.referenceValue,t.referenceValue);case 8:return function(u,f){const p=wt(fe(u.latitude),fe(f.latitude));return p!==0?p:wt(fe(u.longitude),fe(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return Tv(r.arrayValue,t.arrayValue);case 10:return function(u,f){var p,g,_,T;const b=u.fields||{},C=f.fields||{},q=(p=b[Qc])===null||p===void 0?void 0:p.arrayValue,$=(g=C[Qc])===null||g===void 0?void 0:g.arrayValue,tt=wt(((_=q?.values)===null||_===void 0?void 0:_.length)||0,((T=$?.values)===null||T===void 0?void 0:T.length)||0);return tt!==0?tt:Tv(q,$)}(r.mapValue,t.mapValue);case 11:return function(u,f){if(u===Sc.mapValue&&f===Sc.mapValue)return 0;if(u===Sc.mapValue)return 1;if(f===Sc.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),_=f.fields||{},T=Object.keys(_);g.sort(),T.sort();for(let b=0;b<g.length&&b<T.length;++b){const C=Xd(g[b],T[b]);if(C!==0)return C;const q=Qa(p[g[b]],_[T[b]]);if(q!==0)return q}return wt(g.length,T.length)}(r.mapValue,t.mapValue);default:throw gt(23264,{le:n})}}function Ev(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return wt(r,t);const n=Ur(r),s=Ur(t),o=wt(n.seconds,s.seconds);return o!==0?o:wt(n.nanos,s.nanos)}function Tv(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Qa(n[o],s[o]);if(u)return u}return wt(n.length,s.length)}function Ka(r){return $d(r)}function $d(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Ur(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Lr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ut.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=$d(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${$d(n.fields[f])}`;return o+"}"}(r.mapValue):gt(61005,{value:r})}function Nc(r){switch(zr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ch(r);return t?16+Nc(t):16;case 5:return 2*r.stringValue.length;case 6:return Lr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Nc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Hr(s.fields,(u,f)=>{o+=u.length+Nc(f)}),o}(r.mapValue);default:throw gt(13486,{value:r})}}function Av(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Zd(r){return!!r&&"integerValue"in r}function Nm(r){return!!r&&"arrayValue"in r}function Sv(r){return!!r&&"nullValue"in r}function bv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Vc(r){return!!r&&"mapValue"in r}function PR(r){var t,n;return((n=(((t=r?.mapValue)===null||t===void 0?void 0:t.fields)||{})[TT])===null||n===void 0?void 0:n.stringValue)===AT}function wl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Hr(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=wl(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=wl(r.arrayValue.values[n]);return t}return Object.assign({},r)}function xR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===MR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t){this.value=t}static empty(){return new an({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Vc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=wl(n)}setAll(t){let n=qe.emptyPath(),s={},o=[];t.forEach((f,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=p.popLast()}f?s[p.lastSegment()]=wl(f):o.push(p.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());Vc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return di(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Vc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Hr(n,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new an(wl(this.value))}}function ST(r){const t=[];return Hr(r.fields,(n,s)=>{const o=new qe([n]);if(Vc(s)){const u=ST(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new gn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t,n,s,o,u,f,p){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(t){return new Xe(t,0,Et.min(),Et.min(),Et.min(),an.empty(),0)}static newFoundDocument(t,n,s,o){return new Xe(t,1,n,Et.min(),s,o,0)}static newNoDocument(t,n){return new Xe(t,2,n,Et.min(),Et.min(),an.empty(),0)}static newUnknownDocument(t,n){return new Xe(t,3,n,Et.min(),Et.min(),an.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(t,n){this.position=t,this.inclusive=n}}function wv(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=ut.comparator(ut.fromName(f.referenceValue),n.key):s=Qa(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Rv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!di(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(t,n="asc"){this.field=t,this.dir=n}}function kR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{}class ye extends bT{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new LR(t,n,s):n==="array-contains"?new jR(t,s):n==="in"?new qR(t,s):n==="not-in"?new HR(t,s):n==="array-contains-any"?new FR(t,s):new ye(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new zR(t,s):new BR(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Qa(n,this.value)):n!==null&&zr(this.value)===zr(n)&&this.matchesComparison(Qa(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qn extends bT{constructor(t,n){super(),this.filters=t,this.op=n,this.he=null}static create(t,n){return new qn(t,n)}matches(t){return wT(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function wT(r){return r.op==="and"}function RT(r){return UR(r)&&wT(r)}function UR(r){for(const t of r.filters)if(t instanceof qn)return!1;return!0}function Wd(r){if(r instanceof ye)return r.field.canonicalString()+r.op.toString()+Ka(r.value);if(RT(r))return r.filters.map(t=>Wd(t)).join(",");{const t=r.filters.map(n=>Wd(n)).join(",");return`${r.op}(${t})`}}function IT(r,t){return r instanceof ye?function(s,o){return o instanceof ye&&s.op===o.op&&s.field.isEqual(o.field)&&di(s.value,o.value)}(r,t):r instanceof qn?function(s,o){return o instanceof qn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,p)=>u&&IT(f,o.filters[p]),!0):!1}(r,t):void gt(19439)}function CT(r){return r instanceof ye?function(n){return`${n.field.canonicalString()} ${n.op} ${Ka(n.value)}`}(r):r instanceof qn?function(n){return n.op.toString()+" {"+n.getFilters().map(CT).join(" ,")+"}"}(r):"Filter"}class LR extends ye{constructor(t,n,s){super(t,n,s),this.key=ut.fromName(s.referenceValue)}matches(t){const n=ut.comparator(t.key,this.key);return this.matchesComparison(n)}}class zR extends ye{constructor(t,n){super(t,"in",n),this.keys=DT("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class BR extends ye{constructor(t,n){super(t,"not-in",n),this.keys=DT("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function DT(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ut.fromName(s.referenceValue))}class jR extends ye{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Nm(n)&&xl(n.arrayValue,this.value)}}class qR extends ye{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&xl(this.value.arrayValue,n)}}class HR extends ye{constructor(t,n){super(t,"not-in",n)}matches(t){if(xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!xl(this.value.arrayValue,n)}}class FR extends ye{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Nm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>xl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(t,n=null,s=[],o=[],u=null,f=null,p=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.Pe=null}}function Iv(r,t=null,n=[],s=[],o=null,u=null,f=null){return new GR(r,t,n,s,o,u,f)}function Vm(r){const t=At(r);if(t.Pe===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Wd(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),uh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Ka(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Ka(s)).join(",")),t.Pe=n}return t.Pe}function Mm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!kR(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!IT(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Rv(r.startAt,t.startAt)&&Rv(r.endAt,t.endAt)}function Jd(r){return ut.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(t,n=null,s=[],o=[],u=null,f="F",p=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=g,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function QR(r,t,n,s,o,u,f,p){return new ro(r,t,n,s,o,u,f,p)}function Pm(r){return new ro(r)}function Cv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function OT(r){return r.collectionGroup!==null}function Rl(r){const t=At(r);if(t.Te===null){t.Te=[];const n=new Set;for(const u of t.explicitOrderBy)t.Te.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new Re(qe.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(_=>{_.isInequality()&&(p=p.add(_.field))})}),p})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.Te.push(new kl(u,s))}),n.has(qe.keyField().canonicalString())||t.Te.push(new kl(qe.keyField(),s))}return t.Te}function ui(r){const t=At(r);return t.Ie||(t.Ie=KR(t,Rl(r))),t.Ie}function KR(r,t){if(r.limitType==="F")return Iv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new kl(o.field,u)});const n=r.endAt?new Kc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Kc(r.startAt.position,r.startAt.inclusive):null;return Iv(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function tm(r,t){const n=r.filters.concat([t]);return new ro(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function em(r,t,n){return new ro(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function hh(r,t){return Mm(ui(r),ui(t))&&r.limitType===t.limitType}function NT(r){return`${Vm(ui(r))}|lt:${r.limitType}`}function Pa(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>CT(o)).join(", ")}]`),uh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Ka(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Ka(o)).join(",")),`Target(${s})`}(ui(r))}; limitType=${r.limitType})`}function fh(r,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ut.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,t)&&function(s,o){for(const u of Rl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,t)&&function(s,o){return!(s.startAt&&!function(f,p,g){const _=wv(f,p,g);return f.inclusive?_<=0:_<0}(s.startAt,Rl(s),o)||s.endAt&&!function(f,p,g){const _=wv(f,p,g);return f.inclusive?_>=0:_>0}(s.endAt,Rl(s),o))}(r,t)}function YR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function VT(r){return(t,n)=>{let s=!1;for(const o of Rl(r)){const u=XR(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function XR(r,t,n){const s=r.field.isKeyField()?ut.comparator(t.key,n.key):function(u,f,p){const g=f.data.field(u),_=p.data.field(u);return g!==null&&_!==null?Qa(g,_):gt(42886)}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return gt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Hr(this.inner,(n,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return pT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=new re(ut.comparator);function Gi(){return $R}const MT=new re(ut.comparator);function El(...r){let t=MT;for(const n of r)t=t.insert(n.key,n);return t}function PT(r){let t=MT;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Ds(){return Il()}function xT(){return Il()}function Il(){return new Ls(r=>r.toString(),(r,t)=>r.isEqual(t))}const ZR=new re(ut.comparator),WR=new Re(ut.comparator);function Nt(...r){let t=WR;for(const n of r)t=t.add(n);return t}const JR=new Re(wt);function tI(){return JR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fc(t)?"-0":t}}function kT(r){return{integerValue:""+r}}function eI(r,t){return CR(t)?kT(t):xm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(){this._=void 0}}function nI(r,t,n){return r instanceof Yc?function(o,u){const f={fields:{[yT]:{stringValue:_T},[ET]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Om(u)&&(u=ch(u)),u&&(f.fields[vT]=u),{mapValue:f}}(n,t):r instanceof Ul?LT(r,t):r instanceof Ll?zT(r,t):function(o,u){const f=UT(o,u),p=Dv(f)+Dv(o.Ee);return Zd(f)&&Zd(o.Ee)?kT(p):xm(o.serializer,p)}(r,t)}function iI(r,t,n){return r instanceof Ul?LT(r,t):r instanceof Ll?zT(r,t):n}function UT(r,t){return r instanceof Xc?function(s){return Zd(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class Yc extends dh{}class Ul extends dh{constructor(t){super(),this.elements=t}}function LT(r,t){const n=BT(t);for(const s of r.elements)n.some(o=>di(o,s))||n.push(s);return{arrayValue:{values:n}}}class Ll extends dh{constructor(t){super(),this.elements=t}}function zT(r,t){let n=BT(t);for(const s of r.elements)n=n.filter(o=>!di(o,s));return{arrayValue:{values:n}}}class Xc extends dh{constructor(t,n){super(),this.serializer=t,this.Ee=n}}function Dv(r){return fe(r.integerValue||r.doubleValue)}function BT(r){return Nm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function rI(r,t){return r.field.isEqual(t.field)&&function(s,o){return s instanceof Ul&&o instanceof Ul||s instanceof Ll&&o instanceof Ll?Ga(s.elements,o.elements,di):s instanceof Xc&&o instanceof Xc?di(s.Ee,o.Ee):s instanceof Yc&&o instanceof Yc}(r.transform,t.transform)}class sI{constructor(t,n){this.version=t,this.transformResults=n}}class Bn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Bn}static exists(t){return new Bn(void 0,t)}static updateTime(t){return new Bn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Mc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class mh{}function jT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new km(r.key,Bn.none()):new Gl(r.key,r.data,Bn.none());{const n=r.data,s=an.empty();let o=new Re(qe.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Fr(r.key,s,new gn(o.toArray()),Bn.none())}}function aI(r,t,n){r instanceof Gl?function(o,u,f){const p=o.value.clone(),g=Nv(o.fieldTransforms,u,f.transformResults);p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,t,n):r instanceof Fr?function(o,u,f){if(!Mc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=Nv(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(qT(o)),g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(r,t,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function Cl(r,t,n,s){return r instanceof Gl?function(u,f,p,g){if(!Mc(u.precondition,f))return p;const _=u.value.clone(),T=Vv(u.fieldTransforms,g,f);return _.setAll(T),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null}(r,t,n,s):r instanceof Fr?function(u,f,p,g){if(!Mc(u.precondition,f))return p;const _=Vv(u.fieldTransforms,g,f),T=f.data;return T.setAll(qT(u)),T.setAll(_),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(r,t,n,s):function(u,f,p){return Mc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p}(r,t,n)}function oI(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=UT(s.transform,o||null);u!=null&&(n===null&&(n=an.empty()),n.set(s.field,u))}return n||null}function Ov(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ga(s,o,(u,f)=>rI(u,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Gl extends mh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Fr extends mh{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function qT(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function Nv(r,t,n){const s=new Map;qt(r.length===n.length,32656,{Ae:n.length,Re:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,p=t.data.field(u.field);s.set(u.field,iI(f,p,n[o]))}return s}function Vv(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,nI(u,f,t))}return s}class km extends mh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lI extends mh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&aI(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Cl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Cl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=xT();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(o.key)?null:p;const g=jT(f,p);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Et.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Nt())}isEqual(t){return this.batchId===t.batchId&&Ga(this.mutations,t.mutations,(n,s)=>Ov(n,s))&&Ga(this.baseMutations,t.baseMutations,(n,s)=>Ov(n,s))}}class Um{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){qt(t.mutations.length===s.length,58842,{Ve:t.mutations.length,me:s.length});let o=function(){return ZR}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Um(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e,Ut;function fI(r){switch(r){case Q.OK:return gt(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return gt(15467,{code:r})}}function HT(r){if(r===void 0)return Fi("GRPC error has no .code"),Q.UNKNOWN;switch(r){case _e.OK:return Q.OK;case _e.CANCELLED:return Q.CANCELLED;case _e.UNKNOWN:return Q.UNKNOWN;case _e.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case _e.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case _e.INTERNAL:return Q.INTERNAL;case _e.UNAVAILABLE:return Q.UNAVAILABLE;case _e.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case _e.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case _e.NOT_FOUND:return Q.NOT_FOUND;case _e.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case _e.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case _e.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case _e.ABORTED:return Q.ABORTED;case _e.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case _e.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case _e.DATA_LOSS:return Q.DATA_LOSS;default:return gt(39323,{code:r})}}(Ut=_e||(_e={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=new Vr([4294967295,4294967295],0);function Mv(r){const t=hT().encode(r),n=new iT;return n.update(t),new Uint8Array(n.digest())}function Pv(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Vr([n,s],0),new Vr([o,u],0)]}class Lm{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Tl(`Invalid padding: ${n}`);if(s<0)throw new Tl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Tl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Tl(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*t.length-n,this.ge=Vr.fromNumber(this.fe)}pe(t,n,s){let o=t.add(n.multiply(Vr.fromNumber(s)));return o.compare(dI)===1&&(o=new Vr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const n=Mv(t),[s,o]=Pv(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);if(!this.ye(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Lm(u,o,n);return s.forEach(p=>f.insert(p)),f}insert(t){if(this.fe===0)return;const n=Mv(t),[s,o]=Pv(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);this.we(f)}}we(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Tl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Ql.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new ph(Et.min(),o,new re(wt),Gi(),Nt())}}class Ql{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Ql(s,n,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(t,n,s,o){this.Se=t,this.removedTargetIds=n,this.key=s,this.be=o}}class FT{constructor(t,n){this.targetId=t,this.De=n}}class GT{constructor(t,n,s=He.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class xv{constructor(){this.ve=0,this.Ce=kv(),this.Fe=He.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=Nt(),n=Nt(),s=Nt();return this.Ce.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:gt(38017,{changeType:u})}}),new Ql(this.Fe,this.Me,t,n,s)}ke(){this.xe=!1,this.Ce=kv()}qe(t,n){this.xe=!0,this.Ce=this.Ce.insert(t,n)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class mI{constructor(t){this.We=t,this.Ge=new Map,this.ze=Gi(),this.je=bc(),this.Je=bc(),this.He=new re(wt)}Ye(t){for(const n of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(n,t.be):this.Xe(n,t.key,t.be);for(const n of t.removedTargetIds)this.Xe(n,t.key,t.be)}et(t){this.forEachTarget(t,n=>{const s=this.tt(n);switch(t.state){case 0:this.nt(n)&&s.Be(t.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(t.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(t.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(t.resumeToken));break;default:gt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Ge.forEach((s,o)=>{this.nt(o)&&n(o)})}it(t){const n=t.targetId,s=t.De.count,o=this.st(n);if(o){const u=o.target;if(Jd(u))if(s===0){const f=new ut(u.path);this.Xe(n,f,Xe.newNoDocument(f,Et.min()))}else qt(s===1,20013,{expectedCount:s});else{const f=this.ot(n);if(f!==s){const p=this._t(t),g=p?this.ut(p,t,f):1;if(g!==0){this.rt(n);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,_)}}}}}_t(t){const n=t.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,p;try{f=Lr(s).toUint8Array()}catch(g){if(g instanceof gT)return xr("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Lm(f,o,u)}catch(g){return xr(g instanceof Tl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.fe===0?null:p}ut(t,n,s){return n.De.count===s-this.ht(t,n.targetId)?0:2}ht(t,n){const s=this.We.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.We.lt(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(p)||(this.Xe(n,u,null),o++)}),o}Pt(t){const n=new Map;this.Ge.forEach((u,f)=>{const p=this.st(f);if(p){if(u.current&&Jd(p.target)){const g=new ut(p.target.path);this.Tt(g).has(f)||this.It(f,g)||this.Xe(f,g,Xe.newNoDocument(g,t))}u.Ne&&(n.set(f,u.Le()),u.ke())}});let s=Nt();this.Je.forEach((u,f)=>{let p=!0;f.forEachWhile(g=>{const _=this.st(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(s=s.add(u))}),this.ze.forEach((u,f)=>f.setReadTime(t));const o=new ph(t,n,this.He,this.ze,s);return this.ze=Gi(),this.je=bc(),this.Je=bc(),this.He=new re(wt),o}Ze(t,n){if(!this.nt(t))return;const s=this.It(t,n.key)?2:0;this.tt(t).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(t)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(t))}Xe(t,n,s){if(!this.nt(t))return;const o=this.tt(t);this.It(t,n)?o.qe(n,1):o.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(t)),this.Je=this.Je.insert(n,this.dt(n).add(t)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(t){this.Ge.delete(t)}ot(t){const n=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let n=this.Ge.get(t);return n||(n=new xv,this.Ge.set(t,n)),n}dt(t){let n=this.Je.get(t);return n||(n=new Re(wt),this.Je=this.Je.insert(t,n)),n}Tt(t){let n=this.je.get(t);return n||(n=new Re(wt),this.je=this.je.insert(t,n)),n}nt(t){const n=this.st(t)!==null;return n||st("WatchChangeAggregator","Detected inactive target",t),n}st(t){const n=this.Ge.get(t);return n&&n.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new xv),this.We.getRemoteKeysForTarget(t).forEach(n=>{this.Xe(t,n,null)})}It(t,n){return this.We.getRemoteKeysForTarget(t).has(n)}}function bc(){return new re(ut.comparator)}function kv(){return new re(ut.comparator)}const pI={asc:"ASCENDING",desc:"DESCENDING"},gI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_I={and:"AND",or:"OR"};class yI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function nm(r,t){return r.useProto3Json||uh(t)?t:{value:t}}function $c(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function QT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function vI(r,t){return $c(r,t.toTimestamp())}function ci(r){return qt(!!r,49232),Et.fromTimestamp(function(n){const s=Ur(n);return new te(s.seconds,s.nanos)}(r))}function zm(r,t){return im(r,t).canonicalString()}function im(r,t){const n=function(o){return new Jt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?n:n.child(t)}function KT(r){const t=Jt.fromString(r);return qt(WT(t),10190,{key:t.toString()}),t}function rm(r,t){return zm(r.databaseId,t.path)}function kd(r,t){const n=KT(t);if(n.get(1)!==r.databaseId.projectId)throw new rt(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new rt(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ut(XT(n))}function YT(r,t){return zm(r.databaseId,t)}function EI(r){const t=KT(r);return t.length===4?Jt.emptyPath():XT(t)}function sm(r){return new Jt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function XT(r){return qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Uv(r,t,n){return{name:rm(r,t),fields:n.value.mapValue.fields}}function TI(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:gt(39313,{state:_})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(_,T){return _.useProto3Json?(qt(T===void 0||typeof T=="string",58123),He.fromBase64String(T||"")):(qt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),He.fromUint8Array(T||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,p=f&&function(_){const T=_.code===void 0?Q.UNKNOWN:HT(_.code);return new rt(T,_.message||"")}(f);n=new GT(s,o,u,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=kd(r,s.document.name),u=ci(s.document.updateTime),f=s.document.createTime?ci(s.document.createTime):Et.min(),p=new an({mapValue:{fields:s.document.fields}}),g=Xe.newFoundDocument(o,u,f,p),_=s.targetIds||[],T=s.removedTargetIds||[];n=new Pc(_,T,g.key,g)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=kd(r,s.document),u=s.readTime?ci(s.readTime):Et.min(),f=Xe.newNoDocument(o,u),p=s.removedTargetIds||[];n=new Pc([],p,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=kd(r,s.document),u=s.removedTargetIds||[];n=new Pc([],u,o,null)}else{if(!("filter"in t))return gt(11601,{At:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new hI(o,u),p=s.targetId;n=new FT(p,f)}}return n}function AI(r,t){let n;if(t instanceof Gl)n={update:Uv(r,t.key,t.value)};else if(t instanceof km)n={delete:rm(r,t.key)};else if(t instanceof Fr)n={update:Uv(r,t.key,t.data),updateMask:NI(t.fieldMask)};else{if(!(t instanceof lI))return gt(16599,{Rt:t.type});n={verify:rm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(u,f){const p=f.transform;if(p instanceof Yc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Ul)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ll)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Xc)return{fieldPath:f.field.canonicalString(),increment:p.Ee};throw gt(20930,{transform:f.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:vI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:gt(27497)}(r,t.precondition)),n}function SI(r,t){return r&&r.length>0?(qt(t!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?ci(o.updateTime):ci(u);return f.isEqual(Et.min())&&(f=ci(u)),new sI(f,o.transformResults||[])}(n,t))):[]}function bI(r,t){return{documents:[YT(r,t.path)]}}function wI(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=YT(r,o);const u=function(_){if(_.length!==0)return ZT(qn.create(_,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(_){if(_.length!==0)return _.map(T=>function(C){return{field:xa(C.field),direction:CI(C.dir)}}(T))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const p=nm(r,t.limit);return p!==null&&(n.structuredQuery.limit=p),t.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(t.endAt)),{Vt:n,parent:o}}function RI(r){let t=EI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){qt(s===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:t=t.child(T.collectionId)}let u=[];n.where&&(u=function(b){const C=$T(b);return C instanceof qn&&RT(C)?C.getFilters():[C]}(n.where));let f=[];n.orderBy&&(f=function(b){return b.map(C=>function($){return new kl(ka($.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction))}(C))}(n.orderBy));let p=null;n.limit&&(p=function(b){let C;return C=typeof b=="object"?b.value:b,uh(C)?null:C}(n.limit));let g=null;n.startAt&&(g=function(b){const C=!!b.before,q=b.values||[];return new Kc(q,C)}(n.startAt));let _=null;return n.endAt&&(_=function(b){const C=!b.before,q=b.values||[];return new Kc(q,C)}(n.endAt)),QR(t,o,f,u,p,"F",g,_)}function II(r,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:o})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function $T(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ka(n.unaryFilter.field);return ye.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ka(n.unaryFilter.field);return ye.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ka(n.unaryFilter.field);return ye.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=ka(n.unaryFilter.field);return ye.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}}(r):r.fieldFilter!==void 0?function(n){return ye.create(ka(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return qn.create(n.compositeFilter.filters.map(s=>$T(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return gt(1026)}}(n.compositeFilter.op))}(r):gt(30097,{filter:r})}function CI(r){return pI[r]}function DI(r){return gI[r]}function OI(r){return _I[r]}function xa(r){return{fieldPath:r.canonicalString()}}function ka(r){return qe.fromServerFormat(r.fieldPath)}function ZT(r){return r instanceof ye?function(n){if(n.op==="=="){if(bv(n.value))return{unaryFilter:{field:xa(n.field),op:"IS_NAN"}};if(Sv(n.value))return{unaryFilter:{field:xa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(bv(n.value))return{unaryFilter:{field:xa(n.field),op:"IS_NOT_NAN"}};if(Sv(n.value))return{unaryFilter:{field:xa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xa(n.field),op:DI(n.op),value:n.value}}}(r):r instanceof qn?function(n){const s=n.getFilters().map(o=>ZT(o));return s.length===1?s[0]:{compositeFilter:{op:OI(n.op),filters:s}}}(r):gt(54877,{filter:r})}function NI(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function WT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(t,n,s,o,u=Et.min(),f=Et.min(),p=He.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(t){return new Ir(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(t){this.gt=t}}function MI(r){const t=RI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?em(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(){this.Dn=new xI}addToCollectionParentIndex(t,n){return this.Dn.add(n),Y.resolve()}getCollectionParents(t,n){return Y.resolve(this.Dn.getEntries(n))}addFieldIndex(t,n){return Y.resolve()}deleteFieldIndex(t,n){return Y.resolve()}deleteAllFieldIndexes(t){return Y.resolve()}createTargetIndexes(t,n){return Y.resolve()}getDocumentsMatchingTarget(t,n){return Y.resolve(null)}getIndexType(t,n){return Y.resolve(0)}getFieldIndexes(t,n){return Y.resolve([])}getNextCollectionGroupToUpdate(t){return Y.resolve(null)}getMinOffset(t,n){return Y.resolve(kr.min())}getMinOffsetFromCollectionGroup(t,n){return Y.resolve(kr.min())}updateCollectionGroup(t,n,s){return Y.resolve()}updateIndexEntries(t,n){return Y.resolve()}}class xI{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Re(Jt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Re(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},JT=41943040;class sn{static withCacheSize(t){return new sn(t,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(JT,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new Ya(0)}static ur(){return new Ya(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="LruGarbageCollector",kI=1048576;function Bv([r,t],[n,s]){const o=wt(r,n);return o===0?wt(t,s):o}class UI{constructor(t){this.Tr=t,this.buffer=new Re(Bv),this.Ir=0}dr(){return++this.Ir}Er(t){const n=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Bv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class LI{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){st(zv,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){io(n)?st(zv,"Ignoring IndexedDB error during garbage collection: ",n):await no(n)}await this.Rr(3e5)})}}class zI{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.mr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return Y.resolve(lh.ue);const s=new UI(n);return this.Vr.forEachTarget(t,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.gr(t,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.Vr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(Lv)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Lv):this.pr(t,n))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,n){let s,o,u,f,p,g,_;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(t,o))).next(b=>(s=b,p=Date.now(),this.removeTargets(t,s,n))).next(b=>(u=b,g=Date.now(),this.removeOrphanedDocuments(t,s))).next(b=>(_=Date.now(),Ma()<=Ot.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${b} documents in `+(_-g)+`ms
Total Duration: ${_-T}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function BI(r,t){return new zI(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(){this.changes=new Ls(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Xe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Y.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&Cl(s.mutation,o,gn.empty(),te.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Nt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Nt()){const o=Ds();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(u=>{let f=El();return u.forEach((p,g)=>{f=f.insert(p,g.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=Ds();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Nt()))}populateOverlays(t,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,p)=>{n.set(f,p)})})}computeViews(t,n,s,o){let u=Gi();const f=Il(),p=function(){return Il()}();return n.forEach((g,_)=>{const T=s.get(_.key);o.has(_.key)&&(T===void 0||T.mutation instanceof Fr)?u=u.insert(_.key,_):T!==void 0?(f.set(_.key,T.mutation.getFieldMask()),Cl(T.mutation,_,T.mutation.getFieldMask(),te.now())):f.set(_.key,gn.empty())}),this.recalculateAndSaveOverlays(t,u).next(g=>(g.forEach((_,T)=>f.set(_,T)),n.forEach((_,T)=>{var b;return p.set(_,new qI(T,(b=f.get(_))!==null&&b!==void 0?b:null))}),p))}recalculateAndSaveOverlays(t,n){const s=Il();let o=new re((f,p)=>f-p),u=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const p of f)p.keys().forEach(g=>{const _=n.get(g);if(_===null)return;let T=s.get(g)||gn.empty();T=p.applyToLocalView(_,T),s.set(g,T);const b=(o.get(p.batchId)||Nt()).add(g);o=o.insert(p.batchId,b)})}).next(()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),_=g.key,T=g.value,b=xT();T.forEach(C=>{if(!u.has(C)){const q=jT(n.get(C),s.get(C));q!==null&&b.set(C,q),u=u.add(C)}}),f.push(this.documentOverlayCache.saveOverlays(t,_,b))}return Y.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(f){return ut.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):OT(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):Y.resolve(Ds());let p=Vl,g=u;return f.next(_=>Y.forEach(_,(T,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),u.get(T)?Y.resolve():this.remoteDocumentCache.getEntry(t,T).next(C=>{g=g.insert(T,C)}))).next(()=>this.populateOverlays(t,_,u)).next(()=>this.computeViews(t,g,_,Nt())).next(T=>({batchId:p,changes:PT(T)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ut(n)).next(s=>{let o=El();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=El();return this.indexManager.getCollectionParents(t,u).next(p=>Y.forEach(p,g=>{const _=function(b,C){return new ro(C,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,_,s,o).next(T=>{T.forEach((b,C)=>{f=f.insert(b,C)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o))).next(f=>{u.forEach((g,_)=>{const T=_.getKey();f.get(T)===null&&(f=f.insert(T,Xe.newInvalidDocument(T)))});let p=El();return f.forEach((g,_)=>{const T=u.get(g);T!==void 0&&Cl(T.mutation,_,gn.empty(),te.now()),fh(n,_)&&(p=p.insert(g,_))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,n){return Y.resolve(this.Br.get(n))}saveBundleMetadata(t,n){return this.Br.set(n.id,function(o){return{id:o.id,version:o.version,createTime:ci(o.createTime)}}(n)),Y.resolve()}getNamedQuery(t,n){return Y.resolve(this.Lr.get(n))}saveNamedQuery(t,n){return this.Lr.set(n.name,function(o){return{name:o.name,query:MI(o.bundledQuery),readTime:ci(o.readTime)}}(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(){this.overlays=new re(ut.comparator),this.kr=new Map}getOverlay(t,n){return Y.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Ds();return Y.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,u)=>{this.wt(t,n,u)}),Y.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.kr.delete(s)),Y.resolve()}getOverlaysForCollection(t,n,s){const o=Ds(),u=n.length+1,f=new ut(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const g=p.getNext().value,_=g.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return Y.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new re((_,T)=>_-T);const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let T=u.get(_.largestBatchId);T===null&&(T=Ds(),u=u.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const p=Ds(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((_,T)=>p.set(_,T)),!(p.size()>=o)););return Y.resolve(p)}wt(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new cI(n,s));let u=this.kr.get(n);u===void 0&&(u=Nt(),this.kr.set(n,u)),this.kr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(){this.sessionToken=He.EMPTY_BYTE_STRING}getSessionToken(t){return Y.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(){this.qr=new Re(Pe.Qr),this.$r=new Re(Pe.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,n){const s=new Pe(t,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.Wr(new Pe(t,n))}Gr(t,n){t.forEach(s=>this.removeReference(s,n))}zr(t){const n=new ut(new Jt([])),s=new Pe(n,t),o=new Pe(n,t+1),u=[];return this.$r.forEachInRange([s,o],f=>{this.Wr(f),u.push(f.key)}),u}jr(){this.qr.forEach(t=>this.Wr(t))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const n=new ut(new Jt([])),s=new Pe(n,t),o=new Pe(n,t+1);let u=Nt();return this.$r.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new Pe(t,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Pe{constructor(t,n){this.key=t,this.Hr=n}static Qr(t,n){return ut.comparator(t.key,n.key)||wt(t.Hr,n.Hr)}static Ur(t,n){return wt(t.Hr,n.Hr)||ut.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Re(Pe.Qr)}checkEmpty(t){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new uI(u,n,s,o);this.mutationQueue.push(f);for(const p of o)this.Yr=this.Yr.add(new Pe(p.key,u)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Y.resolve(f)}lookupMutationBatch(t,n){return Y.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return Y.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?Dm:this.er-1)}getAllMutationBatches(t){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Pe(n,0),o=new Pe(n,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],f=>{const p=this.Zr(f.Hr);u.push(p)}),Y.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Re(wt);return n.forEach(o=>{const u=new Pe(o,0),f=new Pe(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,f],p=>{s=s.add(p.Hr)})}),Y.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;ut.isDocumentKey(u)||(u=u.child(""));const f=new Pe(new ut(u),0);let p=new Re(wt);return this.Yr.forEachWhile(g=>{const _=g.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(p=p.add(g.Hr)),!0)},f),Y.resolve(this.ei(p))}ei(t){const n=[];return t.forEach(s=>{const o=this.Zr(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){qt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return Y.forEach(n.mutations,o=>{const u=new Pe(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Yr=s})}rr(t){}containsKey(t,n){const s=new Pe(n,0),o=this.Yr.firstAfterOrEqual(s);return Y.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,Y.resolve()}ti(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(t){this.ni=t,this.docs=function(){return new re(ut.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return Y.resolve(s?s.document.mutableCopy():Xe.newInvalidDocument(n))}getEntries(t,n){let s=Gi();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Xe.newInvalidDocument(o))}),Y.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=Gi();const f=n.path,p=new ut(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:_,value:{document:T}}=g.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||bR(SR(T),s)<=0||(o.has(T.key)||fh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return Y.resolve(u)}getAllFromCollectionGroup(t,n,s,o){gt(9500)}ri(t,n){return Y.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new XI(this)}getSize(t){return Y.resolve(this.size)}}class XI extends jI{constructor(t){super(),this.Or=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Or.addEntry(t,o)):this.Or.removeEntry(s)}),Y.waitFor(n)}getFromCache(t,n){return this.Or.getEntry(t,n)}getAllFromCache(t,n){return this.Or.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(t){this.persistence=t,this.ii=new Ls(n=>Vm(n),Mm),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.si=0,this.oi=new Bm,this.targetCount=0,this._i=Ya.ar()}forEachTarget(t,n){return this.ii.forEach((s,o)=>n(o)),Y.resolve()}getLastRemoteSnapshotVersion(t){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Y.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),Y.resolve()}hr(t){this.ii.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this._i=new Ya(n),this.highestTargetId=n),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,n){return this.hr(n),this.targetCount+=1,Y.resolve()}updateTargetData(t,n){return this.hr(n),Y.resolve()}removeTargetData(t,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.ii.forEach((f,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.ii.delete(f),u.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)}),Y.waitFor(u).next(()=>o)}getTargetCount(t){return Y.resolve(this.targetCount)}getTargetData(t,n){const s=this.ii.get(n)||null;return Y.resolve(s)}addMatchingKeys(t,n,s){return this.oi.Kr(n,s),Y.resolve()}removeMatchingKeys(t,n,s){this.oi.Gr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),Y.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.oi.zr(n),Y.resolve()}getMatchingKeysForTargetId(t,n){const s=this.oi.Jr(n);return Y.resolve(s)}containsKey(t,n){return Y.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(t,n){this.ai={},this.overlays={},this.ui=new lh(0),this.ci=!1,this.ci=!0,this.li=new QI,this.referenceDelegate=t(this),this.hi=new $I(this),this.indexManager=new PI,this.remoteDocumentCache=function(o){return new YI(o)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new VI(n),this.Ti=new FI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new GI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ai[t.toKey()];return s||(s=new KI(n,this.referenceDelegate),this.ai[t.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,n,s){st("MemoryPersistence","Starting transaction:",t);const o=new ZI(this.ui.next());return this.referenceDelegate.Ii(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ei(t,n){return Y.or(Object.values(this.ai).map(s=>()=>s.containsKey(t,n)))}}class ZI extends RR{constructor(t){super(),this.currentSequenceNumber=t}}class jm{constructor(t){this.persistence=t,this.Ai=new Bm,this.Ri=null}static Vi(t){return new jm(t)}get mi(){if(this.Ri)return this.Ri;throw gt(60996)}addReference(t,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),Y.resolve()}removeReference(t,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),Y.resolve()}markPotentiallyOrphaned(t,n){return this.mi.add(n.toString()),Y.resolve()}removeTarget(t,n){this.Ai.zr(n.targetId).forEach(o=>this.mi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.mi.add(u.toString()))}).next(()=>s.removeTargetData(t,n))}Ii(){this.Ri=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.mi,s=>{const o=ut.fromPath(s);return this.fi(t,o).next(u=>{u||n.removeEntry(o,Et.min())})}).next(()=>(this.Ri=null,n.apply(t)))}updateLimboDocument(t,n){return this.fi(t,n).next(s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(t){return 0}fi(t,n){return Y.or([()=>Y.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class Zc{constructor(t,n){this.persistence=t,this.gi=new Ls(s=>DR(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=BI(this,n)}static Vi(t,n){return new Zc(t,n)}Ii(){}di(t){return Y.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}mr(t){const n=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}yr(t){let n=0;return this.gr(t,s=>{n++}).next(()=>n)}gr(t,n){return Y.forEach(this.gi,(s,o)=>this.Sr(t,s,o).next(u=>u?Y.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(t,f=>this.Sr(t,f,n).next(p=>{p||(s++,u.removeEntry(f,Et.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.gi.set(n,t.currentSequenceNumber),Y.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.gi.set(s,t.currentSequenceNumber),Y.resolve()}removeReference(t,n,s){return this.gi.set(s,t.currentSequenceNumber),Y.resolve()}updateLimboDocument(t,n){return this.gi.set(n,t.currentSequenceNumber),Y.resolve()}Pi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Nc(t.data.value)),n}Sr(t,n,s){return Y.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.gi.get(n);return Y.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Is=s,this.ds=o}static Es(t,n){let s=Nt(),o=Nt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new qm(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return VS()?8:IR($e())>0?6:4}()}initialize(t,n){this.gs=t,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ps(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ys(t,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new WI;return this.ws(t,n,f).next(p=>{if(u.result=p,this.Rs)return this.Ss(t,n,f,p.size)})}).next(()=>u.result)}Ss(t,n,s,o){return s.documentReadCount<this.Vs?(Ma()<=Ot.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Pa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Y.resolve()):(Ma()<=Ot.DEBUG&&st("QueryEngine","Query:",Pa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(Ma()<=Ot.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Pa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ui(n))):Y.resolve())}ps(t,n){if(Cv(n))return Y.resolve(null);let s=ui(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=em(n,null,"F"),s=ui(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const f=Nt(...u);return this.gs.getDocuments(t,f).next(p=>this.indexManager.getMinOffset(t,s).next(g=>{const _=this.bs(n,p);return this.Ds(n,_,f,g.readTime)?this.ps(t,em(n,null,"F")):this.vs(t,_,n,g)}))})))}ys(t,n,s,o){return Cv(n)||o.isEqual(Et.min())?Y.resolve(null):this.gs.getDocuments(t,s).next(u=>{const f=this.bs(n,u);return this.Ds(n,f,s,o)?Y.resolve(null):(Ma()<=Ot.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Pa(n)),this.vs(t,f,n,AR(o,Vl)).next(p=>p))})}bs(t,n){let s=new Re(VT(t));return n.forEach((o,u)=>{fh(t,u)&&(s=s.add(u))}),s}Ds(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(t,n,s){return Ma()<=Ot.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Pa(n)),this.gs.getDocumentsMatchingQuery(t,n,kr.min(),s)}vs(t,n,s,o){return this.gs.getDocumentsMatchingQuery(t,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="LocalStore",tC=3e8;class eC{constructor(t,n,s,o){this.persistence=t,this.Cs=n,this.serializer=o,this.Fs=new re(wt),this.Ms=new Ls(u=>Vm(u),Mm),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(s)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new HI(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Fs))}}function nC(r,t,n,s){return new eC(r,t,n,s)}async function e0(r,t){const n=At(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ns(t),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],p=[];let g=Nt();for(const _ of o){f.push(_.batchId);for(const T of _.mutations)g=g.add(T.key)}for(const _ of u){p.push(_.batchId);for(const T of _.mutations)g=g.add(T.key)}return n.localDocuments.getDocuments(s,g).next(_=>({Bs:_,removedBatchIds:f,addedBatchIds:p}))})})}function iC(r,t){const n=At(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=n.Os.newChangeBuffer({trackRemovals:!0});return function(p,g,_,T){const b=_.batch,C=b.keys();let q=Y.resolve();return C.forEach($=>{q=q.next(()=>T.getEntry(g,$)).next(tt=>{const Z=_.docVersions.get($);qt(Z!==null,48541),tt.version.compareTo(Z)<0&&(b.applyToRemoteDocument(tt,_),tt.isValidDocument()&&(tt.setReadTime(_.commitVersion),T.addEntry(tt)))})}),q.next(()=>p.mutationQueue.removeMutationBatch(g,b))}(n,s,t,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let g=Nt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(g=g.add(p.batch.mutations[_].key));return g}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function n0(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.hi.getLastRemoteSnapshotVersion(n))}function rC(r,t){const n=At(r),s=t.snapshotVersion;let o=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Os.newChangeBuffer({trackRemovals:!0});o=n.Fs;const p=[];t.targetChanges.forEach((T,b)=>{const C=o.get(b);if(!C)return;p.push(n.hi.removeMatchingKeys(u,T.removedDocuments,b).next(()=>n.hi.addMatchingKeys(u,T.addedDocuments,b)));let q=C.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?q=q.withResumeToken(He.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):T.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(T.resumeToken,s)),o=o.insert(b,q),function(tt,Z,Tt){return tt.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=tC?!0:Tt.addedDocuments.size+Tt.modifiedDocuments.size+Tt.removedDocuments.size>0}(C,q,T)&&p.push(n.hi.updateTargetData(u,q))});let g=Gi(),_=Nt();if(t.documentUpdates.forEach(T=>{t.resolvedLimboDocuments.has(T)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))}),p.push(sC(u,f,t.documentUpdates).next(T=>{g=T.Ls,_=T.ks})),!s.isEqual(Et.min())){const T=n.hi.getLastRemoteSnapshotVersion(u).next(b=>n.hi.setTargetsMetadata(u,u.currentSequenceNumber,s));p.push(T)}return Y.waitFor(p).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,_)).next(()=>g)}).then(u=>(n.Fs=o,u))}function sC(r,t,n){let s=Nt(),o=Nt();return n.forEach(u=>s=s.add(u)),t.getEntries(r,s).next(u=>{let f=Gi();return n.forEach((p,g)=>{const _=u.get(p);g.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Et.min())?(t.removeEntry(p,g.readTime),f=f.insert(p,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(g),f=f.insert(p,g)):st(Hm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",g.version)}),{Ls:f,ks:o}})}function aC(r,t){const n=At(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Dm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function oC(r,t){const n=At(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.hi.getTargetData(s,t).next(u=>u?(o=u,Y.resolve(o)):n.hi.allocateTargetId(s).next(f=>(o=new Ir(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(t,s.targetId)),s})}async function am(r,t,n){const s=At(r),o=s.Fs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!io(f))throw f;st(Hm,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Fs=s.Fs.remove(t),s.Ms.delete(o.target)}function jv(r,t,n){const s=At(r);let o=Et.min(),u=Nt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(g,_,T){const b=At(g),C=b.Ms.get(T);return C!==void 0?Y.resolve(b.Fs.get(C)):b.hi.getTargetData(_,T)}(s,f,ui(t)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(f,p.targetId).next(g=>{u=g})}).next(()=>s.Cs.getDocumentsMatchingQuery(f,t,n?o:Et.min(),n?u:Nt())).next(p=>(lC(s,YR(t),p),{documents:p,qs:u})))}function lC(r,t,n){let s=r.xs.get(t)||Et.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.xs.set(t,s)}class qv{constructor(){this.activeTargetIds=tI()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class uC{constructor(){this.Fo=new qv,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,n,s){this.Mo[t]=n}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new qv,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="ConnectivityMonitor";class Fv{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){st(Hv,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){st(Hv,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wc=null;function om(){return wc===null?wc=function(){return 268435456+Math.round(2147483648*Math.random())}():wc++,"0x"+wc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud="RestConnection",hC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fC{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+t.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===Gc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(t,n,s,o,u){const f=om(),p=this.Go(t,n.toUriEncodedString());st(Ud,`Sending RPC '${t}' ${f}:`,p,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(g,o,u);const{host:_}=new URL(p),T=Za(_);return this.jo(t,p,g,s,T).then(b=>(st(Ud,`Received RPC '${t}' ${f}: `,b),b),b=>{throw xr(Ud,`RPC '${t}' ${f} failed with error: `,b,"url: ",p,"request:",s),b})}Jo(t,n,s,o,u,f){return this.Wo(t,n,s,o,u)}zo(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+eo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}Go(t,n){const s=hC[t];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ke="WebChannelConnection";class mC extends fC{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,n,s,o,u){const f=om();return new Promise((p,g)=>{const _=new rT;_.setWithCredentials(!0),_.listenOnce(sT.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Oc.NO_ERROR:const b=_.getResponseJson();st(Ke,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(b)),p(b);break;case Oc.TIMEOUT:st(Ke,`RPC '${t}' ${f} timed out`),g(new rt(Q.DEADLINE_EXCEEDED,"Request time out"));break;case Oc.HTTP_ERROR:const C=_.getStatus();if(st(Ke,`RPC '${t}' ${f} failed with status:`,C,"response text:",_.getResponseText()),C>0){let q=_.getResponseJson();Array.isArray(q)&&(q=q[0]);const $=q?.error;if($&&$.status&&$.message){const tt=function(Tt){const dt=Tt.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(dt)>=0?dt:Q.UNKNOWN}($.status);g(new rt(tt,$.message))}else g(new rt(Q.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new rt(Q.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{c_:t,streamId:f,l_:_.getLastErrorCode(),h_:_.getLastError()})}}finally{st(Ke,`RPC '${t}' ${f} completed.`)}});const T=JSON.stringify(o);st(Ke,`RPC '${t}' ${f} sending request:`,o),_.send(n,"POST",T,s,15)})}P_(t,n,s){const o=om(),u=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=lT(),p=oT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.zo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const T=u.join("");st(Ke,`Creating RPC '${t}' stream ${o}: ${T}`,g);const b=f.createWebChannel(T,g);this.T_(b);let C=!1,q=!1;const $=new dC({Ho:Z=>{q?st(Ke,`Not sending because RPC '${t}' stream ${o} is closed:`,Z):(C||(st(Ke,`Opening RPC '${t}' stream ${o} transport.`),b.open(),C=!0),st(Ke,`RPC '${t}' stream ${o} sending:`,Z),b.send(Z))},Yo:()=>b.close()}),tt=(Z,Tt,dt)=>{Z.listen(Tt,ct=>{try{dt(ct)}catch(Vt){setTimeout(()=>{throw Vt},0)}})};return tt(b,vl.EventType.OPEN,()=>{q||(st(Ke,`RPC '${t}' stream ${o} transport opened.`),$.s_())}),tt(b,vl.EventType.CLOSE,()=>{q||(q=!0,st(Ke,`RPC '${t}' stream ${o} transport closed`),$.__(),this.I_(b))}),tt(b,vl.EventType.ERROR,Z=>{q||(q=!0,xr(Ke,`RPC '${t}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),$.__(new rt(Q.UNAVAILABLE,"The operation could not be completed")))}),tt(b,vl.EventType.MESSAGE,Z=>{var Tt;if(!q){const dt=Z.data[0];qt(!!dt,16349);const ct=dt,Vt=ct?.error||((Tt=ct[0])===null||Tt===void 0?void 0:Tt.error);if(Vt){st(Ke,`RPC '${t}' stream ${o} received error:`,Vt);const vt=Vt.status;let Mt=function(R){const N=_e[R];if(N!==void 0)return HT(N)}(vt),V=Vt.message;Mt===void 0&&(Mt=Q.INTERNAL,V="Unknown error status: "+vt+" with message "+Vt.message),q=!0,$.__(new rt(Mt,V)),b.close()}else st(Ke,`RPC '${t}' stream ${o} received:`,dt),$.a_(dt)}}),tt(p,aT.STAT_EVENT,Z=>{Z.stat===Yd.PROXY?st(Ke,`RPC '${t}' stream ${o} detected buffering proxy`):Z.stat===Yd.NOPROXY&&st(Ke,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{$.o_()},0),$}terminate(){this.u_.forEach(t=>t.close()),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter(n=>n===t)}}function Ld(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(r){return new yI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Fi=t,this.timerId=n,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,n-s);o>0&&st("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),t())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv="PersistentStream";class r0{constructor(t,n,s,o,u,f,p,g){this.Fi=t,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new i0(t,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(Fi(n.toString()),Fi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(n)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.b_===n&&this.W_(s,o)},s=>{t(()=>{const o=new rt(Q.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)})})}W_(t,n){const s=this.K_(this.b_);this.stream=this.z_(t,n),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{s(()=>this.G_(o))}),this.stream.onMessage(o=>{s(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(t){return st(Gv,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return n=>{this.Fi.enqueueAndForget(()=>this.b_===t?n():(st(Gv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pC extends r0{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}z_(t,n){return this.connection.P_("Listen",t,n)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const n=TI(this.serializer,t),s=function(u){if(!("targetChange"in u))return Et.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Et.min():f.readTime?ci(f.readTime):Et.min()}(t);return this.listener.J_(n,s)}H_(t){const n={};n.database=sm(this.serializer),n.addTarget=function(u,f){let p;const g=f.target;if(p=Jd(g)?{documents:bI(u,g)}:{query:wI(u,g).Vt},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=QT(u,f.resumeToken);const _=nm(u,f.expectedCount);_!==null&&(p.expectedCount=_)}else if(f.snapshotVersion.compareTo(Et.min())>0){p.readTime=$c(u,f.snapshotVersion.toTimestamp());const _=nm(u,f.expectedCount);_!==null&&(p.expectedCount=_)}return p}(this.serializer,t);const s=II(this.serializer,t);s&&(n.labels=s),this.k_(n)}Y_(t){const n={};n.database=sm(this.serializer),n.removeTarget=t,this.k_(n)}}class gC extends r0{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,n){return this.connection.P_("Write",t,n)}j_(t){return qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const n=SI(t.writeResults,t.commitTime),s=ci(t.commitTime);return this.listener.ta(s,n)}na(){const t={};t.database=sm(this.serializer),this.k_(t)}X_(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>AI(this.serializer,s))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{}class yC extends _C{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new rt(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Wo(t,im(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new rt(Q.UNKNOWN,u.toString())})}Jo(t,n,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,p])=>this.connection.Jo(t,im(n,s),o,f,p,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new rt(Q.UNKNOWN,f.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class vC{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Fi(n),this._a=!1):st("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="RemoteStore";class EC{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo(f=>{s.enqueueAndForget(async()=>{zs(this)&&(st(ks,"Restarting streams for network reachability change."),await async function(g){const _=At(g);_.Ia.add(4),await Kl(_),_.Aa.set("Unknown"),_.Ia.delete(4),await _h(_)}(this))})}),this.Aa=new vC(s,o)}}async function _h(r){if(zs(r))for(const t of r.da)await t(!0)}async function Kl(r){for(const t of r.da)await t(!1)}function s0(r,t){const n=At(r);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),Km(n)?Qm(n):so(n).x_()&&Gm(n,t))}function Fm(r,t){const n=At(r),s=so(n);n.Ta.delete(t),s.x_()&&a0(n,t),n.Ta.size===0&&(s.x_()?s.B_():zs(n)&&n.Aa.set("Unknown"))}function Gm(r,t){if(r.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}so(r).H_(t)}function a0(r,t){r.Ra.$e(t),so(r).Y_(t)}function Qm(r){r.Ra=new mI({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>r.Ta.get(t)||null,lt:()=>r.datastore.serializer.databaseId}),so(r).start(),r.Aa.aa()}function Km(r){return zs(r)&&!so(r).M_()&&r.Ta.size>0}function zs(r){return At(r).Ia.size===0}function o0(r){r.Ra=void 0}async function TC(r){r.Aa.set("Online")}async function AC(r){r.Ta.forEach((t,n)=>{Gm(r,t)})}async function SC(r,t){o0(r),Km(r)?(r.Aa.la(t),Qm(r)):r.Aa.set("Unknown")}async function bC(r,t,n){if(r.Aa.set("Online"),t instanceof GT&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const p of u.targetIds)o.Ta.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ta.delete(p),o.Ra.removeTarget(p))}(r,t)}catch(s){st(ks,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Wc(r,s)}else if(t instanceof Pc?r.Ra.Ye(t):t instanceof FT?r.Ra.it(t):r.Ra.et(t),!n.isEqual(Et.min()))try{const s=await n0(r.localStore);n.compareTo(s)>=0&&await function(u,f){const p=u.Ra.Pt(f);return p.targetChanges.forEach((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const T=u.Ta.get(_);T&&u.Ta.set(_,T.withResumeToken(g.resumeToken,f))}}),p.targetMismatches.forEach((g,_)=>{const T=u.Ta.get(g);if(!T)return;u.Ta.set(g,T.withResumeToken(He.EMPTY_BYTE_STRING,T.snapshotVersion)),a0(u,g);const b=new Ir(T.target,g,_,T.sequenceNumber);Gm(u,b)}),u.remoteSyncer.applyRemoteEvent(p)}(r,n)}catch(s){st(ks,"Failed to raise snapshot:",s),await Wc(r,s)}}async function Wc(r,t,n){if(!io(t))throw t;r.Ia.add(1),await Kl(r),r.Aa.set("Offline"),n||(n=()=>n0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{st(ks,"Retrying IndexedDB access"),await n(),r.Ia.delete(1),await _h(r)})}function l0(r,t){return t().catch(n=>Wc(r,n,t))}async function yh(r){const t=At(r),n=Br(t);let s=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:Dm;for(;wC(t);)try{const o=await aC(t.localStore,s);if(o===null){t.Pa.length===0&&n.B_();break}s=o.batchId,RC(t,o)}catch(o){await Wc(t,o)}u0(t)&&c0(t)}function wC(r){return zs(r)&&r.Pa.length<10}function RC(r,t){r.Pa.push(t);const n=Br(r);n.x_()&&n.Z_&&n.X_(t.mutations)}function u0(r){return zs(r)&&!Br(r).M_()&&r.Pa.length>0}function c0(r){Br(r).start()}async function IC(r){Br(r).na()}async function CC(r){const t=Br(r);for(const n of r.Pa)t.X_(n.mutations)}async function DC(r,t,n){const s=r.Pa.shift(),o=Um.from(s,t,n);await l0(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await yh(r)}async function OC(r,t){t&&Br(r).Z_&&await async function(s,o){if(function(f){return fI(f)&&f!==Q.ABORTED}(o.code)){const u=s.Pa.shift();Br(s).N_(),await l0(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await yh(s)}}(r,t),u0(r)&&c0(r)}async function Qv(r,t){const n=At(r);n.asyncQueue.verifyOperationInProgress(),st(ks,"RemoteStore received new credentials");const s=zs(n);n.Ia.add(3),await Kl(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await _h(n)}async function NC(r,t){const n=At(r);t?(n.Ia.delete(2),await _h(n)):t||(n.Ia.add(2),await Kl(n),n.Aa.set("Unknown"))}function so(r){return r.Va||(r.Va=function(n,s,o){const u=At(n);return u.ia(),new pC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:TC.bind(null,r),e_:AC.bind(null,r),n_:SC.bind(null,r),J_:bC.bind(null,r)}),r.da.push(async t=>{t?(r.Va.N_(),Km(r)?Qm(r):r.Aa.set("Unknown")):(await r.Va.stop(),o0(r))})),r.Va}function Br(r){return r.ma||(r.ma=function(n,s,o){const u=At(n);return u.ia(),new gC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:IC.bind(null,r),n_:OC.bind(null,r),ea:CC.bind(null,r),ta:DC.bind(null,r)}),r.da.push(async t=>{t?(r.ma.N_(),await yh(r)):(await r.ma.stop(),r.Pa.length>0&&(st(ks,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,p=new Ym(t,n,f,o,u);return p.start(s),p}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(Q.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xm(r,t){if(Fi("AsyncQueue",`${t}: ${r}`),io(r))return new rt(Q.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{static emptySet(t){return new ja(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||ut.comparator(n.key,s.key):(n,s)=>ut.comparator(n.key,s.key),this.keyedMap=El(),this.sortedSet=new re(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ja)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new ja;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(){this.fa=new re(ut.comparator)}track(t){const n=t.doc.key,s=this.fa.get(n);s?t.type!==0&&s.type===3?this.fa=this.fa.insert(n,t):t.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.fa=this.fa.remove(n):t.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):gt(63341,{At:t,ga:s}):this.fa=this.fa.insert(n,t)}pa(){const t=[];return this.fa.inorderTraversal((n,s)=>{t.push(s)}),t}}class Xa{constructor(t,n,s,o,u,f,p,g,_){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach(p=>{f.push({type:0,doc:p})}),new Xa(t,n,ja.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&hh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(t=>t.ba())}}class MC{constructor(){this.queries=Yv(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const o=At(n),u=o.queries;o.queries=Yv(),u.forEach((f,p)=>{for(const g of p.wa)g.onError(s)})})(this,new rt(Q.ABORTED,"Firestore shutting down"))}}function Yv(){return new Ls(r=>NT(r),hh)}async function PC(r,t){const n=At(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.Sa()&&t.ba()&&(s=2):(u=new VC,s=t.ba()?0:1);try{switch(s){case 0:u.ya=await n.onListen(o,!0);break;case 1:u.ya=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const p=Xm(f,`Initialization of query '${Pa(t.query)}' failed`);return void t.onError(p)}n.queries.set(o,u),u.wa.push(t),t.va(n.onlineState),u.ya&&t.Ca(u.ya)&&$m(n)}async function xC(r,t){const n=At(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.wa.indexOf(t);f>=0&&(u.wa.splice(f,1),u.wa.length===0?o=t.ba()?0:1:!u.Sa()&&t.ba()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function kC(r,t){const n=At(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const p of f.wa)p.Ca(o)&&(s=!0);f.ya=o}}s&&$m(n)}function UC(r,t,n){const s=At(r),o=s.queries.get(t);if(o)for(const u of o.wa)u.onError(n);s.queries.delete(t)}function $m(r){r.Da.forEach(t=>{t.next()})}var lm,Xv;(Xv=lm||(lm={})).Fa="default",Xv.Cache="cache";class LC{constructor(t,n,s){this.query=t,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Xa(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),n=!0):this.Ba(t,this.onlineState)&&(this.La(t),n=!0),this.Oa=t,n}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),n=!0),n}Ba(t,n){if(!t.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(t){t=Xa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==lm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(t){this.key=t}}class f0{constructor(t){this.key=t}}class zC{constructor(t,n){this.query=t,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Nt(),this.mutatedKeys=Nt(),this.Xa=VT(t),this.eu=new ja(this.Xa)}get tu(){return this.Ha}nu(t,n){const s=n?n.ru:new Kv,o=n?n.eu:this.eu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((T,b)=>{const C=o.get(T),q=fh(this.query,b)?b:null,$=!!C&&this.mutatedKeys.has(C.key),tt=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let Z=!1;C&&q?C.data.isEqual(q.data)?$!==tt&&(s.track({type:3,doc:q}),Z=!0):this.iu(C,q)||(s.track({type:2,doc:q}),Z=!0,(g&&this.Xa(q,g)>0||_&&this.Xa(q,_)<0)&&(p=!0)):!C&&q?(s.track({type:0,doc:q}),Z=!0):C&&!q&&(s.track({type:1,doc:C}),Z=!0,(g||_)&&(p=!0)),Z&&(q?(f=f.add(q),u=tt?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{eu:f,ru:s,Ds:p,mutatedKeys:u}}iu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const f=t.ru.pa();f.sort((T,b)=>function(q,$){const tt=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{At:Z})}};return tt(q)-tt($)}(T.type,b.type)||this.Xa(T.doc,b.doc)),this.su(s),o=o!=null&&o;const p=n&&!o?this.ou():[],g=this.Za.size===0&&this.current&&!o?1:0,_=g!==this.Ya;return this.Ya=g,f.length!==0||_?{snapshot:new Xa(this.query,t.eu,u,f,t.mutatedKeys,g===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:p}:{_u:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Kv,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=Nt(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const n=[];return t.forEach(s=>{this.Za.has(s)||n.push(new f0(s))}),this.Za.forEach(s=>{t.has(s)||n.push(new h0(s))}),n}uu(t){this.Ha=t.qs,this.Za=Nt();const n=this.nu(t.documents);return this.applyChanges(n,!0)}cu(){return Xa.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Zm="SyncEngine";class BC{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class jC{constructor(t){this.key=t,this.lu=!1}}class qC{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.hu={},this.Pu=new Ls(p=>NT(p),hh),this.Tu=new Map,this.Iu=new Set,this.du=new re(ut.comparator),this.Eu=new Map,this.Au=new Bm,this.Ru={},this.Vu=new Map,this.mu=Ya.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function HC(r,t,n=!0){const s=y0(r);let o;const u=s.Pu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await d0(s,t,n,!0),o}async function FC(r,t){const n=y0(r);await d0(n,t,!0,!1)}async function d0(r,t,n,s){const o=await oC(r.localStore,ui(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await GC(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&s0(r.remoteStore,o),p}async function GC(r,t,n,s,o){r.gu=(b,C,q)=>async function(tt,Z,Tt,dt){let ct=Z.view.nu(Tt);ct.Ds&&(ct=await jv(tt.localStore,Z.query,!1).then(({documents:V})=>Z.view.nu(V,ct)));const Vt=dt&&dt.targetChanges.get(Z.targetId),vt=dt&&dt.targetMismatches.get(Z.targetId)!=null,Mt=Z.view.applyChanges(ct,tt.isPrimaryClient,Vt,vt);return Zv(tt,Z.targetId,Mt._u),Mt.snapshot}(r,b,C,q);const u=await jv(r.localStore,t,!0),f=new zC(t,u.qs),p=f.nu(u.documents),g=Ql.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),_=f.applyChanges(p,r.isPrimaryClient,g);Zv(r,n,_._u);const T=new BC(t,n,f);return r.Pu.set(t,T),r.Tu.has(n)?r.Tu.get(n).push(t):r.Tu.set(n,[t]),_.snapshot}async function QC(r,t,n){const s=At(r),o=s.Pu.get(t),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter(f=>!hh(f,t))),void s.Pu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await am(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Fm(s.remoteStore,o.targetId),um(s,o.targetId)}).catch(no)):(um(s,o.targetId),await am(s.localStore,o.targetId,!0))}async function KC(r,t){const n=At(r),s=n.Pu.get(t),o=n.Tu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Fm(n.remoteStore,s.targetId))}async function YC(r,t,n){const s=e2(r);try{const o=await function(f,p){const g=At(f),_=te.now(),T=p.reduce((q,$)=>q.add($.key),Nt());let b,C;return g.persistence.runTransaction("Locally write mutations","readwrite",q=>{let $=Gi(),tt=Nt();return g.Os.getEntries(q,T).next(Z=>{$=Z,$.forEach((Tt,dt)=>{dt.isValidDocument()||(tt=tt.add(Tt))})}).next(()=>g.localDocuments.getOverlayedDocuments(q,$)).next(Z=>{b=Z;const Tt=[];for(const dt of p){const ct=oI(dt,b.get(dt.key).overlayedDocument);ct!=null&&Tt.push(new Fr(dt.key,ct,ST(ct.value.mapValue),Bn.exists(!0)))}return g.mutationQueue.addMutationBatch(q,_,Tt,p)}).next(Z=>{C=Z;const Tt=Z.applyToLocalDocumentSet(b,tt);return g.documentOverlayCache.saveOverlays(q,Z.batchId,Tt)})}).then(()=>({batchId:C.batchId,changes:PT(b)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,p,g){let _=f.Ru[f.currentUser.toKey()];_||(_=new re(wt)),_=_.insert(p,g),f.Ru[f.currentUser.toKey()]=_}(s,o.batchId,n),await Yl(s,o.changes),await yh(s.remoteStore)}catch(o){const u=Xm(o,"Failed to persist write");n.reject(u)}}async function m0(r,t){const n=At(r);try{const s=await rC(n.localStore,t);t.targetChanges.forEach((o,u)=>{const f=n.Eu.get(u);f&&(qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.lu=!0:o.modifiedDocuments.size>0?qt(f.lu,14607):o.removedDocuments.size>0&&(qt(f.lu,42227),f.lu=!1))}),await Yl(n,s,t)}catch(s){await no(s)}}function $v(r,t,n){const s=At(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Pu.forEach((u,f)=>{const p=f.view.va(t);p.snapshot&&o.push(p.snapshot)}),function(f,p){const g=At(f);g.onlineState=p;let _=!1;g.queries.forEach((T,b)=>{for(const C of b.wa)C.va(p)&&(_=!0)}),_&&$m(g)}(s.eventManager,t),o.length&&s.hu.J_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function XC(r,t,n){const s=At(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Eu.get(t),u=o&&o.key;if(u){let f=new re(ut.comparator);f=f.insert(u,Xe.newNoDocument(u,Et.min()));const p=Nt().add(u),g=new ph(Et.min(),new Map,new re(wt),f,p);await m0(s,g),s.du=s.du.remove(u),s.Eu.delete(t),Wm(s)}else await am(s.localStore,t,!1).then(()=>um(s,t,n)).catch(no)}async function $C(r,t){const n=At(r),s=t.batch.batchId;try{const o=await iC(n.localStore,t);g0(n,s,null),p0(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Yl(n,o)}catch(o){await no(o)}}async function ZC(r,t,n){const s=At(r);try{const o=await function(f,p){const g=At(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let T;return g.mutationQueue.lookupMutationBatch(_,p).next(b=>(qt(b!==null,37113),T=b.keys(),g.mutationQueue.removeMutationBatch(_,b))).next(()=>g.mutationQueue.performConsistencyCheck(_)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(_,T,p)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T)).next(()=>g.localDocuments.getDocuments(_,T))})}(s.localStore,t);g0(s,t,n),p0(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Yl(s,o)}catch(o){await no(o)}}function p0(r,t){(r.Vu.get(t)||[]).forEach(n=>{n.resolve()}),r.Vu.delete(t)}function g0(r,t,n){const s=At(r);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Ru[s.currentUser.toKey()]=o}}function um(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Tu.get(t))r.Pu.delete(s),n&&r.hu.pu(s,n);r.Tu.delete(t),r.isPrimaryClient&&r.Au.zr(t).forEach(s=>{r.Au.containsKey(s)||_0(r,s)})}function _0(r,t){r.Iu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(Fm(r.remoteStore,n),r.du=r.du.remove(t),r.Eu.delete(n),Wm(r))}function Zv(r,t,n){for(const s of n)s instanceof h0?(r.Au.addReference(s.key,t),WC(r,s)):s instanceof f0?(st(Zm,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,t),r.Au.containsKey(s.key)||_0(r,s.key)):gt(19791,{yu:s})}function WC(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Iu.has(s)||(st(Zm,"New document in limbo: "+n),r.Iu.add(s),Wm(r))}function Wm(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Iu.values().next().value;r.Iu.delete(t);const n=new ut(Jt.fromString(t)),s=r.mu.next();r.Eu.set(s,new jC(n)),r.du=r.du.insert(n,s),s0(r.remoteStore,new Ir(ui(Pm(n.path)),s,"TargetPurposeLimboResolution",lh.ue))}}async function Yl(r,t,n){const s=At(r),o=[],u=[],f=[];s.Pu.isEmpty()||(s.Pu.forEach((p,g)=>{f.push(s.gu(g,t,n).then(_=>{var T;if((_||n)&&s.isPrimaryClient){const b=_?!_.fromCache:(T=n?.targetChanges.get(g.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(g.targetId,b?"current":"not-current")}if(_){o.push(_);const b=qm.Es(g.targetId,_);u.push(b)}}))}),await Promise.all(f),s.hu.J_(o),await async function(g,_){const T=At(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>Y.forEach(_,C=>Y.forEach(C.Is,q=>T.persistence.referenceDelegate.addReference(b,C.targetId,q)).next(()=>Y.forEach(C.ds,q=>T.persistence.referenceDelegate.removeReference(b,C.targetId,q)))))}catch(b){if(!io(b))throw b;st(Hm,"Failed to update sequence numbers: "+b)}for(const b of _){const C=b.targetId;if(!b.fromCache){const q=T.Fs.get(C),$=q.snapshotVersion,tt=q.withLastLimboFreeSnapshotVersion($);T.Fs=T.Fs.insert(C,tt)}}}(s.localStore,u))}async function JC(r,t){const n=At(r);if(!n.currentUser.isEqual(t)){st(Zm,"User change. New user:",t.toKey());const s=await e0(n.localStore,t);n.currentUser=t,function(u,f){u.Vu.forEach(p=>{p.forEach(g=>{g.reject(new rt(Q.CANCELLED,f))})}),u.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Yl(n,s.Bs)}}function t2(r,t){const n=At(r),s=n.Eu.get(t);if(s&&s.lu)return Nt().add(s.key);{let o=Nt();const u=n.Tu.get(t);if(!u)return o;for(const f of u){const p=n.Pu.get(f);o=o.unionWith(p.view.tu)}return o}}function y0(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=m0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=t2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=XC.bind(null,t),t.hu.J_=kC.bind(null,t.eventManager),t.hu.pu=UC.bind(null,t.eventManager),t}function e2(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$C.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ZC.bind(null,t),t}class Jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=gh(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,n){return null}Fu(t,n){return null}vu(t){return nC(this.persistence,new JI,t.initialUser,this.serializer)}Du(t){return new t0(jm.Vi,this.serializer)}bu(t){return new uC}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jc.provider={build:()=>new Jc};class n2 extends Jc{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,n){qt(this.persistence.referenceDelegate instanceof Zc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new LI(s,t.asyncQueue,n)}Du(t){const n=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new t0(s=>Zc.Vi(s,n),this.serializer)}}class cm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>$v(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=JC.bind(null,this.syncEngine),await NC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new MC}()}createDatastore(t){const n=gh(t.databaseInfo.databaseId),s=function(u){return new mC(u)}(t.databaseInfo);return function(u,f,p,g){return new yC(u,f,p,g)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,u,f,p){return new EC(s,o,u,f,p)}(this.localStore,this.datastore,t.asyncQueue,n=>$v(this.syncEngine,n,0),function(){return Fv.C()?new Fv:new cC}())}createSyncEngine(t,n){return function(o,u,f,p,g,_,T){const b=new qC(o,u,f,p,g,_);return T&&(b.fu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const u=At(o);st(ks,"RemoteStore shutting down."),u.Ia.add(5),await Kl(u),u.Ea.shutdown(),u.Aa.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}cm.provider={build:()=>new cm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):Fi("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr="FirestoreClient";class r2{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Ye.UNAUTHENTICATED,this.clientId=Cm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{st(jr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(st(jr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Xm(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function zd(r,t){r.asyncQueue.verifyOperationInProgress(),st(jr,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await e0(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>{xr("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{st("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{xr("Terminating Firestore due to IndexedDb database deletion failed",o)})}),r._offlineComponents=t}async function Wv(r,t){r.asyncQueue.verifyOperationInProgress();const n=await s2(r);st(jr,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>Qv(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>Qv(t.remoteStore,o)),r._onlineComponents=t}async function s2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st(jr,"Using user provided OfflineComponentProvider");try{await zd(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===Q.FAILED_PRECONDITION||o.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;xr("Error using user provided cache. Falling back to memory cache: "+n),await zd(r,new Jc)}}else st(jr,"Using default OfflineComponentProvider"),await zd(r,new n2(void 0));return r._offlineComponents}async function v0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st(jr,"Using user provided OnlineComponentProvider"),await Wv(r,r._uninitializedComponentsProvider._online)):(st(jr,"Using default OnlineComponentProvider"),await Wv(r,new cm))),r._onlineComponents}function a2(r){return v0(r).then(t=>t.syncEngine)}async function Jv(r){const t=await v0(r),n=t.eventManager;return n.onListen=HC.bind(null,t.syncEngine),n.onUnlisten=QC.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=FC.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=KC.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="firestore.googleapis.com",eE=!0;class nE{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new rt(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=T0,this.ssl=eE}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:eE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=JT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<kI)throw new rt(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}TR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=E0((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new rt(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new rt(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new rt(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class vh{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new rt(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new fR;switch(s.type){case"firstParty":return new gR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new rt(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=tE.get(n);s&&(st("ComponentProvider","Removing Datastore"),tE.delete(n),s.terminate())}(this),Promise.resolve()}}function o2(r,t,n,s={}){var o;r=Mr(r,vh);const u=Za(t),f=r._getSettings(),p=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),g=`${t}:${n}`;u&&(gE(`https://${g}`),_E("Firestore",!0)),f.host!==T0&&f.host!==g&&xr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},f),{host:g,ssl:u,emulatorOptions:s});if(!Vs(_,p)&&(r._setSettings(_),s.mockUserToken)){let T,b;if(typeof s.mockUserToken=="string")T=s.mockUserToken,b=Ye.MOCK_USER;else{T=SS(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const C=s.mockUserToken.sub||s.mockUserToken.user_id;if(!C)throw new rt(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Ye(C)}r._authCredentials=new dR(new cT(T,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Bs(this.firestore,t,this._query)}}class Ee{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ee(this.firestore,t,this._key)}toJSON(){return{type:Ee._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Fl(n,Ee._jsonSchema))return new Ee(t,s||null,new ut(Jt.fromString(n.referencePath)))}}Ee._jsonSchemaVersion="firestore/documentReference/1.0",Ee._jsonSchema={type:ve("string",Ee._jsonSchemaVersion),referencePath:ve("string")};class Pr extends Bs{constructor(t,n,s){super(t,n,Pm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ee(this.firestore,null,new ut(t))}withConverter(t){return new Pr(this.firestore,t,this._path)}}function iE(r,t,...n){if(r=Ie(r),fT("collection","path",t),r instanceof vh){const s=Jt.fromString(t,...n);return mv(s),new Pr(r,null,s)}{if(!(r instanceof Ee||r instanceof Pr))throw new rt(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Jt.fromString(t,...n));return mv(s),new Pr(r.firestore,null,s)}}function hm(r,t,...n){if(r=Ie(r),arguments.length===1&&(t=Cm.newId()),fT("doc","path",t),r instanceof vh){const s=Jt.fromString(t,...n);return dv(s),new Ee(r,null,new ut(s))}{if(!(r instanceof Ee||r instanceof Pr))throw new rt(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Jt.fromString(t,...n));return dv(s),new Ee(r.firestore,r instanceof Pr?r.converter:null,new ut(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="AsyncQueue";class sE{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new i0(this,"async_queue_retry"),this.oc=()=>{const s=Ld();s&&st(rE,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=t;const n=Ld();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const n=Ld();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Os;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Zu.push(t),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!io(t))throw t;st(rE,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(t){const n=this._c.then(()=>(this.nc=!0,t().catch(s=>{throw this.tc=s,this.nc=!1,Fi("INTERNAL UNHANDLED ERROR: ",aE(s)),s}).then(s=>(this.nc=!1,s))));return this._c=n,n}enqueueAfterDelay(t,n,s){this.ac(),this.sc.indexOf(t)>-1&&(n=0);const o=Ym.createAndSchedule(this,t,n,s,u=>this.lc(u));return this.ec.push(o),o}ac(){this.tc&&gt(47125,{hc:aE(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const n of this.ec)if(n.timerId===t)return!0;return!1}Ic(t){return this.Pc().then(()=>{this.ec.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Pc()})}dc(t){this.sc.push(t)}lc(t){const n=this.ec.indexOf(t);this.ec.splice(n,1)}}function aE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class $a extends vh{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new sE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new sE(t),this._firestoreClient=void 0,await t}}}function l2(r,t){const n=typeof r=="object"?r:TE(),s=typeof r=="string"?r:Gc,o=_m(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=TS("firestore");u&&o2(o,...u)}return o}function A0(r){if(r._terminated)throw new rt(Q.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||u2(r),r._firestoreClient}function u2(r){var t,n,s;const o=r._freezeSettings(),u=function(p,g,_,T){return new VR(p,g,_,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,E0(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new r2(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(p){const g=p?._online.build();return{_offline:p?._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Nn(He.fromBase64String(t))}catch(n){throw new rt(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Nn(He.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Nn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Fl(t,Nn._jsonSchema))return Nn.fromBase64String(t.bytes)}}Nn._jsonSchemaVersion="firestore/bytes/1.0",Nn._jsonSchema={type:ve("string",Nn._jsonSchemaVersion),bytes:ve("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new rt(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new rt(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new rt(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return wt(this._lat,t._lat)||wt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:hi._jsonSchemaVersion}}static fromJSON(t){if(Fl(t,hi._jsonSchema))return new hi(t.latitude,t.longitude)}}hi._jsonSchemaVersion="firestore/geoPoint/1.0",hi._jsonSchema={type:ve("string",hi._jsonSchemaVersion),latitude:ve("number"),longitude:ve("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}toJSON(){return{type:fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Fl(t,fi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new fi(t.vectorValues);throw new rt(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fi._jsonSchemaVersion="firestore/vectorValue/1.0",fi._jsonSchema={type:ve("string",fi._jsonSchemaVersion),vectorValues:ve("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=/^__.*__$/;class h2{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Fr(t,this.data,this.fieldMask,n,this.fieldTransforms):new Gl(t,this.data,n,this.fieldTransforms)}}class S0{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new Fr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function b0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{Ec:r})}}class tp{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new tp(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Rc({path:s,mc:!1});return o.fc(t),o}gc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return th(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(b0(this.Ec)&&c2.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class f2{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||gh(t)}Dc(t,n,s,o=!1){return new tp({Ec:t,methodName:n,bc:s,path:qe.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ep(r){const t=r._freezeSettings(),n=gh(r._databaseId);return new f2(r._databaseId,!!t.ignoreUndefinedProperties,n)}function d2(r,t,n,s,o,u={}){const f=r.Dc(u.merge||u.mergeFields?2:0,t,n,o);np("Data must be an object, but it was:",f,s);const p=w0(s,f);let g,_;if(u.merge)g=new gn(f.fieldMask),_=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const b of u.mergeFields){const C=fm(t,b,n);if(!f.contains(C))throw new rt(Q.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);I0(T,C)||T.push(C)}g=new gn(T),_=f.fieldTransforms.filter(b=>g.covers(b.field))}else g=null,_=f.fieldTransforms;return new h2(new an(p),g,_)}class Th extends Jm{_toFieldTransform(t){if(t.Ec!==2)throw t.Ec===1?t.wc(`${this._methodName}() can only appear at the top level of your update data`):t.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Th}}function m2(r,t,n,s){const o=r.Dc(1,t,n);np("Data must be an object, but it was:",o,s);const u=[],f=an.empty();Hr(s,(g,_)=>{const T=ip(t,g,n);_=Ie(_);const b=o.gc(T);if(_ instanceof Th)u.push(T);else{const C=Xl(_,b);C!=null&&(u.push(T),f.set(T,C))}});const p=new gn(u);return new S0(f,p,o.fieldTransforms)}function p2(r,t,n,s,o,u){const f=r.Dc(1,t,n),p=[fm(t,s,n)],g=[o];if(u.length%2!=0)throw new rt(Q.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<u.length;C+=2)p.push(fm(t,u[C])),g.push(u[C+1]);const _=[],T=an.empty();for(let C=p.length-1;C>=0;--C)if(!I0(_,p[C])){const q=p[C];let $=g[C];$=Ie($);const tt=f.gc(q);if($ instanceof Th)_.push(q);else{const Z=Xl($,tt);Z!=null&&(_.push(q),T.set(q,Z))}}const b=new gn(_);return new S0(T,b,f.fieldTransforms)}function g2(r,t,n,s=!1){return Xl(n,r.Dc(s?4:3,t))}function Xl(r,t){if(R0(r=Ie(r)))return np("Unsupported field value:",t,r),w0(r,t);if(r instanceof Jm)return function(s,o){if(!b0(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const p of s){let g=Xl(p,o.yc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}}(r,t)}return function(s,o){if((s=Ie(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return eI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=te.fromDate(s);return{timestampValue:$c(o.serializer,u)}}if(s instanceof te){const u=new te(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:$c(o.serializer,u)}}if(s instanceof hi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Nn)return{bytesValue:QT(o.serializer,s._byteString)};if(s instanceof Ee){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.wc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:zm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof fi)return function(f,p){return{mapValue:{fields:{[TT]:{stringValue:AT},[Qc]:{arrayValue:{values:f.toArray().map(_=>{if(typeof _!="number")throw p.wc("VectorValues must only contain numeric values.");return xm(p.serializer,_)})}}}}}}(s,o);throw o.wc(`Unsupported field value: ${oh(s)}`)}(r,t)}function w0(r,t){const n={};return pT(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Hr(r,(s,o)=>{const u=Xl(o,t.Vc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function R0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof te||r instanceof hi||r instanceof Nn||r instanceof Ee||r instanceof Jm||r instanceof fi)}function np(r,t,n){if(!R0(n)||!dT(n)){const s=oh(n);throw s==="an object"?t.wc(r+" a custom object"):t.wc(r+" "+s)}}function fm(r,t,n){if((t=Ie(t))instanceof Eh)return t._internalPath;if(typeof t=="string")return ip(r,t);throw th("Field path arguments must be of type string or ",r,!1,void 0,n)}const _2=new RegExp("[~\\*/\\[\\]]");function ip(r,t,n){if(t.search(_2)>=0)throw th(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Eh(...t.split("."))._internalPath}catch{throw th(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function th(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let p=`Function ${t}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new rt(Q.INVALID_ARGUMENT,p+r+g)}function I0(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ee(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new y2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(rp("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class y2 extends C0{data(){return super.data()}}function rp(r,t){return typeof t=="string"?ip(r,t):t instanceof Eh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new rt(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sp{}class D0 extends sp{}function E2(r,t,...n){let s=[];t instanceof sp&&s.push(t),s=s.concat(n),function(u){const f=u.filter(g=>g instanceof op).length,p=u.filter(g=>g instanceof ap).length;if(f>1||f>0&&p>0)throw new rt(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class ap extends D0{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new ap(t,n,s)}_apply(t){const n=this._parse(t);return O0(t._query,n),new Bs(t.firestore,t.converter,tm(t._query,n))}_parse(t){const n=ep(t.firestore);return function(u,f,p,g,_,T,b){let C;if(_.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new rt(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){uE(b,T);const $=[];for(const tt of b)$.push(lE(g,u,tt));C={arrayValue:{values:$}}}else C=lE(g,u,b)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||uE(b,T),C=g2(p,f,b,T==="in"||T==="not-in");return ye.create(_,T,C)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class op extends sp{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new op(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:qn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,u){let f=o;const p=u.getFlattenedFilters();for(const g of p)O0(f,g),f=tm(f,g)}(t._query,n),new Bs(t.firestore,t.converter,tm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class lp extends D0{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new lp(t,n)}_apply(t){const n=function(o,u,f){if(o.startAt!==null)throw new rt(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new rt(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new kl(u,f)}(t._query,this._field,this._direction);return new Bs(t.firestore,t.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new ro(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(t._query,n))}}function T2(r,t="asc"){const n=t,s=rp("orderBy",r);return lp._create(s,n)}function lE(r,t,n){if(typeof(n=Ie(n))=="string"){if(n==="")throw new rt(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!OT(t)&&n.indexOf("/")!==-1)throw new rt(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(Jt.fromString(n));if(!ut.isDocumentKey(s))throw new rt(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Av(r,new ut(s))}if(n instanceof Ee)return Av(r,n._key);throw new rt(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oh(n)}.`)}function uE(r,t){if(!Array.isArray(r)||r.length===0)throw new rt(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function O0(r,t){const n=function(o,u){for(const f of o)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new rt(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new rt(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class A2{convertValue(t,n="none"){switch(zr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return fe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Lr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Hr(t,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(t){var n,s,o;const u=(o=(s=(n=t.fields)===null||n===void 0?void 0:n[Qc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>fe(f.doubleValue));return new fi(u)}convertGeoPoint(t){return new hi(fe(t.latitude),fe(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=ch(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ml(t));default:return null}}convertTimestamp(t){const n=Ur(t);return new te(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=Jt.fromString(t);qt(WT(s),9688,{name:t});const o=new Pl(s.get(1),s.get(3)),u=new ut(s.popFirst(5));return o.isEqual(n)||Fi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(r,t,n){let s;return s=r?r.toFirestore(t):t,s}class Al{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ns extends C0{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new xc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(rp("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Ns._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ns._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ns._jsonSchema={type:ve("string",Ns._jsonSchemaVersion),bundleSource:ve("string","DocumentSnapshot"),bundleName:ve("string"),bundle:ve("string")};class xc extends Ns{data(t={}){return super.data(t)}}class qa{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Al(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new xc(this._firestore,this._userDataWriter,s.key,s,new Al(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new rt(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(p=>{const g=new xc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Al(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>u||p.type!==3).map(p=>{const g=new xc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Al(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,T=-1;return p.type!==0&&(_=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),T=f.indexOf(p.doc.key)),{type:b2(p.type),doc:g,oldIndex:_,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=qa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Cm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function b2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:r})}}qa._jsonSchemaVersion="firestore/querySnapshot/1.0",qa._jsonSchema={type:ve("string",qa._jsonSchemaVersion),bundleSource:ve("string","QuerySnapshot"),bundleName:ve("string"),bundle:ve("string")};class N0 extends A2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Nn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ee(this.firestore,null,n)}}function w2(r,t,n,...s){r=Mr(r,Ee);const o=Mr(r.firestore,$a),u=ep(o);let f;return f=typeof(t=Ie(t))=="string"||t instanceof Eh?p2(u,"updateDoc",r._key,t,n,s):m2(u,"updateDoc",r._key,t),up(o,[f.toMutation(r._key,Bn.exists(!0))])}function R2(r){return up(Mr(r.firestore,$a),[new km(r._key,Bn.none())])}function I2(r,t){const n=Mr(r.firestore,$a),s=hm(r),o=S2(r.converter,t);return up(n,[d2(ep(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Bn.exists(!1))]).then(()=>s)}function C2(r,...t){var n,s,o;r=Ie(r);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof t[f]!="object"||oE(t[f])||(u=t[f++]);const p={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(oE(t[f])){const b=t[f];t[f]=(n=b.next)===null||n===void 0?void 0:n.bind(b),t[f+1]=(s=b.error)===null||s===void 0?void 0:s.bind(b),t[f+2]=(o=b.complete)===null||o===void 0?void 0:o.bind(b)}let g,_,T;if(r instanceof Ee)_=Mr(r.firestore,$a),T=Pm(r._key.path),g={next:b=>{t[f]&&t[f](D2(_,r,b))},error:t[f+1],complete:t[f+2]};else{const b=Mr(r,Bs);_=Mr(b.firestore,$a),T=b._query;const C=new N0(_);g={next:q=>{t[f]&&t[f](new qa(_,C,b,q))},error:t[f+1],complete:t[f+2]},v2(r._query)}return function(C,q,$,tt){const Z=new i2(tt),Tt=new LC(q,Z,$);return C.asyncQueue.enqueueAndForget(async()=>PC(await Jv(C),Tt)),()=>{Z.Ou(),C.asyncQueue.enqueueAndForget(async()=>xC(await Jv(C),Tt))}}(A0(_),T,p,g)}function up(r,t){return function(s,o){const u=new Os;return s.asyncQueue.enqueueAndForget(async()=>YC(await a2(s),o,u)),u.promise}(A0(r),t)}function D2(r,t,n){const s=n.docs.get(t._key),o=new N0(r);return new Ns(r,o,t._key,s,new Al(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(o){eo=o})(Wa),Ha(new Ms("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),p=new $a(new mR(s.getProvider("auth-internal")),new _R(f,s.getProvider("app-check-internal")),function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new rt(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pl(_.options.projectId,T)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),p._setSettings(u),p},"PUBLIC").setMultipleInstances(!0)),Or(lv,uv,t),Or(lv,uv,"esm2017")})();const O2={apiKey:"AIzaSyBCquZbrEGg9CHUhbzrFhFwDejhc0Mw-aQ",authDomain:"pruebas-c80da.firebaseapp.com",projectId:"pruebas-c80da",storageBucket:"pruebas-c80da.firebasestorage.app",messagingSenderId:"168916926366",appId:"1:168916926366:web:a3b7e882356f6d0cb8a08f",measurementId:"G-XMVGNQ24XY"},V0=EE(O2),dm=lR(V0),eh=l2(V0);function N2({onLogin:r}){const[t,n]=On.useState(""),[s,o]=On.useState(""),[u,f]=On.useState(""),p=async g=>{g.preventDefault();try{await K1(dm,t,s),r()}catch{f("Credenciales incorrectas o usuario no autorizado")}};return it.jsxs("div",{className:"max-w-sm mx-auto mt-10 p-4 border rounded shadow",children:[it.jsx("h2",{className:"text-xl font-bold mb-4 text-center",children:"Inicia sesin"}),it.jsxs("form",{onSubmit:p,className:"flex flex-col gap-4",children:[it.jsx("input",{type:"email",placeholder:"Correo",value:t,onChange:g=>n(g.target.value),className:"p-2 border rounded",required:!0}),it.jsx("input",{type:"password",placeholder:"Contrasea",value:s,onChange:g=>o(g.target.value),className:"p-2 border rounded",required:!0}),u&&it.jsx("p",{className:"text-red-500 text-sm",children:u}),it.jsx("button",{type:"submit",className:"bg-blue-500 text-white py-2 rounded hover:bg-blue-600",children:"Entrar"})]})]})}function V2({onAdd:r}){const[t,n]=On.useState(""),s=()=>{t&&(r(t),n(""))};return it.jsxs("div",{className:"flex flex-col items-center gap-4",children:[it.jsxs("select",{value:t,onChange:o=>n(o.target.value),className:"border border-gray-300 rounded px-4 py-2",children:[it.jsx("option",{value:"",children:"Selecciona una bebida"}),it.jsx("option",{value:"cubata",children:"Cubata"}),it.jsx("option",{value:"chupito",children:"Chupito"}),it.jsx("option",{value:"cerveza",children:"Cerveza"})]}),it.jsx("button",{onClick:s,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded disabled:opacity-50",disabled:!t,children:"Aadir bebida"})]})}function M2({bebidas:r}){return it.jsx("ul",{className:"mt-4",children:r.map((t,n)=>it.jsxs("li",{className:"border-b py-1",children:[t.tipo,"  ",new Date(t.timestamp).toLocaleString()]},n))})}function P2({bebidas:r}){if(!r.length)return it.jsx("p",{children:"No hay datos an."});const t=new Date,n=6,s=r.reduce((o,u)=>{const f=u.email||"Annimo";return o[f]||(o[f]=[]),o[f].push(u),o},{});return it.jsxs("div",{className:"mt-6",children:[it.jsx("h2",{className:"text-lg font-bold mb-2",children:" Estadsticas Globales"}),Object.entries(s).map(([o,u])=>{const f=u[0],p=u.filter(g=>{const _=new Date(g.timestamp);return(t-_)/(1e3*60*60)<n});return it.jsxs("div",{className:"mb-4 border-b pb-2",children:[it.jsx("p",{className:"font-semibold",children:o}),it.jsxs("p",{className:"text-sm text-gray-600",children:["ltima bebida: ",f.tipo,"  ",new Date(f.timestamp).toLocaleTimeString()]}),it.jsxs("p",{className:"text-sm mt-1",children:["ltimas ",n,"h:"]}),it.jsxs("ul",{className:"text-sm pl-4 list-disc",children:[p.map((g,_)=>it.jsxs("li",{children:[g.tipo,"  ",new Date(g.timestamp).toLocaleTimeString()]},_)),!p.length&&it.jsx("li",{className:"italic text-gray-500",children:"Sin datos recientes"})]})]},o)})]})}function x2({bebidas:r}){if(!r.length)return it.jsx("p",{className:"mt-4 text-sm",children:"No has aadido bebidas an."});const t=r[0],n=new Date,s=6,o=r.filter(u=>{const f=new Date(u.timestamp);return(n-f)/(1e3*60*60)<s});return it.jsxs("div",{className:"mt-6",children:[it.jsx("h2",{className:"text-lg font-bold mb-2",children:" Tus estadsticas"}),it.jsxs("p",{children:["ltima bebida: ",t.tipo,"  ",new Date(t.timestamp).toLocaleTimeString()]}),it.jsxs("p",{children:["Bebidas en las ltimas ",s,"h:"]}),it.jsx("ul",{className:"list-disc pl-4 text-sm text-gray-700",children:o.map((u,f)=>it.jsxs("li",{children:[u.tipo,"  ",new Date(u.timestamp).toLocaleTimeString()]},f))})]})}function k2({bebidas:r,uid:t}){const[n,s]=On.useState(null),[o,u]=On.useState(""),f=T=>{s(T.id),u(T.tipo)},p=async T=>{const b=hm(eh,"bebidas",T);await w2(b,{tipo:o}),s(null)},g=async T=>{const b=hm(eh,"bebidas",T);await R2(b)},_=r.filter(T=>T.uid===t);return it.jsxs("div",{className:"mt-6",children:[it.jsx("h2",{className:"text-lg font-bold mb-2",children:" Editar Mis Bebidas"}),_.length===0?it.jsx("p",{className:"text-sm text-gray-600",children:"No tienes bebidas registradas."}):it.jsx("ul",{className:"space-y-2",children:_.map(T=>it.jsx("li",{className:"border p-2 rounded",children:n===T.id?it.jsxs("div",{className:"flex items-center space-x-2",children:[it.jsxs("select",{value:o,onChange:b=>u(b.target.value),className:"border px-2 py-1 rounded",children:[it.jsx("option",{value:"Cerveza",children:"Cerveza"}),it.jsx("option",{value:"Cubata",children:"Cubata"}),it.jsx("option",{value:"Chupito",children:"Chupito"})]}),it.jsx("button",{onClick:()=>p(T.id),className:"bg-green-500 text-white px-2 py-1 rounded",children:"Guardar"}),it.jsx("button",{onClick:()=>s(null),className:"text-sm text-gray-600",children:"Cancelar"})]}):it.jsxs("div",{className:"flex justify-between items-center",children:[it.jsxs("span",{children:[T.tipo,"  ",new Date(T.timestamp).toLocaleTimeString()]}),it.jsxs("div",{className:"space-x-2",children:[it.jsx("button",{onClick:()=>f(T),className:"text-blue-600 underline text-sm",children:"Editar"}),it.jsx("button",{onClick:()=>g(T.id),className:"text-red-600 underline text-sm",children:"Eliminar"})]})]})},T.id))})]})}function U2(){return it.jsxs("div",{className:"text-center mt-6 text-gray-700",children:[it.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Ranking"}),it.jsx("p",{className:"text-lg italic",children:"Coming soon "})]})}function L2(){const[r,t]=On.useState(null),[n,s]=On.useState([]),[o,u]=On.useState("inicio");On.useEffect(()=>{const g=$1(dm,_=>{t(_)});return()=>g()},[]),On.useEffect(()=>{const g=E2(iE(eh,"bebidas"),T2("timestamp","desc")),_=C2(g,T=>{const b=T.docs.map(C=>({id:C.id,...C.data()}));s(b)});return()=>_()},[]);const f=async g=>{const _={tipo:g,timestamp:new Date().toISOString(),uid:r.uid,email:r.email};await I2(iE(eh,"bebidas"),_)};if(!r)return it.jsx(N2,{onLogin:()=>{}});const p=n.filter(g=>g.uid===r.uid);return it.jsxs("div",{className:"max-w-md mx-auto mt-10 p-4 border rounded shadow",children:[it.jsxs("div",{className:"flex justify-between items-center mb-4",children:[it.jsx("h1",{className:"text-xl font-bold",children:" Contador de Bebidas"}),it.jsx("button",{onClick:()=>Z1(dm),className:"text-sm text-red-600 underline",children:"Cerrar sesin"})]}),it.jsxs("div",{className:"flex justify-center gap-4 mb-4",children:[it.jsx("button",{onClick:()=>u("inicio"),className:`px-3 py-1 rounded ${o==="inicio"?"bg-blue-500 text-white":"bg-gray-200"}`,children:"Inicio"}),it.jsx("button",{onClick:()=>u("global"),className:`px-3 py-1 rounded ${o==="global"?"bg-blue-500 text-white":"bg-gray-200"}`,children:"Global"}),it.jsx("button",{onClick:()=>u("editar"),className:`px-3 py-1 rounded ${o==="editar"?"bg-blue-500 text-white":"bg-gray-200"}`,children:"Editar"}),it.jsx("button",{onClick:()=>u("ranking"),className:`px-3 py-1 rounded ${o==="ranking"?"bg-blue-500 text-white":"bg-gray-200"}`,children:"Ranking"})]}),o==="inicio"&&it.jsxs(it.Fragment,{children:[it.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Bienvenido: ",r.displayName||r.email]}),it.jsx(V2,{onAdd:f}),it.jsxs("p",{className:"mt-4",children:["Bebidas totales: ",p.length]}),it.jsx(M2,{bebidas:p}),it.jsx(x2,{bebidas:p})]}),o==="global"&&it.jsx(P2,{bebidas:n}),o==="editar"&&it.jsx(k2,{bebidas:n,uid:r.uid}),o==="ranking"&&it.jsx(U2,{})]})}fS.createRoot(document.getElementById("root")).render(it.jsx(On.StrictMode,{children:it.jsx(L2,{})}));

(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function RR(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var lm={exports:{}},lu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M0;function xR(){if(M0)return lu;M0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var u=null;if(o!==void 0&&(u=""+o),r.key!==void 0&&(u=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:u,ref:r!==void 0?r:null,props:o}}return lu.Fragment=t,lu.jsx=e,lu.jsxs=e,lu}var k0;function IR(){return k0||(k0=1,lm.exports=xR()),lm.exports}var ut=IR(),um={exports:{}},xt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N0;function CR(){if(N0)return xt;N0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.iterator;function T(V){return V===null||typeof V!="object"?null:(V=v&&V[v]||V["@@iterator"],typeof V=="function"?V:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,k={};function M(V,et,ot){this.props=V,this.context=et,this.refs=k,this.updater=ot||A}M.prototype.isReactComponent={},M.prototype.setState=function(V,et){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,et,"setState")},M.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function H(){}H.prototype=M.prototype;function Q(V,et,ot){this.props=V,this.context=et,this.refs=k,this.updater=ot||A}var tt=Q.prototype=new H;tt.constructor=Q,I(tt,M.prototype),tt.isPureReactComponent=!0;var rt=Array.isArray,nt={H:null,A:null,T:null,S:null,V:null},lt=Object.prototype.hasOwnProperty;function O(V,et,ot,it,dt,wt){return ot=wt.ref,{$$typeof:n,type:V,key:et,ref:ot!==void 0?ot:null,props:wt}}function R(V,et){return O(V.type,et,void 0,void 0,void 0,V.props)}function x(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function N(V){var et={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ot){return et[ot]})}var P=/\/+/g;function L(V,et){return typeof V=="object"&&V!==null&&V.key!=null?N(""+V.key):et.toString(36)}function C(){}function Wt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(C,C):(V.status="pending",V.then(function(et){V.status==="pending"&&(V.status="fulfilled",V.value=et)},function(et){V.status==="pending"&&(V.status="rejected",V.reason=et)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function At(V,et,ot,it,dt){var wt=typeof V;(wt==="undefined"||wt==="boolean")&&(V=null);var _t=!1;if(V===null)_t=!0;else switch(wt){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(V.$$typeof){case n:case t:_t=!0;break;case _:return _t=V._init,At(_t(V._payload),et,ot,it,dt)}}if(_t)return dt=dt(V),_t=it===""?"."+L(V,0):it,rt(dt)?(ot="",_t!=null&&(ot=_t.replace(P,"$&/")+"/"),At(dt,et,ot,"",function(ri){return ri})):dt!=null&&(x(dt)&&(dt=R(dt,ot+(dt.key==null||V&&V.key===dt.key?"":(""+dt.key).replace(P,"$&/")+"/")+_t)),et.push(dt)),1;_t=0;var Pe=it===""?".":it+":";if(rt(V))for(var ie=0;ie<V.length;ie++)it=V[ie],wt=Pe+L(it,ie),_t+=At(it,et,ot,wt,dt);else if(ie=T(V),typeof ie=="function")for(V=ie.call(V),ie=0;!(it=V.next()).done;)it=it.value,wt=Pe+L(it,ie++),_t+=At(it,et,ot,wt,dt);else if(wt==="object"){if(typeof V.then=="function")return At(Wt(V),et,ot,it,dt);throw et=String(V),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return _t}function Y(V,et,ot){if(V==null)return V;var it=[],dt=0;return At(V,it,"","",function(wt){return et.call(ot,wt,dt++)}),it}function st(V){if(V._status===-1){var et=V._result;et=et(),et.then(function(ot){(V._status===0||V._status===-1)&&(V._status=1,V._result=ot)},function(ot){(V._status===0||V._status===-1)&&(V._status=2,V._result=ot)}),V._status===-1&&(V._status=0,V._result=et)}if(V._status===1)return V._result.default;throw V._result}var gt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function kt(){}return xt.Children={map:Y,forEach:function(V,et,ot){Y(V,function(){et.apply(this,arguments)},ot)},count:function(V){var et=0;return Y(V,function(){et++}),et},toArray:function(V){return Y(V,function(et){return et})||[]},only:function(V){if(!x(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},xt.Component=M,xt.Fragment=e,xt.Profiler=r,xt.PureComponent=Q,xt.StrictMode=i,xt.Suspense=d,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=nt,xt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return nt.H.useMemoCache(V)}},xt.cache=function(V){return function(){return V.apply(null,arguments)}},xt.cloneElement=function(V,et,ot){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var it=I({},V.props),dt=V.key,wt=void 0;if(et!=null)for(_t in et.ref!==void 0&&(wt=void 0),et.key!==void 0&&(dt=""+et.key),et)!lt.call(et,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&et.ref===void 0||(it[_t]=et[_t]);var _t=arguments.length-2;if(_t===1)it.children=ot;else if(1<_t){for(var Pe=Array(_t),ie=0;ie<_t;ie++)Pe[ie]=arguments[ie+2];it.children=Pe}return O(V.type,dt,void 0,void 0,wt,it)},xt.createContext=function(V){return V={$$typeof:u,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:o,_context:V},V},xt.createElement=function(V,et,ot){var it,dt={},wt=null;if(et!=null)for(it in et.key!==void 0&&(wt=""+et.key),et)lt.call(et,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(dt[it]=et[it]);var _t=arguments.length-2;if(_t===1)dt.children=ot;else if(1<_t){for(var Pe=Array(_t),ie=0;ie<_t;ie++)Pe[ie]=arguments[ie+2];dt.children=Pe}if(V&&V.defaultProps)for(it in _t=V.defaultProps,_t)dt[it]===void 0&&(dt[it]=_t[it]);return O(V,wt,void 0,void 0,null,dt)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(V){return{$$typeof:h,render:V}},xt.isValidElement=x,xt.lazy=function(V){return{$$typeof:_,_payload:{_status:-1,_result:V},_init:st}},xt.memo=function(V,et){return{$$typeof:m,type:V,compare:et===void 0?null:et}},xt.startTransition=function(V){var et=nt.T,ot={};nt.T=ot;try{var it=V(),dt=nt.S;dt!==null&&dt(ot,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(kt,gt)}catch(wt){gt(wt)}finally{nt.T=et}},xt.unstable_useCacheRefresh=function(){return nt.H.useCacheRefresh()},xt.use=function(V){return nt.H.use(V)},xt.useActionState=function(V,et,ot){return nt.H.useActionState(V,et,ot)},xt.useCallback=function(V,et){return nt.H.useCallback(V,et)},xt.useContext=function(V){return nt.H.useContext(V)},xt.useDebugValue=function(){},xt.useDeferredValue=function(V,et){return nt.H.useDeferredValue(V,et)},xt.useEffect=function(V,et,ot){var it=nt.H;if(typeof ot=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return it.useEffect(V,et)},xt.useId=function(){return nt.H.useId()},xt.useImperativeHandle=function(V,et,ot){return nt.H.useImperativeHandle(V,et,ot)},xt.useInsertionEffect=function(V,et){return nt.H.useInsertionEffect(V,et)},xt.useLayoutEffect=function(V,et){return nt.H.useLayoutEffect(V,et)},xt.useMemo=function(V,et){return nt.H.useMemo(V,et)},xt.useOptimistic=function(V,et){return nt.H.useOptimistic(V,et)},xt.useReducer=function(V,et,ot){return nt.H.useReducer(V,et,ot)},xt.useRef=function(V){return nt.H.useRef(V)},xt.useState=function(V){return nt.H.useState(V)},xt.useSyncExternalStore=function(V,et,ot){return nt.H.useSyncExternalStore(V,et,ot)},xt.useTransition=function(){return nt.H.useTransition()},xt.version="19.1.0",xt}var P0;function gp(){return P0||(P0=1,um.exports=CR()),um.exports}var me=gp();const NT=RR(me);var cm={exports:{}},uu={},hm={exports:{}},fm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V0;function DR(){return V0||(V0=1,function(n){function t(Y,st){var gt=Y.length;Y.push(st);t:for(;0<gt;){var kt=gt-1>>>1,V=Y[kt];if(0<r(V,st))Y[kt]=st,Y[gt]=V,gt=kt;else break t}}function e(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var st=Y[0],gt=Y.pop();if(gt!==st){Y[0]=gt;t:for(var kt=0,V=Y.length,et=V>>>1;kt<et;){var ot=2*(kt+1)-1,it=Y[ot],dt=ot+1,wt=Y[dt];if(0>r(it,gt))dt<V&&0>r(wt,it)?(Y[kt]=wt,Y[dt]=gt,kt=dt):(Y[kt]=it,Y[ot]=gt,kt=ot);else if(dt<V&&0>r(wt,gt))Y[kt]=wt,Y[dt]=gt,kt=dt;else break t}}return st}function r(Y,st){var gt=Y.sortIndex-st.sortIndex;return gt!==0?gt:Y.id-st.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var d=[],m=[],_=1,v=null,T=3,A=!1,I=!1,k=!1,M=!1,H=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,tt=typeof setImmediate<"u"?setImmediate:null;function rt(Y){for(var st=e(m);st!==null;){if(st.callback===null)i(m);else if(st.startTime<=Y)i(m),st.sortIndex=st.expirationTime,t(d,st);else break;st=e(m)}}function nt(Y){if(k=!1,rt(Y),!I)if(e(d)!==null)I=!0,lt||(lt=!0,L());else{var st=e(m);st!==null&&At(nt,st.startTime-Y)}}var lt=!1,O=-1,R=5,x=-1;function N(){return M?!0:!(n.unstable_now()-x<R)}function P(){if(M=!1,lt){var Y=n.unstable_now();x=Y;var st=!0;try{t:{I=!1,k&&(k=!1,Q(O),O=-1),A=!0;var gt=T;try{e:{for(rt(Y),v=e(d);v!==null&&!(v.expirationTime>Y&&N());){var kt=v.callback;if(typeof kt=="function"){v.callback=null,T=v.priorityLevel;var V=kt(v.expirationTime<=Y);if(Y=n.unstable_now(),typeof V=="function"){v.callback=V,rt(Y),st=!0;break e}v===e(d)&&i(d),rt(Y)}else i(d);v=e(d)}if(v!==null)st=!0;else{var et=e(m);et!==null&&At(nt,et.startTime-Y),st=!1}}break t}finally{v=null,T=gt,A=!1}st=void 0}}finally{st?L():lt=!1}}}var L;if(typeof tt=="function")L=function(){tt(P)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Wt=C.port2;C.port1.onmessage=P,L=function(){Wt.postMessage(null)}}else L=function(){H(P,0)};function At(Y,st){O=H(function(){Y(n.unstable_now())},st)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(Y){switch(T){case 1:case 2:case 3:var st=3;break;default:st=T}var gt=T;T=st;try{return Y()}finally{T=gt}},n.unstable_requestPaint=function(){M=!0},n.unstable_runWithPriority=function(Y,st){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var gt=T;T=Y;try{return st()}finally{T=gt}},n.unstable_scheduleCallback=function(Y,st,gt){var kt=n.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?kt+gt:kt):gt=kt,Y){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=gt+V,Y={id:_++,callback:st,priorityLevel:Y,startTime:gt,expirationTime:V,sortIndex:-1},gt>kt?(Y.sortIndex=gt,t(m,Y),e(d)===null&&Y===e(m)&&(k?(Q(O),O=-1):k=!0,At(nt,gt-kt))):(Y.sortIndex=V,t(d,Y),I||A||(I=!0,lt||(lt=!0,L()))),Y},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(Y){var st=T;return function(){var gt=T;T=st;try{return Y.apply(this,arguments)}finally{T=gt}}}}(fm)),fm}var L0;function OR(){return L0||(L0=1,hm.exports=DR()),hm.exports}var dm={exports:{}},Je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U0;function MR(){if(U0)return Je;U0=1;var n=gp();function t(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(d,m,_){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:d,containerInfo:m,implementation:_}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Je.createPortal=function(d,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(d,m,null,_)},Je.flushSync=function(d){var m=u.T,_=i.p;try{if(u.T=null,i.p=2,d)return d()}finally{u.T=m,i.p=_,i.d.f()}},Je.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(d,m))},Je.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Je.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var _=m.as,v=h(_,m.crossOrigin),T=typeof m.integrity=="string"?m.integrity:void 0,A=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?i.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:T,fetchPriority:A}):_==="script"&&i.d.X(d,{crossOrigin:v,integrity:T,fetchPriority:A,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Je.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=h(m.as,m.crossOrigin);i.d.M(d,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(d)},Je.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,v=h(_,m.crossOrigin);i.d.L(d,_,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Je.preloadModule=function(d,m){if(typeof d=="string")if(m){var _=h(m.as,m.crossOrigin);i.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(d)},Je.requestFormReset=function(d){i.d.r(d)},Je.unstable_batchedUpdates=function(d,m){return d(m)},Je.useFormState=function(d,m,_){return u.H.useFormState(d,m,_)},Je.useFormStatus=function(){return u.H.useHostTransitionStatus()},Je.version="19.1.0",Je}var z0;function kR(){if(z0)return dm.exports;z0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),dm.exports=MR(),dm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B0;function NR(){if(B0)return uu;B0=1;var n=OR(),t=gp(),e=kR();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function u(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(i(188))}function d(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var l=s,c=a;;){var g=l.return;if(g===null)break;var p=g.alternate;if(p===null){if(c=g.return,c!==null){l=c;continue}break}if(g.child===p.child){for(p=g.child;p;){if(p===l)return h(g),s;if(p===c)return h(g),a;p=p.sibling}throw Error(i(188))}if(l.return!==c.return)l=g,c=p;else{for(var E=!1,S=g.child;S;){if(S===l){E=!0,l=g,c=p;break}if(S===c){E=!0,c=g,l=p;break}S=S.sibling}if(!E){for(S=p.child;S;){if(S===l){E=!0,l=p,c=g;break}if(S===c){E=!0,c=p,l=g;break}S=S.sibling}if(!E)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:a}function m(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=m(s),a!==null)return a;s=s.sibling}return null}var _=Object.assign,v=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),Q=Symbol.for("react.consumer"),tt=Symbol.for("react.context"),rt=Symbol.for("react.forward_ref"),nt=Symbol.for("react.suspense"),lt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function L(s){return s===null||typeof s!="object"?null:(s=P&&s[P]||s["@@iterator"],typeof s=="function"?s:null)}var C=Symbol.for("react.client.reference");function Wt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===C?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case I:return"Fragment";case M:return"Profiler";case k:return"StrictMode";case nt:return"Suspense";case lt:return"SuspenseList";case x:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case A:return"Portal";case tt:return(s.displayName||"Context")+".Provider";case Q:return(s._context.displayName||"Context")+".Consumer";case rt:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case O:return a=s.displayName||null,a!==null?a:Wt(s.type)||"Memo";case R:a=s._payload,s=s._init;try{return Wt(s(a))}catch{}}return null}var At=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},kt=[],V=-1;function et(s){return{current:s}}function ot(s){0>V||(s.current=kt[V],kt[V]=null,V--)}function it(s,a){V++,kt[V]=s.current,s.current=a}var dt=et(null),wt=et(null),_t=et(null),Pe=et(null);function ie(s,a){switch(it(_t,a),it(wt,s),it(dt,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?a0(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=a0(a),s=o0(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ot(dt),it(dt,s)}function ri(){ot(dt),ot(wt),ot(_t)}function ys(s){s.memoizedState!==null&&it(Pe,s);var a=dt.current,l=o0(a,s.type);a!==l&&(it(wt,s),it(dt,l))}function Ni(s){wt.current===s&&(ot(dt),ot(wt)),Pe.current===s&&(ot(Pe),iu._currentValue=gt)}var Tr=Object.prototype.hasOwnProperty,Sr=n.unstable_scheduleCallback,Ar=n.unstable_cancelCallback,tl=n.unstable_shouldYield,ac=n.unstable_requestPaint,In=n.unstable_now,ld=n.unstable_getCurrentPriorityLevel,el=n.unstable_ImmediatePriority,xa=n.unstable_UserBlockingPriority,wr=n.unstable_NormalPriority,ud=n.unstable_LowPriority,Ia=n.unstable_IdlePriority,nl=n.log,oc=n.unstable_setDisableYieldValue,fe=null,Yt=null;function yn(s){if(typeof nl=="function"&&oc(s),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(fe,s)}catch{}}var $e=Math.clz32?Math.clz32:Rr,lc=Math.log,cd=Math.LN2;function Rr(s){return s>>>=0,s===0?32:31-(lc(s)/cd|0)|0}var xr=256,Ir=4194304;function Gn(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ca(s,a,l){var c=s.pendingLanes;if(c===0)return 0;var g=0,p=s.suspendedLanes,E=s.pingedLanes;s=s.warmLanes;var S=c&134217727;return S!==0?(c=S&~p,c!==0?g=Gn(c):(E&=S,E!==0?g=Gn(E):l||(l=S&~s,l!==0&&(g=Gn(l))))):(S=c&~p,S!==0?g=Gn(S):E!==0?g=Gn(E):l||(l=c&~s,l!==0&&(g=Gn(l)))),g===0?0:a!==0&&a!==g&&(a&p)===0&&(p=g&-g,l=a&-a,p>=l||p===32&&(l&4194048)!==0)?a:g}function Cr(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function il(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sl(){var s=xr;return xr<<=1,(xr&4194048)===0&&(xr=256),s}function rl(){var s=Ir;return Ir<<=1,(Ir&62914560)===0&&(Ir=4194304),s}function Pi(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function Vi(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function al(s,a,l,c,g,p){var E=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var S=s.entanglements,D=s.expirationTimes,F=s.hiddenUpdates;for(l=E&~l;0<l;){var X=31-$e(l),Z=1<<X;S[X]=0,D[X]=-1;var q=F[X];if(q!==null)for(F[X]=null,X=0;X<q.length;X++){var G=q[X];G!==null&&(G.lane&=-536870913)}l&=~Z}c!==0&&ai(s,c,0),p!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=p&~(E&~a))}function ai(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var c=31-$e(a);s.entangledLanes|=a,s.entanglements[c]=s.entanglements[c]|1073741824|l&4194090}function ol(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var c=31-$e(l),g=1<<c;g&a|s[c]&a&&(s[c]|=a),l&=~g}}function vs(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Da(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function bs(){var s=st.p;return s!==0?s:(s=window.event,s===void 0?32:R0(s.type))}function uc(s,a){var l=st.p;try{return st.p=s,a()}finally{st.p=l}}var le=Math.random().toString(36).slice(2),Ie="__reactFiber$"+le,Ee="__reactProps$"+le,Cn="__reactContainer$"+le,ll="__reactEvents$"+le,hd="__reactListeners$"+le,Es="__reactHandles$"+le,cc="__reactResources$"+le,Dr="__reactMarker$"+le;function Ts(s){delete s[Ie],delete s[Ee],delete s[ll],delete s[hd],delete s[Es]}function Li(s){var a=s[Ie];if(a)return a;for(var l=s.parentNode;l;){if(a=l[Cn]||l[Ie]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=h0(s);s!==null;){if(l=s[Ie])return l;s=h0(s)}return a}s=l,l=s.parentNode}return null}function oi(s){if(s=s[Ie]||s[Cn]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function li(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function an(s){var a=s[cc];return a||(a=s[cc]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function pe(s){s[Dr]=!0}var ul=new Set,Oa={};function Yn(s,a){Ui(s,a),Ui(s+"Capture",a)}function Ui(s,a){for(Oa[s]=a,s=0;s<a.length;s++)ul.add(a[s])}var hc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fc={},Or={};function dc(s){return Tr.call(Or,s)?!0:Tr.call(fc,s)?!1:hc.test(s)?Or[s]=!0:(fc[s]=!0,!1)}function Ss(s,a,l){if(dc(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function ui(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function Fe(s,a,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+c)}}var Mr,gc;function zi(s){if(Mr===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Mr=a&&a[1]||"",gc=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mr+s+gc}var Ma=!1;function ka(s,a){if(!s||Ma)return"";Ma=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(G){var q=G}Reflect.construct(s,[],Z)}else{try{Z.call()}catch(G){q=G}s.call(Z.prototype)}}else{try{throw Error()}catch(G){q=G}(Z=s())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),E=p[0],S=p[1];if(E&&S){var D=E.split(`
`),F=S.split(`
`);for(g=c=0;c<D.length&&!D[c].includes("DetermineComponentFrameRoot");)c++;for(;g<F.length&&!F[g].includes("DetermineComponentFrameRoot");)g++;if(c===D.length||g===F.length)for(c=D.length-1,g=F.length-1;1<=c&&0<=g&&D[c]!==F[g];)g--;for(;1<=c&&0<=g;c--,g--)if(D[c]!==F[g]){if(c!==1||g!==1)do if(c--,g--,0>g||D[c]!==F[g]){var X=`
`+D[c].replace(" at new "," at ");return s.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",s.displayName)),X}while(1<=c&&0<=g);break}}}finally{Ma=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?zi(l):""}function cl(s){switch(s.tag){case 26:case 27:case 5:return zi(s.type);case 16:return zi("Lazy");case 13:return zi("Suspense");case 19:return zi("SuspenseList");case 0:case 15:return ka(s.type,!1);case 11:return ka(s.type.render,!1);case 1:return ka(s.type,!0);case 31:return zi("Activity");default:return""}}function Na(s){try{var a="";do a+=cl(s),s=s.return;while(s);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function on(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function hl(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function fd(s){var a=hl(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),c=""+s[a];if(!s.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,p=l.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(E){c=""+E,p.call(this,E)}}),Object.defineProperty(s,a,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(E){c=""+E},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Pa(s){s._valueTracker||(s._valueTracker=fd(s))}function fl(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return s&&(c=hl(s)?s.checked?"true":"false":s.value),s=c,s!==l?(a.setValue(s),!0):!1}function kr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var dd=/[\n"\\]/g;function Te(s){return s.replace(dd,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function vn(s,a,l,c,g,p,E,S){s.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?s.type=E:s.removeAttribute("type"),a!=null?E==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+on(a)):s.value!==""+on(a)&&(s.value=""+on(a)):E!=="submit"&&E!=="reset"||s.removeAttribute("value"),a!=null?As(s,E,on(a)):l!=null?As(s,E,on(l)):c!=null&&s.removeAttribute("value"),g==null&&p!=null&&(s.defaultChecked=!!p),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+on(S):s.removeAttribute("name")}function Nr(s,a,l,c,g,p,E,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(s.type=p),a!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||a!=null))return;l=l!=null?""+on(l):"",a=a!=null?""+on(a):l,S||a===s.value||(s.value=a),s.defaultValue=a}c=c??g,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=S?s.checked:!!c,s.defaultChecked=!!c,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(s.name=E)}function As(s,a,l){a==="number"&&kr(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Bi(s,a,l,c){if(s=s.options,a){a={};for(var g=0;g<l.length;g++)a["$"+l[g]]=!0;for(l=0;l<s.length;l++)g=a.hasOwnProperty("$"+s[l].value),s[l].selected!==g&&(s[l].selected=g),g&&c&&(s[l].defaultSelected=!0)}else{for(l=""+on(l),a=null,g=0;g<s.length;g++){if(s[g].value===l){s[g].selected=!0,c&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function $t(s,a,l){if(a!=null&&(a=""+on(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+on(l):""}function Pr(s,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(i(92));if(At(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=on(a),s.defaultValue=l,c=s.textContent,c===l&&c!==""&&c!==null&&(s.value=c)}function Dn(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var Vr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mc(s,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":c?s.setProperty(a,l):typeof l!="number"||l===0||Vr.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function dl(s,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var g in a)c=a[g],a.hasOwnProperty(g)&&l[g]!==c&&mc(s,g,c)}else for(var p in a)a.hasOwnProperty(p)&&mc(s,p,a[p])}function gl(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),md=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Va(s){return md.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var ji=null;function On(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Hi=null,Fi=null;function ml(s){var a=oi(s);if(a&&(s=a.stateNode)){var l=s[Ee]||null;t:switch(s=a.stateNode,a.type){case"input":if(vn(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Te(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==s&&c.form===s.form){var g=c[Ee]||null;if(!g)throw Error(i(90));vn(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===s.form&&fl(c)}break t;case"textarea":$t(s,l.value,l.defaultValue);break t;case"select":a=l.value,a!=null&&Bi(s,!!l.multiple,a,!1)}}}var ci=!1;function pc(s,a,l){if(ci)return s(a,l);ci=!0;try{var c=s(a);return c}finally{if(ci=!1,(Hi!==null||Fi!==null)&&(uh(),Hi&&(a=Hi,s=Fi,Fi=Hi=null,ml(a),s)))for(a=0;a<s.length;a++)ml(s[a])}}function Lr(s,a){var l=s.stateNode;if(l===null)return null;var c=l[Ee]||null;if(c===null)return null;l=c[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mn=!1;if(Kn)try{var Ur={};Object.defineProperty(Ur,"passive",{get:function(){Mn=!0}}),window.addEventListener("test",Ur,Ur),window.removeEventListener("test",Ur,Ur)}catch{Mn=!1}var hi=null,ws=null,qi=null;function pl(){if(qi)return qi;var s,a=ws,l=a.length,c,g="value"in hi?hi.value:hi.textContent,p=g.length;for(s=0;s<l&&a[s]===g[s];s++);var E=l-s;for(c=1;c<=E&&a[l-c]===g[p-c];c++);return qi=g.slice(s,1<c?1-c:void 0)}function fi(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function di(){return!0}function _l(){return!1}function Ve(s){function a(l,c,g,p,E){this._reactName=l,this._targetInst=g,this.type=c,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(l=s[S],this[S]=l?l(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?di:_l,this.isPropagationStopped=_l,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=di)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=di)},persist:function(){},isPersistent:di}),a}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},La=Ve(qt),zr=_({},qt,{view:0,detail:0}),_c=Ve(zr),Ua,za,gi,Br=_({},zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==gi&&(gi&&s.type==="mousemove"?(Ua=s.screenX-gi.screenX,za=s.screenY-gi.screenY):za=Ua=0,gi=s),Ua)},movementY:function(s){return"movementY"in s?s.movementY:za}}),kn=Ve(Br),yc=_({},Br,{dataTransfer:0}),pd=Ve(yc),jr=_({},zr,{relatedTarget:0}),Ba=Ve(jr),yl=_({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),ja=Ve(yl),vc=_({},qt,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ha=Ve(vc),_d=_({},qt,{data:0}),vl=Ve(_d),Hr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ec={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bl(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Ec[s])?!!a[s]:!1}function Fr(){return bl}var Tc=_({},zr,{key:function(s){if(s.key){var a=Hr[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=fi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?bc[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fr,charCode:function(s){return s.type==="keypress"?fi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?fi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Fa=Ve(Tc),Sc=_({},Br,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),El=Ve(Sc),Gi=_({},zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fr}),Ac=Ve(Gi),wc=_({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rc=Ve(wc),xc=_({},Br,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),qa=Ve(xc),ln=_({},qt,{newState:0,oldState:0}),Ic=Ve(ln),Cc=[9,13,27,32],mi=Kn&&"CompositionEvent"in window,f=null;Kn&&"documentMode"in document&&(f=document.documentMode);var y=Kn&&"TextEvent"in window&&!f,b=Kn&&(!mi||f&&8<f&&11>=f),w=" ",B=!1;function K(s,a){switch(s){case"keyup":return Cc.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function at(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Vt=!1;function Ce(s,a){switch(s){case"compositionend":return at(a);case"keypress":return a.which!==32?null:(B=!0,w);case"textInput":return s=a.data,s===w&&B?null:s;default:return null}}function Lt(s,a){if(Vt)return s==="compositionend"||!mi&&K(s,a)?(s=pl(),qi=ws=hi=null,Vt=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return b&&a.locale!=="ko"?null:a.data;default:return null}}var Le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function De(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!Le[s.type]:a==="textarea"}function Yi(s,a,l,c){Hi?Fi?Fi.push(c):Fi=[c]:Hi=c,a=mh(a,"onChange"),0<a.length&&(l=new La("onChange","change",null,l,c),s.push({event:l,listeners:a}))}var qe=null,pi=null;function Tl(s){e0(s,0)}function Dc(s){var a=li(s);if(fl(a))return s}function T_(s,a){if(s==="change")return a}var S_=!1;if(Kn){var yd;if(Kn){var vd="oninput"in document;if(!vd){var A_=document.createElement("div");A_.setAttribute("oninput","return;"),vd=typeof A_.oninput=="function"}yd=vd}else yd=!1;S_=yd&&(!document.documentMode||9<document.documentMode)}function w_(){qe&&(qe.detachEvent("onpropertychange",R_),pi=qe=null)}function R_(s){if(s.propertyName==="value"&&Dc(pi)){var a=[];Yi(a,pi,s,On(s)),pc(Tl,a)}}function n1(s,a,l){s==="focusin"?(w_(),qe=a,pi=l,qe.attachEvent("onpropertychange",R_)):s==="focusout"&&w_()}function i1(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Dc(pi)}function s1(s,a){if(s==="click")return Dc(a)}function r1(s,a){if(s==="input"||s==="change")return Dc(a)}function a1(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var bn=typeof Object.is=="function"?Object.is:a1;function Sl(s,a){if(bn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var g=l[c];if(!Tr.call(a,g)||!bn(s[g],a[g]))return!1}return!0}function x_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function I_(s,a){var l=x_(s);s=0;for(var c;l;){if(l.nodeType===3){if(c=s+l.textContent.length,s<=a&&c>=a)return{node:l,offset:a-s};s=c}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=x_(l)}}function C_(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?C_(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function D_(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=kr(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=kr(s.document)}return a}function bd(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var o1=Kn&&"documentMode"in document&&11>=document.documentMode,Ga=null,Ed=null,Al=null,Td=!1;function O_(s,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Td||Ga==null||Ga!==kr(c)||(c=Ga,"selectionStart"in c&&bd(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Al&&Sl(Al,c)||(Al=c,c=mh(Ed,"onSelect"),0<c.length&&(a=new La("onSelect","select",null,a,l),s.push({event:a,listeners:c}),a.target=Ga)))}function qr(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var Ya={animationend:qr("Animation","AnimationEnd"),animationiteration:qr("Animation","AnimationIteration"),animationstart:qr("Animation","AnimationStart"),transitionrun:qr("Transition","TransitionRun"),transitionstart:qr("Transition","TransitionStart"),transitioncancel:qr("Transition","TransitionCancel"),transitionend:qr("Transition","TransitionEnd")},Sd={},M_={};Kn&&(M_=document.createElement("div").style,"AnimationEvent"in window||(delete Ya.animationend.animation,delete Ya.animationiteration.animation,delete Ya.animationstart.animation),"TransitionEvent"in window||delete Ya.transitionend.transition);function Gr(s){if(Sd[s])return Sd[s];if(!Ya[s])return s;var a=Ya[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in M_)return Sd[s]=a[l];return s}var k_=Gr("animationend"),N_=Gr("animationiteration"),P_=Gr("animationstart"),l1=Gr("transitionrun"),u1=Gr("transitionstart"),c1=Gr("transitioncancel"),V_=Gr("transitionend"),L_=new Map,Ad="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ad.push("scrollEnd");function Qn(s,a){L_.set(s,a),Yn(a,[s])}var U_=new WeakMap;function Nn(s,a){if(typeof s=="object"&&s!==null){var l=U_.get(s);return l!==void 0?l:(a={value:s,source:a,stack:Na(a)},U_.set(s,a),a)}return{value:s,source:a,stack:Na(a)}}var Pn=[],Ka=0,wd=0;function Oc(){for(var s=Ka,a=wd=Ka=0;a<s;){var l=Pn[a];Pn[a++]=null;var c=Pn[a];Pn[a++]=null;var g=Pn[a];Pn[a++]=null;var p=Pn[a];if(Pn[a++]=null,c!==null&&g!==null){var E=c.pending;E===null?g.next=g:(g.next=E.next,E.next=g),c.pending=g}p!==0&&z_(l,g,p)}}function Mc(s,a,l,c){Pn[Ka++]=s,Pn[Ka++]=a,Pn[Ka++]=l,Pn[Ka++]=c,wd|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function Rd(s,a,l,c){return Mc(s,a,l,c),kc(s)}function Qa(s,a){return Mc(s,null,null,a),kc(s)}function z_(s,a,l){s.lanes|=l;var c=s.alternate;c!==null&&(c.lanes|=l);for(var g=!1,p=s.return;p!==null;)p.childLanes|=l,c=p.alternate,c!==null&&(c.childLanes|=l),p.tag===22&&(s=p.stateNode,s===null||s._visibility&1||(g=!0)),s=p,p=p.return;return s.tag===3?(p=s.stateNode,g&&a!==null&&(g=31-$e(l),s=p.hiddenUpdates,c=s[g],c===null?s[g]=[a]:c.push(a),a.lane=l|536870912),p):null}function kc(s){if(50<Xl)throw Xl=0,Mg=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var Xa={};function h1(s,a,l,c){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(s,a,l,c){return new h1(s,a,l,c)}function xd(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ki(s,a){var l=s.alternate;return l===null?(l=En(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function B_(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Nc(s,a,l,c,g,p){var E=0;if(c=s,typeof s=="function")xd(s)&&(E=1);else if(typeof s=="string")E=dR(s,l,dt.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case x:return s=En(31,l,a,g),s.elementType=x,s.lanes=p,s;case I:return Yr(l.children,g,p,a);case k:E=8,g|=24;break;case M:return s=En(12,l,a,g|2),s.elementType=M,s.lanes=p,s;case nt:return s=En(13,l,a,g),s.elementType=nt,s.lanes=p,s;case lt:return s=En(19,l,a,g),s.elementType=lt,s.lanes=p,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case H:case tt:E=10;break t;case Q:E=9;break t;case rt:E=11;break t;case O:E=14;break t;case R:E=16,c=null;break t}E=29,l=Error(i(130,s===null?"null":typeof s,"")),c=null}return a=En(E,l,a,g),a.elementType=s,a.type=c,a.lanes=p,a}function Yr(s,a,l,c){return s=En(7,s,c,a),s.lanes=l,s}function Id(s,a,l){return s=En(6,s,null,a),s.lanes=l,s}function Cd(s,a,l){return a=En(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var Wa=[],$a=0,Pc=null,Vc=0,Vn=[],Ln=0,Kr=null,Qi=1,Xi="";function Qr(s,a){Wa[$a++]=Vc,Wa[$a++]=Pc,Pc=s,Vc=a}function j_(s,a,l){Vn[Ln++]=Qi,Vn[Ln++]=Xi,Vn[Ln++]=Kr,Kr=s;var c=Qi;s=Xi;var g=32-$e(c)-1;c&=~(1<<g),l+=1;var p=32-$e(a)+g;if(30<p){var E=g-g%5;p=(c&(1<<E)-1).toString(32),c>>=E,g-=E,Qi=1<<32-$e(a)+g|l<<g|c,Xi=p+s}else Qi=1<<p|l<<g|c,Xi=s}function Dd(s){s.return!==null&&(Qr(s,1),j_(s,1,0))}function Od(s){for(;s===Pc;)Pc=Wa[--$a],Wa[$a]=null,Vc=Wa[--$a],Wa[$a]=null;for(;s===Kr;)Kr=Vn[--Ln],Vn[Ln]=null,Xi=Vn[--Ln],Vn[Ln]=null,Qi=Vn[--Ln],Vn[Ln]=null}var un=null,de=null,Ht=!1,Xr=null,_i=!1,Md=Error(i(519));function Wr(s){var a=Error(i(418,""));throw xl(Nn(a,s)),Md}function H_(s){var a=s.stateNode,l=s.type,c=s.memoizedProps;switch(a[Ie]=s,a[Ee]=c,l){case"dialog":Mt("cancel",a),Mt("close",a);break;case"iframe":case"object":case"embed":Mt("load",a);break;case"video":case"audio":for(l=0;l<$l.length;l++)Mt($l[l],a);break;case"source":Mt("error",a);break;case"img":case"image":case"link":Mt("error",a),Mt("load",a);break;case"details":Mt("toggle",a);break;case"input":Mt("invalid",a),Nr(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Pa(a);break;case"select":Mt("invalid",a);break;case"textarea":Mt("invalid",a),Pr(a,c.value,c.defaultValue,c.children),Pa(a)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||r0(a.textContent,l)?(c.popover!=null&&(Mt("beforetoggle",a),Mt("toggle",a)),c.onScroll!=null&&Mt("scroll",a),c.onScrollEnd!=null&&Mt("scrollend",a),c.onClick!=null&&(a.onclick=ph),a=!0):a=!1,a||Wr(s)}function F_(s){for(un=s.return;un;)switch(un.tag){case 5:case 13:_i=!1;return;case 27:case 3:_i=!0;return;default:un=un.return}}function wl(s){if(s!==un)return!1;if(!Ht)return F_(s),Ht=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Qg(s.type,s.memoizedProps)),l=!l),l&&de&&Wr(s),F_(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));t:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(a===0){de=Wn(s.nextSibling);break t}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;s=s.nextSibling}de=null}}else a===27?(a=de,js(s.type)?(s=Zg,Zg=null,de=s):de=a):de=un?Wn(s.stateNode.nextSibling):null;return!0}function Rl(){de=un=null,Ht=!1}function q_(){var s=Xr;return s!==null&&(fn===null?fn=s:fn.push.apply(fn,s),Xr=null),s}function xl(s){Xr===null?Xr=[s]:Xr.push(s)}var kd=et(null),$r=null,Wi=null;function Rs(s,a,l){it(kd,a._currentValue),a._currentValue=l}function $i(s){s._currentValue=kd.current,ot(kd)}function Nd(s,a,l){for(;s!==null;){var c=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),s===l)break;s=s.return}}function Pd(s,a,l,c){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var p=g.dependencies;if(p!==null){var E=g.child;p=p.firstContext;t:for(;p!==null;){var S=p;p=g;for(var D=0;D<a.length;D++)if(S.context===a[D]){p.lanes|=l,S=p.alternate,S!==null&&(S.lanes|=l),Nd(p.return,l,s),c||(E=null);break t}p=S.next}}else if(g.tag===18){if(E=g.return,E===null)throw Error(i(341));E.lanes|=l,p=E.alternate,p!==null&&(p.lanes|=l),Nd(E,l,s),E=null}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===s){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}}function Il(s,a,l,c){s=null;for(var g=a,p=!1;g!==null;){if(!p){if((g.flags&524288)!==0)p=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var E=g.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var S=g.type;bn(g.pendingProps.value,E.value)||(s!==null?s.push(S):s=[S])}}else if(g===Pe.current){if(E=g.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(iu):s=[iu])}g=g.return}s!==null&&Pd(a,s,l,c),a.flags|=262144}function Lc(s){for(s=s.firstContext;s!==null;){if(!bn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Zr(s){$r=s,Wi=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Ze(s){return G_($r,s)}function Uc(s,a){return $r===null&&Zr(s),G_(s,a)}function G_(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Wi===null){if(s===null)throw Error(i(308));Wi=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else Wi=Wi.next=a;return l}var f1=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,c){s.push(c)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},d1=n.unstable_scheduleCallback,g1=n.unstable_NormalPriority,Oe={$$typeof:tt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vd(){return{controller:new f1,data:new Map,refCount:0}}function Cl(s){s.refCount--,s.refCount===0&&d1(g1,function(){s.controller.abort()})}var Dl=null,Ld=0,Za=0,Ja=null;function m1(s,a){if(Dl===null){var l=Dl=[];Ld=0,Za=zg(),Ja={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Ld++,a.then(Y_,Y_),a}function Y_(){if(--Ld===0&&Dl!==null){Ja!==null&&(Ja.status="fulfilled");var s=Dl;Dl=null,Za=0,Ja=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function p1(s,a){var l=[],c={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return s.then(function(){c.status="fulfilled",c.value=a;for(var g=0;g<l.length;g++)(0,l[g])(a)},function(g){for(c.status="rejected",c.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),c}var K_=Y.S;Y.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&m1(s,a),K_!==null&&K_(s,a)};var Jr=et(null);function Ud(){var s=Jr.current;return s!==null?s:se.pooledCache}function zc(s,a){a===null?it(Jr,Jr.current):it(Jr,a.pool)}function Q_(){var s=Ud();return s===null?null:{parent:Oe._currentValue,pool:s}}var Ol=Error(i(460)),X_=Error(i(474)),Bc=Error(i(542)),zd={then:function(){}};function W_(s){return s=s.status,s==="fulfilled"||s==="rejected"}function jc(){}function $_(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(jc,jc),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,J_(s),s;default:if(typeof a.status=="string")a.then(jc,jc);else{if(s=se,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(c){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=c}},function(c){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,J_(s),s}throw Ml=a,Ol}}var Ml=null;function Z_(){if(Ml===null)throw Error(i(459));var s=Ml;return Ml=null,s}function J_(s){if(s===Ol||s===Bc)throw Error(i(483))}var xs=!1;function Bd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jd(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Is(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Cs(s,a,l){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(Kt&2)!==0){var g=c.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),c.pending=a,a=kc(s),z_(s,null,l),a}return Mc(s,c,a,l),kc(s)}function kl(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=s.pendingLanes,l|=c,a.lanes=l,ol(s,l)}}function Hd(s,a){var l=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var g=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var E={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?g=p=E:p=p.next=E,l=l.next}while(l!==null);p===null?g=p=a:p=p.next=a}else g=p=a;l={baseState:c.baseState,firstBaseUpdate:g,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var Fd=!1;function Nl(){if(Fd){var s=Ja;if(s!==null)throw s}}function Pl(s,a,l,c){Fd=!1;var g=s.updateQueue;xs=!1;var p=g.firstBaseUpdate,E=g.lastBaseUpdate,S=g.shared.pending;if(S!==null){g.shared.pending=null;var D=S,F=D.next;D.next=null,E===null?p=F:E.next=F,E=D;var X=s.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==E&&(S===null?X.firstBaseUpdate=F:S.next=F,X.lastBaseUpdate=D))}if(p!==null){var Z=g.baseState;E=0,X=F=D=null,S=p;do{var q=S.lane&-536870913,G=q!==S.lane;if(G?(Ut&q)===q:(c&q)===q){q!==0&&q===Za&&(Fd=!0),X!==null&&(X=X.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var Tt=s,yt=S;q=a;var te=l;switch(yt.tag){case 1:if(Tt=yt.payload,typeof Tt=="function"){Z=Tt.call(te,Z,q);break t}Z=Tt;break t;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=yt.payload,q=typeof Tt=="function"?Tt.call(te,Z,q):Tt,q==null)break t;Z=_({},Z,q);break t;case 2:xs=!0}}q=S.callback,q!==null&&(s.flags|=64,G&&(s.flags|=8192),G=g.callbacks,G===null?g.callbacks=[q]:G.push(q))}else G={lane:q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(F=X=G,D=Z):X=X.next=G,E|=q;if(S=S.next,S===null){if(S=g.shared.pending,S===null)break;G=S,S=G.next,G.next=null,g.lastBaseUpdate=G,g.shared.pending=null}}while(!0);X===null&&(D=Z),g.baseState=D,g.firstBaseUpdate=F,g.lastBaseUpdate=X,p===null&&(g.shared.lanes=0),Ls|=E,s.lanes=E,s.memoizedState=Z}}function ty(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function ey(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)ty(l[s],a)}var to=et(null),Hc=et(0);function ny(s,a){s=ss,it(Hc,s),it(to,a),ss=s|a.baseLanes}function qd(){it(Hc,ss),it(to,to.current)}function Gd(){ss=Hc.current,ot(to),ot(Hc)}var Ds=0,It=null,Zt=null,Se=null,Fc=!1,eo=!1,ta=!1,qc=0,Vl=0,no=null,_1=0;function _e(){throw Error(i(321))}function Yd(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!bn(s[l],a[l]))return!1;return!0}function Kd(s,a,l,c,g,p){return Ds=p,It=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Y.H=s===null||s.memoizedState===null?zy:By,ta=!1,p=l(c,g),ta=!1,eo&&(p=sy(a,l,c,g)),iy(s),p}function iy(s){Y.H=Wc;var a=Zt!==null&&Zt.next!==null;if(Ds=0,Se=Zt=It=null,Fc=!1,Vl=0,no=null,a)throw Error(i(300));s===null||Ue||(s=s.dependencies,s!==null&&Lc(s)&&(Ue=!0))}function sy(s,a,l,c){It=s;var g=0;do{if(eo&&(no=null),Vl=0,eo=!1,25<=g)throw Error(i(301));if(g+=1,Se=Zt=null,s.updateQueue!=null){var p=s.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}Y.H=A1,p=a(l,c)}while(eo);return p}function y1(){var s=Y.H,a=s.useState()[0];return a=typeof a.then=="function"?Ll(a):a,s=s.useState()[0],(Zt!==null?Zt.memoizedState:null)!==s&&(It.flags|=1024),a}function Qd(){var s=qc!==0;return qc=0,s}function Xd(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function Wd(s){if(Fc){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Fc=!1}Ds=0,Se=Zt=It=null,eo=!1,Vl=qc=0,no=null}function cn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?It.memoizedState=Se=s:Se=Se.next=s,Se}function Ae(){if(Zt===null){var s=It.alternate;s=s!==null?s.memoizedState:null}else s=Zt.next;var a=Se===null?It.memoizedState:Se.next;if(a!==null)Se=a,Zt=s;else{if(s===null)throw It.alternate===null?Error(i(467)):Error(i(310));Zt=s,s={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Se===null?It.memoizedState=Se=s:Se=Se.next=s}return Se}function $d(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ll(s){var a=Vl;return Vl+=1,no===null&&(no=[]),s=$_(no,s,a),a=It,(Se===null?a.memoizedState:Se.next)===null&&(a=a.alternate,Y.H=a===null||a.memoizedState===null?zy:By),s}function Gc(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Ll(s);if(s.$$typeof===tt)return Ze(s)}throw Error(i(438,String(s)))}function Zd(s){var a=null,l=It.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=It.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=$d(),It.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),c=0;c<s;c++)l[c]=N;return a.index++,l}function Zi(s,a){return typeof a=="function"?a(s):a}function Yc(s){var a=Ae();return Jd(a,Zt,s)}function Jd(s,a,l){var c=s.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var g=s.baseQueue,p=c.pending;if(p!==null){if(g!==null){var E=g.next;g.next=p.next,p.next=E}a.baseQueue=g=p,c.pending=null}if(p=s.baseState,g===null)s.memoizedState=p;else{a=g.next;var S=E=null,D=null,F=a,X=!1;do{var Z=F.lane&-536870913;if(Z!==F.lane?(Ut&Z)===Z:(Ds&Z)===Z){var q=F.revertLane;if(q===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),Z===Za&&(X=!0);else if((Ds&q)===q){F=F.next,q===Za&&(X=!0);continue}else Z={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(S=D=Z,E=p):D=D.next=Z,It.lanes|=q,Ls|=q;Z=F.action,ta&&l(p,Z),p=F.hasEagerState?F.eagerState:l(p,Z)}else q={lane:Z,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(S=D=q,E=p):D=D.next=q,It.lanes|=Z,Ls|=Z;F=F.next}while(F!==null&&F!==a);if(D===null?E=p:D.next=S,!bn(p,s.memoizedState)&&(Ue=!0,X&&(l=Ja,l!==null)))throw l;s.memoizedState=p,s.baseState=E,s.baseQueue=D,c.lastRenderedState=p}return g===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function tg(s){var a=Ae(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var c=l.dispatch,g=l.pending,p=a.memoizedState;if(g!==null){l.pending=null;var E=g=g.next;do p=s(p,E.action),E=E.next;while(E!==g);bn(p,a.memoizedState)||(Ue=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),l.lastRenderedState=p}return[p,c]}function ry(s,a,l){var c=It,g=Ae(),p=Ht;if(p){if(l===void 0)throw Error(i(407));l=l()}else l=a();var E=!bn((Zt||g).memoizedState,l);E&&(g.memoizedState=l,Ue=!0),g=g.queue;var S=ly.bind(null,c,g,s);if(Ul(2048,8,S,[s]),g.getSnapshot!==a||E||Se!==null&&Se.memoizedState.tag&1){if(c.flags|=2048,io(9,Kc(),oy.bind(null,c,g,l,a),null),se===null)throw Error(i(349));p||(Ds&124)!==0||ay(c,a,l)}return l}function ay(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=It.updateQueue,a===null?(a=$d(),It.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function oy(s,a,l,c){a.value=l,a.getSnapshot=c,uy(a)&&cy(s)}function ly(s,a,l){return l(function(){uy(a)&&cy(s)})}function uy(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!bn(s,l)}catch{return!0}}function cy(s){var a=Qa(s,2);a!==null&&Rn(a,s,2)}function eg(s){var a=cn();if(typeof s=="function"){var l=s;if(s=l(),ta){yn(!0);try{l()}finally{yn(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:s},a}function hy(s,a,l,c){return s.baseState=l,Jd(s,Zt,typeof c=="function"?c:Zi)}function v1(s,a,l,c,g){if(Xc(s))throw Error(i(485));if(s=a.action,s!==null){var p={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};Y.T!==null?l(!0):p.isTransition=!1,c(p),l=a.pending,l===null?(p.next=a.pending=p,fy(a,p)):(p.next=l.next,a.pending=l.next=p)}}function fy(s,a){var l=a.action,c=a.payload,g=s.state;if(a.isTransition){var p=Y.T,E={};Y.T=E;try{var S=l(g,c),D=Y.S;D!==null&&D(E,S),dy(s,a,S)}catch(F){ng(s,a,F)}finally{Y.T=p}}else try{p=l(g,c),dy(s,a,p)}catch(F){ng(s,a,F)}}function dy(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){gy(s,a,c)},function(c){return ng(s,a,c)}):gy(s,a,l)}function gy(s,a,l){a.status="fulfilled",a.value=l,my(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,fy(s,l)))}function ng(s,a,l){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,my(a),a=a.next;while(a!==c)}s.action=null}function my(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function py(s,a){return a}function _y(s,a){if(Ht){var l=se.formState;if(l!==null){t:{var c=It;if(Ht){if(de){e:{for(var g=de,p=_i;g.nodeType!==8;){if(!p){g=null;break e}if(g=Wn(g.nextSibling),g===null){g=null;break e}}p=g.data,g=p==="F!"||p==="F"?g:null}if(g){de=Wn(g.nextSibling),c=g.data==="F!";break t}}Wr(c)}c=!1}c&&(a=l[0])}}return l=cn(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:py,lastRenderedState:a},l.queue=c,l=Vy.bind(null,It,c),c.dispatch=l,c=eg(!1),p=og.bind(null,It,!1,c.queue),c=cn(),g={state:a,dispatch:null,action:s,pending:null},c.queue=g,l=v1.bind(null,It,g,p,l),g.dispatch=l,c.memoizedState=s,[a,l,!1]}function yy(s){var a=Ae();return vy(a,Zt,s)}function vy(s,a,l){if(a=Jd(s,a,py)[0],s=Yc(Zi)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=Ll(a)}catch(E){throw E===Ol?Bc:E}else c=a;a=Ae();var g=a.queue,p=g.dispatch;return l!==a.memoizedState&&(It.flags|=2048,io(9,Kc(),b1.bind(null,g,l),null)),[c,p,s]}function b1(s,a){s.action=a}function by(s){var a=Ae(),l=Zt;if(l!==null)return vy(a,l,s);Ae(),a=a.memoizedState,l=Ae();var c=l.queue.dispatch;return l.memoizedState=s,[a,c,!1]}function io(s,a,l,c){return s={tag:s,create:l,deps:c,inst:a,next:null},a=It.updateQueue,a===null&&(a=$d(),It.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(c=l.next,l.next=s,s.next=c,a.lastEffect=s),s}function Kc(){return{destroy:void 0,resource:void 0}}function Ey(){return Ae().memoizedState}function Qc(s,a,l,c){var g=cn();c=c===void 0?null:c,It.flags|=s,g.memoizedState=io(1|a,Kc(),l,c)}function Ul(s,a,l,c){var g=Ae();c=c===void 0?null:c;var p=g.memoizedState.inst;Zt!==null&&c!==null&&Yd(c,Zt.memoizedState.deps)?g.memoizedState=io(a,p,l,c):(It.flags|=s,g.memoizedState=io(1|a,p,l,c))}function Ty(s,a){Qc(8390656,8,s,a)}function Sy(s,a){Ul(2048,8,s,a)}function Ay(s,a){return Ul(4,2,s,a)}function wy(s,a){return Ul(4,4,s,a)}function Ry(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function xy(s,a,l){l=l!=null?l.concat([s]):null,Ul(4,4,Ry.bind(null,a,s),l)}function ig(){}function Iy(s,a){var l=Ae();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&Yd(a,c[1])?c[0]:(l.memoizedState=[s,a],s)}function Cy(s,a){var l=Ae();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&Yd(a,c[1]))return c[0];if(c=s(),ta){yn(!0);try{s()}finally{yn(!1)}}return l.memoizedState=[c,a],c}function sg(s,a,l){return l===void 0||(Ds&1073741824)!==0?s.memoizedState=a:(s.memoizedState=l,s=Mv(),It.lanes|=s,Ls|=s,l)}function Dy(s,a,l,c){return bn(l,a)?l:to.current!==null?(s=sg(s,l,c),bn(s,a)||(Ue=!0),s):(Ds&42)===0?(Ue=!0,s.memoizedState=l):(s=Mv(),It.lanes|=s,Ls|=s,a)}function Oy(s,a,l,c,g){var p=st.p;st.p=p!==0&&8>p?p:8;var E=Y.T,S={};Y.T=S,og(s,!1,a,l);try{var D=g(),F=Y.S;if(F!==null&&F(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var X=p1(D,c);zl(s,a,X,wn(s))}else zl(s,a,c,wn(s))}catch(Z){zl(s,a,{then:function(){},status:"rejected",reason:Z},wn())}finally{st.p=p,Y.T=E}}function E1(){}function rg(s,a,l,c){if(s.tag!==5)throw Error(i(476));var g=My(s).queue;Oy(s,g,a,gt,l===null?E1:function(){return ky(s),l(c)})}function My(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:gt},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function ky(s){var a=My(s).next.queue;zl(s,a,{},wn())}function ag(){return Ze(iu)}function Ny(){return Ae().memoizedState}function Py(){return Ae().memoizedState}function T1(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=wn();s=Is(l);var c=Cs(a,s,l);c!==null&&(Rn(c,a,l),kl(c,a,l)),a={cache:Vd()},s.payload=a;return}a=a.return}}function S1(s,a,l){var c=wn();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Xc(s)?Ly(a,l):(l=Rd(s,a,l,c),l!==null&&(Rn(l,s,c),Uy(l,a,c)))}function Vy(s,a,l){var c=wn();zl(s,a,l,c)}function zl(s,a,l,c){var g={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Xc(s))Ly(a,g);else{var p=s.alternate;if(s.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var E=a.lastRenderedState,S=p(E,l);if(g.hasEagerState=!0,g.eagerState=S,bn(S,E))return Mc(s,a,g,0),se===null&&Oc(),!1}catch{}finally{}if(l=Rd(s,a,g,c),l!==null)return Rn(l,s,c),Uy(l,a,c),!0}return!1}function og(s,a,l,c){if(c={lane:2,revertLane:zg(),action:c,hasEagerState:!1,eagerState:null,next:null},Xc(s)){if(a)throw Error(i(479))}else a=Rd(s,l,c,2),a!==null&&Rn(a,s,2)}function Xc(s){var a=s.alternate;return s===It||a!==null&&a===It}function Ly(s,a){eo=Fc=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function Uy(s,a,l){if((l&4194048)!==0){var c=a.lanes;c&=s.pendingLanes,l|=c,a.lanes=l,ol(s,l)}}var Wc={readContext:Ze,use:Gc,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useLayoutEffect:_e,useInsertionEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useSyncExternalStore:_e,useId:_e,useHostTransitionStatus:_e,useFormState:_e,useActionState:_e,useOptimistic:_e,useMemoCache:_e,useCacheRefresh:_e},zy={readContext:Ze,use:Gc,useCallback:function(s,a){return cn().memoizedState=[s,a===void 0?null:a],s},useContext:Ze,useEffect:Ty,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,Qc(4194308,4,Ry.bind(null,a,s),l)},useLayoutEffect:function(s,a){return Qc(4194308,4,s,a)},useInsertionEffect:function(s,a){Qc(4,2,s,a)},useMemo:function(s,a){var l=cn();a=a===void 0?null:a;var c=s();if(ta){yn(!0);try{s()}finally{yn(!1)}}return l.memoizedState=[c,a],c},useReducer:function(s,a,l){var c=cn();if(l!==void 0){var g=l(a);if(ta){yn(!0);try{l(a)}finally{yn(!1)}}}else g=a;return c.memoizedState=c.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},c.queue=s,s=s.dispatch=S1.bind(null,It,s),[c.memoizedState,s]},useRef:function(s){var a=cn();return s={current:s},a.memoizedState=s},useState:function(s){s=eg(s);var a=s.queue,l=Vy.bind(null,It,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:ig,useDeferredValue:function(s,a){var l=cn();return sg(l,s,a)},useTransition:function(){var s=eg(!1);return s=Oy.bind(null,It,s.queue,!0,!1),cn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var c=It,g=cn();if(Ht){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),se===null)throw Error(i(349));(Ut&124)!==0||ay(c,a,l)}g.memoizedState=l;var p={value:l,getSnapshot:a};return g.queue=p,Ty(ly.bind(null,c,p,s),[s]),c.flags|=2048,io(9,Kc(),oy.bind(null,c,p,l,a),null),l},useId:function(){var s=cn(),a=se.identifierPrefix;if(Ht){var l=Xi,c=Qi;l=(c&~(1<<32-$e(c)-1)).toString(32)+l,a=""+a+"R"+l,l=qc++,0<l&&(a+="H"+l.toString(32)),a+=""}else l=_1++,a=""+a+"r"+l.toString(32)+"";return s.memoizedState=a},useHostTransitionStatus:ag,useFormState:_y,useActionState:_y,useOptimistic:function(s){var a=cn();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=og.bind(null,It,!0,l),l.dispatch=a,[s,a]},useMemoCache:Zd,useCacheRefresh:function(){return cn().memoizedState=T1.bind(null,It)}},By={readContext:Ze,use:Gc,useCallback:Iy,useContext:Ze,useEffect:Sy,useImperativeHandle:xy,useInsertionEffect:Ay,useLayoutEffect:wy,useMemo:Cy,useReducer:Yc,useRef:Ey,useState:function(){return Yc(Zi)},useDebugValue:ig,useDeferredValue:function(s,a){var l=Ae();return Dy(l,Zt.memoizedState,s,a)},useTransition:function(){var s=Yc(Zi)[0],a=Ae().memoizedState;return[typeof s=="boolean"?s:Ll(s),a]},useSyncExternalStore:ry,useId:Ny,useHostTransitionStatus:ag,useFormState:yy,useActionState:yy,useOptimistic:function(s,a){var l=Ae();return hy(l,Zt,s,a)},useMemoCache:Zd,useCacheRefresh:Py},A1={readContext:Ze,use:Gc,useCallback:Iy,useContext:Ze,useEffect:Sy,useImperativeHandle:xy,useInsertionEffect:Ay,useLayoutEffect:wy,useMemo:Cy,useReducer:tg,useRef:Ey,useState:function(){return tg(Zi)},useDebugValue:ig,useDeferredValue:function(s,a){var l=Ae();return Zt===null?sg(l,s,a):Dy(l,Zt.memoizedState,s,a)},useTransition:function(){var s=tg(Zi)[0],a=Ae().memoizedState;return[typeof s=="boolean"?s:Ll(s),a]},useSyncExternalStore:ry,useId:Ny,useHostTransitionStatus:ag,useFormState:by,useActionState:by,useOptimistic:function(s,a){var l=Ae();return Zt!==null?hy(l,Zt,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Zd,useCacheRefresh:Py},so=null,Bl=0;function $c(s){var a=Bl;return Bl+=1,so===null&&(so=[]),$_(so,s,a)}function jl(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Zc(s,a){throw a.$$typeof===v?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function jy(s){var a=s._init;return a(s._payload)}function Hy(s){function a(z,U){if(s){var j=z.deletions;j===null?(z.deletions=[U],z.flags|=16):j.push(U)}}function l(z,U){if(!s)return null;for(;U!==null;)a(z,U),U=U.sibling;return null}function c(z){for(var U=new Map;z!==null;)z.key!==null?U.set(z.key,z):U.set(z.index,z),z=z.sibling;return U}function g(z,U){return z=Ki(z,U),z.index=0,z.sibling=null,z}function p(z,U,j){return z.index=j,s?(j=z.alternate,j!==null?(j=j.index,j<U?(z.flags|=67108866,U):j):(z.flags|=67108866,U)):(z.flags|=1048576,U)}function E(z){return s&&z.alternate===null&&(z.flags|=67108866),z}function S(z,U,j,W){return U===null||U.tag!==6?(U=Id(j,z.mode,W),U.return=z,U):(U=g(U,j),U.return=z,U)}function D(z,U,j,W){var ft=j.type;return ft===I?X(z,U,j.props.children,W,j.key):U!==null&&(U.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===R&&jy(ft)===U.type)?(U=g(U,j.props),jl(U,j),U.return=z,U):(U=Nc(j.type,j.key,j.props,null,z.mode,W),jl(U,j),U.return=z,U)}function F(z,U,j,W){return U===null||U.tag!==4||U.stateNode.containerInfo!==j.containerInfo||U.stateNode.implementation!==j.implementation?(U=Cd(j,z.mode,W),U.return=z,U):(U=g(U,j.children||[]),U.return=z,U)}function X(z,U,j,W,ft){return U===null||U.tag!==7?(U=Yr(j,z.mode,W,ft),U.return=z,U):(U=g(U,j),U.return=z,U)}function Z(z,U,j){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Id(""+U,z.mode,j),U.return=z,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case T:return j=Nc(U.type,U.key,U.props,null,z.mode,j),jl(j,U),j.return=z,j;case A:return U=Cd(U,z.mode,j),U.return=z,U;case R:var W=U._init;return U=W(U._payload),Z(z,U,j)}if(At(U)||L(U))return U=Yr(U,z.mode,j,null),U.return=z,U;if(typeof U.then=="function")return Z(z,$c(U),j);if(U.$$typeof===tt)return Z(z,Uc(z,U),j);Zc(z,U)}return null}function q(z,U,j,W){var ft=U!==null?U.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ft!==null?null:S(z,U,""+j,W);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case T:return j.key===ft?D(z,U,j,W):null;case A:return j.key===ft?F(z,U,j,W):null;case R:return ft=j._init,j=ft(j._payload),q(z,U,j,W)}if(At(j)||L(j))return ft!==null?null:X(z,U,j,W,null);if(typeof j.then=="function")return q(z,U,$c(j),W);if(j.$$typeof===tt)return q(z,U,Uc(z,j),W);Zc(z,j)}return null}function G(z,U,j,W,ft){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return z=z.get(j)||null,S(U,z,""+W,ft);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case T:return z=z.get(W.key===null?j:W.key)||null,D(U,z,W,ft);case A:return z=z.get(W.key===null?j:W.key)||null,F(U,z,W,ft);case R:var Dt=W._init;return W=Dt(W._payload),G(z,U,j,W,ft)}if(At(W)||L(W))return z=z.get(j)||null,X(U,z,W,ft,null);if(typeof W.then=="function")return G(z,U,j,$c(W),ft);if(W.$$typeof===tt)return G(z,U,j,Uc(U,W),ft);Zc(U,W)}return null}function Tt(z,U,j,W){for(var ft=null,Dt=null,mt=U,vt=U=0,Be=null;mt!==null&&vt<j.length;vt++){mt.index>vt?(Be=mt,mt=null):Be=mt.sibling;var Bt=q(z,mt,j[vt],W);if(Bt===null){mt===null&&(mt=Be);break}s&&mt&&Bt.alternate===null&&a(z,mt),U=p(Bt,U,vt),Dt===null?ft=Bt:Dt.sibling=Bt,Dt=Bt,mt=Be}if(vt===j.length)return l(z,mt),Ht&&Qr(z,vt),ft;if(mt===null){for(;vt<j.length;vt++)mt=Z(z,j[vt],W),mt!==null&&(U=p(mt,U,vt),Dt===null?ft=mt:Dt.sibling=mt,Dt=mt);return Ht&&Qr(z,vt),ft}for(mt=c(mt);vt<j.length;vt++)Be=G(mt,z,vt,j[vt],W),Be!==null&&(s&&Be.alternate!==null&&mt.delete(Be.key===null?vt:Be.key),U=p(Be,U,vt),Dt===null?ft=Be:Dt.sibling=Be,Dt=Be);return s&&mt.forEach(function(Ys){return a(z,Ys)}),Ht&&Qr(z,vt),ft}function yt(z,U,j,W){if(j==null)throw Error(i(151));for(var ft=null,Dt=null,mt=U,vt=U=0,Be=null,Bt=j.next();mt!==null&&!Bt.done;vt++,Bt=j.next()){mt.index>vt?(Be=mt,mt=null):Be=mt.sibling;var Ys=q(z,mt,Bt.value,W);if(Ys===null){mt===null&&(mt=Be);break}s&&mt&&Ys.alternate===null&&a(z,mt),U=p(Ys,U,vt),Dt===null?ft=Ys:Dt.sibling=Ys,Dt=Ys,mt=Be}if(Bt.done)return l(z,mt),Ht&&Qr(z,vt),ft;if(mt===null){for(;!Bt.done;vt++,Bt=j.next())Bt=Z(z,Bt.value,W),Bt!==null&&(U=p(Bt,U,vt),Dt===null?ft=Bt:Dt.sibling=Bt,Dt=Bt);return Ht&&Qr(z,vt),ft}for(mt=c(mt);!Bt.done;vt++,Bt=j.next())Bt=G(mt,z,vt,Bt.value,W),Bt!==null&&(s&&Bt.alternate!==null&&mt.delete(Bt.key===null?vt:Bt.key),U=p(Bt,U,vt),Dt===null?ft=Bt:Dt.sibling=Bt,Dt=Bt);return s&&mt.forEach(function(wR){return a(z,wR)}),Ht&&Qr(z,vt),ft}function te(z,U,j,W){if(typeof j=="object"&&j!==null&&j.type===I&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case T:t:{for(var ft=j.key;U!==null;){if(U.key===ft){if(ft=j.type,ft===I){if(U.tag===7){l(z,U.sibling),W=g(U,j.props.children),W.return=z,z=W;break t}}else if(U.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===R&&jy(ft)===U.type){l(z,U.sibling),W=g(U,j.props),jl(W,j),W.return=z,z=W;break t}l(z,U);break}else a(z,U);U=U.sibling}j.type===I?(W=Yr(j.props.children,z.mode,W,j.key),W.return=z,z=W):(W=Nc(j.type,j.key,j.props,null,z.mode,W),jl(W,j),W.return=z,z=W)}return E(z);case A:t:{for(ft=j.key;U!==null;){if(U.key===ft)if(U.tag===4&&U.stateNode.containerInfo===j.containerInfo&&U.stateNode.implementation===j.implementation){l(z,U.sibling),W=g(U,j.children||[]),W.return=z,z=W;break t}else{l(z,U);break}else a(z,U);U=U.sibling}W=Cd(j,z.mode,W),W.return=z,z=W}return E(z);case R:return ft=j._init,j=ft(j._payload),te(z,U,j,W)}if(At(j))return Tt(z,U,j,W);if(L(j)){if(ft=L(j),typeof ft!="function")throw Error(i(150));return j=ft.call(j),yt(z,U,j,W)}if(typeof j.then=="function")return te(z,U,$c(j),W);if(j.$$typeof===tt)return te(z,U,Uc(z,j),W);Zc(z,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,U!==null&&U.tag===6?(l(z,U.sibling),W=g(U,j),W.return=z,z=W):(l(z,U),W=Id(j,z.mode,W),W.return=z,z=W),E(z)):l(z,U)}return function(z,U,j,W){try{Bl=0;var ft=te(z,U,j,W);return so=null,ft}catch(mt){if(mt===Ol||mt===Bc)throw mt;var Dt=En(29,mt,null,z.mode);return Dt.lanes=W,Dt.return=z,Dt}finally{}}}var ro=Hy(!0),Fy=Hy(!1),Un=et(null),yi=null;function Os(s){var a=s.alternate;it(Me,Me.current&1),it(Un,s),yi===null&&(a===null||to.current!==null||a.memoizedState!==null)&&(yi=s)}function qy(s){if(s.tag===22){if(it(Me,Me.current),it(Un,s),yi===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(yi=s)}}else Ms()}function Ms(){it(Me,Me.current),it(Un,Un.current)}function Ji(s){ot(Un),yi===s&&(yi=null),ot(Me)}var Me=et(0);function Jc(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||$g(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function lg(s,a,l,c){a=s.memoizedState,l=l(c,a),l=l==null?a:_({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var ug={enqueueSetState:function(s,a,l){s=s._reactInternals;var c=wn(),g=Is(c);g.payload=a,l!=null&&(g.callback=l),a=Cs(s,g,c),a!==null&&(Rn(a,s,c),kl(a,s,c))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var c=wn(),g=Is(c);g.tag=1,g.payload=a,l!=null&&(g.callback=l),a=Cs(s,g,c),a!==null&&(Rn(a,s,c),kl(a,s,c))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=wn(),c=Is(l);c.tag=2,a!=null&&(c.callback=a),a=Cs(s,c,l),a!==null&&(Rn(a,s,l),kl(a,s,l))}};function Gy(s,a,l,c,g,p,E){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,p,E):a.prototype&&a.prototype.isPureReactComponent?!Sl(l,c)||!Sl(g,p):!0}function Yy(s,a,l,c){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==s&&ug.enqueueReplaceState(a,a.state,null)}function ea(s,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(s=s.defaultProps){l===a&&(l=_({},l));for(var g in s)l[g]===void 0&&(l[g]=s[g])}return l}var th=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function Ky(s){th(s)}function Qy(s){console.error(s)}function Xy(s){th(s)}function eh(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function Wy(s,a,l){try{var c=s.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function cg(s,a,l){return l=Is(l),l.tag=3,l.payload={element:null},l.callback=function(){eh(s,a)},l}function $y(s){return s=Is(s),s.tag=3,s}function Zy(s,a,l,c){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var p=c.value;s.payload=function(){return g(p)},s.callback=function(){Wy(a,l,c)}}var E=l.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(s.callback=function(){Wy(a,l,c),typeof g!="function"&&(Us===null?Us=new Set([this]):Us.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function w1(s,a,l,c,g){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&Il(a,l,g,!0),l=Un.current,l!==null){switch(l.tag){case 13:return yi===null?Ng():l.alternate===null&&ge===0&&(ge=3),l.flags&=-257,l.flags|=65536,l.lanes=g,c===zd?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),Vg(s,c,g)),!1;case 22:return l.flags|=65536,c===zd?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),Vg(s,c,g)),!1}throw Error(i(435,l.tag))}return Vg(s,c,g),Ng(),!1}if(Ht)return a=Un.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,c!==Md&&(s=Error(i(422),{cause:c}),xl(Nn(s,l)))):(c!==Md&&(a=Error(i(423),{cause:c}),xl(Nn(a,l))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,c=Nn(c,l),g=cg(s.stateNode,c,g),Hd(s,g),ge!==4&&(ge=2)),!1;var p=Error(i(520),{cause:c});if(p=Nn(p,l),Ql===null?Ql=[p]:Ql.push(p),ge!==4&&(ge=2),a===null)return!0;c=Nn(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=g&-g,l.lanes|=s,s=cg(l.stateNode,c,s),Hd(l,s),!1;case 1:if(a=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Us===null||!Us.has(p))))return l.flags|=65536,g&=-g,l.lanes|=g,g=$y(g),Zy(g,s,l,c),Hd(l,g),!1}l=l.return}while(l!==null);return!1}var Jy=Error(i(461)),Ue=!1;function Ge(s,a,l,c){a.child=s===null?Fy(a,null,l,c):ro(a,s.child,l,c)}function tv(s,a,l,c,g){l=l.render;var p=a.ref;if("ref"in c){var E={};for(var S in c)S!=="ref"&&(E[S]=c[S])}else E=c;return Zr(a),c=Kd(s,a,l,E,p,g),S=Qd(),s!==null&&!Ue?(Xd(s,a,g),ts(s,a,g)):(Ht&&S&&Dd(a),a.flags|=1,Ge(s,a,c,g),a.child)}function ev(s,a,l,c,g){if(s===null){var p=l.type;return typeof p=="function"&&!xd(p)&&p.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=p,nv(s,a,p,c,g)):(s=Nc(l.type,null,c,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(p=s.child,!yg(s,g)){var E=p.memoizedProps;if(l=l.compare,l=l!==null?l:Sl,l(E,c)&&s.ref===a.ref)return ts(s,a,g)}return a.flags|=1,s=Ki(p,c),s.ref=a.ref,s.return=a,a.child=s}function nv(s,a,l,c,g){if(s!==null){var p=s.memoizedProps;if(Sl(p,c)&&s.ref===a.ref)if(Ue=!1,a.pendingProps=c=p,yg(s,g))(s.flags&131072)!==0&&(Ue=!0);else return a.lanes=s.lanes,ts(s,a,g)}return hg(s,a,l,c,g)}function iv(s,a,l){var c=a.pendingProps,g=c.children,p=s!==null?s.memoizedState:null;if(c.mode==="hidden"){if((a.flags&128)!==0){if(c=p!==null?p.baseLanes|l:l,s!==null){for(g=a.child=s.child,p=0;g!==null;)p=p|g.lanes|g.childLanes,g=g.sibling;a.childLanes=p&~c}else a.childLanes=0,a.child=null;return sv(s,a,c,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&zc(a,p!==null?p.cachePool:null),p!==null?ny(a,p):qd(),qy(a);else return a.lanes=a.childLanes=536870912,sv(s,a,p!==null?p.baseLanes|l:l,l)}else p!==null?(zc(a,p.cachePool),ny(a,p),Ms(),a.memoizedState=null):(s!==null&&zc(a,null),qd(),Ms());return Ge(s,a,g,l),a.child}function sv(s,a,l,c){var g=Ud();return g=g===null?null:{parent:Oe._currentValue,pool:g},a.memoizedState={baseLanes:l,cachePool:g},s!==null&&zc(a,null),qd(),qy(a),s!==null&&Il(s,a,c,!0),null}function nh(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function hg(s,a,l,c,g){return Zr(a),l=Kd(s,a,l,c,void 0,g),c=Qd(),s!==null&&!Ue?(Xd(s,a,g),ts(s,a,g)):(Ht&&c&&Dd(a),a.flags|=1,Ge(s,a,l,g),a.child)}function rv(s,a,l,c,g,p){return Zr(a),a.updateQueue=null,l=sy(a,c,l,g),iy(s),c=Qd(),s!==null&&!Ue?(Xd(s,a,p),ts(s,a,p)):(Ht&&c&&Dd(a),a.flags|=1,Ge(s,a,l,p),a.child)}function av(s,a,l,c,g){if(Zr(a),a.stateNode===null){var p=Xa,E=l.contextType;typeof E=="object"&&E!==null&&(p=Ze(E)),p=new l(c,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=ug,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=c,p.state=a.memoizedState,p.refs={},Bd(a),E=l.contextType,p.context=typeof E=="object"&&E!==null?Ze(E):Xa,p.state=a.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(lg(a,l,E,c),p.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&ug.enqueueReplaceState(p,p.state,null),Pl(a,c,p,g),Nl(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(s===null){p=a.stateNode;var S=a.memoizedProps,D=ea(l,S);p.props=D;var F=p.context,X=l.contextType;E=Xa,typeof X=="object"&&X!==null&&(E=Ze(X));var Z=l.getDerivedStateFromProps;X=typeof Z=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=a.pendingProps!==S,X||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||F!==E)&&Yy(a,p,c,E),xs=!1;var q=a.memoizedState;p.state=q,Pl(a,c,p,g),Nl(),F=a.memoizedState,S||q!==F||xs?(typeof Z=="function"&&(lg(a,l,Z,c),F=a.memoizedState),(D=xs||Gy(a,l,D,c,q,F,E))?(X||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=F),p.props=c,p.state=F,p.context=E,c=D):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{p=a.stateNode,jd(s,a),E=a.memoizedProps,X=ea(l,E),p.props=X,Z=a.pendingProps,q=p.context,F=l.contextType,D=Xa,typeof F=="object"&&F!==null&&(D=Ze(F)),S=l.getDerivedStateFromProps,(F=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==Z||q!==D)&&Yy(a,p,c,D),xs=!1,q=a.memoizedState,p.state=q,Pl(a,c,p,g),Nl();var G=a.memoizedState;E!==Z||q!==G||xs||s!==null&&s.dependencies!==null&&Lc(s.dependencies)?(typeof S=="function"&&(lg(a,l,S,c),G=a.memoizedState),(X=xs||Gy(a,l,X,c,q,G,D)||s!==null&&s.dependencies!==null&&Lc(s.dependencies))?(F||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,G,D),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,G,D)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===s.memoizedProps&&q===s.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&q===s.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=G),p.props=c,p.state=G,p.context=D,c=X):(typeof p.componentDidUpdate!="function"||E===s.memoizedProps&&q===s.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&q===s.memoizedState||(a.flags|=1024),c=!1)}return p=c,nh(s,a),c=(a.flags&128)!==0,p||c?(p=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,s!==null&&c?(a.child=ro(a,s.child,null,g),a.child=ro(a,null,l,g)):Ge(s,a,l,g),a.memoizedState=p.state,s=a.child):s=ts(s,a,g),s}function ov(s,a,l,c){return Rl(),a.flags|=256,Ge(s,a,l,c),a.child}var fg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dg(s){return{baseLanes:s,cachePool:Q_()}}function gg(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=zn),s}function lv(s,a,l){var c=a.pendingProps,g=!1,p=(a.flags&128)!==0,E;if((E=p)||(E=s!==null&&s.memoizedState===null?!1:(Me.current&2)!==0),E&&(g=!0,a.flags&=-129),E=(a.flags&32)!==0,a.flags&=-33,s===null){if(Ht){if(g?Os(a):Ms(),Ht){var S=de,D;if(D=S){t:{for(D=S,S=_i;D.nodeType!==8;){if(!S){S=null;break t}if(D=Wn(D.nextSibling),D===null){S=null;break t}}S=D}S!==null?(a.memoizedState={dehydrated:S,treeContext:Kr!==null?{id:Qi,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},D=En(18,null,null,0),D.stateNode=S,D.return=a,a.child=D,un=a,de=null,D=!0):D=!1}D||Wr(a)}if(S=a.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return $g(S)?a.lanes=32:a.lanes=536870912,null;Ji(a)}return S=c.children,c=c.fallback,g?(Ms(),g=a.mode,S=ih({mode:"hidden",children:S},g),c=Yr(c,g,l,null),S.return=a,c.return=a,S.sibling=c,a.child=S,g=a.child,g.memoizedState=dg(l),g.childLanes=gg(s,E,l),a.memoizedState=fg,c):(Os(a),mg(a,S))}if(D=s.memoizedState,D!==null&&(S=D.dehydrated,S!==null)){if(p)a.flags&256?(Os(a),a.flags&=-257,a=pg(s,a,l)):a.memoizedState!==null?(Ms(),a.child=s.child,a.flags|=128,a=null):(Ms(),g=c.fallback,S=a.mode,c=ih({mode:"visible",children:c.children},S),g=Yr(g,S,l,null),g.flags|=2,c.return=a,g.return=a,c.sibling=g,a.child=c,ro(a,s.child,null,l),c=a.child,c.memoizedState=dg(l),c.childLanes=gg(s,E,l),a.memoizedState=fg,a=g);else if(Os(a),$g(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var F=E.dgst;E=F,c=Error(i(419)),c.stack="",c.digest=E,xl({value:c,source:null,stack:null}),a=pg(s,a,l)}else if(Ue||Il(s,a,l,!1),E=(l&s.childLanes)!==0,Ue||E){if(E=se,E!==null&&(c=l&-l,c=(c&42)!==0?1:vs(c),c=(c&(E.suspendedLanes|l))!==0?0:c,c!==0&&c!==D.retryLane))throw D.retryLane=c,Qa(s,c),Rn(E,s,c),Jy;S.data==="$?"||Ng(),a=pg(s,a,l)}else S.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=D.treeContext,de=Wn(S.nextSibling),un=a,Ht=!0,Xr=null,_i=!1,s!==null&&(Vn[Ln++]=Qi,Vn[Ln++]=Xi,Vn[Ln++]=Kr,Qi=s.id,Xi=s.overflow,Kr=a),a=mg(a,c.children),a.flags|=4096);return a}return g?(Ms(),g=c.fallback,S=a.mode,D=s.child,F=D.sibling,c=Ki(D,{mode:"hidden",children:c.children}),c.subtreeFlags=D.subtreeFlags&65011712,F!==null?g=Ki(F,g):(g=Yr(g,S,l,null),g.flags|=2),g.return=a,c.return=a,c.sibling=g,a.child=c,c=g,g=a.child,S=s.child.memoizedState,S===null?S=dg(l):(D=S.cachePool,D!==null?(F=Oe._currentValue,D=D.parent!==F?{parent:F,pool:F}:D):D=Q_(),S={baseLanes:S.baseLanes|l,cachePool:D}),g.memoizedState=S,g.childLanes=gg(s,E,l),a.memoizedState=fg,c):(Os(a),l=s.child,s=l.sibling,l=Ki(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,s!==null&&(E=a.deletions,E===null?(a.deletions=[s],a.flags|=16):E.push(s)),a.child=l,a.memoizedState=null,l)}function mg(s,a){return a=ih({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function ih(s,a){return s=En(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function pg(s,a,l){return ro(a,s.child,null,l),s=mg(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function uv(s,a,l){s.lanes|=a;var c=s.alternate;c!==null&&(c.lanes|=a),Nd(s.return,a,l)}function _g(s,a,l,c,g){var p=s.memoizedState;p===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:g}:(p.isBackwards=a,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=l,p.tailMode=g)}function cv(s,a,l){var c=a.pendingProps,g=c.revealOrder,p=c.tail;if(Ge(s,a,c.children,l),c=Me.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&uv(s,l,a);else if(s.tag===19)uv(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}c&=1}switch(it(Me,c),g){case"forwards":for(l=a.child,g=null;l!==null;)s=l.alternate,s!==null&&Jc(s)===null&&(g=l),l=l.sibling;l=g,l===null?(g=a.child,a.child=null):(g=l.sibling,l.sibling=null),_g(a,!1,g,l,p);break;case"backwards":for(l=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&Jc(s)===null){a.child=g;break}s=g.sibling,g.sibling=l,l=g,g=s}_g(a,!0,l,null,p);break;case"together":_g(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ts(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),Ls|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(Il(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,l=Ki(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=Ki(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function yg(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&Lc(s)))}function R1(s,a,l){switch(a.tag){case 3:ie(a,a.stateNode.containerInfo),Rs(a,Oe,s.memoizedState.cache),Rl();break;case 27:case 5:ys(a);break;case 4:ie(a,a.stateNode.containerInfo);break;case 10:Rs(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(Os(a),a.flags|=128,null):(l&a.child.childLanes)!==0?lv(s,a,l):(Os(a),s=ts(s,a,l),s!==null?s.sibling:null);Os(a);break;case 19:var g=(s.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(Il(s,a,l,!1),c=(l&a.childLanes)!==0),g){if(c)return cv(s,a,l);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),it(Me,Me.current),c)break;return null;case 22:case 23:return a.lanes=0,iv(s,a,l);case 24:Rs(a,Oe,s.memoizedState.cache)}return ts(s,a,l)}function hv(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)Ue=!0;else{if(!yg(s,l)&&(a.flags&128)===0)return Ue=!1,R1(s,a,l);Ue=(s.flags&131072)!==0}else Ue=!1,Ht&&(a.flags&1048576)!==0&&j_(a,Vc,a.index);switch(a.lanes=0,a.tag){case 16:t:{s=a.pendingProps;var c=a.elementType,g=c._init;if(c=g(c._payload),a.type=c,typeof c=="function")xd(c)?(s=ea(c,s),a.tag=1,a=av(null,a,c,s,l)):(a.tag=0,a=hg(null,a,c,s,l));else{if(c!=null){if(g=c.$$typeof,g===rt){a.tag=11,a=tv(null,a,c,s,l);break t}else if(g===O){a.tag=14,a=ev(null,a,c,s,l);break t}}throw a=Wt(c)||c,Error(i(306,a,""))}}return a;case 0:return hg(s,a,a.type,a.pendingProps,l);case 1:return c=a.type,g=ea(c,a.pendingProps),av(s,a,c,g,l);case 3:t:{if(ie(a,a.stateNode.containerInfo),s===null)throw Error(i(387));c=a.pendingProps;var p=a.memoizedState;g=p.element,jd(s,a),Pl(a,c,null,l);var E=a.memoizedState;if(c=E.cache,Rs(a,Oe,c),c!==p.cache&&Pd(a,[Oe],l,!0),Nl(),c=E.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:E.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=ov(s,a,c,l);break t}else if(c!==g){g=Nn(Error(i(424)),a),xl(g),a=ov(s,a,c,l);break t}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(de=Wn(s.firstChild),un=a,Ht=!0,Xr=null,_i=!0,l=Fy(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Rl(),c===g){a=ts(s,a,l);break t}Ge(s,a,c,l)}a=a.child}return a;case 26:return nh(s,a),s===null?(l=m0(a.type,null,a.pendingProps,null))?a.memoizedState=l:Ht||(l=a.type,s=a.pendingProps,c=_h(_t.current).createElement(l),c[Ie]=a,c[Ee]=s,Ke(c,l,s),pe(c),a.stateNode=c):a.memoizedState=m0(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return ys(a),s===null&&Ht&&(c=a.stateNode=f0(a.type,a.pendingProps,_t.current),un=a,_i=!0,g=de,js(a.type)?(Zg=g,de=Wn(c.firstChild)):de=g),Ge(s,a,a.pendingProps.children,l),nh(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Ht&&((g=c=de)&&(c=tR(c,a.type,a.pendingProps,_i),c!==null?(a.stateNode=c,un=a,de=Wn(c.firstChild),_i=!1,g=!0):g=!1),g||Wr(a)),ys(a),g=a.type,p=a.pendingProps,E=s!==null?s.memoizedProps:null,c=p.children,Qg(g,p)?c=null:E!==null&&Qg(g,E)&&(a.flags|=32),a.memoizedState!==null&&(g=Kd(s,a,y1,null,null,l),iu._currentValue=g),nh(s,a),Ge(s,a,c,l),a.child;case 6:return s===null&&Ht&&((s=l=de)&&(l=eR(l,a.pendingProps,_i),l!==null?(a.stateNode=l,un=a,de=null,s=!0):s=!1),s||Wr(a)),null;case 13:return lv(s,a,l);case 4:return ie(a,a.stateNode.containerInfo),c=a.pendingProps,s===null?a.child=ro(a,null,c,l):Ge(s,a,c,l),a.child;case 11:return tv(s,a,a.type,a.pendingProps,l);case 7:return Ge(s,a,a.pendingProps,l),a.child;case 8:return Ge(s,a,a.pendingProps.children,l),a.child;case 12:return Ge(s,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,Rs(a,a.type,c.value),Ge(s,a,c.children,l),a.child;case 9:return g=a.type._context,c=a.pendingProps.children,Zr(a),g=Ze(g),c=c(g),a.flags|=1,Ge(s,a,c,l),a.child;case 14:return ev(s,a,a.type,a.pendingProps,l);case 15:return nv(s,a,a.type,a.pendingProps,l);case 19:return cv(s,a,l);case 31:return c=a.pendingProps,l=a.mode,c={mode:c.mode,children:c.children},s===null?(l=ih(c,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=Ki(s.child,c),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return iv(s,a,l);case 24:return Zr(a),c=Ze(Oe),s===null?(g=Ud(),g===null&&(g=se,p=Vd(),g.pooledCache=p,p.refCount++,p!==null&&(g.pooledCacheLanes|=l),g=p),a.memoizedState={parent:c,cache:g},Bd(a),Rs(a,Oe,g)):((s.lanes&l)!==0&&(jd(s,a),Pl(a,null,null,l),Nl()),g=s.memoizedState,p=a.memoizedState,g.parent!==c?(g={parent:c,cache:c},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),Rs(a,Oe,c)):(c=p.cache,Rs(a,Oe,c),c!==g.cache&&Pd(a,[Oe],l,!0))),Ge(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function es(s){s.flags|=4}function fv(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!b0(a)){if(a=Un.current,a!==null&&((Ut&4194048)===Ut?yi!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||a!==yi))throw Ml=zd,X_;s.flags|=8192}}function sh(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?rl():536870912,s.lanes|=a,uo|=a)}function Hl(s,a){if(!Ht)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function ce(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,c=0;if(a)for(var g=s.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags&65011712,c|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags,c|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=c,s.childLanes=l,a}function x1(s,a,l){var c=a.pendingProps;switch(Od(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(a),null;case 1:return ce(a),null;case 3:return l=a.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),$i(Oe),ri(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(wl(a)?es(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,q_())),ce(a),null;case 26:return l=a.memoizedState,s===null?(es(a),l!==null?(ce(a),fv(a,l)):(ce(a),a.flags&=-16777217)):l?l!==s.memoizedState?(es(a),ce(a),fv(a,l)):(ce(a),a.flags&=-16777217):(s.memoizedProps!==c&&es(a),ce(a),a.flags&=-16777217),null;case 27:Ni(a),l=_t.current;var g=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==c&&es(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return ce(a),null}s=dt.current,wl(a)?H_(a):(s=f0(g,c,l),a.stateNode=s,es(a))}return ce(a),null;case 5:if(Ni(a),l=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==c&&es(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return ce(a),null}if(s=dt.current,wl(a))H_(a);else{switch(g=_h(_t.current),s){case 1:s=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=g.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof c.is=="string"?g.createElement("select",{is:c.is}):g.createElement("select"),c.multiple?s.multiple=!0:c.size&&(s.size=c.size);break;default:s=typeof c.is=="string"?g.createElement(l,{is:c.is}):g.createElement(l)}}s[Ie]=a,s[Ee]=c;t:for(g=a.child;g!==null;){if(g.tag===5||g.tag===6)s.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===a)break t;for(;g.sibling===null;){if(g.return===null||g.return===a)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}a.stateNode=s;t:switch(Ke(s,l,c),l){case"button":case"input":case"select":case"textarea":s=!!c.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&es(a)}}return ce(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==c&&es(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(i(166));if(s=_t.current,wl(a)){if(s=a.stateNode,l=a.memoizedProps,c=null,g=un,g!==null)switch(g.tag){case 27:case 5:c=g.memoizedProps}s[Ie]=a,s=!!(s.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||r0(s.nodeValue,l)),s||Wr(a)}else s=_h(s).createTextNode(c),s[Ie]=a,a.stateNode=s}return ce(a),null;case 13:if(c=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=wl(a),c!==null&&c.dehydrated!==null){if(s===null){if(!g)throw Error(i(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Ie]=a}else Rl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ce(a),g=!1}else g=q_(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(Ji(a),a):(Ji(a),null)}if(Ji(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=c!==null,s=s!==null&&s.memoizedState!==null,l){c=a.child,g=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(g=c.alternate.memoizedState.cachePool.pool);var p=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==g&&(c.flags|=2048)}return l!==s&&l&&(a.child.flags|=8192),sh(a,a.updateQueue),ce(a),null;case 4:return ri(),s===null&&Fg(a.stateNode.containerInfo),ce(a),null;case 10:return $i(a.type),ce(a),null;case 19:if(ot(Me),g=a.memoizedState,g===null)return ce(a),null;if(c=(a.flags&128)!==0,p=g.rendering,p===null)if(c)Hl(g,!1);else{if(ge!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(p=Jc(s),p!==null){for(a.flags|=128,Hl(g,!1),s=p.updateQueue,a.updateQueue=s,sh(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)B_(l,s),l=l.sibling;return it(Me,Me.current&1|2),a.child}s=s.sibling}g.tail!==null&&In()>oh&&(a.flags|=128,c=!0,Hl(g,!1),a.lanes=4194304)}else{if(!c)if(s=Jc(p),s!==null){if(a.flags|=128,c=!0,s=s.updateQueue,a.updateQueue=s,sh(a,s),Hl(g,!0),g.tail===null&&g.tailMode==="hidden"&&!p.alternate&&!Ht)return ce(a),null}else 2*In()-g.renderingStartTime>oh&&l!==536870912&&(a.flags|=128,c=!0,Hl(g,!1),a.lanes=4194304);g.isBackwards?(p.sibling=a.child,a.child=p):(s=g.last,s!==null?s.sibling=p:a.child=p,g.last=p)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=In(),a.sibling=null,s=Me.current,it(Me,c?s&1|2:s&1),a):(ce(a),null);case 22:case 23:return Ji(a),Gd(),c=a.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(ce(a),a.subtreeFlags&6&&(a.flags|=8192)):ce(a),l=a.updateQueue,l!==null&&sh(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),s!==null&&ot(Jr),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),$i(Oe),ce(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function I1(s,a){switch(Od(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return $i(Oe),ri(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Ni(a),null;case 13:if(Ji(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Rl()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return ot(Me),null;case 4:return ri(),null;case 10:return $i(a.type),null;case 22:case 23:return Ji(a),Gd(),s!==null&&ot(Jr),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return $i(Oe),null;case 25:return null;default:return null}}function dv(s,a){switch(Od(a),a.tag){case 3:$i(Oe),ri();break;case 26:case 27:case 5:Ni(a);break;case 4:ri();break;case 13:Ji(a);break;case 19:ot(Me);break;case 10:$i(a.type);break;case 22:case 23:Ji(a),Gd(),s!==null&&ot(Jr);break;case 24:$i(Oe)}}function Fl(s,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var g=c.next;l=g;do{if((l.tag&s)===s){c=void 0;var p=l.create,E=l.inst;c=p(),E.destroy=c}l=l.next}while(l!==g)}}catch(S){ee(a,a.return,S)}}function ks(s,a,l){try{var c=a.updateQueue,g=c!==null?c.lastEffect:null;if(g!==null){var p=g.next;c=p;do{if((c.tag&s)===s){var E=c.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,g=a;var D=l,F=S;try{F()}catch(X){ee(g,D,X)}}}c=c.next}while(c!==p)}}catch(X){ee(a,a.return,X)}}function gv(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{ey(a,l)}catch(c){ee(s,s.return,c)}}}function mv(s,a,l){l.props=ea(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(c){ee(s,a,c)}}function ql(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof l=="function"?s.refCleanup=l(c):l.current=c}}catch(g){ee(s,a,g)}}function vi(s,a){var l=s.ref,c=s.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(g){ee(s,a,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){ee(s,a,g)}else l.current=null}function pv(s){var a=s.type,l=s.memoizedProps,c=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break t;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(g){ee(s,s.return,g)}}function vg(s,a,l){try{var c=s.stateNode;X1(c,s.type,l,a),c[Ee]=a}catch(g){ee(s,s.return,g)}}function _v(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&js(s.type)||s.tag===4}function bg(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||_v(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&js(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Eg(s,a,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=ph));else if(c!==4&&(c===27&&js(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(Eg(s,a,l),s=s.sibling;s!==null;)Eg(s,a,l),s=s.sibling}function rh(s,a,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(c!==4&&(c===27&&js(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(rh(s,a,l),s=s.sibling;s!==null;)rh(s,a,l),s=s.sibling}function yv(s){var a=s.stateNode,l=s.memoizedProps;try{for(var c=s.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);Ke(a,c,l),a[Ie]=s,a[Ee]=l}catch(p){ee(s,s.return,p)}}var ns=!1,ye=!1,Tg=!1,vv=typeof WeakSet=="function"?WeakSet:Set,ze=null;function C1(s,a){if(s=s.containerInfo,Yg=Sh,s=D_(s),bd(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var g=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break t}var E=0,S=-1,D=-1,F=0,X=0,Z=s,q=null;e:for(;;){for(var G;Z!==l||g!==0&&Z.nodeType!==3||(S=E+g),Z!==p||c!==0&&Z.nodeType!==3||(D=E+c),Z.nodeType===3&&(E+=Z.nodeValue.length),(G=Z.firstChild)!==null;)q=Z,Z=G;for(;;){if(Z===s)break e;if(q===l&&++F===g&&(S=E),q===p&&++X===c&&(D=E),(G=Z.nextSibling)!==null)break;Z=q,q=Z.parentNode}Z=G}l=S===-1||D===-1?null:{start:S,end:D}}else l=null}l=l||{start:0,end:0}}else l=null;for(Kg={focusedElem:s,selectionRange:l},Sh=!1,ze=a;ze!==null;)if(a=ze,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,ze=s;else for(;ze!==null;){switch(a=ze,p=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&p!==null){s=void 0,l=a,g=p.memoizedProps,p=p.memoizedState,c=l.stateNode;try{var Tt=ea(l.type,g,l.elementType===l.type);s=c.getSnapshotBeforeUpdate(Tt,p),c.__reactInternalSnapshotBeforeUpdate=s}catch(yt){ee(l,l.return,yt)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)Wg(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Wg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,ze=s;break}ze=a.return}}function bv(s,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Ns(s,l),c&4&&Fl(5,l);break;case 1:if(Ns(s,l),c&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(E){ee(l,l.return,E)}else{var g=ea(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(g,a,s.__reactInternalSnapshotBeforeUpdate)}catch(E){ee(l,l.return,E)}}c&64&&gv(l),c&512&&ql(l,l.return);break;case 3:if(Ns(s,l),c&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{ey(s,a)}catch(E){ee(l,l.return,E)}}break;case 27:a===null&&c&4&&yv(l);case 26:case 5:Ns(s,l),a===null&&c&4&&pv(l),c&512&&ql(l,l.return);break;case 12:Ns(s,l);break;case 13:Ns(s,l),c&4&&Sv(s,l),c&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=U1.bind(null,l),nR(s,l))));break;case 22:if(c=l.memoizedState!==null||ns,!c){a=a!==null&&a.memoizedState!==null||ye,g=ns;var p=ye;ns=c,(ye=a)&&!p?Ps(s,l,(l.subtreeFlags&8772)!==0):Ns(s,l),ns=g,ye=p}break;case 30:break;default:Ns(s,l)}}function Ev(s){var a=s.alternate;a!==null&&(s.alternate=null,Ev(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Ts(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var ue=null,hn=!1;function is(s,a,l){for(l=l.child;l!==null;)Tv(s,a,l),l=l.sibling}function Tv(s,a,l){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(fe,l)}catch{}switch(l.tag){case 26:ye||vi(l,a),is(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ye||vi(l,a);var c=ue,g=hn;js(l.type)&&(ue=l.stateNode,hn=!1),is(s,a,l),Jl(l.stateNode),ue=c,hn=g;break;case 5:ye||vi(l,a);case 6:if(c=ue,g=hn,ue=null,is(s,a,l),ue=c,hn=g,ue!==null)if(hn)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(l.stateNode)}catch(p){ee(l,a,p)}else try{ue.removeChild(l.stateNode)}catch(p){ee(l,a,p)}break;case 18:ue!==null&&(hn?(s=ue,c0(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),ou(s)):c0(ue,l.stateNode));break;case 4:c=ue,g=hn,ue=l.stateNode.containerInfo,hn=!0,is(s,a,l),ue=c,hn=g;break;case 0:case 11:case 14:case 15:ye||ks(2,l,a),ye||ks(4,l,a),is(s,a,l);break;case 1:ye||(vi(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&mv(l,a,c)),is(s,a,l);break;case 21:is(s,a,l);break;case 22:ye=(c=ye)||l.memoizedState!==null,is(s,a,l),ye=c;break;default:is(s,a,l)}}function Sv(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{ou(s)}catch(l){ee(a,a.return,l)}}function D1(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new vv),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new vv),a;default:throw Error(i(435,s.tag))}}function Sg(s,a){var l=D1(s);a.forEach(function(c){var g=z1.bind(null,s,c);l.has(c)||(l.add(c),c.then(g,g))})}function Tn(s,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var g=l[c],p=s,E=a,S=E;t:for(;S!==null;){switch(S.tag){case 27:if(js(S.type)){ue=S.stateNode,hn=!1;break t}break;case 5:ue=S.stateNode,hn=!1;break t;case 3:case 4:ue=S.stateNode.containerInfo,hn=!0;break t}S=S.return}if(ue===null)throw Error(i(160));Tv(p,E,g),ue=null,hn=!1,p=g.alternate,p!==null&&(p.return=null),g.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Av(a,s),a=a.sibling}var Xn=null;function Av(s,a){var l=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Tn(a,s),Sn(s),c&4&&(ks(3,s,s.return),Fl(3,s),ks(5,s,s.return));break;case 1:Tn(a,s),Sn(s),c&512&&(ye||l===null||vi(l,l.return)),c&64&&ns&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var g=Xn;if(Tn(a,s),Sn(s),c&512&&(ye||l===null||vi(l,l.return)),c&4){var p=l!==null?l.memoizedState:null;if(c=s.memoizedState,l===null)if(c===null)if(s.stateNode===null){t:{c=s.type,l=s.memoizedProps,g=g.ownerDocument||g;e:switch(c){case"title":p=g.getElementsByTagName("title")[0],(!p||p[Dr]||p[Ie]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=g.createElement(c),g.head.insertBefore(p,g.querySelector("head > title"))),Ke(p,c,l),p[Ie]=s,pe(p),c=p;break t;case"link":var E=y0("link","href",g).get(c+(l.href||""));if(E){for(var S=0;S<E.length;S++)if(p=E[S],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){E.splice(S,1);break e}}p=g.createElement(c),Ke(p,c,l),g.head.appendChild(p);break;case"meta":if(E=y0("meta","content",g).get(c+(l.content||""))){for(S=0;S<E.length;S++)if(p=E[S],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){E.splice(S,1);break e}}p=g.createElement(c),Ke(p,c,l),g.head.appendChild(p);break;default:throw Error(i(468,c))}p[Ie]=s,pe(p),c=p}s.stateNode=c}else v0(g,s.type,s.stateNode);else s.stateNode=_0(g,c,s.memoizedProps);else p!==c?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,c===null?v0(g,s.type,s.stateNode):_0(g,c,s.memoizedProps)):c===null&&s.stateNode!==null&&vg(s,s.memoizedProps,l.memoizedProps)}break;case 27:Tn(a,s),Sn(s),c&512&&(ye||l===null||vi(l,l.return)),l!==null&&c&4&&vg(s,s.memoizedProps,l.memoizedProps);break;case 5:if(Tn(a,s),Sn(s),c&512&&(ye||l===null||vi(l,l.return)),s.flags&32){g=s.stateNode;try{Dn(g,"")}catch(G){ee(s,s.return,G)}}c&4&&s.stateNode!=null&&(g=s.memoizedProps,vg(s,g,l!==null?l.memoizedProps:g)),c&1024&&(Tg=!0);break;case 6:if(Tn(a,s),Sn(s),c&4){if(s.stateNode===null)throw Error(i(162));c=s.memoizedProps,l=s.stateNode;try{l.nodeValue=c}catch(G){ee(s,s.return,G)}}break;case 3:if(bh=null,g=Xn,Xn=yh(a.containerInfo),Tn(a,s),Xn=g,Sn(s),c&4&&l!==null&&l.memoizedState.isDehydrated)try{ou(a.containerInfo)}catch(G){ee(s,s.return,G)}Tg&&(Tg=!1,wv(s));break;case 4:c=Xn,Xn=yh(s.stateNode.containerInfo),Tn(a,s),Sn(s),Xn=c;break;case 12:Tn(a,s),Sn(s);break;case 13:Tn(a,s),Sn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Cg=In()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Sg(s,c)));break;case 22:g=s.memoizedState!==null;var D=l!==null&&l.memoizedState!==null,F=ns,X=ye;if(ns=F||g,ye=X||D,Tn(a,s),ye=X,ns=F,Sn(s),c&8192)t:for(a=s.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(l===null||D||ns||ye||na(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){D=l=a;try{if(p=D.stateNode,g)E=p.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=D.stateNode;var Z=D.memoizedProps.style,q=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;S.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(G){ee(D,D.return,G)}}}else if(a.tag===6){if(l===null){D=a;try{D.stateNode.nodeValue=g?"":D.memoizedProps}catch(G){ee(D,D.return,G)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=s.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Sg(s,l))));break;case 19:Tn(a,s),Sn(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Sg(s,c)));break;case 30:break;case 21:break;default:Tn(a,s),Sn(s)}}function Sn(s){var a=s.flags;if(a&2){try{for(var l,c=s.return;c!==null;){if(_v(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var g=l.stateNode,p=bg(s);rh(s,p,g);break;case 5:var E=l.stateNode;l.flags&32&&(Dn(E,""),l.flags&=-33);var S=bg(s);rh(s,S,E);break;case 3:case 4:var D=l.stateNode.containerInfo,F=bg(s);Eg(s,F,D);break;default:throw Error(i(161))}}catch(X){ee(s,s.return,X)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function wv(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;wv(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function Ns(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)bv(s,a.alternate,a),a=a.sibling}function na(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:ks(4,a,a.return),na(a);break;case 1:vi(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&mv(a,a.return,l),na(a);break;case 27:Jl(a.stateNode);case 26:case 5:vi(a,a.return),na(a);break;case 22:a.memoizedState===null&&na(a);break;case 30:na(a);break;default:na(a)}s=s.sibling}}function Ps(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,g=s,p=a,E=p.flags;switch(p.tag){case 0:case 11:case 15:Ps(g,p,l),Fl(4,p);break;case 1:if(Ps(g,p,l),c=p,g=c.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(F){ee(c,c.return,F)}if(c=p,g=c.updateQueue,g!==null){var S=c.stateNode;try{var D=g.shared.hiddenCallbacks;if(D!==null)for(g.shared.hiddenCallbacks=null,g=0;g<D.length;g++)ty(D[g],S)}catch(F){ee(c,c.return,F)}}l&&E&64&&gv(p),ql(p,p.return);break;case 27:yv(p);case 26:case 5:Ps(g,p,l),l&&c===null&&E&4&&pv(p),ql(p,p.return);break;case 12:Ps(g,p,l);break;case 13:Ps(g,p,l),l&&E&4&&Sv(g,p);break;case 22:p.memoizedState===null&&Ps(g,p,l),ql(p,p.return);break;case 30:break;default:Ps(g,p,l)}a=a.sibling}}function Ag(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Cl(l))}function wg(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Cl(s))}function bi(s,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Rv(s,a,l,c),a=a.sibling}function Rv(s,a,l,c){var g=a.flags;switch(a.tag){case 0:case 11:case 15:bi(s,a,l,c),g&2048&&Fl(9,a);break;case 1:bi(s,a,l,c);break;case 3:bi(s,a,l,c),g&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Cl(s)));break;case 12:if(g&2048){bi(s,a,l,c),s=a.stateNode;try{var p=a.memoizedProps,E=p.id,S=p.onPostCommit;typeof S=="function"&&S(E,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(D){ee(a,a.return,D)}}else bi(s,a,l,c);break;case 13:bi(s,a,l,c);break;case 23:break;case 22:p=a.stateNode,E=a.alternate,a.memoizedState!==null?p._visibility&2?bi(s,a,l,c):Gl(s,a):p._visibility&2?bi(s,a,l,c):(p._visibility|=2,ao(s,a,l,c,(a.subtreeFlags&10256)!==0)),g&2048&&Ag(E,a);break;case 24:bi(s,a,l,c),g&2048&&wg(a.alternate,a);break;default:bi(s,a,l,c)}}function ao(s,a,l,c,g){for(g=g&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var p=s,E=a,S=l,D=c,F=E.flags;switch(E.tag){case 0:case 11:case 15:ao(p,E,S,D,g),Fl(8,E);break;case 23:break;case 22:var X=E.stateNode;E.memoizedState!==null?X._visibility&2?ao(p,E,S,D,g):Gl(p,E):(X._visibility|=2,ao(p,E,S,D,g)),g&&F&2048&&Ag(E.alternate,E);break;case 24:ao(p,E,S,D,g),g&&F&2048&&wg(E.alternate,E);break;default:ao(p,E,S,D,g)}a=a.sibling}}function Gl(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,c=a,g=c.flags;switch(c.tag){case 22:Gl(l,c),g&2048&&Ag(c.alternate,c);break;case 24:Gl(l,c),g&2048&&wg(c.alternate,c);break;default:Gl(l,c)}a=a.sibling}}var Yl=8192;function oo(s){if(s.subtreeFlags&Yl)for(s=s.child;s!==null;)xv(s),s=s.sibling}function xv(s){switch(s.tag){case 26:oo(s),s.flags&Yl&&s.memoizedState!==null&&mR(Xn,s.memoizedState,s.memoizedProps);break;case 5:oo(s);break;case 3:case 4:var a=Xn;Xn=yh(s.stateNode.containerInfo),oo(s),Xn=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=Yl,Yl=16777216,oo(s),Yl=a):oo(s));break;default:oo(s)}}function Iv(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Kl(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];ze=c,Dv(c,s)}Iv(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Cv(s),s=s.sibling}function Cv(s){switch(s.tag){case 0:case 11:case 15:Kl(s),s.flags&2048&&ks(9,s,s.return);break;case 3:Kl(s);break;case 12:Kl(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,ah(s)):Kl(s);break;default:Kl(s)}}function ah(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];ze=c,Dv(c,s)}Iv(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:ks(8,a,a.return),ah(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,ah(a));break;default:ah(a)}s=s.sibling}}function Dv(s,a){for(;ze!==null;){var l=ze;switch(l.tag){case 0:case 11:case 15:ks(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Cl(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,ze=c;else t:for(l=s;ze!==null;){c=ze;var g=c.sibling,p=c.return;if(Ev(c),c===l){ze=null;break t}if(g!==null){g.return=p,ze=g;break t}ze=p}}}var O1={getCacheForType:function(s){var a=Ze(Oe),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l}},M1=typeof WeakMap=="function"?WeakMap:Map,Kt=0,se=null,Ot=null,Ut=0,Qt=0,An=null,Vs=!1,lo=!1,Rg=!1,ss=0,ge=0,Ls=0,ia=0,xg=0,zn=0,uo=0,Ql=null,fn=null,Ig=!1,Cg=0,oh=1/0,lh=null,Us=null,Ye=0,zs=null,co=null,ho=0,Dg=0,Og=null,Ov=null,Xl=0,Mg=null;function wn(){if((Kt&2)!==0&&Ut!==0)return Ut&-Ut;if(Y.T!==null){var s=Za;return s!==0?s:zg()}return bs()}function Mv(){zn===0&&(zn=(Ut&536870912)===0||Ht?sl():536870912);var s=Un.current;return s!==null&&(s.flags|=32),zn}function Rn(s,a,l){(s===se&&(Qt===2||Qt===9)||s.cancelPendingCommit!==null)&&(fo(s,0),Bs(s,Ut,zn,!1)),Vi(s,l),((Kt&2)===0||s!==se)&&(s===se&&((Kt&2)===0&&(ia|=l),ge===4&&Bs(s,Ut,zn,!1)),Ei(s))}function kv(s,a,l){if((Kt&6)!==0)throw Error(i(327));var c=!l&&(a&124)===0&&(a&s.expiredLanes)===0||Cr(s,a),g=c?P1(s,a):Pg(s,a,!0),p=c;do{if(g===0){lo&&!c&&Bs(s,a,0,!1);break}else{if(l=s.current.alternate,p&&!k1(l)){g=Pg(s,a,!1),p=!1;continue}if(g===2){if(p=a,s.errorRecoveryDisabledLanes&p)var E=0;else E=s.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){a=E;t:{var S=s;g=Ql;var D=S.current.memoizedState.isDehydrated;if(D&&(fo(S,E).flags|=256),E=Pg(S,E,!1),E!==2){if(Rg&&!D){S.errorRecoveryDisabledLanes|=p,ia|=p,g=4;break t}p=fn,fn=g,p!==null&&(fn===null?fn=p:fn.push.apply(fn,p))}g=E}if(p=!1,g!==2)continue}}if(g===1){fo(s,0),Bs(s,a,0,!0);break}t:{switch(c=s,p=g,p){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Bs(c,a,zn,!Vs);break t;case 2:fn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(g=Cg+300-In(),10<g)){if(Bs(c,a,zn,!Vs),Ca(c,0,!0)!==0)break t;c.timeoutHandle=l0(Nv.bind(null,c,l,fn,lh,Ig,a,zn,ia,uo,Vs,p,2,-0,0),g);break t}Nv(c,l,fn,lh,Ig,a,zn,ia,uo,Vs,p,0,-0,0)}}break}while(!0);Ei(s)}function Nv(s,a,l,c,g,p,E,S,D,F,X,Z,q,G){if(s.timeoutHandle=-1,Z=a.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(nu={stylesheets:null,count:0,unsuspend:gR},xv(a),Z=pR(),Z!==null)){s.cancelPendingCommit=Z(jv.bind(null,s,a,p,l,c,g,E,S,D,X,1,q,G)),Bs(s,p,E,!F);return}jv(s,a,p,l,c,g,E,S,D)}function k1(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var g=l[c],p=g.getSnapshot;g=g.value;try{if(!bn(p(),g))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Bs(s,a,l,c){a&=~xg,a&=~ia,s.suspendedLanes|=a,s.pingedLanes&=~a,c&&(s.warmLanes|=a),c=s.expirationTimes;for(var g=a;0<g;){var p=31-$e(g),E=1<<p;c[p]=-1,g&=~E}l!==0&&ai(s,l,a)}function uh(){return(Kt&6)===0?(Wl(0),!1):!0}function kg(){if(Ot!==null){if(Qt===0)var s=Ot.return;else s=Ot,Wi=$r=null,Wd(s),so=null,Bl=0,s=Ot;for(;s!==null;)dv(s.alternate,s),s=s.return;Ot=null}}function fo(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,$1(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),kg(),se=s,Ot=l=Ki(s.current,null),Ut=a,Qt=0,An=null,Vs=!1,lo=Cr(s,a),Rg=!1,uo=zn=xg=ia=Ls=ge=0,fn=Ql=null,Ig=!1,(a&8)!==0&&(a|=a&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=a;0<c;){var g=31-$e(c),p=1<<g;a|=s[g],c&=~p}return ss=a,Oc(),l}function Pv(s,a){It=null,Y.H=Wc,a===Ol||a===Bc?(a=Z_(),Qt=3):a===X_?(a=Z_(),Qt=4):Qt=a===Jy?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,An=a,Ot===null&&(ge=1,eh(s,Nn(a,s.current)))}function Vv(){var s=Y.H;return Y.H=Wc,s===null?Wc:s}function Lv(){var s=Y.A;return Y.A=O1,s}function Ng(){ge=4,Vs||(Ut&4194048)!==Ut&&Un.current!==null||(lo=!0),(Ls&134217727)===0&&(ia&134217727)===0||se===null||Bs(se,Ut,zn,!1)}function Pg(s,a,l){var c=Kt;Kt|=2;var g=Vv(),p=Lv();(se!==s||Ut!==a)&&(lh=null,fo(s,a)),a=!1;var E=ge;t:do try{if(Qt!==0&&Ot!==null){var S=Ot,D=An;switch(Qt){case 8:kg(),E=6;break t;case 3:case 2:case 9:case 6:Un.current===null&&(a=!0);var F=Qt;if(Qt=0,An=null,go(s,S,D,F),l&&lo){E=0;break t}break;default:F=Qt,Qt=0,An=null,go(s,S,D,F)}}N1(),E=ge;break}catch(X){Pv(s,X)}while(!0);return a&&s.shellSuspendCounter++,Wi=$r=null,Kt=c,Y.H=g,Y.A=p,Ot===null&&(se=null,Ut=0,Oc()),E}function N1(){for(;Ot!==null;)Uv(Ot)}function P1(s,a){var l=Kt;Kt|=2;var c=Vv(),g=Lv();se!==s||Ut!==a?(lh=null,oh=In()+500,fo(s,a)):lo=Cr(s,a);t:do try{if(Qt!==0&&Ot!==null){a=Ot;var p=An;e:switch(Qt){case 1:Qt=0,An=null,go(s,a,p,1);break;case 2:case 9:if(W_(p)){Qt=0,An=null,zv(a);break}a=function(){Qt!==2&&Qt!==9||se!==s||(Qt=7),Ei(s)},p.then(a,a);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:W_(p)?(Qt=0,An=null,zv(a)):(Qt=0,An=null,go(s,a,p,7));break;case 5:var E=null;switch(Ot.tag){case 26:E=Ot.memoizedState;case 5:case 27:var S=Ot;if(!E||b0(E)){Qt=0,An=null;var D=S.sibling;if(D!==null)Ot=D;else{var F=S.return;F!==null?(Ot=F,ch(F)):Ot=null}break e}}Qt=0,An=null,go(s,a,p,5);break;case 6:Qt=0,An=null,go(s,a,p,6);break;case 8:kg(),ge=6;break t;default:throw Error(i(462))}}V1();break}catch(X){Pv(s,X)}while(!0);return Wi=$r=null,Y.H=c,Y.A=g,Kt=l,Ot!==null?0:(se=null,Ut=0,Oc(),ge)}function V1(){for(;Ot!==null&&!tl();)Uv(Ot)}function Uv(s){var a=hv(s.alternate,s,ss);s.memoizedProps=s.pendingProps,a===null?ch(s):Ot=a}function zv(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=rv(l,a,a.pendingProps,a.type,void 0,Ut);break;case 11:a=rv(l,a,a.pendingProps,a.type.render,a.ref,Ut);break;case 5:Wd(a);default:dv(l,a),a=Ot=B_(a,ss),a=hv(l,a,ss)}s.memoizedProps=s.pendingProps,a===null?ch(s):Ot=a}function go(s,a,l,c){Wi=$r=null,Wd(a),so=null,Bl=0;var g=a.return;try{if(w1(s,g,a,l,Ut)){ge=1,eh(s,Nn(l,s.current)),Ot=null;return}}catch(p){if(g!==null)throw Ot=g,p;ge=1,eh(s,Nn(l,s.current)),Ot=null;return}a.flags&32768?(Ht||c===1?s=!0:lo||(Ut&536870912)!==0?s=!1:(Vs=s=!0,(c===2||c===9||c===3||c===6)&&(c=Un.current,c!==null&&c.tag===13&&(c.flags|=16384))),Bv(a,s)):ch(a)}function ch(s){var a=s;do{if((a.flags&32768)!==0){Bv(a,Vs);return}s=a.return;var l=x1(a.alternate,a,ss);if(l!==null){Ot=l;return}if(a=a.sibling,a!==null){Ot=a;return}Ot=a=s}while(a!==null);ge===0&&(ge=5)}function Bv(s,a){do{var l=I1(s.alternate,s);if(l!==null){l.flags&=32767,Ot=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){Ot=s;return}Ot=s=l}while(s!==null);ge=6,Ot=null}function jv(s,a,l,c,g,p,E,S,D){s.cancelPendingCommit=null;do hh();while(Ye!==0);if((Kt&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(p=a.lanes|a.childLanes,p|=wd,al(s,l,p,E,S,D),s===se&&(Ot=se=null,Ut=0),co=a,zs=s,ho=l,Dg=p,Og=g,Ov=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,B1(wr,function(){return Yv(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=Y.T,Y.T=null,g=st.p,st.p=2,E=Kt,Kt|=4;try{C1(s,a,l)}finally{Kt=E,st.p=g,Y.T=c}}Ye=1,Hv(),Fv(),qv()}}function Hv(){if(Ye===1){Ye=0;var s=zs,a=co,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null;var c=st.p;st.p=2;var g=Kt;Kt|=4;try{Av(a,s);var p=Kg,E=D_(s.containerInfo),S=p.focusedElem,D=p.selectionRange;if(E!==S&&S&&S.ownerDocument&&C_(S.ownerDocument.documentElement,S)){if(D!==null&&bd(S)){var F=D.start,X=D.end;if(X===void 0&&(X=F),"selectionStart"in S)S.selectionStart=F,S.selectionEnd=Math.min(X,S.value.length);else{var Z=S.ownerDocument||document,q=Z&&Z.defaultView||window;if(q.getSelection){var G=q.getSelection(),Tt=S.textContent.length,yt=Math.min(D.start,Tt),te=D.end===void 0?yt:Math.min(D.end,Tt);!G.extend&&yt>te&&(E=te,te=yt,yt=E);var z=I_(S,yt),U=I_(S,te);if(z&&U&&(G.rangeCount!==1||G.anchorNode!==z.node||G.anchorOffset!==z.offset||G.focusNode!==U.node||G.focusOffset!==U.offset)){var j=Z.createRange();j.setStart(z.node,z.offset),G.removeAllRanges(),yt>te?(G.addRange(j),G.extend(U.node,U.offset)):(j.setEnd(U.node,U.offset),G.addRange(j))}}}}for(Z=[],G=S;G=G.parentNode;)G.nodeType===1&&Z.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<Z.length;S++){var W=Z[S];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Sh=!!Yg,Kg=Yg=null}finally{Kt=g,st.p=c,Y.T=l}}s.current=a,Ye=2}}function Fv(){if(Ye===2){Ye=0;var s=zs,a=co,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=Y.T,Y.T=null;var c=st.p;st.p=2;var g=Kt;Kt|=4;try{bv(s,a.alternate,a)}finally{Kt=g,st.p=c,Y.T=l}}Ye=3}}function qv(){if(Ye===4||Ye===3){Ye=0,ac();var s=zs,a=co,l=ho,c=Ov;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ye=5:(Ye=0,co=zs=null,Gv(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(Us=null),Da(l),a=a.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(fe,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=Y.T,g=st.p,st.p=2,Y.T=null;try{for(var p=s.onRecoverableError,E=0;E<c.length;E++){var S=c[E];p(S.value,{componentStack:S.stack})}}finally{Y.T=a,st.p=g}}(ho&3)!==0&&hh(),Ei(s),g=s.pendingLanes,(l&4194090)!==0&&(g&42)!==0?s===Mg?Xl++:(Xl=0,Mg=s):Xl=0,Wl(0)}}function Gv(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Cl(a)))}function hh(s){return Hv(),Fv(),qv(),Yv()}function Yv(){if(Ye!==5)return!1;var s=zs,a=Dg;Dg=0;var l=Da(ho),c=Y.T,g=st.p;try{st.p=32>l?32:l,Y.T=null,l=Og,Og=null;var p=zs,E=ho;if(Ye=0,co=zs=null,ho=0,(Kt&6)!==0)throw Error(i(331));var S=Kt;if(Kt|=4,Cv(p.current),Rv(p,p.current,E,l),Kt=S,Wl(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(fe,p)}catch{}return!0}finally{st.p=g,Y.T=c,Gv(s,a)}}function Kv(s,a,l){a=Nn(l,a),a=cg(s.stateNode,a,2),s=Cs(s,a,2),s!==null&&(Vi(s,2),Ei(s))}function ee(s,a,l){if(s.tag===3)Kv(s,s,l);else for(;a!==null;){if(a.tag===3){Kv(a,s,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Us===null||!Us.has(c))){s=Nn(l,s),l=$y(2),c=Cs(a,l,2),c!==null&&(Zy(l,c,a,s),Vi(c,2),Ei(c));break}}a=a.return}}function Vg(s,a,l){var c=s.pingCache;if(c===null){c=s.pingCache=new M1;var g=new Set;c.set(a,g)}else g=c.get(a),g===void 0&&(g=new Set,c.set(a,g));g.has(l)||(Rg=!0,g.add(l),s=L1.bind(null,s,a,l),a.then(s,s))}function L1(s,a,l){var c=s.pingCache;c!==null&&c.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,se===s&&(Ut&l)===l&&(ge===4||ge===3&&(Ut&62914560)===Ut&&300>In()-Cg?(Kt&2)===0&&fo(s,0):xg|=l,uo===Ut&&(uo=0)),Ei(s)}function Qv(s,a){a===0&&(a=rl()),s=Qa(s,a),s!==null&&(Vi(s,a),Ei(s))}function U1(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),Qv(s,l)}function z1(s,a){var l=0;switch(s.tag){case 13:var c=s.stateNode,g=s.memoizedState;g!==null&&(l=g.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(a),Qv(s,l)}function B1(s,a){return Sr(s,a)}var fh=null,mo=null,Lg=!1,dh=!1,Ug=!1,sa=0;function Ei(s){s!==mo&&s.next===null&&(mo===null?fh=mo=s:mo=mo.next=s),dh=!0,Lg||(Lg=!0,H1())}function Wl(s,a){if(!Ug&&dh){Ug=!0;do for(var l=!1,c=fh;c!==null;){if(s!==0){var g=c.pendingLanes;if(g===0)var p=0;else{var E=c.suspendedLanes,S=c.pingedLanes;p=(1<<31-$e(42|s)+1)-1,p&=g&~(E&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,Zv(c,p))}else p=Ut,p=Ca(c,c===se?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||Cr(c,p)||(l=!0,Zv(c,p));c=c.next}while(l);Ug=!1}}function j1(){Xv()}function Xv(){dh=Lg=!1;var s=0;sa!==0&&(W1()&&(s=sa),sa=0);for(var a=In(),l=null,c=fh;c!==null;){var g=c.next,p=Wv(c,a);p===0?(c.next=null,l===null?fh=g:l.next=g,g===null&&(mo=l)):(l=c,(s!==0||(p&3)!==0)&&(dh=!0)),c=g}Wl(s)}function Wv(s,a){for(var l=s.suspendedLanes,c=s.pingedLanes,g=s.expirationTimes,p=s.pendingLanes&-62914561;0<p;){var E=31-$e(p),S=1<<E,D=g[E];D===-1?((S&l)===0||(S&c)!==0)&&(g[E]=il(S,a)):D<=a&&(s.expiredLanes|=S),p&=~S}if(a=se,l=Ut,l=Ca(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,l===0||s===a&&(Qt===2||Qt===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&Ar(c),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||Cr(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(c!==null&&Ar(c),Da(l)){case 2:case 8:l=xa;break;case 32:l=wr;break;case 268435456:l=Ia;break;default:l=wr}return c=$v.bind(null,s),l=Sr(l,c),s.callbackPriority=a,s.callbackNode=l,a}return c!==null&&c!==null&&Ar(c),s.callbackPriority=2,s.callbackNode=null,2}function $v(s,a){if(Ye!==0&&Ye!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(hh()&&s.callbackNode!==l)return null;var c=Ut;return c=Ca(s,s===se?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(kv(s,c,a),Wv(s,In()),s.callbackNode!=null&&s.callbackNode===l?$v.bind(null,s):null)}function Zv(s,a){if(hh())return null;kv(s,a,!0)}function H1(){Z1(function(){(Kt&6)!==0?Sr(el,j1):Xv()})}function zg(){return sa===0&&(sa=sl()),sa}function Jv(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Va(""+s)}function t0(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function F1(s,a,l,c,g){if(a==="submit"&&l&&l.stateNode===g){var p=Jv((g[Ee]||null).action),E=c.submitter;E&&(a=(a=E[Ee]||null)?Jv(a.formAction):E.getAttribute("formAction"),a!==null&&(p=a,E=null));var S=new La("action","action",null,c,g);s.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(sa!==0){var D=E?t0(g,E):new FormData(g);rg(l,{pending:!0,data:D,method:g.method,action:p},null,D)}}else typeof p=="function"&&(S.preventDefault(),D=E?t0(g,E):new FormData(g),rg(l,{pending:!0,data:D,method:g.method,action:p},p,D))},currentTarget:g}]})}}for(var Bg=0;Bg<Ad.length;Bg++){var jg=Ad[Bg],q1=jg.toLowerCase(),G1=jg[0].toUpperCase()+jg.slice(1);Qn(q1,"on"+G1)}Qn(k_,"onAnimationEnd"),Qn(N_,"onAnimationIteration"),Qn(P_,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(l1,"onTransitionRun"),Qn(u1,"onTransitionStart"),Qn(c1,"onTransitionCancel"),Qn(V_,"onTransitionEnd"),Ui("onMouseEnter",["mouseout","mouseover"]),Ui("onMouseLeave",["mouseout","mouseover"]),Ui("onPointerEnter",["pointerout","pointerover"]),Ui("onPointerLeave",["pointerout","pointerover"]),Yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($l));function e0(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var c=s[l],g=c.event;c=c.listeners;t:{var p=void 0;if(a)for(var E=c.length-1;0<=E;E--){var S=c[E],D=S.instance,F=S.currentTarget;if(S=S.listener,D!==p&&g.isPropagationStopped())break t;p=S,g.currentTarget=F;try{p(g)}catch(X){th(X)}g.currentTarget=null,p=D}else for(E=0;E<c.length;E++){if(S=c[E],D=S.instance,F=S.currentTarget,S=S.listener,D!==p&&g.isPropagationStopped())break t;p=S,g.currentTarget=F;try{p(g)}catch(X){th(X)}g.currentTarget=null,p=D}}}}function Mt(s,a){var l=a[ll];l===void 0&&(l=a[ll]=new Set);var c=s+"__bubble";l.has(c)||(n0(a,s,2,!1),l.add(c))}function Hg(s,a,l){var c=0;a&&(c|=4),n0(l,s,c,a)}var gh="_reactListening"+Math.random().toString(36).slice(2);function Fg(s){if(!s[gh]){s[gh]=!0,ul.forEach(function(l){l!=="selectionchange"&&(Y1.has(l)||Hg(l,!1,s),Hg(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[gh]||(a[gh]=!0,Hg("selectionchange",!1,a))}}function n0(s,a,l,c){switch(R0(a)){case 2:var g=vR;break;case 8:g=bR;break;default:g=im}l=g.bind(null,a,l,s),g=void 0,!Mn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),c?g!==void 0?s.addEventListener(a,l,{capture:!0,passive:g}):s.addEventListener(a,l,!0):g!==void 0?s.addEventListener(a,l,{passive:g}):s.addEventListener(a,l,!1)}function qg(s,a,l,c,g){var p=c;if((a&1)===0&&(a&2)===0&&c!==null)t:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var S=c.stateNode.containerInfo;if(S===g)break;if(E===4)for(E=c.return;E!==null;){var D=E.tag;if((D===3||D===4)&&E.stateNode.containerInfo===g)return;E=E.return}for(;S!==null;){if(E=Li(S),E===null)return;if(D=E.tag,D===5||D===6||D===26||D===27){c=p=E;continue t}S=S.parentNode}}c=c.return}pc(function(){var F=p,X=On(l),Z=[];t:{var q=L_.get(s);if(q!==void 0){var G=La,Tt=s;switch(s){case"keypress":if(fi(l)===0)break t;case"keydown":case"keyup":G=Fa;break;case"focusin":Tt="focus",G=Ba;break;case"focusout":Tt="blur",G=Ba;break;case"beforeblur":case"afterblur":G=Ba;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=kn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=pd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Ac;break;case k_:case N_:case P_:G=ja;break;case V_:G=Rc;break;case"scroll":case"scrollend":G=_c;break;case"wheel":G=qa;break;case"copy":case"cut":case"paste":G=Ha;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=El;break;case"toggle":case"beforetoggle":G=Ic}var yt=(a&4)!==0,te=!yt&&(s==="scroll"||s==="scrollend"),z=yt?q!==null?q+"Capture":null:q;yt=[];for(var U=F,j;U!==null;){var W=U;if(j=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||j===null||z===null||(W=Lr(U,z),W!=null&&yt.push(Zl(U,W,j))),te)break;U=U.return}0<yt.length&&(q=new G(q,Tt,null,l,X),Z.push({event:q,listeners:yt}))}}if((a&7)===0){t:{if(q=s==="mouseover"||s==="pointerover",G=s==="mouseout"||s==="pointerout",q&&l!==ji&&(Tt=l.relatedTarget||l.fromElement)&&(Li(Tt)||Tt[Cn]))break t;if((G||q)&&(q=X.window===X?X:(q=X.ownerDocument)?q.defaultView||q.parentWindow:window,G?(Tt=l.relatedTarget||l.toElement,G=F,Tt=Tt?Li(Tt):null,Tt!==null&&(te=o(Tt),yt=Tt.tag,Tt!==te||yt!==5&&yt!==27&&yt!==6)&&(Tt=null)):(G=null,Tt=F),G!==Tt)){if(yt=kn,W="onMouseLeave",z="onMouseEnter",U="mouse",(s==="pointerout"||s==="pointerover")&&(yt=El,W="onPointerLeave",z="onPointerEnter",U="pointer"),te=G==null?q:li(G),j=Tt==null?q:li(Tt),q=new yt(W,U+"leave",G,l,X),q.target=te,q.relatedTarget=j,W=null,Li(X)===F&&(yt=new yt(z,U+"enter",Tt,l,X),yt.target=j,yt.relatedTarget=te,W=yt),te=W,G&&Tt)e:{for(yt=G,z=Tt,U=0,j=yt;j;j=po(j))U++;for(j=0,W=z;W;W=po(W))j++;for(;0<U-j;)yt=po(yt),U--;for(;0<j-U;)z=po(z),j--;for(;U--;){if(yt===z||z!==null&&yt===z.alternate)break e;yt=po(yt),z=po(z)}yt=null}else yt=null;G!==null&&i0(Z,q,G,yt,!1),Tt!==null&&te!==null&&i0(Z,te,Tt,yt,!0)}}t:{if(q=F?li(F):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var ft=T_;else if(De(q))if(S_)ft=r1;else{ft=i1;var Dt=n1}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?F&&gl(F.elementType)&&(ft=T_):ft=s1;if(ft&&(ft=ft(s,F))){Yi(Z,ft,l,X);break t}Dt&&Dt(s,q,F),s==="focusout"&&F&&q.type==="number"&&F.memoizedProps.value!=null&&As(q,"number",q.value)}switch(Dt=F?li(F):window,s){case"focusin":(De(Dt)||Dt.contentEditable==="true")&&(Ga=Dt,Ed=F,Al=null);break;case"focusout":Al=Ed=Ga=null;break;case"mousedown":Td=!0;break;case"contextmenu":case"mouseup":case"dragend":Td=!1,O_(Z,l,X);break;case"selectionchange":if(o1)break;case"keydown":case"keyup":O_(Z,l,X)}var mt;if(mi)t:{switch(s){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else Vt?K(s,l)&&(vt="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(vt="onCompositionStart");vt&&(b&&l.locale!=="ko"&&(Vt||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&Vt&&(mt=pl()):(hi=X,ws="value"in hi?hi.value:hi.textContent,Vt=!0)),Dt=mh(F,vt),0<Dt.length&&(vt=new vl(vt,s,null,l,X),Z.push({event:vt,listeners:Dt}),mt?vt.data=mt:(mt=at(l),mt!==null&&(vt.data=mt)))),(mt=y?Ce(s,l):Lt(s,l))&&(vt=mh(F,"onBeforeInput"),0<vt.length&&(Dt=new vl("onBeforeInput","beforeinput",null,l,X),Z.push({event:Dt,listeners:vt}),Dt.data=mt)),F1(Z,s,F,l,X)}e0(Z,a)})}function Zl(s,a,l){return{instance:s,listener:a,currentTarget:l}}function mh(s,a){for(var l=a+"Capture",c=[];s!==null;){var g=s,p=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||p===null||(g=Lr(s,l),g!=null&&c.unshift(Zl(s,g,p)),g=Lr(s,a),g!=null&&c.push(Zl(s,g,p))),s.tag===3)return c;s=s.return}return[]}function po(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function i0(s,a,l,c,g){for(var p=a._reactName,E=[];l!==null&&l!==c;){var S=l,D=S.alternate,F=S.stateNode;if(S=S.tag,D!==null&&D===c)break;S!==5&&S!==26&&S!==27||F===null||(D=F,g?(F=Lr(l,p),F!=null&&E.unshift(Zl(l,F,D))):g||(F=Lr(l,p),F!=null&&E.push(Zl(l,F,D)))),l=l.return}E.length!==0&&s.push({event:a,listeners:E})}var K1=/\r\n?/g,Q1=/\u0000|\uFFFD/g;function s0(s){return(typeof s=="string"?s:""+s).replace(K1,`
`).replace(Q1,"")}function r0(s,a){return a=s0(a),s0(s)===a}function ph(){}function Jt(s,a,l,c,g,p){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Dn(s,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Dn(s,""+c);break;case"className":ui(s,"class",c);break;case"tabIndex":ui(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ui(s,l,c);break;case"style":dl(s,c,p);break;case"data":if(a!=="object"){ui(s,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Va(""+c),s.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(a!=="input"&&Jt(s,a,"name",g.name,g,null),Jt(s,a,"formEncType",g.formEncType,g,null),Jt(s,a,"formMethod",g.formMethod,g,null),Jt(s,a,"formTarget",g.formTarget,g,null)):(Jt(s,a,"encType",g.encType,g,null),Jt(s,a,"method",g.method,g,null),Jt(s,a,"target",g.target,g,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Va(""+c),s.setAttribute(l,c);break;case"onClick":c!=null&&(s.onclick=ph);break;case"onScroll":c!=null&&Mt("scroll",s);break;case"onScrollEnd":c!=null&&Mt("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}l=Va(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""+c):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":c===!0?s.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,c):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(l,c):s.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(l):s.setAttribute(l,c);break;case"popover":Mt("beforetoggle",s),Mt("toggle",s),Ss(s,"popover",c);break;case"xlinkActuate":Fe(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Fe(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Fe(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Fe(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Fe(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Fe(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Fe(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Fe(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Fe(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ss(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=gd.get(l)||l,Ss(s,l,c))}}function Gg(s,a,l,c,g,p){switch(l){case"style":dl(s,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof c=="string"?Dn(s,c):(typeof c=="number"||typeof c=="bigint")&&Dn(s,""+c);break;case"onScroll":c!=null&&Mt("scroll",s);break;case"onScrollEnd":c!=null&&Mt("scrollend",s);break;case"onClick":c!=null&&(s.onclick=ph);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Oa.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),a=l.slice(2,g?l.length-7:void 0),p=s[Ee]||null,p=p!=null?p[l]:null,typeof p=="function"&&s.removeEventListener(a,p,g),typeof c=="function")){typeof p!="function"&&p!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,c,g);break t}l in s?s[l]=c:c===!0?s.setAttribute(l,""):Ss(s,l,c)}}}function Ke(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",s),Mt("load",s);var c=!1,g=!1,p;for(p in l)if(l.hasOwnProperty(p)){var E=l[p];if(E!=null)switch(p){case"src":c=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Jt(s,a,p,E,l,null)}}g&&Jt(s,a,"srcSet",l.srcSet,l,null),c&&Jt(s,a,"src",l.src,l,null);return;case"input":Mt("invalid",s);var S=p=E=g=null,D=null,F=null;for(c in l)if(l.hasOwnProperty(c)){var X=l[c];if(X!=null)switch(c){case"name":g=X;break;case"type":E=X;break;case"checked":D=X;break;case"defaultChecked":F=X;break;case"value":p=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,a));break;default:Jt(s,a,c,X,l,null)}}Nr(s,p,S,D,F,E,g,!1),Pa(s);return;case"select":Mt("invalid",s),c=E=p=null;for(g in l)if(l.hasOwnProperty(g)&&(S=l[g],S!=null))switch(g){case"value":p=S;break;case"defaultValue":E=S;break;case"multiple":c=S;default:Jt(s,a,g,S,l,null)}a=p,l=E,s.multiple=!!c,a!=null?Bi(s,!!c,a,!1):l!=null&&Bi(s,!!c,l,!0);return;case"textarea":Mt("invalid",s),p=g=c=null;for(E in l)if(l.hasOwnProperty(E)&&(S=l[E],S!=null))switch(E){case"value":c=S;break;case"defaultValue":g=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:Jt(s,a,E,S,l,null)}Pr(s,c,g,p),Pa(s);return;case"option":for(D in l)if(l.hasOwnProperty(D)&&(c=l[D],c!=null))switch(D){case"selected":s.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Jt(s,a,D,c,l,null)}return;case"dialog":Mt("beforetoggle",s),Mt("toggle",s),Mt("cancel",s),Mt("close",s);break;case"iframe":case"object":Mt("load",s);break;case"video":case"audio":for(c=0;c<$l.length;c++)Mt($l[c],s);break;case"image":Mt("error",s),Mt("load",s);break;case"details":Mt("toggle",s);break;case"embed":case"source":case"link":Mt("error",s),Mt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in l)if(l.hasOwnProperty(F)&&(c=l[F],c!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Jt(s,a,F,c,l,null)}return;default:if(gl(a)){for(X in l)l.hasOwnProperty(X)&&(c=l[X],c!==void 0&&Gg(s,a,X,c,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(c=l[S],c!=null&&Jt(s,a,S,c,l,null))}function X1(s,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,p=null,E=null,S=null,D=null,F=null,X=null;for(G in l){var Z=l[G];if(l.hasOwnProperty(G)&&Z!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":D=Z;default:c.hasOwnProperty(G)||Jt(s,a,G,null,c,Z)}}for(var q in c){var G=c[q];if(Z=l[q],c.hasOwnProperty(q)&&(G!=null||Z!=null))switch(q){case"type":p=G;break;case"name":g=G;break;case"checked":F=G;break;case"defaultChecked":X=G;break;case"value":E=G;break;case"defaultValue":S=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,a));break;default:G!==Z&&Jt(s,a,q,G,c,Z)}}vn(s,E,S,D,F,X,p,g);return;case"select":G=E=S=q=null;for(p in l)if(D=l[p],l.hasOwnProperty(p)&&D!=null)switch(p){case"value":break;case"multiple":G=D;default:c.hasOwnProperty(p)||Jt(s,a,p,null,c,D)}for(g in c)if(p=c[g],D=l[g],c.hasOwnProperty(g)&&(p!=null||D!=null))switch(g){case"value":q=p;break;case"defaultValue":S=p;break;case"multiple":E=p;default:p!==D&&Jt(s,a,g,p,c,D)}a=S,l=E,c=G,q!=null?Bi(s,!!l,q,!1):!!c!=!!l&&(a!=null?Bi(s,!!l,a,!0):Bi(s,!!l,l?[]:"",!1));return;case"textarea":G=q=null;for(S in l)if(g=l[S],l.hasOwnProperty(S)&&g!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Jt(s,a,S,null,c,g)}for(E in c)if(g=c[E],p=l[E],c.hasOwnProperty(E)&&(g!=null||p!=null))switch(E){case"value":q=g;break;case"defaultValue":G=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==p&&Jt(s,a,E,g,c,p)}$t(s,q,G);return;case"option":for(var Tt in l)if(q=l[Tt],l.hasOwnProperty(Tt)&&q!=null&&!c.hasOwnProperty(Tt))switch(Tt){case"selected":s.selected=!1;break;default:Jt(s,a,Tt,null,c,q)}for(D in c)if(q=c[D],G=l[D],c.hasOwnProperty(D)&&q!==G&&(q!=null||G!=null))switch(D){case"selected":s.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Jt(s,a,D,q,c,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in l)q=l[yt],l.hasOwnProperty(yt)&&q!=null&&!c.hasOwnProperty(yt)&&Jt(s,a,yt,null,c,q);for(F in c)if(q=c[F],G=l[F],c.hasOwnProperty(F)&&q!==G&&(q!=null||G!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,a));break;default:Jt(s,a,F,q,c,G)}return;default:if(gl(a)){for(var te in l)q=l[te],l.hasOwnProperty(te)&&q!==void 0&&!c.hasOwnProperty(te)&&Gg(s,a,te,void 0,c,q);for(X in c)q=c[X],G=l[X],!c.hasOwnProperty(X)||q===G||q===void 0&&G===void 0||Gg(s,a,X,q,c,G);return}}for(var z in l)q=l[z],l.hasOwnProperty(z)&&q!=null&&!c.hasOwnProperty(z)&&Jt(s,a,z,null,c,q);for(Z in c)q=c[Z],G=l[Z],!c.hasOwnProperty(Z)||q===G||q==null&&G==null||Jt(s,a,Z,q,c,G)}var Yg=null,Kg=null;function _h(s){return s.nodeType===9?s:s.ownerDocument}function a0(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o0(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function Qg(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Xg=null;function W1(){var s=window.event;return s&&s.type==="popstate"?s===Xg?!1:(Xg=s,!0):(Xg=null,!1)}var l0=typeof setTimeout=="function"?setTimeout:void 0,$1=typeof clearTimeout=="function"?clearTimeout:void 0,u0=typeof Promise=="function"?Promise:void 0,Z1=typeof queueMicrotask=="function"?queueMicrotask:typeof u0<"u"?function(s){return u0.resolve(null).then(s).catch(J1)}:l0;function J1(s){setTimeout(function(){throw s})}function js(s){return s==="head"}function c0(s,a){var l=a,c=0,g=0;do{var p=l.nextSibling;if(s.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(0<c&&8>c){l=c;var E=s.ownerDocument;if(l&1&&Jl(E.documentElement),l&2&&Jl(E.body),l&4)for(l=E.head,Jl(l),E=l.firstChild;E;){var S=E.nextSibling,D=E.nodeName;E[Dr]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&E.rel.toLowerCase()==="stylesheet"||l.removeChild(E),E=S}}if(g===0){s.removeChild(p),ou(a);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:c=l.charCodeAt(0)-48;else c=0;l=p}while(l);ou(a)}function Wg(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Wg(l),Ts(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function tR(s,a,l,c){for(;s.nodeType===1;){var g=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[Dr])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(p=s.getAttribute("rel"),p==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(p!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(p=s.getAttribute("src"),(p!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&p&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var p=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===p)return s}else return s;if(s=Wn(s.nextSibling),s===null)break}return null}function eR(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Wn(s.nextSibling),s===null))return null;return s}function $g(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function nR(s,a){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function Wn(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var Zg=null;function h0(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return s;a--}else l==="/$"&&a++}s=s.previousSibling}return null}function f0(s,a,l){switch(a=_h(l),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Jl(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Ts(s)}var Bn=new Map,d0=new Set;function yh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var rs=st.d;st.d={f:iR,r:sR,D:rR,C:aR,L:oR,m:lR,X:cR,S:uR,M:hR};function iR(){var s=rs.f(),a=uh();return s||a}function sR(s){var a=oi(s);a!==null&&a.tag===5&&a.type==="form"?ky(a):rs.r(s)}var _o=typeof document>"u"?null:document;function g0(s,a,l){var c=_o;if(c&&typeof a=="string"&&a){var g=Te(a);g='link[rel="'+s+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),d0.has(g)||(d0.add(g),s={rel:s,crossOrigin:l,href:a},c.querySelector(g)===null&&(a=c.createElement("link"),Ke(a,"link",s),pe(a),c.head.appendChild(a)))}}function rR(s){rs.D(s),g0("dns-prefetch",s,null)}function aR(s,a){rs.C(s,a),g0("preconnect",s,a)}function oR(s,a,l){rs.L(s,a,l);var c=_o;if(c&&s&&a){var g='link[rel="preload"][as="'+Te(a)+'"]';a==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+Te(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+Te(l.imageSizes)+'"]')):g+='[href="'+Te(s)+'"]';var p=g;switch(a){case"style":p=yo(s);break;case"script":p=vo(s)}Bn.has(p)||(s=_({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),Bn.set(p,s),c.querySelector(g)!==null||a==="style"&&c.querySelector(tu(p))||a==="script"&&c.querySelector(eu(p))||(a=c.createElement("link"),Ke(a,"link",s),pe(a),c.head.appendChild(a)))}}function lR(s,a){rs.m(s,a);var l=_o;if(l&&s){var c=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+Te(c)+'"][href="'+Te(s)+'"]',p=g;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=vo(s)}if(!Bn.has(p)&&(s=_({rel:"modulepreload",href:s},a),Bn.set(p,s),l.querySelector(g)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(eu(p)))return}c=l.createElement("link"),Ke(c,"link",s),pe(c),l.head.appendChild(c)}}}function uR(s,a,l){rs.S(s,a,l);var c=_o;if(c&&s){var g=an(c).hoistableStyles,p=yo(s);a=a||"default";var E=g.get(p);if(!E){var S={loading:0,preload:null};if(E=c.querySelector(tu(p)))S.loading=5;else{s=_({rel:"stylesheet",href:s,"data-precedence":a},l),(l=Bn.get(p))&&Jg(s,l);var D=E=c.createElement("link");pe(D),Ke(D,"link",s),D._p=new Promise(function(F,X){D.onload=F,D.onerror=X}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,vh(E,a,c)}E={type:"stylesheet",instance:E,count:1,state:S},g.set(p,E)}}}function cR(s,a){rs.X(s,a);var l=_o;if(l&&s){var c=an(l).hoistableScripts,g=vo(s),p=c.get(g);p||(p=l.querySelector(eu(g)),p||(s=_({src:s,async:!0},a),(a=Bn.get(g))&&tm(s,a),p=l.createElement("script"),pe(p),Ke(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(g,p))}}function hR(s,a){rs.M(s,a);var l=_o;if(l&&s){var c=an(l).hoistableScripts,g=vo(s),p=c.get(g);p||(p=l.querySelector(eu(g)),p||(s=_({src:s,async:!0,type:"module"},a),(a=Bn.get(g))&&tm(s,a),p=l.createElement("script"),pe(p),Ke(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(g,p))}}function m0(s,a,l,c){var g=(g=_t.current)?yh(g):null;if(!g)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=yo(l.href),l=an(g).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=yo(l.href);var p=an(g).hoistableStyles,E=p.get(s);if(E||(g=g.ownerDocument||g,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(s,E),(p=g.querySelector(tu(s)))&&!p._p&&(E.instance=p,E.state.loading=5),Bn.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Bn.set(s,l),p||fR(g,s,l,E.state))),a&&c===null)throw Error(i(528,""));return E}if(a&&c!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=vo(l),l=an(g).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function yo(s){return'href="'+Te(s)+'"'}function tu(s){return'link[rel="stylesheet"]['+s+"]"}function p0(s){return _({},s,{"data-precedence":s.precedence,precedence:null})}function fR(s,a,l,c){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=s.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),Ke(a,"link",l),pe(a),s.head.appendChild(a))}function vo(s){return'[src="'+Te(s)+'"]'}function eu(s){return"script[async]"+s}function _0(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=s.querySelector('style[data-href~="'+Te(l.href)+'"]');if(c)return a.instance=c,pe(c),c;var g=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),pe(c),Ke(c,"style",g),vh(c,l.precedence,s),a.instance=c;case"stylesheet":g=yo(l.href);var p=s.querySelector(tu(g));if(p)return a.state.loading|=4,a.instance=p,pe(p),p;c=p0(l),(g=Bn.get(g))&&Jg(c,g),p=(s.ownerDocument||s).createElement("link"),pe(p);var E=p;return E._p=new Promise(function(S,D){E.onload=S,E.onerror=D}),Ke(p,"link",c),a.state.loading|=4,vh(p,l.precedence,s),a.instance=p;case"script":return p=vo(l.src),(g=s.querySelector(eu(p)))?(a.instance=g,pe(g),g):(c=l,(g=Bn.get(p))&&(c=_({},l),tm(c,g)),s=s.ownerDocument||s,g=s.createElement("script"),pe(g),Ke(g,"link",c),s.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,vh(c,l.precedence,s));return a.instance}function vh(s,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=c.length?c[c.length-1]:null,p=g,E=0;E<c.length;E++){var S=c[E];if(S.dataset.precedence===a)p=S;else if(p!==g)break}p?p.parentNode.insertBefore(s,p.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function Jg(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function tm(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var bh=null;function y0(s,a,l){if(bh===null){var c=new Map,g=bh=new Map;g.set(l,c)}else g=bh,c=g.get(l),c||(c=new Map,g.set(l,c));if(c.has(s))return c;for(c.set(s,null),l=l.getElementsByTagName(s),g=0;g<l.length;g++){var p=l[g];if(!(p[Dr]||p[Ie]||s==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(a)||"";E=s+E;var S=c.get(E);S?S.push(p):c.set(E,[p])}}return c}function v0(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function dR(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function b0(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var nu=null;function gR(){}function mR(s,a,l){if(nu===null)throw Error(i(475));var c=nu;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var g=yo(l.href),p=s.querySelector(tu(g));if(p){s=p._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(c.count++,c=Eh.bind(c),s.then(c,c)),a.state.loading|=4,a.instance=p,pe(p);return}p=s.ownerDocument||s,l=p0(l),(g=Bn.get(g))&&Jg(l,g),p=p.createElement("link"),pe(p);var E=p;E._p=new Promise(function(S,D){E.onload=S,E.onerror=D}),Ke(p,"link",l),a.instance=p}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=Eh.bind(c),s.addEventListener("load",a),s.addEventListener("error",a))}}function pR(){if(nu===null)throw Error(i(475));var s=nu;return s.stylesheets&&s.count===0&&em(s,s.stylesheets),0<s.count?function(a){var l=setTimeout(function(){if(s.stylesheets&&em(s,s.stylesheets),s.unsuspend){var c=s.unsuspend;s.unsuspend=null,c()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(l)}}:null}function Eh(){if(this.count--,this.count===0){if(this.stylesheets)em(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Th=null;function em(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Th=new Map,a.forEach(_R,s),Th=null,Eh.call(s))}function _R(s,a){if(!(a.state.loading&4)){var l=Th.get(s);if(l)var c=l.get(null);else{l=new Map,Th.set(s,l);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<g.length;p++){var E=g[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(l.set(E.dataset.precedence,E),c=E)}c&&l.set(null,c)}g=a.instance,E=g.getAttribute("data-precedence"),p=l.get(E)||c,p===c&&l.set(null,g),l.set(E,g),this.count++,c=Eh.bind(this),g.addEventListener("load",c),g.addEventListener("error",c),p?p.parentNode.insertBefore(g,p.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),a.state.loading|=4}}var iu={$$typeof:tt,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function yR(s,a,l,c,g,p,E,S){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pi(0),this.hiddenUpdates=Pi(null),this.identifierPrefix=c,this.onUncaughtError=g,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function E0(s,a,l,c,g,p,E,S,D,F,X,Z){return s=new yR(s,a,l,E,S,D,F,Z),a=1,p===!0&&(a|=24),p=En(3,null,null,a),s.current=p,p.stateNode=s,a=Vd(),a.refCount++,s.pooledCache=a,a.refCount++,p.memoizedState={element:c,isDehydrated:l,cache:a},Bd(p),s}function T0(s){return s?(s=Xa,s):Xa}function S0(s,a,l,c,g,p){g=T0(g),c.context===null?c.context=g:c.pendingContext=g,c=Is(a),c.payload={element:l},p=p===void 0?null:p,p!==null&&(c.callback=p),l=Cs(s,c,a),l!==null&&(Rn(l,s,a),kl(l,s,a))}function A0(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function nm(s,a){A0(s,a),(s=s.alternate)&&A0(s,a)}function w0(s){if(s.tag===13){var a=Qa(s,67108864);a!==null&&Rn(a,s,67108864),nm(s,67108864)}}var Sh=!0;function vR(s,a,l,c){var g=Y.T;Y.T=null;var p=st.p;try{st.p=2,im(s,a,l,c)}finally{st.p=p,Y.T=g}}function bR(s,a,l,c){var g=Y.T;Y.T=null;var p=st.p;try{st.p=8,im(s,a,l,c)}finally{st.p=p,Y.T=g}}function im(s,a,l,c){if(Sh){var g=sm(c);if(g===null)qg(s,a,c,Ah,l),x0(s,c);else if(TR(g,s,a,l,c))c.stopPropagation();else if(x0(s,c),a&4&&-1<ER.indexOf(s)){for(;g!==null;){var p=oi(g);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=Gn(p.pendingLanes);if(E!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var D=1<<31-$e(E);S.entanglements[1]|=D,E&=~D}Ei(p),(Kt&6)===0&&(oh=In()+500,Wl(0))}}break;case 13:S=Qa(p,2),S!==null&&Rn(S,p,2),uh(),nm(p,2)}if(p=sm(c),p===null&&qg(s,a,c,Ah,l),p===g)break;g=p}g!==null&&c.stopPropagation()}else qg(s,a,c,null,l)}}function sm(s){return s=On(s),rm(s)}var Ah=null;function rm(s){if(Ah=null,s=Li(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=u(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Ah=s,null}function R0(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ld()){case el:return 2;case xa:return 8;case wr:case ud:return 32;case Ia:return 268435456;default:return 32}default:return 32}}var am=!1,Hs=null,Fs=null,qs=null,su=new Map,ru=new Map,Gs=[],ER="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function x0(s,a){switch(s){case"focusin":case"focusout":Hs=null;break;case"dragenter":case"dragleave":Fs=null;break;case"mouseover":case"mouseout":qs=null;break;case"pointerover":case"pointerout":su.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ru.delete(a.pointerId)}}function au(s,a,l,c,g,p){return s===null||s.nativeEvent!==p?(s={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:p,targetContainers:[g]},a!==null&&(a=oi(a),a!==null&&w0(a)),s):(s.eventSystemFlags|=c,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function TR(s,a,l,c,g){switch(a){case"focusin":return Hs=au(Hs,s,a,l,c,g),!0;case"dragenter":return Fs=au(Fs,s,a,l,c,g),!0;case"mouseover":return qs=au(qs,s,a,l,c,g),!0;case"pointerover":var p=g.pointerId;return su.set(p,au(su.get(p)||null,s,a,l,c,g)),!0;case"gotpointercapture":return p=g.pointerId,ru.set(p,au(ru.get(p)||null,s,a,l,c,g)),!0}return!1}function I0(s){var a=Li(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){s.blockedOn=a,uc(s.priority,function(){if(l.tag===13){var c=wn();c=vs(c);var g=Qa(l,c);g!==null&&Rn(g,l,c),nm(l,c)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function wh(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=sm(s.nativeEvent);if(l===null){l=s.nativeEvent;var c=new l.constructor(l.type,l);ji=c,l.target.dispatchEvent(c),ji=null}else return a=oi(l),a!==null&&w0(a),s.blockedOn=l,!1;a.shift()}return!0}function C0(s,a,l){wh(s)&&l.delete(a)}function SR(){am=!1,Hs!==null&&wh(Hs)&&(Hs=null),Fs!==null&&wh(Fs)&&(Fs=null),qs!==null&&wh(qs)&&(qs=null),su.forEach(C0),ru.forEach(C0)}function Rh(s,a){s.blockedOn===a&&(s.blockedOn=null,am||(am=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,SR)))}var xh=null;function D0(s){xh!==s&&(xh=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){xh===s&&(xh=null);for(var a=0;a<s.length;a+=3){var l=s[a],c=s[a+1],g=s[a+2];if(typeof c!="function"){if(rm(c||l)===null)continue;break}var p=oi(l);p!==null&&(s.splice(a,3),a-=3,rg(p,{pending:!0,data:g,method:l.method,action:c},c,g))}}))}function ou(s){function a(D){return Rh(D,s)}Hs!==null&&Rh(Hs,s),Fs!==null&&Rh(Fs,s),qs!==null&&Rh(qs,s),su.forEach(a),ru.forEach(a);for(var l=0;l<Gs.length;l++){var c=Gs[l];c.blockedOn===s&&(c.blockedOn=null)}for(;0<Gs.length&&(l=Gs[0],l.blockedOn===null);)I0(l),l.blockedOn===null&&Gs.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var g=l[c],p=l[c+1],E=g[Ee]||null;if(typeof p=="function")E||D0(l);else if(E){var S=null;if(p&&p.hasAttribute("formAction")){if(g=p,E=p[Ee]||null)S=E.formAction;else if(rm(g)!==null)continue}else S=E.action;typeof S=="function"?l[c+1]=S:(l.splice(c,3),c-=3),D0(l)}}}function om(s){this._internalRoot=s}Ih.prototype.render=om.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,c=wn();S0(l,c,s,a,null,null)},Ih.prototype.unmount=om.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;S0(s.current,2,null,s,null,null),uh(),a[Cn]=null}};function Ih(s){this._internalRoot=s}Ih.prototype.unstable_scheduleHydration=function(s){if(s){var a=bs();s={blockedOn:null,target:s,priority:a};for(var l=0;l<Gs.length&&a!==0&&a<Gs[l].priority;l++);Gs.splice(l,0,s),l===0&&I0(s)}};var O0=t.version;if(O0!=="19.1.0")throw Error(i(527,O0,"19.1.0"));st.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=d(a),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var AR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ch.isDisabled&&Ch.supportsFiber)try{fe=Ch.inject(AR),Yt=Ch}catch{}}return uu.createRoot=function(s,a){if(!r(s))throw Error(i(299));var l=!1,c="",g=Ky,p=Qy,E=Xy,S=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(S=a.unstable_transitionCallbacks)),a=E0(s,1,!1,null,null,l,c,g,p,E,S,null),s[Cn]=a.current,Fg(s),new om(a)},uu.hydrateRoot=function(s,a,l){if(!r(s))throw Error(i(299));var c=!1,g="",p=Ky,E=Qy,S=Xy,D=null,F=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(D=l.unstable_transitionCallbacks),l.formState!==void 0&&(F=l.formState)),a=E0(s,1,!0,a,l??null,c,g,p,E,S,D,F),a.context=T0(null),l=a.current,c=wn(),c=vs(c),g=Is(c),g.callback=null,Cs(l,g,c),l=c,a.current.lanes=l,Vi(a,l),Ei(a),s[Cn]=a.current,Fg(s),new Ih(a)},uu.version="19.1.0",uu}var j0;function PR(){if(j0)return cm.exports;j0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),cm.exports=NR(),cm.exports}var VR=PR();const LR=()=>{};var H0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},UR=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[e++],u=n[e++],h=n[e++],d=((r&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(d>>10)),t[i++]=String.fromCharCode(56320+(d&1023))}else{const o=n[e++],u=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|u&63)}}return t.join("")},VT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],u=r+1<n.length,h=u?n[r+1]:0,d=r+2<n.length,m=d?n[r+2]:0,_=o>>2,v=(o&3)<<4|h>>4;let T=(h&15)<<2|m>>6,A=m&63;d||(A=64,u||(T=64)),i.push(e[_],e[v],e[T],e[A])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(PT(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):UR(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],h=r<n.length?e[n.charAt(r)]:0;++r;const m=r<n.length?e[n.charAt(r)]:64;++r;const v=r<n.length?e[n.charAt(r)]:64;if(++r,o==null||h==null||m==null||v==null)throw new zR;const T=o<<2|h>>4;if(i.push(T),m!==64){const A=h<<4&240|m>>2;if(i.push(A),v!==64){const I=m<<6&192|v;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class zR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BR=function(n){const t=PT(n);return VT.encodeByteArray(t,!0)},uf=function(n){return BR(n).replace(/\./g,"")},LT=function(n){try{return VT.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=()=>jR().__FIREBASE_DEFAULTS__,FR=()=>{if(typeof process>"u"||typeof H0>"u")return;const n=H0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},qR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&LT(n[1]);return t&&JSON.parse(t)},Uf=()=>{try{return LR()||HR()||FR()||qR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},UT=n=>{var t,e;return(e=(t=Uf())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},GR=n=>{const t=UT(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},zT=()=>{var n;return(n=Uf())===null||n===void 0?void 0:n.config},BT=n=>{var t;return(t=Uf())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function jT(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[uf(JSON.stringify(e)),uf(JSON.stringify(u)),""].join(".")}const Au={};function QR(){const n={prod:[],emulator:[]};for(const t of Object.keys(Au))Au[t]?n.emulator.push(t):n.prod.push(t);return n}function XR(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let F0=!1;function HT(n,t){if(typeof window>"u"||typeof document>"u"||!Fo(window.location.host)||Au[n]===t||Au[n]||F0)return;Au[n]=t;function e(T){return`__firebase__banner__${T}`}const i="__firebase__banner",o=QR().prod.length>0;function u(){const T=document.getElementById(i);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function d(T,A){T.setAttribute("width","24"),T.setAttribute("id",A),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function m(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{F0=!0,u()},T}function _(T,A){T.setAttribute("id",A),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function v(){const T=XR(i),A=e("text"),I=document.getElementById(A)||document.createElement("span"),k=e("learnmore"),M=document.getElementById(k)||document.createElement("a"),H=e("preprendIcon"),Q=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const tt=T.element;h(tt),_(M,k);const rt=m();d(Q,H),tt.append(Q,I,M,rt),document.body.appendChild(tt)}o?(I.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function $R(){var n;const t=(n=Uf())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ZR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function tx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ex(){const n=sn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function nx(){return!$R()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ix(){try{return typeof indexedDB=="object"}catch{return!1}}function sx(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var o;t(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx="FirebaseError";class ps extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=rx,Object.setPrototypeOf(this,ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qu.prototype.create)}}class Qu{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],u=o?ax(o,i):"Error",h=`${this.serviceName}: ${u} (${r}).`;return new ps(r,h,i)}}function ax(n,t){return n.replace(ox,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const ox=/\{\$([^}]+)}/g;function lx(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function pa(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const o=n[r],u=t[r];if(q0(o)&&q0(u)){if(!pa(o,u))return!1}else if(o!==u)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function q0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xu(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function mu(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(o)}}),t}function pu(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function ux(n,t){const e=new cx(n,t);return e.subscribe.bind(e)}class cx{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");hx(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=gm),r.error===void 0&&(r.error=gm),r.complete===void 0&&(r.complete=gm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hx(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function gm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(n){return n&&n._delegate?n._delegate:n}class _a{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new YR;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t?.identifier),r=(e=t?.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(gx(t))try{this.getOrInitializeService({instanceIdentifier:ua})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=ua){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ua){return this.instances.has(t)}getOptions(t=ua){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&u.resolve(r)}return r}onInit(t,e){var i;const r=this.normalizeInstanceIdentifier(e),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:dx(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=ua){return this.component?this.component.multipleInstances?t:ua:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dx(n){return n===ua?void 0:n}function gx(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new fx(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Nt||(Nt={}));const px={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},_x=Nt.INFO,yx={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},vx=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=yx[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class mp{constructor(t){this.name=t,this._logLevel=_x,this._logHandler=vx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?px[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}const bx=(n,t)=>t.some(e=>n instanceof e);let G0,Y0;function Ex(){return G0||(G0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Tx(){return Y0||(Y0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FT=new WeakMap,Lm=new WeakMap,qT=new WeakMap,mm=new WeakMap,pp=new WeakMap;function Sx(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{e(nr(n.result)),r()},u=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",u)});return t.then(e=>{e instanceof IDBCursor&&FT.set(e,n)}).catch(()=>{}),pp.set(t,n),t}function Ax(n){if(Lm.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{e(),r()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});Lm.set(n,t)}let Um={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Lm.get(n);if(t==="objectStoreNames")return n.objectStoreNames||qT.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return nr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function wx(n){Um=n(Um)}function Rx(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(pm(this),t,...e);return qT.set(i,t.sort?t.sort():[t]),nr(i)}:Tx().includes(n)?function(...t){return n.apply(pm(this),t),nr(FT.get(this))}:function(...t){return nr(n.apply(pm(this),t))}}function xx(n){return typeof n=="function"?Rx(n):(n instanceof IDBTransaction&&Ax(n),bx(n,Ex())?new Proxy(n,Um):n)}function nr(n){if(n instanceof IDBRequest)return Sx(n);if(mm.has(n))return mm.get(n);const t=xx(n);return t!==n&&(mm.set(n,t),pp.set(t,n)),t}const pm=n=>pp.get(n);function Ix(n,t,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){const u=indexedDB.open(n,t),h=nr(u);return i&&u.addEventListener("upgradeneeded",d=>{i(nr(u.result),d.oldVersion,d.newVersion,nr(u.transaction),d)}),e&&u.addEventListener("blocked",d=>e(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),r&&d.addEventListener("versionchange",m=>r(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const Cx=["get","getKey","getAll","getAllKeys","count"],Dx=["put","add","delete","clear"],_m=new Map;function K0(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(_m.get(t))return _m.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=Dx.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||Cx.includes(e)))return;const o=async function(u,...h){const d=this.transaction(u,r?"readwrite":"readonly");let m=d.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[e](...h),r&&d.done]))[0]};return _m.set(t,o),o}wx(n=>({...n,get:(t,e,i)=>K0(t,e)||n.get(t,e,i),has:(t,e)=>!!K0(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(Mx(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function Mx(n){const t=n.getComponent();return t?.type==="VERSION"}const zm="@firebase/app",Q0="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=new mp("@firebase/app"),kx="@firebase/app-compat",Nx="@firebase/analytics-compat",Px="@firebase/analytics",Vx="@firebase/app-check-compat",Lx="@firebase/app-check",Ux="@firebase/auth",zx="@firebase/auth-compat",Bx="@firebase/database",jx="@firebase/data-connect",Hx="@firebase/database-compat",Fx="@firebase/functions",qx="@firebase/functions-compat",Gx="@firebase/installations",Yx="@firebase/installations-compat",Kx="@firebase/messaging",Qx="@firebase/messaging-compat",Xx="@firebase/performance",Wx="@firebase/performance-compat",$x="@firebase/remote-config",Zx="@firebase/remote-config-compat",Jx="@firebase/storage",tI="@firebase/storage-compat",eI="@firebase/firestore",nI="@firebase/ai",iI="@firebase/firestore-compat",sI="firebase",rI="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="[DEFAULT]",aI={[zm]:"fire-core",[kx]:"fire-core-compat",[Px]:"fire-analytics",[Nx]:"fire-analytics-compat",[Lx]:"fire-app-check",[Vx]:"fire-app-check-compat",[Ux]:"fire-auth",[zx]:"fire-auth-compat",[Bx]:"fire-rtdb",[jx]:"fire-data-connect",[Hx]:"fire-rtdb-compat",[Fx]:"fire-fn",[qx]:"fire-fn-compat",[Gx]:"fire-iid",[Yx]:"fire-iid-compat",[Kx]:"fire-fcm",[Qx]:"fire-fcm-compat",[Xx]:"fire-perf",[Wx]:"fire-perf-compat",[$x]:"fire-rc",[Zx]:"fire-rc-compat",[Jx]:"fire-gcs",[tI]:"fire-gcs-compat",[eI]:"fire-fst",[iI]:"fire-fst-compat",[nI]:"fire-vertex","fire-js":"fire-js",[sI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cf=new Map,oI=new Map,jm=new Map;function X0(n,t){try{n.container.addComponent(t)}catch(e){fs.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function ko(n){const t=n.name;if(jm.has(t))return fs.debug(`There were multiple attempts to register component ${t}.`),!1;jm.set(t,n);for(const e of cf.values())X0(e,n);for(const e of oI.values())X0(e,n);return!0}function _p(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function $n(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ir=new Qu("app","Firebase",lI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new _a("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ir.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=rI;function GT(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i=Object.assign({name:Bm,automaticDataCollectionEnabled:!0},t),r=i.name;if(typeof r!="string"||!r)throw ir.create("bad-app-name",{appName:String(r)});if(e||(e=zT()),!e)throw ir.create("no-options");const o=cf.get(r);if(o){if(pa(e,o.options)&&pa(i,o.config))return o;throw ir.create("duplicate-app",{appName:r})}const u=new mx(r);for(const d of jm.values())u.addComponent(d);const h=new uI(e,i,u);return cf.set(r,h),h}function YT(n=Bm){const t=cf.get(n);if(!t&&n===Bm&&zT())return GT();if(!t)throw ir.create("no-app",{appName:n});return t}function sr(n,t,e){var i;let r=(i=aI[n])!==null&&i!==void 0?i:n;e&&(r+=`-${e}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const h=[`Unable to register library "${r}" with version "${t}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),fs.warn(h.join(" "));return}ko(new _a(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI="firebase-heartbeat-database",hI=1,Nu="firebase-heartbeat-store";let ym=null;function KT(){return ym||(ym=Ix(cI,hI,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Nu)}catch(e){console.warn(e)}}}}).catch(n=>{throw ir.create("idb-open",{originalErrorMessage:n.message})})),ym}async function fI(n){try{const e=(await KT()).transaction(Nu),i=await e.objectStore(Nu).get(QT(n));return await e.done,i}catch(t){if(t instanceof ps)fs.warn(t.message);else{const e=ir.create("idb-get",{originalErrorMessage:t?.message});fs.warn(e.message)}}}async function W0(n,t){try{const i=(await KT()).transaction(Nu,"readwrite");await i.objectStore(Nu).put(t,QT(n)),await i.done}catch(e){if(e instanceof ps)fs.warn(e.message);else{const i=ir.create("idb-set",{originalErrorMessage:e?.message});fs.warn(i.message)}}}function QT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=1024,gI=30;class mI{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new _I(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,e;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=$0();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats.length>gI){const u=yI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){fs.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=$0(),{heartbeatsToSend:i,unsentEntries:r}=pI(this._heartbeatsCache.heartbeats),o=uf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return fs.warn(e),""}}}function $0(){return new Date().toISOString().substring(0,10)}function pI(n,t=dI){const e=[];let i=n.slice();for(const r of n){const o=e.find(u=>u.agent===r.agent);if(o){if(o.dates.push(r.date),Z0(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),Z0(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class _I{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ix()?sx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await fI(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return W0(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return W0(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Z0(n){return uf(JSON.stringify({version:2,heartbeats:n})).length}function yI(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(n){ko(new _a("platform-logger",t=>new Ox(t),"PRIVATE")),ko(new _a("heartbeat",t=>new mI(t),"PRIVATE")),sr(zm,Q0,n),sr(zm,Q0,"esm2017"),sr("fire-js","")}vI("");function yp(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e}function XT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bI=XT,WT=new Qu("auth","Firebase",XT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf=new mp("@firebase/auth");function EI(n,...t){hf.logLevel<=Nt.WARN&&hf.warn(`Auth (${qo}): ${n}`,...t)}function Xh(n,...t){hf.logLevel<=Nt.ERROR&&hf.error(`Auth (${qo}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(n,...t){throw vp(n,...t)}function Ri(n,...t){return vp(n,...t)}function $T(n,t,e){const i=Object.assign(Object.assign({},bI()),{[t]:e});return new Qu("auth","Firebase",i).create(t,{appName:n.name})}function rr(n){return $T(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vp(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return WT.create(n,...t)}function bt(n,t,...e){if(!n)throw vp(t,...e)}function cs(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Xh(t),new Error(t)}function ds(n,t){n||cs(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function TI(){return J0()==="http:"||J0()==="https:"}function J0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TI()||JR()||"connection"in navigator)?navigator.onLine:!0}function AI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(t,e){this.shortDelay=t,this.longDelay=e,ds(e>t,"Short delay should be less than long delay!"),this.isMobile=WR()||tx()}get(){return SI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(n,t){ds(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],xI=new Wu(3e4,6e4);function Ta(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function Er(n,t,e,i,r={}){return JT(n,r,async()=>{let o={},u={};i&&(t==="GET"?u=i:o={body:JSON.stringify(i)});const h=Xu(Object.assign({key:n.config.apiKey},u)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:t,headers:d},o);return ZR()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Fo(n.emulatorConfig.host)&&(m.credentials="include"),ZT.fetch()(await tS(n,n.config.apiHost,e,h),m)})}async function JT(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},wI),t);try{const r=new CI(n),o=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Dh(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[d,m]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dh(n,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Dh(n,"email-already-in-use",u);if(d==="USER_DISABLED")throw Dh(n,"user-disabled",u);const _=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw $T(n,_,m);ni(n,_)}}catch(r){if(r instanceof ps)throw r;ni(n,"network-request-failed",{message:String(r)})}}async function zf(n,t,e,i,r={}){const o=await Er(n,t,e,i,r);return"mfaPendingCredential"in o&&ni(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function tS(n,t,e,i){const r=`${t}${e}?${i}`,o=n,u=o.config.emulator?bp(n.config,r):`${n.config.apiScheme}://${r}`;return RI.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function II(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class CI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Ri(this.auth,"network-request-failed")),xI.get())})}}function Dh(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=Ri(n,t,i);return r.customData._tokenResponse=e,r}function tb(n){return n!==void 0&&n.enterprise!==void 0}class DI{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return II(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function OI(n,t){return Er(n,"GET","/v2/recaptchaConfig",Ta(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MI(n,t){return Er(n,"POST","/v1/accounts:delete",t)}async function ff(n,t){return Er(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function kI(n,t=!1){const e=rn(n),i=await e.getIdToken(t),r=Ep(i);bt(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,u=o?.sign_in_provider;return{claims:r,token:i,authTime:wu(vm(r.auth_time)),issuedAtTime:wu(vm(r.iat)),expirationTime:wu(vm(r.exp)),signInProvider:u||null,signInSecondFactor:o?.sign_in_second_factor||null}}function vm(n){return Number(n)*1e3}function Ep(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return Xh("JWT malformed, contained fewer than 3 sections"),null;try{const r=LT(e);return r?JSON.parse(r):(Xh("Failed to decode base64 JWT payload"),null)}catch(r){return Xh("Caught error parsing JWT payload as JSON",r?.toString()),null}}function eb(n){const t=Ep(n);return bt(t,"internal-error"),bt(typeof t.exp<"u","internal-error"),bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pu(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof ps&&NI(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function NI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=wu(this.lastLoginAt),this.creationTime=wu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function df(n){var t;const e=n.auth,i=await n.getIdToken(),r=await Pu(n,ff(e,{idToken:i}));bt(r?.users.length,e,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const u=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?eS(o.providerUserInfo):[],h=LI(n.providerData,u),d=n.isAnonymous,m=!(n.email&&o.passwordHash)&&!h?.length,_=d?m:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Fm(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(n,v)}async function VI(n){const t=rn(n);await df(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function LI(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function eS(n){return n.map(t=>{var{providerId:e}=t,i=yp(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UI(n,t){const e=await JT(n,{},async()=>{const i=Xu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,u=await tS(n,r,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:i};return n.emulatorConfig&&Fo(n.emulatorConfig.host)&&(d.credentials="include"),ZT.fetch()(u,d)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function zI(n,t){return Er(n,"POST","/v2/accounts:revokeToken",Ta(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){bt(t.idToken,"internal-error"),bt(typeof t.idToken<"u","internal-error"),bt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):eb(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){bt(t.length!==0,"internal-error");const e=eb(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:o}=await UI(t,e);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:o}=e,u=new xo;return i&&(bt(typeof i=="string","internal-error",{appName:t}),u.refreshToken=i),r&&(bt(typeof r=="string","internal-error",{appName:t}),u.accessToken=r),o&&(bt(typeof o=="number","internal-error",{appName:t}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new xo,this.toJSON())}_performRefresh(){return cs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(n,t){bt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class Zn{constructor(t){var{uid:e,auth:i,stsTokenManager:r}=t,o=yp(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new PI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Fm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await Pu(this,this.stsTokenManager.getToken(this.auth,t));return bt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return kI(this,t)}reload(){return VI(this)}_assign(t){this!==t&&(bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Zn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await df(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(rr(this.auth));const t=await this.getIdToken();return await Pu(this,MI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,r,o,u,h,d,m,_;const v=(i=e.displayName)!==null&&i!==void 0?i:void 0,T=(r=e.email)!==null&&r!==void 0?r:void 0,A=(o=e.phoneNumber)!==null&&o!==void 0?o:void 0,I=(u=e.photoURL)!==null&&u!==void 0?u:void 0,k=(h=e.tenantId)!==null&&h!==void 0?h:void 0,M=(d=e._redirectEventId)!==null&&d!==void 0?d:void 0,H=(m=e.createdAt)!==null&&m!==void 0?m:void 0,Q=(_=e.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:tt,emailVerified:rt,isAnonymous:nt,providerData:lt,stsTokenManager:O}=e;bt(tt&&O,t,"internal-error");const R=xo.fromJSON(this.name,O);bt(typeof tt=="string",t,"internal-error"),Ks(v,t.name),Ks(T,t.name),bt(typeof rt=="boolean",t,"internal-error"),bt(typeof nt=="boolean",t,"internal-error"),Ks(A,t.name),Ks(I,t.name),Ks(k,t.name),Ks(M,t.name),Ks(H,t.name),Ks(Q,t.name);const x=new Zn({uid:tt,auth:t,email:T,emailVerified:rt,displayName:v,isAnonymous:nt,photoURL:I,phoneNumber:A,tenantId:k,stsTokenManager:R,createdAt:H,lastLoginAt:Q});return lt&&Array.isArray(lt)&&(x.providerData=lt.map(N=>Object.assign({},N))),M&&(x._redirectEventId=M),x}static async _fromIdTokenResponse(t,e,i=!1){const r=new xo;r.updateFromServerResponse(e);const o=new Zn({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await df(o),o}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];bt(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?eS(r.providerUserInfo):[],u=!(r.email&&r.passwordHash)&&!o?.length,h=new xo;h.updateFromIdToken(i);const d=new Zn({uid:r.localId,auth:t,stsTokenManager:h,isAnonymous:u}),m={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Fm(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(d,m),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb=new Map;function hs(n){ds(n instanceof Function,"Expected a class definition");let t=nb.get(n);return t?(ds(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,nb.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}nS.type="NONE";const ib=nS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(n,t,e){return`firebase:${n}:${t}:${e}`}class Io{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=Wh(this.userKey,r.apiKey,o),this.fullPersistenceKey=Wh("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await ff(this.auth,{idToken:t}).catch(()=>{});return e?Zn._fromGetAccountInfoResponse(this.auth,e,t):null}return Zn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new Io(hs(ib),t,i);const r=(await Promise.all(e.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=r[0]||hs(ib);const u=Wh(i,t.config.apiKey,t.name);let h=null;for(const m of e)try{const _=await m._get(u);if(_){let v;if(typeof _=="string"){const T=await ff(t,{idToken:_}).catch(()=>{});if(!T)break;v=await Zn._fromGetAccountInfoResponse(t,T,_)}else v=Zn._fromJSON(t,_);m!==o&&(h=v),o=m;break}}catch{}const d=r.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Io(o,t,i):(o=d[0],h&&await o._set(u,h.toJSON()),await Promise.all(e.map(async m=>{if(m!==o)try{await m._remove(u)}catch{}})),new Io(o,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(aS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(iS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(lS(t))return"Blackberry";if(uS(t))return"Webos";if(sS(t))return"Safari";if((t.includes("chrome/")||rS(t))&&!t.includes("edge/"))return"Chrome";if(oS(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function iS(n=sn()){return/firefox\//i.test(n)}function sS(n=sn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function rS(n=sn()){return/crios\//i.test(n)}function aS(n=sn()){return/iemobile/i.test(n)}function oS(n=sn()){return/android/i.test(n)}function lS(n=sn()){return/blackberry/i.test(n)}function uS(n=sn()){return/webos/i.test(n)}function Tp(n=sn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function BI(n=sn()){var t;return Tp(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function jI(){return ex()&&document.documentMode===10}function cS(n=sn()){return Tp(n)||oS(n)||uS(n)||lS(n)||/windows phone/i.test(n)||aS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(n,t=[]){let e;switch(n){case"Browser":e=sb(sn());break;case"Worker":e=`${sb(sn())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${qo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((u,h)=>{try{const d=t(o);u(d)}catch(d){h(d)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FI(n,t={}){return Er(n,"GET","/v2/passwordPolicy",Ta(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=6;class GI{constructor(t){var e,i,r,o;const u=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=u.minPasswordLength)!==null&&e!==void 0?e:qI,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,r,o,u,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,d),this.validatePasswordCharacterOptions(t,d),d.isValid&&(d.isValid=(e=d.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),d.isValid&&(d.isValid=(i=d.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(r=d.containsLowercaseLetter)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rb(this),this.idTokenSubscription=new rb(this),this.beforeStateQueue=new HI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=hs(e)),this._initializationPromise=this.queue(async()=>{var i,r,o;if(!this._deleted&&(this.persistenceManager=await Io.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await ff(this,{idToken:t}),i=await Zn._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if($n(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,h=r?._redirectEventId,d=await this.tryRedirectSignIn(t);(!u||u===h)&&d?.user&&(r=d.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await df(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=AI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if($n(this.app))return Promise.reject(rr(this));const e=t?rn(t):null;return e&&bt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(rr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return $n(this.app)?Promise.reject(rr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await FI(this),e=new GI(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Qu("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await zI(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&hs(t)||this._popupRedirectResolver;bt(e,this,"argument-error"),this.redirectPersistenceManager=await Io.create(this,[hs(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,i;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof e=="function"){const d=t.addObserver(e,i,r);return()=>{u=!0,d()}}else{const d=t.addObserver(e);return()=>{u=!0,d()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=hS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e?.error&&EI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Go(n){return rn(n)}class rb{constructor(t){this.auth=t,this.observer=null,this.addObserver=ux(e=>this.observer=e)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function KI(n){Bf=n}function fS(n){return Bf.loadJS(n)}function QI(){return Bf.recaptchaEnterpriseScript}function XI(){return Bf.gapiScript}function WI(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class $I{constructor(){this.enterprise=new ZI}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class ZI{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const JI="recaptcha-enterprise",dS="NO_RECAPTCHA";class tC{constructor(t){this.type=JI,this.auth=Go(t)}async verify(t="verify",e=!1){async function i(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{OI(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new DI(d);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,u(m.siteKey)}}).catch(d=>{h(d)})})}function r(o,u,h){const d=window.grecaptcha;tb(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:t}).then(m=>{u(m)}).catch(()=>{u(dS)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new $I().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{i(this.auth).then(h=>{if(!e&&tb(window.grecaptcha))r(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=QI();d.length!==0&&(d+=h),fS(d).then(()=>{r(h,o,u)}).catch(m=>{u(m)})}}).catch(h=>{u(h)})})}}async function ab(n,t,e,i=!1,r=!1){const o=new tC(n);let u;if(r)u=dS;else try{u=await o.verify(e)}catch{u=await o.verify(e,!0)}const h=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function ob(n,t,e,i,r){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await ab(n,t,e,e==="getOobCode");return i(n,u)}else return i(n,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await ab(n,t,e,e==="getOobCode");return i(n,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(n,t){const e=_p(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),o=e.getOptions();if(pa(o,t??{}))return r;ni(r,"already-initialized")}return e.initialize({options:t})}function nC(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(hs);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function iC(n,t,e){const i=Go(n);bt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,o=gS(t),{host:u,port:h}=sC(t),d=h===null?"":`:${h}`,m={url:`${o}//${u}${d}/`},_=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){bt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),bt(pa(m,i.config.emulator)&&pa(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,Fo(u)?(jT(`${o}//${u}${d}`),HT("Auth",!0)):rC()}function gS(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function sC(n){const t=gS(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:lb(i.substr(o.length+1))}}else{const[o,u]=i.split(":");return{host:o,port:lb(u)}}}function lb(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function rC(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return cs("not implemented")}_getIdTokenResponse(t){return cs("not implemented")}_linkToIdToken(t,e){return cs("not implemented")}_getReauthenticationResolver(t){return cs("not implemented")}}async function aC(n,t){return Er(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oC(n,t){return zf(n,"POST","/v1/accounts:signInWithPassword",Ta(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lC(n,t){return zf(n,"POST","/v1/accounts:signInWithEmailLink",Ta(n,t))}async function uC(n,t){return zf(n,"POST","/v1/accounts:signInWithEmailLink",Ta(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu extends Sp{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new Vu(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new Vu(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ob(t,e,"signInWithPassword",oC);case"emailLink":return lC(t,{email:this._email,oobCode:this._password});default:ni(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ob(t,i,"signUpPassword",aC);case"emailLink":return uC(t,{idToken:e,email:this._email,oobCode:this._password});default:ni(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(n,t){return zf(n,"POST","/v1/accounts:signInWithIdp",Ta(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC="http://localhost";class ya extends Sp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new ya(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):ni("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=e,o=yp(e,["providerId","signInMethod"]);if(!i||!r)return null;const u=new ya(i,r);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(t){const e=this.buildRequest();return Co(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Co(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Co(t,e)}buildRequest(){const t={requestUri:cC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Xu(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function fC(n){const t=mu(pu(n)).link,e=t?mu(pu(t)).deep_link_id:null,i=mu(pu(n)).deep_link_id;return(i?mu(pu(i)).link:null)||i||e||t||n}class Ap{constructor(t){var e,i,r,o,u,h;const d=mu(pu(t)),m=(e=d.apiKey)!==null&&e!==void 0?e:null,_=(i=d.oobCode)!==null&&i!==void 0?i:null,v=hC((r=d.mode)!==null&&r!==void 0?r:null);bt(m&&_&&v,"argument-error"),this.apiKey=m,this.operation=v,this.code=_,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=d.lang)!==null&&u!==void 0?u:null,this.tenantId=(h=d.tenantId)!==null&&h!==void 0?h:null}static parseLink(t){const e=fC(t);try{return new Ap(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(){this.providerId=Yo.PROVIDER_ID}static credential(t,e){return Vu._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=Ap.parseLink(e);return bt(i,"argument-error"),Vu._fromEmailAndCode(t,i.code,i.tenantId)}}Yo.PROVIDER_ID="password";Yo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Yo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u extends mS{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends $u{constructor(){super("facebook.com")}static credential(t){return ya._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Qs.credentialFromTaggedObject(t)}static credentialFromError(t){return Qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Qs.credential(t.oauthAccessToken)}catch{return null}}}Qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs extends $u{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return ya._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Xs.credentialFromTaggedObject(t)}static credentialFromError(t){return Xs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return Xs.credential(e,i)}catch{return null}}}Xs.GOOGLE_SIGN_IN_METHOD="google.com";Xs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends $u{constructor(){super("github.com")}static credential(t){return ya._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ws.credentialFromTaggedObject(t)}static credentialFromError(t){return Ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ws.credential(t.oauthAccessToken)}catch{return null}}}Ws.GITHUB_SIGN_IN_METHOD="github.com";Ws.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends $u{constructor(){super("twitter.com")}static credential(t,e){return ya._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return $s.credentialFromTaggedObject(t)}static credentialFromError(t){return $s.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return $s.credential(e,i)}catch{return null}}}$s.TWITTER_SIGN_IN_METHOD="twitter.com";$s.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const o=await Zn._fromIdTokenResponse(t,i,r),u=ub(i);return new No({user:o,providerId:u,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=ub(i);return new No({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function ub(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf extends ps{constructor(t,e,i,r){var o;super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,gf.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new gf(t,e,i,r)}}function pS(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?gf._fromErrorAndOperation(n,o,t,i):o})}async function dC(n,t,e=!1){const i=await Pu(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return No._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gC(n,t,e=!1){const{auth:i}=n;if($n(i.app))return Promise.reject(rr(i));const r="reauthenticate";try{const o=await Pu(n,pS(i,r,t,n),e);bt(o.idToken,i,"internal-error");const u=Ep(o.idToken);bt(u,i,"internal-error");const{sub:h}=u;return bt(n.uid===h,i,"user-mismatch"),No._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&ni(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _S(n,t,e=!1){if($n(n.app))return Promise.reject(rr(n));const i="signIn",r=await pS(n,i,t),o=await No._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(o.user),o}async function mC(n,t){return _S(Go(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pC(n){const t=Go(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function _C(n,t,e){return $n(n.app)?Promise.reject(rr(n)):mC(rn(n),Yo.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&pC(n),i})}function yC(n,t,e,i){return rn(n).onIdTokenChanged(t,e,i)}function vC(n,t,e){return rn(n).beforeAuthStateChanged(t,e)}function bC(n,t,e,i){return rn(n).onAuthStateChanged(t,e,i)}function EC(n){return rn(n).signOut()}const mf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(mf,"1"),this.storage.removeItem(mf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=1e3,SC=10;class vS extends yS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const u=this.storage.getItem(i);!e&&this.localCache[i]===u||this.notifyListeners(i,u)},o=this.storage.getItem(i);jI()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,SC):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},TC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}vS.type="LOCAL";const AC=vS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS extends yS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}bS.type="SESSION";const ES=bS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new jf(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:o}=e.data,u=this.handlersMap[r];if(!u?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const h=Array.from(u).map(async m=>m(e.origin,o)),d=await wC(h);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:d})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,u;return new Promise((h,d)=>{const m=wp("",20);r.port1.start();const _=setTimeout(()=>{d(new Error("unsupported_event"))},i);u={messageChannel:r,onMessage(v){const T=v;if(T.data.eventId===m)switch(T.data.status){case"ack":clearTimeout(_),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(T.data.response);break;default:clearTimeout(_),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(u),r.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:t,eventId:m,data:e},[r.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(){return window}function xC(n){xi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(){return typeof xi().WorkerGlobalScope<"u"&&typeof xi().importScripts=="function"}async function IC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CC(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function DC(){return TS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS="firebaseLocalStorageDb",OC=1,pf="firebaseLocalStorage",AS="fbase_key";class Zu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Hf(n,t){return n.transaction([pf],t?"readwrite":"readonly").objectStore(pf)}function MC(){const n=indexedDB.deleteDatabase(SS);return new Zu(n).toPromise()}function qm(){const n=indexedDB.open(SS,OC);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(pf,{keyPath:AS})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(pf)?t(i):(i.close(),await MC(),t(await qm()))})})}async function cb(n,t,e){const i=Hf(n,!0).put({[AS]:t,value:e});return new Zu(i).toPromise()}async function kC(n,t){const e=Hf(n,!1).get(t),i=await new Zu(e).toPromise();return i===void 0?null:i.value}function hb(n,t){const e=Hf(n,!0).delete(t);return new Zu(e).toPromise()}const NC=800,PC=3;class wS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qm(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>PC)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jf._getInstance(DC()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await IC(),!this.activeServiceWorker)return;this.sender=new RC(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((e=i[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||CC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await qm();return await cb(t,mf,"1"),await hb(t,mf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>cb(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>kC(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>hb(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const o=Hf(r,!1).getAll();return new Zu(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:o}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wS.type="LOCAL";const VC=wS;new Wu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(n,t){return t?hs(t):(bt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp extends Sp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Co(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Co(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Co(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function UC(n){return _S(n.auth,new Rp(n),n.bypassAuthState)}function zC(n){const{auth:t,user:e}=n;return bt(e,t,"internal-error"),gC(e,new Rp(n),n.bypassAuthState)}async function BC(n){const{auth:t,user:e}=n;return bt(e,t,"internal-error"),dC(e,new Rp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(t,e,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:o,error:u,type:h}=t;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(m){this.reject(m)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return UC;case"linkViaPopup":case"linkViaRedirect":return BC;case"reauthViaPopup":case"reauthViaRedirect":return zC;default:ni(this.auth,"internal-error")}}resolve(t){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=new Wu(2e3,1e4);class wo extends RS{constructor(t,e,i,r,o){super(t,e,r,o),this.provider=i,this.authWindow=null,this.pollId=null,wo.currentPopupAction&&wo.currentPopupAction.cancel(),wo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return bt(t,this.auth,"internal-error"),t}async onExecution(){ds(this.filter.length===1,"Popup operations only handle one event");const t=wp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wo.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,i;if(!((i=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,jC.get())};t()}}wo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC="pendingRedirect",$h=new Map;class FC extends RS{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=$h.get(this.auth._key());if(!t){try{const i=await qC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}$h.set(this.auth._key(),t)}return this.bypassAuthState||$h.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qC(n,t){const e=KC(t),i=YC(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function GC(n,t){$h.set(n._key(),t)}function YC(n){return hs(n._redirectPersistence)}function KC(n){return Wh(HC,n.config.apiKey,n.name)}async function QC(n,t,e=!1){if($n(n.app))return Promise.reject(rr(n));const i=Go(n),r=LC(i,t),u=await new FC(i,r,e).execute();return u&&!e&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,t)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=10*60*1e3;class WC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!$C(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!xS(t)){const r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";e.onError(Ri(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=XC&&this.cachedEventUids.clear(),this.cachedEventUids.has(fb(t))}saveEventToCache(t){this.cachedEventUids.add(fb(t)),this.lastProcessedEventTime=Date.now()}}function fb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function xS({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function $C(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZC(n,t={}){return Er(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,t2=/^https?/;async function e2(n){if(n.config.emulator)return;const{authorizedDomains:t}=await ZC(n);for(const e of t)try{if(n2(e))return}catch{}ni(n,"unauthorized-domain")}function n2(n){const t=Hm(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&u.hostname===i}if(!t2.test(e))return!1;if(JC.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=new Wu(3e4,6e4);function db(){const n=xi().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function s2(n){return new Promise((t,e)=>{var i,r,o;function u(){db(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{db(),e(Ri(n,"network-request-failed"))},timeout:i2.get()})}if(!((r=(i=xi().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((o=xi().gapi)===null||o===void 0)&&o.load)u();else{const h=WI("iframefcb");return xi()[h]=()=>{gapi.load?u():e(Ri(n,"network-request-failed"))},fS(`${XI()}?onload=${h}`).catch(d=>e(d))}}).catch(t=>{throw Zh=null,t})}let Zh=null;function r2(n){return Zh=Zh||s2(n),Zh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2=new Wu(5e3,15e3),o2="__/auth/iframe",l2="emulator/auth/iframe",u2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},c2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function h2(n){const t=n.config;bt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?bp(t,l2):`https://${n.config.authDomain}/${o2}`,i={apiKey:t.apiKey,appName:n.name,v:qo},r=c2.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${Xu(i).slice(1)}`}async function f2(n){const t=await r2(n),e=xi().gapi;return bt(e,n,"internal-error"),t.open({where:document.body,url:h2(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:u2,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const u=Ri(n,"network-request-failed"),h=xi().setTimeout(()=>{o(u)},a2.get());function d(){xi().clearTimeout(h),r(i)}i.ping(d).then(d,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},g2=500,m2=600,p2="_blank",_2="http://localhost";class gb{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function y2(n,t,e,i=g2,r=m2){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const d=Object.assign(Object.assign({},d2),{width:i.toString(),height:r.toString(),top:o,left:u}),m=sn().toLowerCase();e&&(h=rS(m)?p2:e),iS(m)&&(t=t||_2,d.scrollbars="yes");const _=Object.entries(d).reduce((T,[A,I])=>`${T}${A}=${I},`,"");if(BI(m)&&h!=="_self")return v2(t||"",h),new gb(null);const v=window.open(t||"",h,_);bt(v,n,"popup-blocked");try{v.focus()}catch{}return new gb(v)}function v2(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2="__/auth/handler",E2="emulator/auth/handler",T2=encodeURIComponent("fac");async function mb(n,t,e,i,r,o){bt(n.config.authDomain,n,"auth-domain-config-required"),bt(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:qo,eventId:r};if(t instanceof mS){t.setDefaultLanguage(n.languageCode),u.providerId=t.providerId||"",lx(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(const[_,v]of Object.entries({}))u[_]=v}if(t instanceof $u){const _=t.getScopes().filter(v=>v!=="");_.length>0&&(u.scopes=_.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const d=await n._getAppCheckToken(),m=d?`#${T2}=${encodeURIComponent(d)}`:"";return`${S2(n)}?${Xu(h).slice(1)}${m}`}function S2({config:n}){return n.emulator?bp(n,E2):`https://${n.authDomain}/${b2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm="webStorageSupport";class A2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ES,this._completeRedirectFn=QC,this._overrideRedirectResult=GC}async _openPopup(t,e,i,r){var o;ds((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await mb(t,e,i,Hm(),r);return y2(t,u,wp())}async _openRedirect(t,e,i,r){await this._originValidation(t);const o=await mb(t,e,i,Hm(),r);return xC(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(ds(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await f2(t),i=new WC(t);return e.register("authEvent",r=>(bt(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(bm,{type:bm},r=>{var o;const u=(o=r?.[0])===null||o===void 0?void 0:o[bm];u!==void 0&&e(!!u),ni(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=e2(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return cS()||sS()||Tp()}}const w2=A2;var pb="@firebase/auth",_b="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function I2(n){ko(new _a("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;bt(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hS(n)},m=new YI(i,r,o,d);return nC(m,e),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),ko(new _a("auth-internal",t=>{const e=Go(t.getProvider("auth").getImmediate());return(i=>new R2(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),sr(pb,_b,x2(n)),sr(pb,_b,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=5*60,D2=BT("authIdTokenMaxAge")||C2;let yb=null;const O2=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>D2)return;const r=e?.token;yb!==r&&(yb=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function M2(n=YT()){const t=_p(n,"auth");if(t.isInitialized())return t.getImmediate();const e=eC(n,{popupRedirectResolver:w2,persistence:[VC,AC,ES]}),i=BT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const u=O2(o.toString());vC(e,u,()=>u(e.currentUser)),yC(e,h=>u(h))}}const r=UT("auth");return r&&iC(e,`http://${r}`),e}function k2(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}KI({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const o=Ri("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",k2().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});I2("Browser");var N2="firebase",P2="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sr(N2,P2,"app");var vb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ar,IS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,R){function x(){}x.prototype=R.prototype,O.D=R.prototype,O.prototype=new x,O.prototype.constructor=O,O.C=function(N,P,L){for(var C=Array(arguments.length-2),Wt=2;Wt<arguments.length;Wt++)C[Wt-2]=arguments[Wt];return R.prototype[P].apply(N,C)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(O,R,x){x||(x=0);var N=Array(16);if(typeof R=="string")for(var P=0;16>P;++P)N[P]=R.charCodeAt(x++)|R.charCodeAt(x++)<<8|R.charCodeAt(x++)<<16|R.charCodeAt(x++)<<24;else for(P=0;16>P;++P)N[P]=R[x++]|R[x++]<<8|R[x++]<<16|R[x++]<<24;R=O.g[0],x=O.g[1],P=O.g[2];var L=O.g[3],C=R+(L^x&(P^L))+N[0]+3614090360&4294967295;R=x+(C<<7&4294967295|C>>>25),C=L+(P^R&(x^P))+N[1]+3905402710&4294967295,L=R+(C<<12&4294967295|C>>>20),C=P+(x^L&(R^x))+N[2]+606105819&4294967295,P=L+(C<<17&4294967295|C>>>15),C=x+(R^P&(L^R))+N[3]+3250441966&4294967295,x=P+(C<<22&4294967295|C>>>10),C=R+(L^x&(P^L))+N[4]+4118548399&4294967295,R=x+(C<<7&4294967295|C>>>25),C=L+(P^R&(x^P))+N[5]+1200080426&4294967295,L=R+(C<<12&4294967295|C>>>20),C=P+(x^L&(R^x))+N[6]+2821735955&4294967295,P=L+(C<<17&4294967295|C>>>15),C=x+(R^P&(L^R))+N[7]+4249261313&4294967295,x=P+(C<<22&4294967295|C>>>10),C=R+(L^x&(P^L))+N[8]+1770035416&4294967295,R=x+(C<<7&4294967295|C>>>25),C=L+(P^R&(x^P))+N[9]+2336552879&4294967295,L=R+(C<<12&4294967295|C>>>20),C=P+(x^L&(R^x))+N[10]+4294925233&4294967295,P=L+(C<<17&4294967295|C>>>15),C=x+(R^P&(L^R))+N[11]+2304563134&4294967295,x=P+(C<<22&4294967295|C>>>10),C=R+(L^x&(P^L))+N[12]+1804603682&4294967295,R=x+(C<<7&4294967295|C>>>25),C=L+(P^R&(x^P))+N[13]+4254626195&4294967295,L=R+(C<<12&4294967295|C>>>20),C=P+(x^L&(R^x))+N[14]+2792965006&4294967295,P=L+(C<<17&4294967295|C>>>15),C=x+(R^P&(L^R))+N[15]+1236535329&4294967295,x=P+(C<<22&4294967295|C>>>10),C=R+(P^L&(x^P))+N[1]+4129170786&4294967295,R=x+(C<<5&4294967295|C>>>27),C=L+(x^P&(R^x))+N[6]+3225465664&4294967295,L=R+(C<<9&4294967295|C>>>23),C=P+(R^x&(L^R))+N[11]+643717713&4294967295,P=L+(C<<14&4294967295|C>>>18),C=x+(L^R&(P^L))+N[0]+3921069994&4294967295,x=P+(C<<20&4294967295|C>>>12),C=R+(P^L&(x^P))+N[5]+3593408605&4294967295,R=x+(C<<5&4294967295|C>>>27),C=L+(x^P&(R^x))+N[10]+38016083&4294967295,L=R+(C<<9&4294967295|C>>>23),C=P+(R^x&(L^R))+N[15]+3634488961&4294967295,P=L+(C<<14&4294967295|C>>>18),C=x+(L^R&(P^L))+N[4]+3889429448&4294967295,x=P+(C<<20&4294967295|C>>>12),C=R+(P^L&(x^P))+N[9]+568446438&4294967295,R=x+(C<<5&4294967295|C>>>27),C=L+(x^P&(R^x))+N[14]+3275163606&4294967295,L=R+(C<<9&4294967295|C>>>23),C=P+(R^x&(L^R))+N[3]+4107603335&4294967295,P=L+(C<<14&4294967295|C>>>18),C=x+(L^R&(P^L))+N[8]+1163531501&4294967295,x=P+(C<<20&4294967295|C>>>12),C=R+(P^L&(x^P))+N[13]+2850285829&4294967295,R=x+(C<<5&4294967295|C>>>27),C=L+(x^P&(R^x))+N[2]+4243563512&4294967295,L=R+(C<<9&4294967295|C>>>23),C=P+(R^x&(L^R))+N[7]+1735328473&4294967295,P=L+(C<<14&4294967295|C>>>18),C=x+(L^R&(P^L))+N[12]+2368359562&4294967295,x=P+(C<<20&4294967295|C>>>12),C=R+(x^P^L)+N[5]+4294588738&4294967295,R=x+(C<<4&4294967295|C>>>28),C=L+(R^x^P)+N[8]+2272392833&4294967295,L=R+(C<<11&4294967295|C>>>21),C=P+(L^R^x)+N[11]+1839030562&4294967295,P=L+(C<<16&4294967295|C>>>16),C=x+(P^L^R)+N[14]+4259657740&4294967295,x=P+(C<<23&4294967295|C>>>9),C=R+(x^P^L)+N[1]+2763975236&4294967295,R=x+(C<<4&4294967295|C>>>28),C=L+(R^x^P)+N[4]+1272893353&4294967295,L=R+(C<<11&4294967295|C>>>21),C=P+(L^R^x)+N[7]+4139469664&4294967295,P=L+(C<<16&4294967295|C>>>16),C=x+(P^L^R)+N[10]+3200236656&4294967295,x=P+(C<<23&4294967295|C>>>9),C=R+(x^P^L)+N[13]+681279174&4294967295,R=x+(C<<4&4294967295|C>>>28),C=L+(R^x^P)+N[0]+3936430074&4294967295,L=R+(C<<11&4294967295|C>>>21),C=P+(L^R^x)+N[3]+3572445317&4294967295,P=L+(C<<16&4294967295|C>>>16),C=x+(P^L^R)+N[6]+76029189&4294967295,x=P+(C<<23&4294967295|C>>>9),C=R+(x^P^L)+N[9]+3654602809&4294967295,R=x+(C<<4&4294967295|C>>>28),C=L+(R^x^P)+N[12]+3873151461&4294967295,L=R+(C<<11&4294967295|C>>>21),C=P+(L^R^x)+N[15]+530742520&4294967295,P=L+(C<<16&4294967295|C>>>16),C=x+(P^L^R)+N[2]+3299628645&4294967295,x=P+(C<<23&4294967295|C>>>9),C=R+(P^(x|~L))+N[0]+4096336452&4294967295,R=x+(C<<6&4294967295|C>>>26),C=L+(x^(R|~P))+N[7]+1126891415&4294967295,L=R+(C<<10&4294967295|C>>>22),C=P+(R^(L|~x))+N[14]+2878612391&4294967295,P=L+(C<<15&4294967295|C>>>17),C=x+(L^(P|~R))+N[5]+4237533241&4294967295,x=P+(C<<21&4294967295|C>>>11),C=R+(P^(x|~L))+N[12]+1700485571&4294967295,R=x+(C<<6&4294967295|C>>>26),C=L+(x^(R|~P))+N[3]+2399980690&4294967295,L=R+(C<<10&4294967295|C>>>22),C=P+(R^(L|~x))+N[10]+4293915773&4294967295,P=L+(C<<15&4294967295|C>>>17),C=x+(L^(P|~R))+N[1]+2240044497&4294967295,x=P+(C<<21&4294967295|C>>>11),C=R+(P^(x|~L))+N[8]+1873313359&4294967295,R=x+(C<<6&4294967295|C>>>26),C=L+(x^(R|~P))+N[15]+4264355552&4294967295,L=R+(C<<10&4294967295|C>>>22),C=P+(R^(L|~x))+N[6]+2734768916&4294967295,P=L+(C<<15&4294967295|C>>>17),C=x+(L^(P|~R))+N[13]+1309151649&4294967295,x=P+(C<<21&4294967295|C>>>11),C=R+(P^(x|~L))+N[4]+4149444226&4294967295,R=x+(C<<6&4294967295|C>>>26),C=L+(x^(R|~P))+N[11]+3174756917&4294967295,L=R+(C<<10&4294967295|C>>>22),C=P+(R^(L|~x))+N[2]+718787259&4294967295,P=L+(C<<15&4294967295|C>>>17),C=x+(L^(P|~R))+N[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(P+(C<<21&4294967295|C>>>11))&4294967295,O.g[2]=O.g[2]+P&4294967295,O.g[3]=O.g[3]+L&4294967295}i.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var x=R-this.blockSize,N=this.B,P=this.h,L=0;L<R;){if(P==0)for(;L<=x;)r(this,O,L),L+=this.blockSize;if(typeof O=="string"){for(;L<R;)if(N[P++]=O.charCodeAt(L++),P==this.blockSize){r(this,N),P=0;break}}else for(;L<R;)if(N[P++]=O[L++],P==this.blockSize){r(this,N),P=0;break}}this.h=P,this.o+=R},i.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var x=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=x&255,x/=256;for(this.u(O),O=Array(16),R=x=0;4>R;++R)for(var N=0;32>N;N+=8)O[x++]=this.g[R]>>>N&255;return O};function o(O,R){var x=h;return Object.prototype.hasOwnProperty.call(x,O)?x[O]:x[O]=R(O)}function u(O,R){this.h=R;for(var x=[],N=!0,P=O.length-1;0<=P;P--){var L=O[P]|0;N&&L==R||(x[P]=L,N=!1)}this.g=x}var h={};function d(O){return-128<=O&&128>O?o(O,function(R){return new u([R|0],0>R?-1:0)}):new u([O|0],0>O?-1:0)}function m(O){if(isNaN(O)||!isFinite(O))return v;if(0>O)return M(m(-O));for(var R=[],x=1,N=0;O>=x;N++)R[N]=O/x|0,x*=4294967296;return new u(R,0)}function _(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return M(_(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=m(Math.pow(R,8)),N=v,P=0;P<O.length;P+=8){var L=Math.min(8,O.length-P),C=parseInt(O.substring(P,P+L),R);8>L?(L=m(Math.pow(R,L)),N=N.j(L).add(m(C))):(N=N.j(x),N=N.add(m(C)))}return N}var v=d(0),T=d(1),A=d(16777216);n=u.prototype,n.m=function(){if(k(this))return-M(this).m();for(var O=0,R=1,x=0;x<this.g.length;x++){var N=this.i(x);O+=(0<=N?N:4294967296+N)*R,R*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(I(this))return"0";if(k(this))return"-"+M(this).toString(O);for(var R=m(Math.pow(O,6)),x=this,N="";;){var P=rt(x,R).g;x=H(x,P.j(R));var L=((0<x.g.length?x.g[0]:x.h)>>>0).toString(O);if(x=P,I(x))return L+N;for(;6>L.length;)L="0"+L;N=L+N}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function I(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function k(O){return O.h==-1}n.l=function(O){return O=H(this,O),k(O)?-1:I(O)?0:1};function M(O){for(var R=O.g.length,x=[],N=0;N<R;N++)x[N]=~O.g[N];return new u(x,~O.h).add(T)}n.abs=function(){return k(this)?M(this):this},n.add=function(O){for(var R=Math.max(this.g.length,O.g.length),x=[],N=0,P=0;P<=R;P++){var L=N+(this.i(P)&65535)+(O.i(P)&65535),C=(L>>>16)+(this.i(P)>>>16)+(O.i(P)>>>16);N=C>>>16,L&=65535,C&=65535,x[P]=C<<16|L}return new u(x,x[x.length-1]&-2147483648?-1:0)};function H(O,R){return O.add(M(R))}n.j=function(O){if(I(this)||I(O))return v;if(k(this))return k(O)?M(this).j(M(O)):M(M(this).j(O));if(k(O))return M(this.j(M(O)));if(0>this.l(A)&&0>O.l(A))return m(this.m()*O.m());for(var R=this.g.length+O.g.length,x=[],N=0;N<2*R;N++)x[N]=0;for(N=0;N<this.g.length;N++)for(var P=0;P<O.g.length;P++){var L=this.i(N)>>>16,C=this.i(N)&65535,Wt=O.i(P)>>>16,At=O.i(P)&65535;x[2*N+2*P]+=C*At,Q(x,2*N+2*P),x[2*N+2*P+1]+=L*At,Q(x,2*N+2*P+1),x[2*N+2*P+1]+=C*Wt,Q(x,2*N+2*P+1),x[2*N+2*P+2]+=L*Wt,Q(x,2*N+2*P+2)}for(N=0;N<R;N++)x[N]=x[2*N+1]<<16|x[2*N];for(N=R;N<2*R;N++)x[N]=0;return new u(x,0)};function Q(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function tt(O,R){this.g=O,this.h=R}function rt(O,R){if(I(R))throw Error("division by zero");if(I(O))return new tt(v,v);if(k(O))return R=rt(M(O),R),new tt(M(R.g),M(R.h));if(k(R))return R=rt(O,M(R)),new tt(M(R.g),R.h);if(30<O.g.length){if(k(O)||k(R))throw Error("slowDivide_ only works with positive integers.");for(var x=T,N=R;0>=N.l(O);)x=nt(x),N=nt(N);var P=lt(x,1),L=lt(N,1);for(N=lt(N,2),x=lt(x,2);!I(N);){var C=L.add(N);0>=C.l(O)&&(P=P.add(x),L=C),N=lt(N,1),x=lt(x,1)}return R=H(O,P.j(R)),new tt(P,R)}for(P=v;0<=O.l(R);){for(x=Math.max(1,Math.floor(O.m()/R.m())),N=Math.ceil(Math.log(x)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),L=m(x),C=L.j(R);k(C)||0<C.l(O);)x-=N,L=m(x),C=L.j(R);I(L)&&(L=T),P=P.add(L),O=H(O,C)}return new tt(P,O)}n.A=function(O){return rt(this,O).h},n.and=function(O){for(var R=Math.max(this.g.length,O.g.length),x=[],N=0;N<R;N++)x[N]=this.i(N)&O.i(N);return new u(x,this.h&O.h)},n.or=function(O){for(var R=Math.max(this.g.length,O.g.length),x=[],N=0;N<R;N++)x[N]=this.i(N)|O.i(N);return new u(x,this.h|O.h)},n.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),x=[],N=0;N<R;N++)x[N]=this.i(N)^O.i(N);return new u(x,this.h^O.h)};function nt(O){for(var R=O.g.length+1,x=[],N=0;N<R;N++)x[N]=O.i(N)<<1|O.i(N-1)>>>31;return new u(x,O.h)}function lt(O,R){var x=R>>5;R%=32;for(var N=O.g.length-x,P=[],L=0;L<N;L++)P[L]=0<R?O.i(L+x)>>>R|O.i(L+x+1)<<32-R:O.i(L+x);return new u(P,O.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,IS=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=_,ar=u}).apply(typeof vb<"u"?vb:typeof self<"u"?self:typeof window<"u"?window:{});var Oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var CS,_u,DS,Jh,Gm,OS,MS,kS;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,y,b){return f==Array.prototype||f==Object.prototype||(f[y]=b.value),f};function e(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Oh=="object"&&Oh];for(var y=0;y<f.length;++y){var b=f[y];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=e(this);function r(f,y){if(y)t:{var b=i;f=f.split(".");for(var w=0;w<f.length-1;w++){var B=f[w];if(!(B in b))break t;b=b[B]}f=f[f.length-1],w=b[f],y=y(w),y!=w&&y!=null&&t(b,f,{configurable:!0,writable:!0,value:y})}}function o(f,y){f instanceof String&&(f+="");var b=0,w=!1,B={next:function(){if(!w&&b<f.length){var K=b++;return{value:y(K,f[K]),done:!1}}return w=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}r("Array.prototype.values",function(f){return f||function(){return o(this,function(y,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function d(f){var y=typeof f;return y=y!="object"?y:f?Array.isArray(f)?"array":y:"null",y=="array"||y=="object"&&typeof f.length=="number"}function m(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function _(f,y,b){return f.call.apply(f.bind,arguments)}function v(f,y,b){if(!f)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,w),f.apply(y,B)}}return function(){return f.apply(y,arguments)}}function T(f,y,b){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:v,T.apply(null,arguments)}function A(f,y){var b=Array.prototype.slice.call(arguments,1);return function(){var w=b.slice();return w.push.apply(w,arguments),f.apply(this,w)}}function I(f,y){function b(){}b.prototype=y.prototype,f.aa=y.prototype,f.prototype=new b,f.prototype.constructor=f,f.Qb=function(w,B,K){for(var at=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)at[Vt-2]=arguments[Vt];return y.prototype[B].apply(w,at)}}function k(f){const y=f.length;if(0<y){const b=Array(y);for(let w=0;w<y;w++)b[w]=f[w];return b}return[]}function M(f,y){for(let b=1;b<arguments.length;b++){const w=arguments[b];if(d(w)){const B=f.length||0,K=w.length||0;f.length=B+K;for(let at=0;at<K;at++)f[B+at]=w[at]}else f.push(w)}}class H{constructor(y,b){this.i=y,this.j=b,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Q(f){return/^[\s\xa0]*$/.test(f)}function tt(){var f=h.navigator;return f&&(f=f.userAgent)?f:""}function rt(f){return rt[" "](f),f}rt[" "]=function(){};var nt=tt().indexOf("Gecko")!=-1&&!(tt().toLowerCase().indexOf("webkit")!=-1&&tt().indexOf("Edge")==-1)&&!(tt().indexOf("Trident")!=-1||tt().indexOf("MSIE")!=-1)&&tt().indexOf("Edge")==-1;function lt(f,y,b){for(const w in f)y.call(b,f[w],w,f)}function O(f,y){for(const b in f)y.call(void 0,f[b],b,f)}function R(f){const y={};for(const b in f)y[b]=f[b];return y}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(f,y){let b,w;for(let B=1;B<arguments.length;B++){w=arguments[B];for(b in w)f[b]=w[b];for(let K=0;K<x.length;K++)b=x[K],Object.prototype.hasOwnProperty.call(w,b)&&(f[b]=w[b])}}function P(f){var y=1;f=f.split(":");const b=[];for(;0<y&&f.length;)b.push(f.shift()),y--;return f.length&&b.push(f.join(":")),b}function L(f){h.setTimeout(()=>{throw f},0)}function C(){var f=kt;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class Wt{constructor(){this.h=this.g=null}add(y,b){const w=At.get();w.set(y,b),this.h?this.h.next=w:this.g=w,this.h=w}}var At=new H(()=>new Y,f=>f.reset());class Y{constructor(){this.next=this.g=this.h=null}set(y,b){this.h=y,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let st,gt=!1,kt=new Wt,V=()=>{const f=h.Promise.resolve(void 0);st=()=>{f.then(et)}};var et=()=>{for(var f;f=C();){try{f.h.call(f.g)}catch(b){L(b)}var y=At;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}gt=!1};function ot(){this.s=this.s,this.C=this.C}ot.prototype.s=!1,ot.prototype.ma=function(){this.s||(this.s=!0,this.N())},ot.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function it(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var dt=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const b=()=>{};h.addEventListener("test",b,y),h.removeEventListener("test",b,y)}catch{}return f}();function wt(f,y){if(it.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var b=this.type=f.type,w=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(nt){t:{try{rt(y.nodeName);var B=!0;break t}catch{}B=!1}B||(y=null)}}else b=="mouseover"?y=f.fromElement:b=="mouseout"&&(y=f.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:_t[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&wt.aa.h.call(this)}}I(wt,it);var _t={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Pe="closure_listenable_"+(1e6*Math.random()|0),ie=0;function ri(f,y,b,w,B){this.listener=f,this.proxy=null,this.src=y,this.type=b,this.capture=!!w,this.ha=B,this.key=++ie,this.da=this.fa=!1}function ys(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Ni(f){this.src=f,this.g={},this.h=0}Ni.prototype.add=function(f,y,b,w,B){var K=f.toString();f=this.g[K],f||(f=this.g[K]=[],this.h++);var at=Sr(f,y,w,B);return-1<at?(y=f[at],b||(y.fa=!1)):(y=new ri(y,this.src,K,!!w,B),y.fa=b,f.push(y)),y};function Tr(f,y){var b=y.type;if(b in f.g){var w=f.g[b],B=Array.prototype.indexOf.call(w,y,void 0),K;(K=0<=B)&&Array.prototype.splice.call(w,B,1),K&&(ys(y),f.g[b].length==0&&(delete f.g[b],f.h--))}}function Sr(f,y,b,w){for(var B=0;B<f.length;++B){var K=f[B];if(!K.da&&K.listener==y&&K.capture==!!b&&K.ha==w)return B}return-1}var Ar="closure_lm_"+(1e6*Math.random()|0),tl={};function ac(f,y,b,w,B){if(Array.isArray(y)){for(var K=0;K<y.length;K++)ac(f,y[K],b,w,B);return null}return b=oc(b),f&&f[Pe]?f.K(y,b,m(w)?!!w.capture:!1,B):In(f,y,b,!1,w,B)}function In(f,y,b,w,B,K){if(!y)throw Error("Invalid event type");var at=m(B)?!!B.capture:!!B,Vt=Ia(f);if(Vt||(f[Ar]=Vt=new Ni(f)),b=Vt.add(y,b,w,at,K),b.proxy)return b;if(w=ld(),b.proxy=w,w.src=f,w.listener=b,f.addEventListener)dt||(B=at),B===void 0&&(B=!1),f.addEventListener(y.toString(),w,B);else if(f.attachEvent)f.attachEvent(wr(y.toString()),w);else if(f.addListener&&f.removeListener)f.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return b}function ld(){function f(b){return y.call(f.src,f.listener,b)}const y=ud;return f}function el(f,y,b,w,B){if(Array.isArray(y))for(var K=0;K<y.length;K++)el(f,y[K],b,w,B);else w=m(w)?!!w.capture:!!w,b=oc(b),f&&f[Pe]?(f=f.i,y=String(y).toString(),y in f.g&&(K=f.g[y],b=Sr(K,b,w,B),-1<b&&(ys(K[b]),Array.prototype.splice.call(K,b,1),K.length==0&&(delete f.g[y],f.h--)))):f&&(f=Ia(f))&&(y=f.g[y.toString()],f=-1,y&&(f=Sr(y,b,w,B)),(b=-1<f?y[f]:null)&&xa(b))}function xa(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[Pe])Tr(y.i,f);else{var b=f.type,w=f.proxy;y.removeEventListener?y.removeEventListener(b,w,f.capture):y.detachEvent?y.detachEvent(wr(b),w):y.addListener&&y.removeListener&&y.removeListener(w),(b=Ia(y))?(Tr(b,f),b.h==0&&(b.src=null,y[Ar]=null)):ys(f)}}}function wr(f){return f in tl?tl[f]:tl[f]="on"+f}function ud(f,y){if(f.da)f=!0;else{y=new wt(y,this);var b=f.listener,w=f.ha||f.src;f.fa&&xa(f),f=b.call(w,y)}return f}function Ia(f){return f=f[Ar],f instanceof Ni?f:null}var nl="__closure_events_fn_"+(1e9*Math.random()>>>0);function oc(f){return typeof f=="function"?f:(f[nl]||(f[nl]=function(y){return f.handleEvent(y)}),f[nl])}function fe(){ot.call(this),this.i=new Ni(this),this.M=this,this.F=null}I(fe,ot),fe.prototype[Pe]=!0,fe.prototype.removeEventListener=function(f,y,b,w){el(this,f,y,b,w)};function Yt(f,y){var b,w=f.F;if(w)for(b=[];w;w=w.F)b.push(w);if(f=f.M,w=y.type||y,typeof y=="string")y=new it(y,f);else if(y instanceof it)y.target=y.target||f;else{var B=y;y=new it(w,f),N(y,B)}if(B=!0,b)for(var K=b.length-1;0<=K;K--){var at=y.g=b[K];B=yn(at,w,!0,y)&&B}if(at=y.g=f,B=yn(at,w,!0,y)&&B,B=yn(at,w,!1,y)&&B,b)for(K=0;K<b.length;K++)at=y.g=b[K],B=yn(at,w,!1,y)&&B}fe.prototype.N=function(){if(fe.aa.N.call(this),this.i){var f=this.i,y;for(y in f.g){for(var b=f.g[y],w=0;w<b.length;w++)ys(b[w]);delete f.g[y],f.h--}}this.F=null},fe.prototype.K=function(f,y,b,w){return this.i.add(String(f),y,!1,b,w)},fe.prototype.L=function(f,y,b,w){return this.i.add(String(f),y,!0,b,w)};function yn(f,y,b,w){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,K=0;K<y.length;++K){var at=y[K];if(at&&!at.da&&at.capture==b){var Vt=at.listener,Ce=at.ha||at.src;at.fa&&Tr(f.i,at),B=Vt.call(Ce,w)!==!1&&B}}return B&&!w.defaultPrevented}function $e(f,y,b){if(typeof f=="function")b&&(f=T(f,b));else if(f&&typeof f.handleEvent=="function")f=T(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:h.setTimeout(f,y||0)}function lc(f){f.g=$e(()=>{f.g=null,f.i&&(f.i=!1,lc(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class cd extends ot{constructor(y,b){super(),this.m=y,this.l=b,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:lc(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rr(f){ot.call(this),this.h=f,this.g={}}I(Rr,ot);var xr=[];function Ir(f){lt(f.g,function(y,b){this.g.hasOwnProperty(b)&&xa(y)},f),f.g={}}Rr.prototype.N=function(){Rr.aa.N.call(this),Ir(this)},Rr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gn=h.JSON.stringify,Ca=h.JSON.parse,Cr=class{stringify(f){return h.JSON.stringify(f,void 0)}parse(f){return h.JSON.parse(f,void 0)}};function il(){}il.prototype.h=null;function sl(f){return f.h||(f.h=f.i())}function rl(){}var Pi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vi(){it.call(this,"d")}I(Vi,it);function al(){it.call(this,"c")}I(al,it);var ai={},ol=null;function vs(){return ol=ol||new fe}ai.La="serverreachability";function Da(f){it.call(this,ai.La,f)}I(Da,it);function bs(f){const y=vs();Yt(y,new Da(y))}ai.STAT_EVENT="statevent";function uc(f,y){it.call(this,ai.STAT_EVENT,f),this.stat=y}I(uc,it);function le(f){const y=vs();Yt(y,new uc(y,f))}ai.Ma="timingevent";function Ie(f,y){it.call(this,ai.Ma,f),this.size=y}I(Ie,it);function Ee(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){f()},y)}function Cn(){this.g=!0}Cn.prototype.xa=function(){this.g=!1};function ll(f,y,b,w,B,K){f.info(function(){if(f.g)if(K)for(var at="",Vt=K.split("&"),Ce=0;Ce<Vt.length;Ce++){var Lt=Vt[Ce].split("=");if(1<Lt.length){var Le=Lt[0];Lt=Lt[1];var De=Le.split("_");at=2<=De.length&&De[1]=="type"?at+(Le+"="+Lt+"&"):at+(Le+"=redacted&")}}else at=null;else at=K;return"XMLHTTP REQ ("+w+") [attempt "+B+"]: "+y+`
`+b+`
`+at})}function hd(f,y,b,w,B,K,at){f.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+B+"]: "+y+`
`+b+`
`+K+" "+at})}function Es(f,y,b,w){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+Dr(f,b)+(w?" "+w:"")})}function cc(f,y){f.info(function(){return"TIMEOUT: "+y})}Cn.prototype.info=function(){};function Dr(f,y){if(!f.g)return y;if(!y)return null;try{var b=JSON.parse(y);if(b){for(f=0;f<b.length;f++)if(Array.isArray(b[f])){var w=b[f];if(!(2>w.length)){var B=w[1];if(Array.isArray(B)&&!(1>B.length)){var K=B[0];if(K!="noop"&&K!="stop"&&K!="close")for(var at=1;at<B.length;at++)B[at]=""}}}}return Gn(b)}catch{return y}}var Ts={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Li={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},oi;function li(){}I(li,il),li.prototype.g=function(){return new XMLHttpRequest},li.prototype.i=function(){return{}},oi=new li;function an(f,y,b,w){this.j=f,this.i=y,this.l=b,this.R=w||1,this.U=new Rr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pe}function pe(){this.i=null,this.g="",this.h=!1}var ul={},Oa={};function Yn(f,y,b){f.L=1,f.v=Pr(vn(y)),f.m=b,f.P=!0,Ui(f,null)}function Ui(f,y){f.F=Date.now(),Or(f),f.A=vn(f.v);var b=f.A,w=f.R;Array.isArray(w)||(w=[String(w)]),ml(b.i,"t",w),f.C=0,b=f.j.J,f.h=new pe,f.g=Rc(f.j,b?y:null,!f.m),0<f.O&&(f.M=new cd(T(f.Y,f,f.g),f.O)),y=f.U,b=f.g,w=f.ca;var B="readystatechange";Array.isArray(B)||(B&&(xr[0]=B.toString()),B=xr);for(var K=0;K<B.length;K++){var at=ac(b,B[K],w||y.handleEvent,!1,y.h||y);if(!at)break;y.g[at.key]=at}y=f.H?R(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),bs(),ll(f.i,f.u,f.A,f.l,f.R,f.m)}an.prototype.ca=function(f){f=f.target;const y=this.M;y&&kn(f)==3?y.j():this.Y(f)},an.prototype.Y=function(f){try{if(f==this.g)t:{const De=kn(this.g);var y=this.g.Ba();const Yi=this.g.Z();if(!(3>De)&&(De!=3||this.g&&(this.h.h||this.g.oa()||yc(this.g)))){this.J||De!=4||y==7||(y==8||0>=Yi?bs(3):bs(2)),Ss(this);var b=this.g.Z();this.X=b;e:if(hc(this)){var w=yc(this.g);f="";var B=w.length,K=kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fe(this),ui(this);var at="";break e}this.h.i=new h.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,f+=this.h.i.decode(w[y],{stream:!(K&&y==B-1)});w.length=0,this.h.g+=f,this.C=0,at=this.h.g}else at=this.g.oa();if(this.o=b==200,hd(this.i,this.u,this.A,this.l,this.R,De,b),this.o){if(this.T&&!this.K){e:{if(this.g){var Vt,Ce=this.g;if((Vt=Ce.g?Ce.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(Vt)){var Lt=Vt;break e}}Lt=null}if(b=Lt)Es(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mr(this,b);else{this.o=!1,this.s=3,le(12),Fe(this),ui(this);break t}}if(this.P){b=!0;let qe;for(;!this.J&&this.C<at.length;)if(qe=fc(this,at),qe==Oa){De==4&&(this.s=4,le(14),b=!1),Es(this.i,this.l,null,"[Incomplete Response]");break}else if(qe==ul){this.s=4,le(15),Es(this.i,this.l,at,"[Invalid Chunk]"),b=!1;break}else Es(this.i,this.l,qe,null),Mr(this,qe);if(hc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||at.length!=0||this.h.h||(this.s=1,le(16),b=!1),this.o=this.o&&b,!b)Es(this.i,this.l,at,"[Invalid Chunked Response]"),Fe(this),ui(this);else if(0<at.length&&!this.W){this.W=!0;var Le=this.j;Le.g==this&&Le.ba&&!Le.M&&(Le.j.info("Great, no buffering proxy detected. Bytes received: "+at.length),Fr(Le),Le.M=!0,le(11))}}else Es(this.i,this.l,at,null),Mr(this,at);De==4&&Fe(this),this.o&&!this.J&&(De==4?Sc(this.j,this):(this.o=!1,Or(this)))}else pd(this.g),b==400&&0<at.indexOf("Unknown SID")?(this.s=3,le(12)):(this.s=0,le(13)),Fe(this),ui(this)}}}catch{}finally{}};function hc(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function fc(f,y){var b=f.C,w=y.indexOf(`
`,b);return w==-1?Oa:(b=Number(y.substring(b,w)),isNaN(b)?ul:(w+=1,w+b>y.length?Oa:(y=y.slice(w,w+b),f.C=w+b,y)))}an.prototype.cancel=function(){this.J=!0,Fe(this)};function Or(f){f.S=Date.now()+f.I,dc(f,f.I)}function dc(f,y){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Ee(T(f.ba,f),y)}function Ss(f){f.B&&(h.clearTimeout(f.B),f.B=null)}an.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(cc(this.i,this.A),this.L!=2&&(bs(),le(17)),Fe(this),this.s=2,ui(this)):dc(this,this.S-f)};function ui(f){f.j.G==0||f.J||Sc(f.j,f)}function Fe(f){Ss(f);var y=f.M;y&&typeof y.ma=="function"&&y.ma(),f.M=null,Ir(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function Mr(f,y){try{var b=f.j;if(b.G!=0&&(b.g==f||cl(b.h,f))){if(!f.K&&cl(b.h,f)&&b.G==3){try{var w=b.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var B=w;if(B[0]==0){t:if(!b.u){if(b.g)if(b.g.F+3e3<f.F)Fa(b),ja(b);else break t;bl(b),le(18)}}else b.za=B[1],0<b.za-b.T&&37500>B[2]&&b.F&&b.v==0&&!b.C&&(b.C=Ee(T(b.Za,b),6e3));if(1>=ka(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else Gi(b,11)}else if((f.K||b.g==f)&&Fa(b),!Q(y))for(B=b.Da.g.parse(y),y=0;y<B.length;y++){let Lt=B[y];if(b.T=Lt[0],Lt=Lt[1],b.G==2)if(Lt[0]=="c"){b.K=Lt[1],b.ia=Lt[2];const Le=Lt[3];Le!=null&&(b.la=Le,b.j.info("VER="+b.la));const De=Lt[4];De!=null&&(b.Aa=De,b.j.info("SVER="+b.Aa));const Yi=Lt[5];Yi!=null&&typeof Yi=="number"&&0<Yi&&(w=1.5*Yi,b.L=w,b.j.info("backChannelRequestTimeoutMs_="+w)),w=b;const qe=f.g;if(qe){const pi=qe.g?qe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pi){var K=w.h;K.g||pi.indexOf("spdy")==-1&&pi.indexOf("quic")==-1&&pi.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Na(K,K.h),K.h=null))}if(w.D){const Tl=qe.g?qe.g.getResponseHeader("X-HTTP-Session-Id"):null;Tl&&(w.ya=Tl,$t(w.I,w.D,Tl))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-f.F,b.j.info("Handshake RTT: "+b.R+"ms")),w=b;var at=f;if(w.qa=wc(w,w.J?w.ia:null,w.W),at.K){on(w.h,at);var Vt=at,Ce=w.L;Ce&&(Vt.I=Ce),Vt.B&&(Ss(Vt),Or(Vt)),w.g=at}else Ec(w);0<b.i.length&&Ha(b)}else Lt[0]!="stop"&&Lt[0]!="close"||Gi(b,7);else b.G==3&&(Lt[0]=="stop"||Lt[0]=="close"?Lt[0]=="stop"?Gi(b,7):yl(b):Lt[0]!="noop"&&b.l&&b.l.ta(Lt),b.v=0)}}bs(4)}catch{}}var gc=class{constructor(f,y){this.g=f,this.map=y}};function zi(f){this.l=f||10,h.PerformanceNavigationTiming?(f=h.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ma(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function ka(f){return f.h?1:f.g?f.g.size:0}function cl(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function Na(f,y){f.g?f.g.add(y):f.h=y}function on(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}zi.prototype.cancel=function(){if(this.i=hl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function hl(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const b of f.g.values())y=y.concat(b.D);return y}return k(f.i)}function fd(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var y=[],b=f.length,w=0;w<b;w++)y.push(f[w]);return y}y=[],b=0;for(w in f)y[b++]=f[w];return y}function Pa(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var y=[];f=f.length;for(var b=0;b<f;b++)y.push(b);return y}y=[],b=0;for(const w in f)y[b++]=w;return y}}}function fl(f,y){if(f.forEach&&typeof f.forEach=="function")f.forEach(y,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,y,void 0);else for(var b=Pa(f),w=fd(f),B=w.length,K=0;K<B;K++)y.call(void 0,w[K],b&&b[K],f)}var kr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dd(f,y){if(f){f=f.split("&");for(var b=0;b<f.length;b++){var w=f[b].indexOf("="),B=null;if(0<=w){var K=f[b].substring(0,w);B=f[b].substring(w+1)}else K=f[b];y(K,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Te(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Te){this.h=f.h,Nr(this,f.j),this.o=f.o,this.g=f.g,As(this,f.s),this.l=f.l;var y=f.i,b=new ji;b.i=y.i,y.g&&(b.g=new Map(y.g),b.h=y.h),Bi(this,b),this.m=f.m}else f&&(y=String(f).match(kr))?(this.h=!1,Nr(this,y[1]||"",!0),this.o=Dn(y[2]||""),this.g=Dn(y[3]||"",!0),As(this,y[4]),this.l=Dn(y[5]||"",!0),Bi(this,y[6]||"",!0),this.m=Dn(y[7]||"")):(this.h=!1,this.i=new ji(null,this.h))}Te.prototype.toString=function(){var f=[],y=this.j;y&&f.push(Vr(y,dl,!0),":");var b=this.g;return(b||y=="file")&&(f.push("//"),(y=this.o)&&f.push(Vr(y,dl,!0),"@"),f.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&f.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&f.push("/"),f.push(Vr(b,b.charAt(0)=="/"?gd:gl,!0))),(b=this.i.toString())&&f.push("?",b),(b=this.m)&&f.push("#",Vr(b,Va)),f.join("")};function vn(f){return new Te(f)}function Nr(f,y,b){f.j=b?Dn(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function As(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function Bi(f,y,b){y instanceof ji?(f.i=y,pc(f.i,f.h)):(b||(y=Vr(y,md)),f.i=new ji(y,f.h))}function $t(f,y,b){f.i.set(y,b)}function Pr(f){return $t(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Dn(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Vr(f,y,b){return typeof f=="string"?(f=encodeURI(f).replace(y,mc),b&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function mc(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var dl=/[#\/\?@]/g,gl=/[#\?:]/g,gd=/[#\?]/g,md=/[#\?@]/g,Va=/#/g;function ji(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function On(f){f.g||(f.g=new Map,f.h=0,f.i&&dd(f.i,function(y,b){f.add(decodeURIComponent(y.replace(/\+/g," ")),b)}))}n=ji.prototype,n.add=function(f,y){On(this),this.i=null,f=ci(this,f);var b=this.g.get(f);return b||this.g.set(f,b=[]),b.push(y),this.h+=1,this};function Hi(f,y){On(f),y=ci(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function Fi(f,y){return On(f),y=ci(f,y),f.g.has(y)}n.forEach=function(f,y){On(this),this.g.forEach(function(b,w){b.forEach(function(B){f.call(y,B,w,this)},this)},this)},n.na=function(){On(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),b=[];for(let w=0;w<y.length;w++){const B=f[w];for(let K=0;K<B.length;K++)b.push(y[w])}return b},n.V=function(f){On(this);let y=[];if(typeof f=="string")Fi(this,f)&&(y=y.concat(this.g.get(ci(this,f))));else{f=Array.from(this.g.values());for(let b=0;b<f.length;b++)y=y.concat(f[b])}return y},n.set=function(f,y){return On(this),this.i=null,f=ci(this,f),Fi(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},n.get=function(f,y){return f?(f=this.V(f),0<f.length?String(f[0]):y):y};function ml(f,y,b){Hi(f,y),0<b.length&&(f.i=null,f.g.set(ci(f,y),k(b)),f.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var b=0;b<y.length;b++){var w=y[b];const K=encodeURIComponent(String(w)),at=this.V(w);for(w=0;w<at.length;w++){var B=K;at[w]!==""&&(B+="="+encodeURIComponent(String(at[w]))),f.push(B)}}return this.i=f.join("&")};function ci(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function pc(f,y){y&&!f.j&&(On(f),f.i=null,f.g.forEach(function(b,w){var B=w.toLowerCase();w!=B&&(Hi(this,w),ml(this,B,b))},f)),f.j=y}function Lr(f,y){const b=new Cn;if(h.Image){const w=new Image;w.onload=A(Mn,b,"TestLoadImage: loaded",!0,y,w),w.onerror=A(Mn,b,"TestLoadImage: error",!1,y,w),w.onabort=A(Mn,b,"TestLoadImage: abort",!1,y,w),w.ontimeout=A(Mn,b,"TestLoadImage: timeout",!1,y,w),h.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=f}else y(!1)}function Kn(f,y){const b=new Cn,w=new AbortController,B=setTimeout(()=>{w.abort(),Mn(b,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:w.signal}).then(K=>{clearTimeout(B),K.ok?Mn(b,"TestPingServer: ok",!0,y):Mn(b,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Mn(b,"TestPingServer: error",!1,y)})}function Mn(f,y,b,w,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),w(b)}catch{}}function Ur(){this.g=new Cr}function hi(f,y,b){const w=b||"";try{fl(f,function(B,K){let at=B;m(B)&&(at=Gn(B)),y.push(w+K+"="+encodeURIComponent(at))})}catch(B){throw y.push(w+"type="+encodeURIComponent("_badmap")),B}}function ws(f){this.l=f.Ub||null,this.j=f.eb||!1}I(ws,il),ws.prototype.g=function(){return new qi(this.l,this.j)},ws.prototype.i=function(f){return function(){return f}}({});function qi(f,y){fe.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(qi,fe),n=qi.prototype,n.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,di(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||h).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fi(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,di(this)),this.g&&(this.readyState=3,di(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;pl(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function pl(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?fi(this):di(this),this.readyState==3&&pl(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,fi(this))},n.Qa=function(f){this.g&&(this.response=f,fi(this))},n.ga=function(){this.g&&fi(this)};function fi(f){f.readyState=4,f.l=null,f.j=null,f.v=null,di(f)}n.setRequestHeader=function(f,y){this.u.append(f,y)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var b=y.next();!b.done;)b=b.value,f.push(b[0]+": "+b[1]),b=y.next();return f.join(`\r
`)};function di(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(qi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function _l(f){let y="";return lt(f,function(b,w){y+=w,y+=":",y+=b,y+=`\r
`}),y}function Ve(f,y,b){t:{for(w in b){var w=!1;break t}w=!0}w||(b=_l(b),typeof f=="string"?b!=null&&encodeURIComponent(String(b)):$t(f,y,b))}function qt(f){fe.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(qt,fe);var La=/^https?$/i,zr=["POST","PUT"];n=qt.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,y,b,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():oi.g(),this.v=this.o?sl(this.o):sl(oi),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(K){_c(this,K);return}if(f=b||"",b=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var B in w)b.set(B,w[B]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const K of w.keys())b.set(K,w.get(K));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(b.keys()).find(K=>K.toLowerCase()=="content-type"),B=h.FormData&&f instanceof h.FormData,!(0<=Array.prototype.indexOf.call(zr,y,void 0))||w||B||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,at]of b)this.g.setRequestHeader(K,at);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Br(this),this.u=!0,this.g.send(f),this.u=!1}catch(K){_c(this,K)}};function _c(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,Ua(f),gi(f)}function Ua(f){f.A||(f.A=!0,Yt(f,"complete"),Yt(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Yt(this,"complete"),Yt(this,"abort"),gi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gi(this,!0)),qt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?za(this):this.bb())},n.bb=function(){za(this)};function za(f){if(f.h&&typeof u<"u"&&(!f.v[1]||kn(f)!=4||f.Z()!=2)){if(f.u&&kn(f)==4)$e(f.Ea,0,f);else if(Yt(f,"readystatechange"),kn(f)==4){f.h=!1;try{const at=f.Z();t:switch(at){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var b;if(!(b=y)){var w;if(w=at===0){var B=String(f.D).match(kr)[1]||null;!B&&h.self&&h.self.location&&(B=h.self.location.protocol.slice(0,-1)),w=!La.test(B?B.toLowerCase():"")}b=w}if(b)Yt(f,"complete"),Yt(f,"success");else{f.m=6;try{var K=2<kn(f)?f.g.statusText:""}catch{K=""}f.l=K+" ["+f.Z()+"]",Ua(f)}}finally{gi(f)}}}}function gi(f,y){if(f.g){Br(f);const b=f.g,w=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||Yt(f,"ready");try{b.onreadystatechange=w}catch{}}}function Br(f){f.I&&(h.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function kn(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<kn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),Ca(y)}};function yc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function pd(f){const y={};f=(f.g&&2<=kn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<f.length;w++){if(Q(f[w]))continue;var b=P(f[w]);const B=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const K=y[B]||[];y[B]=K,K.push(b)}O(y,function(w){return w.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function jr(f,y,b){return b&&b.internalChannelParams&&b.internalChannelParams[f]||y}function Ba(f){this.Aa=0,this.i=[],this.j=new Cn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=jr("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=jr("baseRetryDelayMs",5e3,f),this.cb=jr("retryDelaySeedMs",1e4,f),this.Wa=jr("forwardChannelMaxRetries",2,f),this.wa=jr("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new zi(f&&f.concurrentRequestLimit),this.Da=new Ur,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ba.prototype,n.la=8,n.G=1,n.connect=function(f,y,b,w){le(0),this.W=f,this.H=y||{},b&&w!==void 0&&(this.H.OSID=b,this.H.OAID=w),this.F=this.X,this.I=wc(this,null,this.W),Ha(this)};function yl(f){if(vc(f),f.G==3){var y=f.U++,b=vn(f.I);if($t(b,"SID",f.K),$t(b,"RID",y),$t(b,"TYPE","terminate"),Hr(f,b),y=new an(f,f.j,y),y.L=2,y.v=Pr(vn(b)),b=!1,h.navigator&&h.navigator.sendBeacon)try{b=h.navigator.sendBeacon(y.v.toString(),"")}catch{}!b&&h.Image&&(new Image().src=y.v,b=!0),b||(y.g=Rc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Or(y)}Ac(f)}function ja(f){f.g&&(Fr(f),f.g.cancel(),f.g=null)}function vc(f){ja(f),f.u&&(h.clearTimeout(f.u),f.u=null),Fa(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&h.clearTimeout(f.s),f.s=null)}function Ha(f){if(!Ma(f.h)&&!f.s){f.s=!0;var y=f.Ga;st||V(),gt||(st(),gt=!0),kt.add(y,f),f.B=0}}function _d(f,y){return ka(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=y.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Ee(T(f.Ga,f,y),El(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const B=new an(this,this.j,f);let K=this.o;if(this.S&&(K?(K=R(K),N(K,this.S)):K=this.S),this.m!==null||this.O||(B.H=K,K=null),this.P)t:{for(var y=0,b=0;b<this.i.length;b++){e:{var w=this.i[b];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=b;break t}if(y===4096||b===this.i.length-1){y=b+1;break t}}y=1e3}else y=1e3;y=bc(this,B,y),b=vn(this.I),$t(b,"RID",f),$t(b,"CVER",22),this.D&&$t(b,"X-HTTP-Session-Id",this.D),Hr(this,b),K&&(this.O?y="headers="+encodeURIComponent(String(_l(K)))+"&"+y:this.m&&Ve(b,this.m,K)),Na(this.h,B),this.Ua&&$t(b,"TYPE","init"),this.P?($t(b,"$req",y),$t(b,"SID","null"),B.T=!0,Yn(B,b,null)):Yn(B,b,y),this.G=2}}else this.G==3&&(f?vl(this,f):this.i.length==0||Ma(this.h)||vl(this))};function vl(f,y){var b;y?b=y.l:b=f.U++;const w=vn(f.I);$t(w,"SID",f.K),$t(w,"RID",b),$t(w,"AID",f.T),Hr(f,w),f.m&&f.o&&Ve(w,f.m,f.o),b=new an(f,f.j,b,f.B+1),f.m===null&&(b.H=f.o),y&&(f.i=y.D.concat(f.i)),y=bc(f,b,1e3),b.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Na(f.h,b),Yn(b,w,y)}function Hr(f,y){f.H&&lt(f.H,function(b,w){$t(y,w,b)}),f.l&&fl({},function(b,w){$t(y,w,b)})}function bc(f,y,b){b=Math.min(f.i.length,b);var w=f.l?T(f.l.Na,f.l,f):null;t:{var B=f.i;let K=-1;for(;;){const at=["count="+b];K==-1?0<b?(K=B[0].g,at.push("ofs="+K)):K=0:at.push("ofs="+K);let Vt=!0;for(let Ce=0;Ce<b;Ce++){let Lt=B[Ce].g;const Le=B[Ce].map;if(Lt-=K,0>Lt)K=Math.max(0,B[Ce].g-100),Vt=!1;else try{hi(Le,at,"req"+Lt+"_")}catch{w&&w(Le)}}if(Vt){w=at.join("&");break t}}}return f=f.i.splice(0,b),y.D=f,w}function Ec(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;st||V(),gt||(st(),gt=!0),kt.add(y,f),f.v=0}}function bl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Ee(T(f.Fa,f),El(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,Tc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Ee(T(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,le(10),ja(this),Tc(this))};function Fr(f){f.A!=null&&(h.clearTimeout(f.A),f.A=null)}function Tc(f){f.g=new an(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var y=vn(f.qa);$t(y,"RID","rpc"),$t(y,"SID",f.K),$t(y,"AID",f.T),$t(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&$t(y,"TO",f.ja),$t(y,"TYPE","xmlhttp"),Hr(f,y),f.m&&f.o&&Ve(y,f.m,f.o),f.L&&(f.g.I=f.L);var b=f.g;f=f.ia,b.L=1,b.v=Pr(vn(y)),b.m=null,b.P=!0,Ui(b,f)}n.Za=function(){this.C!=null&&(this.C=null,ja(this),bl(this),le(19))};function Fa(f){f.C!=null&&(h.clearTimeout(f.C),f.C=null)}function Sc(f,y){var b=null;if(f.g==y){Fa(f),Fr(f),f.g=null;var w=2}else if(cl(f.h,y))b=y.D,on(f.h,y),w=1;else return;if(f.G!=0){if(y.o)if(w==1){b=y.m?y.m.length:0,y=Date.now()-y.F;var B=f.B;w=vs(),Yt(w,new Ie(w,b)),Ha(f)}else Ec(f);else if(B=y.s,B==3||B==0&&0<y.X||!(w==1&&_d(f,y)||w==2&&bl(f)))switch(b&&0<b.length&&(y=f.h,y.i=y.i.concat(b)),B){case 1:Gi(f,5);break;case 4:Gi(f,10);break;case 3:Gi(f,6);break;default:Gi(f,2)}}}function El(f,y){let b=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(b*=2),b*y}function Gi(f,y){if(f.j.info("Error code "+y),y==2){var b=T(f.fb,f),w=f.Xa;const B=!w;w=new Te(w||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Nr(w,"https"),Pr(w),B?Lr(w.toString(),b):Kn(w.toString(),b)}else le(2);f.G=0,f.l&&f.l.sa(y),Ac(f),vc(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),le(2)):(this.j.info("Failed to ping google.com"),le(1))};function Ac(f){if(f.G=0,f.ka=[],f.l){const y=hl(f.h);(y.length!=0||f.i.length!=0)&&(M(f.ka,y),M(f.ka,f.i),f.h.i.length=0,k(f.i),f.i.length=0),f.l.ra()}}function wc(f,y,b){var w=b instanceof Te?vn(b):new Te(b);if(w.g!="")y&&(w.g=y+"."+w.g),As(w,w.s);else{var B=h.location;w=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var K=new Te(null);w&&Nr(K,w),y&&(K.g=y),B&&As(K,B),b&&(K.l=b),w=K}return b=f.D,y=f.ya,b&&y&&$t(w,b,y),$t(w,"VER",f.la),Hr(f,w),w}function Rc(f,y,b){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Ca&&!f.pa?new qt(new ws({eb:b})):new qt(f.pa),y.Ha(f.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function xc(){}n=xc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function qa(){}qa.prototype.g=function(f,y){return new ln(f,y)};function ln(f,y){fe.call(this),this.g=new Ba(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!Q(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Q(y)&&(this.g.D=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new mi(this)}I(ln,fe),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){yl(this.g)},ln.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var b={};b.__data__=f,f=b}else this.u&&(b={},b.__data__=Gn(f),f=b);y.i.push(new gc(y.Ya++,f)),y.G==3&&Ha(y)},ln.prototype.N=function(){this.g.l=null,delete this.j,yl(this.g),delete this.g,ln.aa.N.call(this)};function Ic(f){Vi.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){t:{for(const b in y){f=b;break t}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}I(Ic,Vi);function Cc(){al.call(this),this.status=1}I(Cc,al);function mi(f){this.g=f}I(mi,xc),mi.prototype.ua=function(){Yt(this.g,"a")},mi.prototype.ta=function(f){Yt(this.g,new Ic(f))},mi.prototype.sa=function(f){Yt(this.g,new Cc)},mi.prototype.ra=function(){Yt(this.g,"b")},qa.prototype.createWebChannel=qa.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,kS=function(){return new qa},MS=function(){return vs()},OS=ai,Gm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ts.NO_ERROR=0,Ts.TIMEOUT=8,Ts.HTTP_ERROR=6,Jh=Ts,Li.COMPLETE="complete",DS=Li,rl.EventType=Pi,Pi.OPEN="a",Pi.CLOSE="b",Pi.ERROR="c",Pi.MESSAGE="d",fe.prototype.listen=fe.prototype.K,_u=rl,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,CS=qt}).apply(typeof Oh<"u"?Oh:typeof self<"u"?self:typeof window<"u"?window:{});const bb="@firebase/firestore",Eb="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ko="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=new mp("@firebase/firestore");function Eo(){return va.logLevel}function ht(n,...t){if(va.logLevel<=Nt.DEBUG){const e=t.map(xp);va.debug(`Firestore (${Ko}): ${n}`,...e)}}function gs(n,...t){if(va.logLevel<=Nt.ERROR){const e=t.map(xp);va.error(`Firestore (${Ko}): ${n}`,...e)}}function dr(n,...t){if(va.logLevel<=Nt.WARN){const e=t.map(xp);va.warn(`Firestore (${Ko}): ${n}`,...e)}}function xp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,NS(n,i,e)}function NS(n,t,e){let i=`FIRESTORE (${Ko}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw gs(i),new Error(i)}function Gt(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||NS(t,r,i)}function Rt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends ps{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class V2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(en.UNAUTHENTICATED))}shutdown(){}}class L2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class U2{constructor(t){this.t=t,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Gt(this.o===void 0,42304);let i=this.i;const r=d=>this.i!==i?(i=this.i,e(d)):Promise.resolve();let o=new or;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new or,t.enqueueRetryable(()=>r(this.currentUser))};const u=()=>{const d=o;t.enqueueRetryable(async()=>{await d.promise,await r(this.currentUser)})},h=d=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new or)}},0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Gt(typeof i.accessToken=="string",31837,{l:i}),new PS(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string",2055,{h:t}),new en(t)}}class z2{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class B2{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new z2(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Tb{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class j2{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Gt(this.o===void 0,3512);const i=o=>{o.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,ht("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Tb(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Gt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new Tb(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=H2(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%62))}return i}}function Ct(n,t){return n<t?-1:n>t?1:0}function Ym(n,t){let e=0;for(;e<n.length&&e<t.length;){const i=n.codePointAt(e),r=t.codePointAt(e);if(i!==r){if(i<128&&r<128)return Ct(i,r);{const o=VS(),u=F2(o.encode(Sb(n,e)),o.encode(Sb(t,e)));return u!==0?u:Ct(i,r)}}e+=i>65535?2:1}return Ct(n.length,t.length)}function Sb(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function F2(n,t){for(let e=0;e<n.length&&e<t.length;++e)if(n[e]!==t[e])return Ct(n[e],t[e]);return Ct(n.length,t.length)}function Po(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab="__name__";class wi{constructor(t,e,i){e===void 0?e=0:e>t.length&&Et(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&Et(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return wi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof wi?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=wi.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return Ct(t.length,e.length)}static compareSegments(t,e){const i=wi.isNumericId(t),r=wi.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?wi.extractNumericId(t).compare(wi.extractNumericId(e)):Ym(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ar.fromString(t.substring(4,t.length-2))}}class re extends wi{construct(t,e,i){return new re(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ct($.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new re(e)}static emptyPath(){return new re([])}}const q2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends wi{construct(t,e,i){return new Xe(t,e,i)}static isValidIdentifier(t){return q2.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ab}static keyField(){return new Xe([Ab])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(i.length===0)throw new ct($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;r<t.length;){const h=t[r];if(h==="\\"){if(r+1===t.length)throw new ct($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const d=t[r+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ct($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=d,r+=2}else h==="`"?(u=!u,r++):h!=="."||u?(i+=h,r++):(o(),r++)}if(o(),u)throw new ct($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Xe(e)}static emptyPath(){return new Xe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(t){this.path=t}static fromPath(t){return new pt(re.fromString(t))}static fromName(t){return new pt(re.fromString(t).popFirst(5))}static empty(){return new pt(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&re.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return re.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new re(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(n,t,e){if(!e)throw new ct($.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function G2(n,t,e,i){if(t===!0&&i===!0)throw new ct($.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function wb(n){if(!pt.isDocumentKey(n))throw new ct($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Rb(n){if(pt.isDocumentKey(n))throw new ct($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function US(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Ff(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Et(12329,{type:typeof n})}function lr(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ct($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Ff(n);throw new ct($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(n,t){const e={typeString:n};return t&&(e.value=t),e}function Ju(n,t){if(!US(n))throw new ct($.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const r=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const u=n[i];if(r&&typeof u!==r){e=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&u!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new ct($.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb=-62135596800,Ib=1e6;class oe{static now(){return oe.fromMillis(Date.now())}static fromDate(t){return oe.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*Ib);return new oe(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ct($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ct($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<xb)throw new ct($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ib}_compareTo(t){return this.seconds===t.seconds?Ct(this.nanoseconds,t.nanoseconds):Ct(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:oe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ju(t,oe._jsonSchema))return new oe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-xb;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}oe._jsonSchemaVersion="firestore/timestamp/1.0",oe._jsonSchema={type:xe("string",oe._jsonSchemaVersion),seconds:xe("number"),nanoseconds:xe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new oe(0,0))}static max(){return new St(new oe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu=-1;function Y2(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=St.fromTimestamp(i===1e9?new oe(e+1,0):new oe(e,i));return new gr(r,pt.empty(),t)}function K2(n){return new gr(n.readTime,n.key,Lu)}class gr{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new gr(St.min(),pt.empty(),Lu)}static max(){return new gr(St.max(),pt.empty(),Lu)}}function Q2(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=pt.comparator(n.documentKey,t.documentKey),e!==0?e:Ct(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class W2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(n){if(n.code!==$.FAILED_PRECONDITION||n.message!==X2)throw n;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new J((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof J?e:J.resolve(e)}catch(e){return J.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):J.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):J.reject(e)}static resolve(t){return new J((e,i)=>{e(t)})}static reject(t){return new J((e,i)=>{i(t)})}static waitFor(t){return new J((e,i)=>{let r=0,o=0,u=!1;t.forEach(h=>{++r,h.next(()=>{++o,u&&o===r&&e()},d=>i(d))}),u=!0,o===r&&e()})}static or(t){let e=J.resolve(!1);for(const i of t)e=e.next(r=>r?J.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new J((i,r)=>{const o=t.length,u=new Array(o);let h=0;for(let d=0;d<o;d++){const m=d;e(t[m]).next(_=>{u[m]=_,++h,h===o&&i(u)},_=>r(_))}})}static doWhile(t,e){return new J((i,r)=>{const o=()=>{t()===!0?e().next(()=>{o()},r):i()};o()})}}function $2(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Xo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this._e(i),this.ae=i=>e.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}qf.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp=-1;function Gf(n){return n==null}function _f(n){return n===0&&1/n==-1/0}function Z2(n){return typeof n=="number"&&Number.isInteger(n)&&!_f(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS="";function J2(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=Cb(t)),t=tD(n.get(e),t);return Cb(t)}function tD(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="";break;case zS:e+="";break;default:e+=o}}return e}function Cb(n){return n+zS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Sa(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function BS(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(t,e){this.comparator=t,this.root=e||Qe.EMPTY}insert(t,e){return new he(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new he(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Mh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Mh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Mh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Mh(this.root,t,this.comparator,!0)}}class Mh{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??Qe.RED,this.left=r??Qe.EMPTY,this.right=o??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new Qe(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return Qe.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,e,i,r,o){return this}insert(t,e,i){return new Qe(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(t){this.comparator=t,this.data=new he(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Ob(this.data.getIterator())}getIteratorFrom(t){return new Ob(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Ne)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Ne(this.comparator);return e.data=t,e}}class Ob{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(t){this.fields=t,t.sort(Xe.comparator)}static empty(){return new Jn([])}unionWith(t){let e=new Ne(Xe.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Jn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Po(this.fields,t.fields,(e,i)=>e.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new jS("Invalid base64 string: "+o):o}}(t);return new We(e)}static fromUint8Array(t){const e=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(t);return new We(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ct(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}We.EMPTY_BYTE_STRING=new We("");const eD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mr(n){if(Gt(!!n,39018),typeof n=="string"){let t=0;const e=eD.exec(n);if(Gt(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ve(n.seconds),nanos:ve(n.nanos)}}function ve(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function pr(n){return typeof n=="string"?We.fromBase64String(n):We.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS="server_timestamp",FS="__type__",qS="__previous_value__",GS="__local_write_time__";function Dp(n){var t,e;return((e=(((t=n?.mapValue)===null||t===void 0?void 0:t.fields)||{})[FS])===null||e===void 0?void 0:e.stringValue)===HS}function Yf(n){const t=n.mapValue.fields[qS];return Dp(t)?Yf(t):t}function Uu(n){const t=mr(n.mapValue.fields[GS].timestampValue);return new oe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(t,e,i,r,o,u,h,d,m,_){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=_}}const yf="(default)";class zu{constructor(t,e){this.projectId=t,this.database=e||yf}static empty(){return new zu("","")}get isDefaultDatabase(){return this.database===yf}isEqual(t){return t instanceof zu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="__type__",iD="__max__",kh={mapValue:{}},KS="__vector__",vf="value";function _r(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Dp(n)?4:rD(n)?9007199254740991:sD(n)?10:11:Et(28295,{value:n})}function ki(n,t){if(n===t)return!0;const e=_r(n);if(e!==_r(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Uu(n).isEqual(Uu(t));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=mr(r.timestampValue),h=mr(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(r,o){return pr(r.bytesValue).isEqual(pr(o.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,o){return ve(r.geoPointValue.latitude)===ve(o.geoPointValue.latitude)&&ve(r.geoPointValue.longitude)===ve(o.geoPointValue.longitude)}(n,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return ve(r.integerValue)===ve(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=ve(r.doubleValue),h=ve(o.doubleValue);return u===h?_f(u)===_f(h):isNaN(u)&&isNaN(h)}return!1}(n,t);case 9:return Po(n.arrayValue.values||[],t.arrayValue.values||[],ki);case 10:case 11:return function(r,o){const u=r.mapValue.fields||{},h=o.mapValue.fields||{};if(Db(u)!==Db(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!ki(u[d],h[d])))return!1;return!0}(n,t);default:return Et(52216,{left:n})}}function Bu(n,t){return(n.values||[]).find(e=>ki(e,t))!==void 0}function Vo(n,t){if(n===t)return 0;const e=_r(n),i=_r(t);if(e!==i)return Ct(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Ct(n.booleanValue,t.booleanValue);case 2:return function(o,u){const h=ve(o.integerValue||o.doubleValue),d=ve(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1}(n,t);case 3:return Mb(n.timestampValue,t.timestampValue);case 4:return Mb(Uu(n),Uu(t));case 5:return Ym(n.stringValue,t.stringValue);case 6:return function(o,u){const h=pr(o),d=pr(u);return h.compareTo(d)}(n.bytesValue,t.bytesValue);case 7:return function(o,u){const h=o.split("/"),d=u.split("/");for(let m=0;m<h.length&&m<d.length;m++){const _=Ct(h[m],d[m]);if(_!==0)return _}return Ct(h.length,d.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,u){const h=Ct(ve(o.latitude),ve(u.latitude));return h!==0?h:Ct(ve(o.longitude),ve(u.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return kb(n.arrayValue,t.arrayValue);case 10:return function(o,u){var h,d,m,_;const v=o.fields||{},T=u.fields||{},A=(h=v[vf])===null||h===void 0?void 0:h.arrayValue,I=(d=T[vf])===null||d===void 0?void 0:d.arrayValue,k=Ct(((m=A?.values)===null||m===void 0?void 0:m.length)||0,((_=I?.values)===null||_===void 0?void 0:_.length)||0);return k!==0?k:kb(A,I)}(n.mapValue,t.mapValue);case 11:return function(o,u){if(o===kh.mapValue&&u===kh.mapValue)return 0;if(o===kh.mapValue)return 1;if(u===kh.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),m=u.fields||{},_=Object.keys(m);d.sort(),_.sort();for(let v=0;v<d.length&&v<_.length;++v){const T=Ym(d[v],_[v]);if(T!==0)return T;const A=Vo(h[d[v]],m[_[v]]);if(A!==0)return A}return Ct(d.length,_.length)}(n.mapValue,t.mapValue);default:throw Et(23264,{le:e})}}function Mb(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Ct(n,t);const e=mr(n),i=mr(t),r=Ct(e.seconds,i.seconds);return r!==0?r:Ct(e.nanos,i.nanos)}function kb(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const o=Vo(e[r],i[r]);if(o)return o}return Ct(e.length,i.length)}function Lo(n){return Km(n)}function Km(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=mr(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return pr(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return pt.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=Km(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const u of i)o?o=!1:r+=",",r+=`${u}:${Km(e.fields[u])}`;return r+"}"}(n.mapValue):Et(61005,{value:n})}function tf(n){switch(_r(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Yf(n);return t?16+tf(t):16;case 5:return 2*n.stringValue.length;case 6:return pr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,o)=>r+tf(o),0)}(n.arrayValue);case 10:case 11:return function(i){let r=0;return Sa(i.fields,(o,u)=>{r+=o.length+tf(u)}),r}(n.mapValue);default:throw Et(13486,{value:n})}}function Nb(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Qm(n){return!!n&&"integerValue"in n}function Op(n){return!!n&&"arrayValue"in n}function Pb(n){return!!n&&"nullValue"in n}function Vb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ef(n){return!!n&&"mapValue"in n}function sD(n){var t,e;return((e=(((t=n?.mapValue)===null||t===void 0?void 0:t.fields)||{})[YS])===null||e===void 0?void 0:e.stringValue)===KS}function Ru(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Sa(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Ru(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Ru(n.arrayValue.values[e]);return t}return Object.assign({},n)}function rD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===iD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(t){this.value=t}static empty(){return new Hn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!ef(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ru(e)}setAll(t){let e=Xe.emptyPath(),i={},r=[];t.forEach((u,h)=>{if(!e.isImmediateParentOf(h)){const d=this.getFieldsMap(e);this.applyChanges(d,i,r),i={},r=[],e=h.popLast()}u?i[h.lastSegment()]=Ru(u):r.push(h.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());ef(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ki(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];ef(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Sa(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new Hn(Ru(this.value))}}function QS(n){const t=[];return Sa(n.fields,(e,i)=>{const r=new Xe([e]);if(ef(i)){const o=QS(i.mapValue).fields;if(o.length===0)t.push(r);else for(const u of o)t.push(r.child(u))}else t.push(r)}),new Jn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t,e,i,r,o,u,h){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(t){return new nn(t,0,St.min(),St.min(),St.min(),Hn.empty(),0)}static newFoundDocument(t,e,i,r){return new nn(t,1,e,St.min(),i,r,0)}static newNoDocument(t,e){return new nn(t,2,e,St.min(),St.min(),Hn.empty(),0)}static newUnknownDocument(t,e){return new nn(t,3,e,St.min(),St.min(),Hn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof nn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(t,e){this.position=t,this.inclusive=e}}function Lb(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],u=n.position[r];if(o.field.isKeyField()?i=pt.comparator(pt.fromName(u.referenceValue),e.key):i=Vo(u,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function Ub(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!ki(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(t,e="asc"){this.field=t,this.dir=e}}function aD(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{}class Re extends XS{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new lD(t,e,i):e==="array-contains"?new hD(t,i):e==="in"?new fD(t,i):e==="not-in"?new dD(t,i):e==="array-contains-any"?new gD(t,i):new Re(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new uD(t,i):new cD(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Vo(e,this.value)):e!==null&&_r(this.value)===_r(e)&&this.matchesComparison(Vo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends XS{constructor(t,e){super(),this.filters=t,this.op=e,this.he=null}static create(t,e){return new ii(t,e)}matches(t){return WS(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function WS(n){return n.op==="and"}function $S(n){return oD(n)&&WS(n)}function oD(n){for(const t of n.filters)if(t instanceof ii)return!1;return!0}function Xm(n){if(n instanceof Re)return n.field.canonicalString()+n.op.toString()+Lo(n.value);if($S(n))return n.filters.map(t=>Xm(t)).join(",");{const t=n.filters.map(e=>Xm(e)).join(",");return`${n.op}(${t})`}}function ZS(n,t){return n instanceof Re?function(i,r){return r instanceof Re&&i.op===r.op&&i.field.isEqual(r.field)&&ki(i.value,r.value)}(n,t):n instanceof ii?function(i,r){return r instanceof ii&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,u,h)=>o&&ZS(u,r.filters[h]),!0):!1}(n,t):void Et(19439)}function JS(n){return n instanceof Re?function(e){return`${e.field.canonicalString()} ${e.op} ${Lo(e.value)}`}(n):n instanceof ii?function(e){return e.op.toString()+" {"+e.getFilters().map(JS).join(" ,")+"}"}(n):"Filter"}class lD extends Re{constructor(t,e,i){super(t,e,i),this.key=pt.fromName(i.referenceValue)}matches(t){const e=pt.comparator(t.key,this.key);return this.matchesComparison(e)}}class uD extends Re{constructor(t,e){super(t,"in",e),this.keys=tA("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class cD extends Re{constructor(t,e){super(t,"not-in",e),this.keys=tA("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function tA(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(i=>pt.fromName(i.referenceValue))}class hD extends Re{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Op(e)&&Bu(e.arrayValue,this.value)}}class fD extends Re{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Bu(this.value.arrayValue,e)}}class dD extends Re{constructor(t,e){super(t,"not-in",e)}matches(t){if(Bu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Bu(this.value.arrayValue,e)}}class gD extends Re{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Op(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Bu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(t,e=null,i=[],r=[],o=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=u,this.endAt=h,this.Pe=null}}function zb(n,t=null,e=[],i=[],r=null,o=null,u=null){return new mD(n,t,e,i,r,o,u)}function Mp(n){const t=Rt(n);if(t.Pe===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>Xm(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),Gf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Lo(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Lo(i)).join(",")),t.Pe=e}return t.Pe}function kp(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!aD(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!ZS(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Ub(n.startAt,t.startAt)&&Ub(n.endAt,t.endAt)}function Wm(n){return pt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(t,e=null,i=[],r=[],o=null,u="F",h=null,d=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=d,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function pD(n,t,e,i,r,o,u,h){return new Wo(n,t,e,i,r,o,u,h)}function Np(n){return new Wo(n)}function Bb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function eA(n){return n.collectionGroup!==null}function xu(n){const t=Rt(n);if(t.Te===null){t.Te=[];const e=new Set;for(const o of t.explicitOrderBy)t.Te.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Ne(Xe.comparator);return u.filters.forEach(d=>{d.getFlattenedFilters().forEach(m=>{m.isInequality()&&(h=h.add(m.field))})}),h})(t).forEach(o=>{e.has(o.canonicalString())||o.isKeyField()||t.Te.push(new ju(o,i))}),e.has(Xe.keyField().canonicalString())||t.Te.push(new ju(Xe.keyField(),i))}return t.Te}function Ii(n){const t=Rt(n);return t.Ie||(t.Ie=_D(t,xu(n))),t.Ie}function _D(n,t){if(n.limitType==="F")return zb(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>{const o=r.dir==="desc"?"asc":"desc";return new ju(r.field,o)});const e=n.endAt?new bf(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new bf(n.startAt.position,n.startAt.inclusive):null;return zb(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function $m(n,t){const e=n.filters.concat([t]);return new Wo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Ef(n,t,e){return new Wo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Kf(n,t){return kp(Ii(n),Ii(t))&&n.limitType===t.limitType}function nA(n){return`${Mp(Ii(n))}|lt:${n.limitType}`}function To(n){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>JS(r)).join(", ")}]`),Gf(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(r)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>Lo(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>Lo(r)).join(",")),`Target(${i})`}(Ii(n))}; limitType=${n.limitType})`}function Qf(n,t){return t.isFoundDocument()&&function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):pt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,t)&&function(i,r){for(const o of xu(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(n,t)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,t)&&function(i,r){return!(i.startAt&&!function(u,h,d){const m=Lb(u,h,d);return u.inclusive?m<=0:m<0}(i.startAt,xu(i),r)||i.endAt&&!function(u,h,d){const m=Lb(u,h,d);return u.inclusive?m>=0:m>0}(i.endAt,xu(i),r))}(n,t)}function yD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function iA(n){return(t,e)=>{let i=!1;for(const r of xu(n)){const o=vD(r,t,e);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function vD(n,t,e){const i=n.field.isKeyField()?pt.comparator(t.key,e.key):function(o,u,h){const d=u.data.field(o),m=h.data.field(o);return d!==null&&m!==null?Vo(d,m):Et(42886)}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Et(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Sa(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return BS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=new he(pt.comparator);function ms(){return bD}const sA=new he(pt.comparator);function yu(...n){let t=sA;for(const e of n)t=t.insert(e.key,e);return t}function rA(n){let t=sA;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function ha(){return Iu()}function aA(){return Iu()}function Iu(){return new Aa(n=>n.toString(),(n,t)=>n.isEqual(t))}const ED=new he(pt.comparator),TD=new Ne(pt.comparator);function Pt(...n){let t=TD;for(const e of n)t=t.add(e);return t}const SD=new Ne(Ct);function AD(){return SD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_f(t)?"-0":t}}function oA(n){return{integerValue:""+n}}function wD(n,t){return Z2(t)?oA(t):Pp(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(){this._=void 0}}function RD(n,t,e){return n instanceof Tf?function(r,o){const u={fields:{[FS]:{stringValue:HS},[GS]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Dp(o)&&(o=Yf(o)),o&&(u.fields[qS]=o),{mapValue:u}}(e,t):n instanceof Hu?uA(n,t):n instanceof Fu?cA(n,t):function(r,o){const u=lA(r,o),h=jb(u)+jb(r.Ee);return Qm(u)&&Qm(r.Ee)?oA(h):Pp(r.serializer,h)}(n,t)}function xD(n,t,e){return n instanceof Hu?uA(n,t):n instanceof Fu?cA(n,t):e}function lA(n,t){return n instanceof Sf?function(i){return Qm(i)||function(o){return!!o&&"doubleValue"in o}(i)}(t)?t:{integerValue:0}:null}class Tf extends Xf{}class Hu extends Xf{constructor(t){super(),this.elements=t}}function uA(n,t){const e=hA(t);for(const i of n.elements)e.some(r=>ki(r,i))||e.push(i);return{arrayValue:{values:e}}}class Fu extends Xf{constructor(t){super(),this.elements=t}}function cA(n,t){let e=hA(t);for(const i of n.elements)e=e.filter(r=>!ki(r,i));return{arrayValue:{values:e}}}class Sf extends Xf{constructor(t,e){super(),this.serializer=t,this.Ee=e}}function jb(n){return ve(n.integerValue||n.doubleValue)}function hA(n){return Op(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function ID(n,t){return n.field.isEqual(t.field)&&function(i,r){return i instanceof Hu&&r instanceof Hu||i instanceof Fu&&r instanceof Fu?Po(i.elements,r.elements,ki):i instanceof Sf&&r instanceof Sf?ki(i.Ee,r.Ee):i instanceof Tf&&r instanceof Tf}(n.transform,t.transform)}class CD{constructor(t,e){this.version=t,this.transformResults=e}}class Ci{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ci}static exists(t){return new Ci(void 0,t)}static updateTime(t){return new Ci(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function nf(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Wf{}function fA(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Vp(n.key,Ci.none()):new tc(n.key,n.data,Ci.none());{const e=n.data,i=Hn.empty();let r=new Ne(Xe.comparator);for(let o of t.fields)if(!r.has(o)){let u=e.field(o);u===null&&o.length>1&&(o=o.popLast(),u=e.field(o)),u===null?i.delete(o):i.set(o,u),r=r.add(o)}return new wa(n.key,i,new Jn(r.toArray()),Ci.none())}}function DD(n,t,e){n instanceof tc?function(r,o,u){const h=r.value.clone(),d=Fb(r.fieldTransforms,o,u.transformResults);h.setAll(d),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,t,e):n instanceof wa?function(r,o,u){if(!nf(r.precondition,o))return void o.convertToUnknownDocument(u.version);const h=Fb(r.fieldTransforms,o,u.transformResults),d=o.data;d.setAll(dA(r)),d.setAll(h),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,t,e):function(r,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,t,e)}function Cu(n,t,e,i){return n instanceof tc?function(o,u,h,d){if(!nf(o.precondition,u))return h;const m=o.value.clone(),_=qb(o.fieldTransforms,d,u);return m.setAll(_),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,t,e,i):n instanceof wa?function(o,u,h,d){if(!nf(o.precondition,u))return h;const m=qb(o.fieldTransforms,d,u),_=u.data;return _.setAll(dA(o)),_.setAll(m),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(n,t,e,i):function(o,u,h){return nf(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,t,e)}function OD(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=lA(i.transform,r||null);o!=null&&(e===null&&(e=Hn.empty()),e.set(i.field,o))}return e||null}function Hb(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Po(i,r,(o,u)=>ID(o,u))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class tc extends Wf{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class wa extends Wf{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function dA(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function Fb(n,t,e){const i=new Map;Gt(n.length===e.length,32656,{Ae:e.length,Re:n.length});for(let r=0;r<e.length;r++){const o=n[r],u=o.transform,h=t.data.field(o.field);i.set(o.field,xD(u,h,e[r]))}return i}function qb(n,t,e){const i=new Map;for(const r of n){const o=r.transform,u=e.data.field(r.field);i.set(r.field,RD(o,u,t))}return i}class Vp extends Wf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MD extends Wf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&DD(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Cu(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Cu(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=aA();return this.mutations.forEach(r=>{const o=t.get(r.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=e.has(r.key)?null:h;const d=fA(u,h);d!==null&&i.set(r.key,d),u.isValidDocument()||u.convertToNoDocument(St.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Pt())}isEqual(t){return this.batchId===t.batchId&&Po(this.mutations,t.mutations,(e,i)=>Hb(e,i))&&Po(this.baseMutations,t.baseMutations,(e,i)=>Hb(e,i))}}class Lp{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Gt(t.mutations.length===i.length,58842,{Ve:t.mutations.length,me:i.length});let r=function(){return ED}();const o=t.mutations;for(let u=0;u<o.length;u++)r=r.insert(o[u].key,i[u].version);return new Lp(t,e,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we,zt;function VD(n){switch(n){case $.OK:return Et(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return Et(15467,{code:n})}}function gA(n){if(n===void 0)return gs("GRPC error has no .code"),$.UNKNOWN;switch(n){case we.OK:return $.OK;case we.CANCELLED:return $.CANCELLED;case we.UNKNOWN:return $.UNKNOWN;case we.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case we.INTERNAL:return $.INTERNAL;case we.UNAVAILABLE:return $.UNAVAILABLE;case we.UNAUTHENTICATED:return $.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case we.NOT_FOUND:return $.NOT_FOUND;case we.ALREADY_EXISTS:return $.ALREADY_EXISTS;case we.PERMISSION_DENIED:return $.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case we.ABORTED:return $.ABORTED;case we.OUT_OF_RANGE:return $.OUT_OF_RANGE;case we.UNIMPLEMENTED:return $.UNIMPLEMENTED;case we.DATA_LOSS:return $.DATA_LOSS;default:return Et(39323,{code:n})}}(zt=we||(we={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=new ar([4294967295,4294967295],0);function Gb(n){const t=VS().encode(n),e=new IS;return e.update(t),new Uint8Array(e.digest())}function Yb(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new ar([e,i],0),new ar([r,o],0)]}class Up{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new vu(`Invalid padding: ${e}`);if(i<0)throw new vu(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new vu(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new vu(`Invalid padding when bitmap length is 0: ${e}`);this.fe=8*t.length-e,this.ge=ar.fromNumber(this.fe)}pe(t,e,i){let r=t.add(e.multiply(ar.fromNumber(i)));return r.compare(LD)===1&&(r=new ar([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const e=Gb(t),[i,r]=Yb(e);for(let o=0;o<this.hashCount;o++){const u=this.pe(i,r,o);if(!this.ye(u))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),u=new Up(o,r,e);return i.forEach(h=>u.insert(h)),u}insert(t){if(this.fe===0)return;const e=Gb(t),[i,r]=Yb(e);for(let o=0;o<this.hashCount;o++){const u=this.pe(i,r,o);this.we(u)}}we(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class vu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,ec.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new $f(St.min(),r,new he(Ct),ms(),Pt())}}class ec{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new ec(i,e,Pt(),Pt(),Pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(t,e,i,r){this.Se=t,this.removedTargetIds=e,this.key=i,this.be=r}}class mA{constructor(t,e){this.targetId=t,this.De=e}}class pA{constructor(t,e,i=We.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class Kb{constructor(){this.ve=0,this.Ce=Qb(),this.Fe=We.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=Pt(),e=Pt(),i=Pt();return this.Ce.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Et(38017,{changeType:o})}}),new ec(this.Fe,this.Me,t,e,i)}ke(){this.xe=!1,this.Ce=Qb()}qe(t,e){this.xe=!0,this.Ce=this.Ce.insert(t,e)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class UD{constructor(t){this.We=t,this.Ge=new Map,this.ze=ms(),this.je=Nh(),this.Je=Nh(),this.He=new he(Ct)}Ye(t){for(const e of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(e,t.be):this.Xe(e,t.key,t.be);for(const e of t.removedTargetIds)this.Xe(e,t.key,t.be)}et(t){this.forEachTarget(t,e=>{const i=this.tt(e);switch(t.state){case 0:this.nt(e)&&i.Be(t.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(t.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(e);break;case 3:this.nt(e)&&(i.Ke(),i.Be(t.resumeToken));break;case 4:this.nt(e)&&(this.rt(e),i.Be(t.resumeToken));break;default:Et(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Ge.forEach((i,r)=>{this.nt(r)&&e(r)})}it(t){const e=t.targetId,i=t.De.count,r=this.st(e);if(r){const o=r.target;if(Wm(o))if(i===0){const u=new pt(o.path);this.Xe(e,u,nn.newNoDocument(u,St.min()))}else Gt(i===1,20013,{expectedCount:i});else{const u=this.ot(e);if(u!==i){const h=this._t(t),d=h?this.ut(h,t,u):1;if(d!==0){this.rt(e);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(e,m)}}}}}_t(t){const e=t.De.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let u,h;try{u=pr(i).toUint8Array()}catch(d){if(d instanceof jS)return dr("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new Up(u,r,o)}catch(d){return dr(d instanceof vu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.fe===0?null:h}ut(t,e,i){return e.De.count===i-this.ht(t,e.targetId)?0:2}ht(t,e){const i=this.We.getRemoteKeysForTarget(e);let r=0;return i.forEach(o=>{const u=this.We.lt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.Xe(e,o,null),r++)}),r}Pt(t){const e=new Map;this.Ge.forEach((o,u)=>{const h=this.st(u);if(h){if(o.current&&Wm(h.target)){const d=new pt(h.target.path);this.Tt(d).has(u)||this.It(u,d)||this.Xe(u,d,nn.newNoDocument(d,t))}o.Ne&&(e.set(u,o.Le()),o.ke())}});let i=Pt();this.Je.forEach((o,u)=>{let h=!0;u.forEachWhile(d=>{const m=this.st(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(o))}),this.ze.forEach((o,u)=>u.setReadTime(t));const r=new $f(t,e,this.He,this.ze,i);return this.ze=ms(),this.je=Nh(),this.Je=Nh(),this.He=new he(Ct),r}Ze(t,e){if(!this.nt(t))return;const i=this.It(t,e.key)?2:0;this.tt(t).qe(e.key,i),this.ze=this.ze.insert(e.key,e),this.je=this.je.insert(e.key,this.Tt(e.key).add(t)),this.Je=this.Je.insert(e.key,this.dt(e.key).add(t))}Xe(t,e,i){if(!this.nt(t))return;const r=this.tt(t);this.It(t,e)?r.qe(e,1):r.Qe(e),this.Je=this.Je.insert(e,this.dt(e).delete(t)),this.Je=this.Je.insert(e,this.dt(e).add(t)),i&&(this.ze=this.ze.insert(e,i))}removeTarget(t){this.Ge.delete(t)}ot(t){const e=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let e=this.Ge.get(t);return e||(e=new Kb,this.Ge.set(t,e)),e}dt(t){let e=this.Je.get(t);return e||(e=new Ne(Ct),this.Je=this.Je.insert(t,e)),e}Tt(t){let e=this.je.get(t);return e||(e=new Ne(Ct),this.je=this.je.insert(t,e)),e}nt(t){const e=this.st(t)!==null;return e||ht("WatchChangeAggregator","Detected inactive target",t),e}st(t){const e=this.Ge.get(t);return e&&e.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new Kb),this.We.getRemoteKeysForTarget(t).forEach(e=>{this.Xe(t,e,null)})}It(t,e){return this.We.getRemoteKeysForTarget(t).has(e)}}function Nh(){return new he(pt.comparator)}function Qb(){return new he(pt.comparator)}const zD={asc:"ASCENDING",desc:"DESCENDING"},BD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jD={and:"AND",or:"OR"};class HD{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Zm(n,t){return n.useProto3Json||Gf(t)?t:{value:t}}function Af(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function _A(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function FD(n,t){return Af(n,t.toTimestamp())}function Di(n){return Gt(!!n,49232),St.fromTimestamp(function(e){const i=mr(e);return new oe(i.seconds,i.nanos)}(n))}function zp(n,t){return Jm(n,t).canonicalString()}function Jm(n,t){const e=function(r){return new re(["projects",r.projectId,"databases",r.database])}(n).child("documents");return t===void 0?e:e.child(t)}function yA(n){const t=re.fromString(n);return Gt(SA(t),10190,{key:t.toString()}),t}function tp(n,t){return zp(n.databaseId,t.path)}function Em(n,t){const e=yA(t);if(e.get(1)!==n.databaseId.projectId)throw new ct($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ct($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new pt(bA(e))}function vA(n,t){return zp(n.databaseId,t)}function qD(n){const t=yA(n);return t.length===4?re.emptyPath():bA(t)}function ep(n){return new re(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function bA(n){return Gt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Xb(n,t,e){return{name:tp(n,t),fields:e.value.mapValue.fields}}function GD(n,t){let e;if("targetChange"in t){t.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Et(39313,{state:m})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=function(m,_){return m.useProto3Json?(Gt(_===void 0||typeof _=="string",58123),We.fromBase64String(_||"")):(Gt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),We.fromUint8Array(_||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&function(m){const _=m.code===void 0?$.UNKNOWN:gA(m.code);return new ct(_,m.message||"")}(u);e=new pA(i,r,o,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Em(n,i.document.name),o=Di(i.document.updateTime),u=i.document.createTime?Di(i.document.createTime):St.min(),h=new Hn({mapValue:{fields:i.document.fields}}),d=nn.newFoundDocument(r,o,u,h),m=i.targetIds||[],_=i.removedTargetIds||[];e=new sf(m,_,d.key,d)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Em(n,i.document),o=i.readTime?Di(i.readTime):St.min(),u=nn.newNoDocument(r,o),h=i.removedTargetIds||[];e=new sf([],h,u.key,u)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Em(n,i.document),o=i.removedTargetIds||[];e=new sf([],o,r,null)}else{if(!("filter"in t))return Et(11601,{At:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,u=new PD(r,o),h=i.targetId;e=new mA(h,u)}}return e}function YD(n,t){let e;if(t instanceof tc)e={update:Xb(n,t.key,t.value)};else if(t instanceof Vp)e={delete:tp(n,t.key)};else if(t instanceof wa)e={update:Xb(n,t.key,t.data),updateMask:eO(t.fieldMask)};else{if(!(t instanceof MD))return Et(16599,{Rt:t.type});e={verify:tp(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(o,u){const h=u.transform;if(h instanceof Tf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Hu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Fu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Sf)return{fieldPath:u.field.canonicalString(),increment:h.Ee};throw Et(20930,{transform:u.transform})}(0,i))),t.precondition.isNone||(e.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:FD(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Et(27497)}(n,t.precondition)),e}function KD(n,t){return n&&n.length>0?(Gt(t!==void 0,14353),n.map(e=>function(r,o){let u=r.updateTime?Di(r.updateTime):Di(o);return u.isEqual(St.min())&&(u=Di(o)),new CD(u,r.transformResults||[])}(e,t))):[]}function QD(n,t){return{documents:[vA(n,t.path)]}}function XD(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=vA(n,r);const o=function(m){if(m.length!==0)return TA(ii.create(m,"and"))}(t.filters);o&&(e.structuredQuery.where=o);const u=function(m){if(m.length!==0)return m.map(_=>function(T){return{field:So(T.field),direction:ZD(T.dir)}}(_))}(t.orderBy);u&&(e.structuredQuery.orderBy=u);const h=Zm(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(t.endAt)),{Vt:e,parent:r}}function WD(n){let t=qD(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Gt(i===1,65062);const _=e.from[0];_.allDescendants?r=_.collectionId:t=t.child(_.collectionId)}let o=[];e.where&&(o=function(v){const T=EA(v);return T instanceof ii&&$S(T)?T.getFilters():[T]}(e.where));let u=[];e.orderBy&&(u=function(v){return v.map(T=>function(I){return new ju(Ao(I.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(T))}(e.orderBy));let h=null;e.limit&&(h=function(v){let T;return T=typeof v=="object"?v.value:v,Gf(T)?null:T}(e.limit));let d=null;e.startAt&&(d=function(v){const T=!!v.before,A=v.values||[];return new bf(A,T)}(e.startAt));let m=null;return e.endAt&&(m=function(v){const T=!v.before,A=v.values||[];return new bf(A,T)}(e.endAt)),pD(t,r,u,o,h,"F",d,m)}function $D(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:r})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function EA(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Ao(e.unaryFilter.field);return Re.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Ao(e.unaryFilter.field);return Re.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ao(e.unaryFilter.field);return Re.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ao(e.unaryFilter.field);return Re.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}}(n):n.fieldFilter!==void 0?function(e){return Re.create(Ao(e.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return ii.create(e.compositeFilter.filters.map(i=>EA(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Et(1026)}}(e.compositeFilter.op))}(n):Et(30097,{filter:n})}function ZD(n){return zD[n]}function JD(n){return BD[n]}function tO(n){return jD[n]}function So(n){return{fieldPath:n.canonicalString()}}function Ao(n){return Xe.fromServerFormat(n.fieldPath)}function TA(n){return n instanceof Re?function(e){if(e.op==="=="){if(Vb(e.value))return{unaryFilter:{field:So(e.field),op:"IS_NAN"}};if(Pb(e.value))return{unaryFilter:{field:So(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Vb(e.value))return{unaryFilter:{field:So(e.field),op:"IS_NOT_NAN"}};if(Pb(e.value))return{unaryFilter:{field:So(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:So(e.field),op:JD(e.op),value:e.value}}}(n):n instanceof ii?function(e){const i=e.getFilters().map(r=>TA(r));return i.length===1?i[0]:{compositeFilter:{op:tO(e.op),filters:i}}}(n):Et(54877,{filter:n})}function eO(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function SA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(t,e,i,r,o=St.min(),u=St.min(),h=We.EMPTY_BYTE_STRING,d=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(t){return new Zs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(t){this.gt=t}}function iO(n){const t=WD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Ef(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(){this.Dn=new rO}addToCollectionParentIndex(t,e){return this.Dn.add(e),J.resolve()}getCollectionParents(t,e){return J.resolve(this.Dn.getEntries(e))}addFieldIndex(t,e){return J.resolve()}deleteFieldIndex(t,e){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,e){return J.resolve()}getDocumentsMatchingTarget(t,e){return J.resolve(null)}getIndexType(t,e){return J.resolve(0)}getFieldIndexes(t,e){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,e){return J.resolve(gr.min())}getMinOffsetFromCollectionGroup(t,e){return J.resolve(gr.min())}updateCollectionGroup(t,e,i){return J.resolve()}updateIndexEntries(t,e){return J.resolve()}}class rO{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Ne(re.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Ne(re.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},AA=41943040;class gn{static withCacheSize(t){return new gn(t,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(AA,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new Uo(0)}static ur(){return new Uo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="LruGarbageCollector",aO=1048576;function Zb([n,t],[e,i]){const r=Ct(n,e);return r===0?Ct(t,i):r}class oO{constructor(t){this.Tr=t,this.buffer=new Ne(Zb),this.Ir=0}dr(){return++this.Ir}Er(t){const e=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();Zb(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class lO{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){ht($b,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Xo(e)?ht($b,"Ignoring IndexedDB error during garbage collection: ",e):await Qo(e)}await this.Rr(3e5)})}}class uO{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.mr(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(e===0)return J.resolve(qf.ue);const i=new oO(e);return this.Vr.forEachTarget(t,r=>i.Er(r.sequenceNumber)).next(()=>this.Vr.gr(t,r=>i.Er(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Vr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Wb)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Wb):this.pr(t,e))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,e){let i,r,o,u,h,d,m;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),r=this.params.maximumSequenceNumbersToCollect):r=v,u=Date.now(),this.nthSequenceNumber(t,r))).next(v=>(i=v,h=Date.now(),this.removeTargets(t,i,e))).next(v=>(o=v,d=Date.now(),this.removeOrphanedDocuments(t,i))).next(v=>(m=Date.now(),Eo()<=Nt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${r} in `+(h-u)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${v} documents in `+(m-d)+`ms
Total Duration: ${m-_}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:v})))}}function cO(n,t){return new uO(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(){this.changes=new Aa(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,nn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?J.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(i!==null&&Cu(i.mutation,r,Jn.empty(),oe.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Pt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Pt()){const r=ha();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let u=yu();return o.forEach((h,d)=>{u=u.insert(h,d.overlayedDocument)}),u}))}getOverlayedDocuments(t,e){const i=ha();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Pt()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((u,h)=>{e.set(u,h)})})}computeViews(t,e,i,r){let o=ms();const u=Iu(),h=function(){return Iu()}();return e.forEach((d,m)=>{const _=i.get(m.key);r.has(m.key)&&(_===void 0||_.mutation instanceof wa)?o=o.insert(m.key,m):_!==void 0?(u.set(m.key,_.mutation.getFieldMask()),Cu(_.mutation,m,_.mutation.getFieldMask(),oe.now())):u.set(m.key,Jn.empty())}),this.recalculateAndSaveOverlays(t,o).next(d=>(d.forEach((m,_)=>u.set(m,_)),e.forEach((m,_)=>{var v;return h.set(m,new fO(_,(v=u.get(m))!==null&&v!==void 0?v:null))}),h))}recalculateAndSaveOverlays(t,e){const i=Iu();let r=new he((u,h)=>u-h),o=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(u=>{for(const h of u)h.keys().forEach(d=>{const m=e.get(d);if(m===null)return;let _=i.get(d)||Jn.empty();_=h.applyToLocalView(m,_),i.set(d,_);const v=(r.get(h.batchId)||Pt()).add(d);r=r.insert(h.batchId,v)})}).next(()=>{const u=[],h=r.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),m=d.key,_=d.value,v=aA();_.forEach(T=>{if(!o.has(T)){const A=fA(e.get(T),i.get(T));A!==null&&v.set(T,A),o=o.add(T)}}),u.push(this.documentOverlayCache.saveOverlays(t,m,v))}return J.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return function(u){return pt.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):eA(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const u=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):J.resolve(ha());let h=Lu,d=o;return u.next(m=>J.forEach(m,(_,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),o.get(_)?J.resolve():this.remoteDocumentCache.getEntry(t,_).next(T=>{d=d.insert(_,T)}))).next(()=>this.populateOverlays(t,m,o)).next(()=>this.computeViews(t,d,m,Pt())).next(_=>({batchId:h,changes:rA(_)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new pt(e)).next(i=>{let r=yu();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let u=yu();return this.indexManager.getCollectionParents(t,o).next(h=>J.forEach(h,d=>{const m=function(v,T){return new Wo(T,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(e,d.child(o));return this.getDocumentsMatchingCollectionQuery(t,m,i,r).next(_=>{_.forEach((v,T)=>{u=u.insert(v,T)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r))).next(u=>{o.forEach((d,m)=>{const _=m.getKey();u.get(_)===null&&(u=u.insert(_,nn.newInvalidDocument(_)))});let h=yu();return u.forEach((d,m)=>{const _=o.get(d);_!==void 0&&Cu(_.mutation,m,Jn.empty(),oe.now()),Qf(e,m)&&(h=h.insert(d,m))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,e){return J.resolve(this.Br.get(e))}saveBundleMetadata(t,e){return this.Br.set(e.id,function(r){return{id:r.id,version:r.version,createTime:Di(r.createTime)}}(e)),J.resolve()}getNamedQuery(t,e){return J.resolve(this.Lr.get(e))}saveNamedQuery(t,e){return this.Lr.set(e.name,function(r){return{name:r.name,query:iO(r.bundledQuery),readTime:Di(r.readTime)}}(e)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(){this.overlays=new he(pt.comparator),this.kr=new Map}getOverlay(t,e){return J.resolve(this.overlays.get(e))}getOverlays(t,e){const i=ha();return J.forEach(e,r=>this.getOverlay(t,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.wt(t,e,o)}),J.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.kr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(i)),J.resolve()}getOverlaysForCollection(t,e,i){const r=ha(),o=e.length+1,u=new pt(e.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,m=d.getKey();if(!e.isPrefixOf(m.path))break;m.path.length===o&&d.largestBatchId>i&&r.set(d.getKey(),d)}return J.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new he((m,_)=>m-_);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===e&&m.largestBatchId>i){let _=o.get(m.largestBatchId);_===null&&(_=ha(),o=o.insert(m.largestBatchId,_)),_.set(m.getKey(),m)}}const h=ha(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((m,_)=>h.set(m,_)),!(h.size()>=r)););return J.resolve(h)}wt(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const u=this.kr.get(r.largestBatchId).delete(i.key);this.kr.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new ND(e,i));let o=this.kr.get(e);o===void 0&&(o=Pt(),this.kr.set(e,o)),this.kr.set(e,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(){this.sessionToken=We.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(){this.qr=new Ne(je.Qr),this.$r=new Ne(je.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,e){const i=new je(t,e);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Wr(new je(t,e))}Gr(t,e){t.forEach(i=>this.removeReference(i,e))}zr(t){const e=new pt(new re([])),i=new je(e,t),r=new je(e,t+1),o=[];return this.$r.forEachInRange([i,r],u=>{this.Wr(u),o.push(u.key)}),o}jr(){this.qr.forEach(t=>this.Wr(t))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const e=new pt(new re([])),i=new je(e,t),r=new je(e,t+1);let o=Pt();return this.$r.forEachInRange([i,r],u=>{o=o.add(u.key)}),o}containsKey(t){const e=new je(t,0),i=this.qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class je{constructor(t,e){this.key=t,this.Hr=e}static Qr(t,e){return pt.comparator(t.key,e.key)||Ct(t.Hr,e.Hr)}static Ur(t,e){return Ct(t.Hr,e.Hr)||pt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.er=1,this.Yr=new Ne(je.Qr)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new kD(o,e,i,r);this.mutationQueue.push(u);for(const h of r)this.Yr=this.Yr.add(new je(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return J.resolve(u)}lookupMutationBatch(t,e){return J.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.Xr(i),o=r<0?0:r;return J.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Cp:this.er-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new je(e,0),r=new je(e,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([i,r],u=>{const h=this.Zr(u.Hr);o.push(h)}),J.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ne(Ct);return e.forEach(r=>{const o=new je(r,0),u=new je(r,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,u],h=>{i=i.add(h.Hr)})}),J.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;pt.isDocumentKey(o)||(o=o.child(""));const u=new je(new pt(o),0);let h=new Ne(Ct);return this.Yr.forEachWhile(d=>{const m=d.key.path;return!!i.isPrefixOf(m)&&(m.length===r&&(h=h.add(d.Hr)),!0)},u),J.resolve(this.ei(h))}ei(t){const e=[];return t.forEach(i=>{const r=this.Zr(i);r!==null&&e.push(r)}),e}removeMutationBatch(t,e){Gt(this.ti(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return J.forEach(e.mutations,r=>{const o=new je(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Yr=i})}rr(t){}containsKey(t,e){const i=new je(e,0),r=this.Yr.firstAfterOrEqual(i);return J.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ti(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(t){this.ni=t,this.docs=function(){return new he(pt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,u=this.ni(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return J.resolve(i?i.document.mutableCopy():nn.newInvalidDocument(e))}getEntries(t,e){let i=ms();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():nn.newInvalidDocument(r))}),J.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=ms();const u=e.path,h=new pt(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:m,value:{document:_}}=d.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||Q2(K2(_),i)<=0||(r.has(_.key)||Qf(e,_))&&(o=o.insert(_.key,_.mutableCopy()))}return J.resolve(o)}getAllFromCollectionGroup(t,e,i,r){Et(9500)}ri(t,e){return J.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new vO(this)}getSize(t){return J.resolve(this.size)}}class vO extends hO{constructor(t){super(),this.Or=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Or.addEntry(t,r)):this.Or.removeEntry(i)}),J.waitFor(e)}getFromCache(t,e){return this.Or.getEntry(t,e)}getAllFromCache(t,e){return this.Or.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(t){this.persistence=t,this.ii=new Aa(e=>Mp(e),kp),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.si=0,this.oi=new Bp,this.targetCount=0,this._i=Uo.ar()}forEachTarget(t,e){return this.ii.forEach((i,r)=>e(r)),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.si&&(this.si=e),J.resolve()}hr(t){this.ii.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this._i=new Uo(e),this.highestTargetId=e),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,e){return this.hr(e),this.targetCount+=1,J.resolve()}updateTargetData(t,e){return this.hr(e),J.resolve()}removeTargetData(t,e){return this.ii.delete(e.target),this.oi.zr(e.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.ii.forEach((u,h)=>{h.sequenceNumber<=e&&i.get(h.targetId)===null&&(this.ii.delete(u),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),J.waitFor(o).next(()=>r)}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,e){const i=this.ii.get(e)||null;return J.resolve(i)}addMatchingKeys(t,e,i){return this.oi.Kr(e,i),J.resolve()}removeMatchingKeys(t,e,i){this.oi.Gr(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(u=>{o.push(r.markPotentiallyOrphaned(t,u))}),J.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.oi.zr(e),J.resolve()}getMatchingKeysForTargetId(t,e){const i=this.oi.Jr(e);return J.resolve(i)}containsKey(t,e){return J.resolve(this.oi.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(t,e){this.ai={},this.overlays={},this.ui=new qf(0),this.ci=!1,this.ci=!0,this.li=new pO,this.referenceDelegate=t(this),this.hi=new bO(this),this.indexManager=new sO,this.remoteDocumentCache=function(r){return new yO(r)}(i=>this.referenceDelegate.Pi(i)),this.serializer=new nO(e),this.Ti=new gO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new mO,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ai[t.toKey()];return i||(i=new _O(e,this.referenceDelegate),this.ai[t.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,e,i){ht("MemoryPersistence","Starting transaction:",t);const r=new EO(this.ui.next());return this.referenceDelegate.Ii(),i(r).next(o=>this.referenceDelegate.di(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ei(t,e){return J.or(Object.values(this.ai).map(i=>()=>i.containsKey(t,e)))}}class EO extends W2{constructor(t){super(),this.currentSequenceNumber=t}}class jp{constructor(t){this.persistence=t,this.Ai=new Bp,this.Ri=null}static Vi(t){return new jp(t)}get mi(){if(this.Ri)return this.Ri;throw Et(60996)}addReference(t,e,i){return this.Ai.addReference(i,e),this.mi.delete(i.toString()),J.resolve()}removeReference(t,e,i){return this.Ai.removeReference(i,e),this.mi.add(i.toString()),J.resolve()}markPotentiallyOrphaned(t,e){return this.mi.add(e.toString()),J.resolve()}removeTarget(t,e){this.Ai.zr(e.targetId).forEach(r=>this.mi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.mi.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}Ii(){this.Ri=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.mi,i=>{const r=pt.fromPath(i);return this.fi(t,r).next(o=>{o||e.removeEntry(r,St.min())})}).next(()=>(this.Ri=null,e.apply(t)))}updateLimboDocument(t,e){return this.fi(t,e).next(i=>{i?this.mi.delete(e.toString()):this.mi.add(e.toString())})}Pi(t){return 0}fi(t,e){return J.or([()=>J.resolve(this.Ai.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class wf{constructor(t,e){this.persistence=t,this.gi=new Aa(i=>J2(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=cO(this,e)}static Vi(t,e){return new wf(t,e)}Ii(){}di(t){return J.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}mr(t){const e=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}yr(t){let e=0;return this.gr(t,i=>{e++}).next(()=>e)}gr(t,e){return J.forEach(this.gi,(i,r)=>this.Sr(t,i,r).next(o=>o?J.resolve():e(r)))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ri(t,u=>this.Sr(t,u,e).next(h=>{h||(i++,o.removeEntry(u,St.min()))})).next(()=>o.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,e){return this.gi.set(e,t.currentSequenceNumber),J.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.gi.set(i,t.currentSequenceNumber),J.resolve()}removeReference(t,e,i){return this.gi.set(i,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,e){return this.gi.set(e,t.currentSequenceNumber),J.resolve()}Pi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=tf(t.data.value)),e}Sr(t,e,i){return J.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.gi.get(e);return J.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Is=i,this.ds=r}static Es(t,e){let i=Pt(),r=Pt();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new Hp(t,e.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return nx()?8:$2(sn())>0?6:4}()}initialize(t,e){this.gs=t,this.indexManager=e,this.As=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.ps(t,e).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.ys(t,e,r,i).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new TO;return this.ws(t,e,u).next(h=>{if(o.result=h,this.Rs)return this.Ss(t,e,u,h.size)})}).next(()=>o.result)}Ss(t,e,i,r){return i.documentReadCount<this.Vs?(Eo()<=Nt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",To(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(Eo()<=Nt.DEBUG&&ht("QueryEngine","Query:",To(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.fs*r?(Eo()<=Nt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",To(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ii(e))):J.resolve())}ps(t,e){if(Bb(e))return J.resolve(null);let i=Ii(e);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(e.limit!==null&&r===1&&(e=Ef(e,null,"F"),i=Ii(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const u=Pt(...o);return this.gs.getDocuments(t,u).next(h=>this.indexManager.getMinOffset(t,i).next(d=>{const m=this.bs(e,h);return this.Ds(e,m,u,d.readTime)?this.ps(t,Ef(e,null,"F")):this.vs(t,m,e,d)}))})))}ys(t,e,i,r){return Bb(e)||r.isEqual(St.min())?J.resolve(null):this.gs.getDocuments(t,i).next(o=>{const u=this.bs(e,o);return this.Ds(e,u,i,r)?J.resolve(null):(Eo()<=Nt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),To(e)),this.vs(t,u,e,Y2(r,Lu)).next(h=>h))})}bs(t,e){let i=new Ne(iA(t));return e.forEach((r,o)=>{Qf(t,o)&&(i=i.add(o))}),i}Ds(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}ws(t,e,i){return Eo()<=Nt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",To(e)),this.gs.getDocumentsMatchingQuery(t,e,gr.min(),i)}vs(t,e,i,r){return this.gs.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp="LocalStore",AO=3e8;class wO{constructor(t,e,i,r){this.persistence=t,this.Cs=e,this.serializer=r,this.Fs=new he(Ct),this.Ms=new Aa(o=>Mp(o),kp),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(i)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new dO(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Fs))}}function RO(n,t,e,i){return new wO(n,t,e,i)}async function RA(n,t){const e=Rt(n);return await e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.Ns(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const u=[],h=[];let d=Pt();for(const m of r){u.push(m.batchId);for(const _ of m.mutations)d=d.add(_.key)}for(const m of o){h.push(m.batchId);for(const _ of m.mutations)d=d.add(_.key)}return e.localDocuments.getDocuments(i,d).next(m=>({Bs:m,removedBatchIds:u,addedBatchIds:h}))})})}function xO(n,t){const e=Rt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Os.newChangeBuffer({trackRemovals:!0});return function(h,d,m,_){const v=m.batch,T=v.keys();let A=J.resolve();return T.forEach(I=>{A=A.next(()=>_.getEntry(d,I)).next(k=>{const M=m.docVersions.get(I);Gt(M!==null,48541),k.version.compareTo(M)<0&&(v.applyToRemoteDocument(k,m),k.isValidDocument()&&(k.setReadTime(m.commitVersion),_.addEntry(k)))})}),A.next(()=>h.mutationQueue.removeMutationBatch(d,v))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let d=Pt();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(d=d.add(h.batch.mutations[m].key));return d}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function xA(n){const t=Rt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.hi.getLastRemoteSnapshotVersion(e))}function IO(n,t){const e=Rt(n),i=t.snapshotVersion;let r=e.Fs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=e.Os.newChangeBuffer({trackRemovals:!0});r=e.Fs;const h=[];t.targetChanges.forEach((_,v)=>{const T=r.get(v);if(!T)return;h.push(e.hi.removeMatchingKeys(o,_.removedDocuments,v).next(()=>e.hi.addMatchingKeys(o,_.addedDocuments,v)));let A=T.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(v)!==null?A=A.withResumeToken(We.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):_.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(_.resumeToken,i)),r=r.insert(v,A),function(k,M,H){return k.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=AO?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(T,A,_)&&h.push(e.hi.updateTargetData(o,A))});let d=ms(),m=Pt();if(t.documentUpdates.forEach(_=>{t.resolvedLimboDocuments.has(_)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,_))}),h.push(CO(o,u,t.documentUpdates).next(_=>{d=_.Ls,m=_.ks})),!i.isEqual(St.min())){const _=e.hi.getLastRemoteSnapshotVersion(o).next(v=>e.hi.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(_)}return J.waitFor(h).next(()=>u.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,d,m)).next(()=>d)}).then(o=>(e.Fs=r,o))}function CO(n,t,e){let i=Pt(),r=Pt();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let u=ms();return e.forEach((h,d)=>{const m=o.get(h);d.isFoundDocument()!==m.isFoundDocument()&&(r=r.add(h)),d.isNoDocument()&&d.version.isEqual(St.min())?(t.removeEntry(h,d.readTime),u=u.insert(h,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(d),u=u.insert(h,d)):ht(Fp,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",d.version)}),{Ls:u,ks:r}})}function DO(n,t){const e=Rt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=Cp),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function OO(n,t){const e=Rt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.hi.getTargetData(i,t).next(o=>o?(r=o,J.resolve(r)):e.hi.allocateTargetId(i).next(u=>(r=new Zs(t,u,"TargetPurposeListen",i.currentSequenceNumber),e.hi.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Fs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Fs=e.Fs.insert(i.targetId,i),e.Ms.set(t,i.targetId)),i})}async function np(n,t,e){const i=Rt(n),r=i.Fs.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,u=>i.persistence.referenceDelegate.removeTarget(u,r))}catch(u){if(!Xo(u))throw u;ht(Fp,`Failed to update sequence numbers for target ${t}: ${u}`)}i.Fs=i.Fs.remove(t),i.Ms.delete(r.target)}function Jb(n,t,e){const i=Rt(n);let r=St.min(),o=Pt();return i.persistence.runTransaction("Execute query","readwrite",u=>function(d,m,_){const v=Rt(d),T=v.Ms.get(_);return T!==void 0?J.resolve(v.Fs.get(T)):v.hi.getTargetData(m,_)}(i,u,Ii(t)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(u,h.targetId).next(d=>{o=d})}).next(()=>i.Cs.getDocumentsMatchingQuery(u,t,e?r:St.min(),e?o:Pt())).next(h=>(MO(i,yD(t),h),{documents:h,qs:o})))}function MO(n,t,e){let i=n.xs.get(t)||St.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.xs.set(t,i)}class tE{constructor(){this.activeTargetIds=AD()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class kO{constructor(){this.Fo=new tE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,e,i){this.Mo[t]=e}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new tE,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="ConnectivityMonitor";class nE{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ht(eE,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){ht(eE,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ph=null;function ip(){return Ph===null?Ph=function(){return 268435456+Math.round(2147483648*Math.random())}():Ph++,"0x"+Ph.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm="RestConnection",PO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VO{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.$o=e+"://"+t.host,this.Uo=`projects/${i}/databases/${r}`,this.Ko=this.databaseId.database===yf?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Wo(t,e,i,r,o){const u=ip(),h=this.Go(t,e.toUriEncodedString());ht(Tm,`Sending RPC '${t}' ${u}:`,h,i);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(d,r,o);const{host:m}=new URL(h),_=Fo(m);return this.jo(t,h,d,i,_).then(v=>(ht(Tm,`Received RPC '${t}' ${u}: `,v),v),v=>{throw dr(Tm,`RPC '${t}' ${u} failed with error: `,v,"url: ",h,"request:",i),v})}Jo(t,e,i,r,o,u){return this.Wo(t,e,i,r,o)}zo(t,e,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ko}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}Go(t,e){const i=PO[t];return`${this.$o}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class UO extends VO{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,e,i,r,o){const u=ip();return new Promise((h,d)=>{const m=new CS;m.setWithCredentials(!0),m.listenOnce(DS.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Jh.NO_ERROR:const v=m.getResponseJson();ht(tn,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(v)),h(v);break;case Jh.TIMEOUT:ht(tn,`RPC '${t}' ${u} timed out`),d(new ct($.DEADLINE_EXCEEDED,"Request time out"));break;case Jh.HTTP_ERROR:const T=m.getStatus();if(ht(tn,`RPC '${t}' ${u} failed with status:`,T,"response text:",m.getResponseText()),T>0){let A=m.getResponseJson();Array.isArray(A)&&(A=A[0]);const I=A?.error;if(I&&I.status&&I.message){const k=function(H){const Q=H.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(Q)>=0?Q:$.UNKNOWN}(I.status);d(new ct(k,I.message))}else d(new ct($.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new ct($.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{c_:t,streamId:u,l_:m.getLastErrorCode(),h_:m.getLastError()})}}finally{ht(tn,`RPC '${t}' ${u} completed.`)}});const _=JSON.stringify(r);ht(tn,`RPC '${t}' ${u} sending request:`,r),m.send(e,"POST",_,i,15)})}P_(t,e,i){const r=ip(),o=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=kS(),h=MS(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.zo(d.initMessageHeaders,e,i),d.encodeInitMessageHeaders=!0;const _=o.join("");ht(tn,`Creating RPC '${t}' stream ${r}: ${_}`,d);const v=u.createWebChannel(_,d);this.T_(v);let T=!1,A=!1;const I=new LO({Ho:M=>{A?ht(tn,`Not sending because RPC '${t}' stream ${r} is closed:`,M):(T||(ht(tn,`Opening RPC '${t}' stream ${r} transport.`),v.open(),T=!0),ht(tn,`RPC '${t}' stream ${r} sending:`,M),v.send(M))},Yo:()=>v.close()}),k=(M,H,Q)=>{M.listen(H,tt=>{try{Q(tt)}catch(rt){setTimeout(()=>{throw rt},0)}})};return k(v,_u.EventType.OPEN,()=>{A||(ht(tn,`RPC '${t}' stream ${r} transport opened.`),I.s_())}),k(v,_u.EventType.CLOSE,()=>{A||(A=!0,ht(tn,`RPC '${t}' stream ${r} transport closed`),I.__(),this.I_(v))}),k(v,_u.EventType.ERROR,M=>{A||(A=!0,dr(tn,`RPC '${t}' stream ${r} transport errored. Name:`,M.name,"Message:",M.message),I.__(new ct($.UNAVAILABLE,"The operation could not be completed")))}),k(v,_u.EventType.MESSAGE,M=>{var H;if(!A){const Q=M.data[0];Gt(!!Q,16349);const tt=Q,rt=tt?.error||((H=tt[0])===null||H===void 0?void 0:H.error);if(rt){ht(tn,`RPC '${t}' stream ${r} received error:`,rt);const nt=rt.status;let lt=function(x){const N=we[x];if(N!==void 0)return gA(N)}(nt),O=rt.message;lt===void 0&&(lt=$.INTERNAL,O="Unknown error status: "+nt+" with message "+rt.message),A=!0,I.__(new ct(lt,O)),v.close()}else ht(tn,`RPC '${t}' stream ${r} received:`,Q),I.a_(Q)}}),k(h,OS.STAT_EVENT,M=>{M.stat===Gm.PROXY?ht(tn,`RPC '${t}' stream ${r} detected buffering proxy`):M.stat===Gm.NOPROXY&&ht(tn,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{I.o_()},0),I}terminate(){this.u_.forEach(t=>t.close()),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter(e=>e===t)}}function Sm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(n){return new HD(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Fi=t,this.timerId=e,this.d_=i,this.E_=r,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const e=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),r=Math.max(0,e-i);r>0&&ht("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,()=>(this.m_=Date.now(),t())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="PersistentStream";class CA{constructor(t,e,i,r,o,u,h,d){this.Fi=t,this.w_=i,this.S_=r,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new IA(t,e)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():e&&e.code===$.RESOURCE_EXHAUSTED?(gs(e.toString()),gs("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):e&&e.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(e)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),e=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.b_===e&&this.W_(i,r)},i=>{t(()=>{const r=new ct($.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(r)})})}W_(t,e){const i=this.K_(this.b_);this.stream=this.z_(t,e),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.e_(()=>{i(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(r=>{i(()=>this.G_(r))}),this.stream.onMessage(r=>{i(()=>++this.C_==1?this.j_(r):this.onNext(r))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(t){return ht(iE,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return e=>{this.Fi.enqueueAndForget(()=>this.b_===t?e():(ht(iE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zO extends CA{constructor(t,e,i,r,o,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,u),this.serializer=o}z_(t,e){return this.connection.P_("Listen",t,e)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const e=GD(this.serializer,t),i=function(o){if(!("targetChange"in o))return St.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?St.min():u.readTime?Di(u.readTime):St.min()}(t);return this.listener.J_(e,i)}H_(t){const e={};e.database=ep(this.serializer),e.addTarget=function(o,u){let h;const d=u.target;if(h=Wm(d)?{documents:QD(o,d)}:{query:XD(o,d).Vt},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=_A(o,u.resumeToken);const m=Zm(o,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(St.min())>0){h.readTime=Af(o,u.snapshotVersion.toTimestamp());const m=Zm(o,u.expectedCount);m!==null&&(h.expectedCount=m)}return h}(this.serializer,t);const i=$D(this.serializer,t);i&&(e.labels=i),this.k_(e)}Y_(t){const e={};e.database=ep(this.serializer),e.removeTarget=t,this.k_(e)}}class BO extends CA{constructor(t,e,i,r,o,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,u),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,e){return this.connection.P_("Write",t,e)}j_(t){return Gt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){Gt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const e=KD(t.writeResults,t.commitTime),i=Di(t.commitTime);return this.listener.ta(i,e)}na(){const t={};t.database=ep(this.serializer),this.k_(t)}X_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>YD(this.serializer,i))};this.k_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{}class HO extends jO{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.ra=!1}ia(){if(this.ra)throw new ct($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,i,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Wo(t,Jm(e,i),r,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ct($.UNKNOWN,o.toString())})}Jo(t,e,i,r,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Jo(t,Jm(e,i),r,u,h,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ct($.UNKNOWN,u.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class FO{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(gs(e),this._a=!1):ht("OnlineStateTracker",e)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="RemoteStore";class qO{constructor(t,e,i,r,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(u=>{i.enqueueAndForget(async()=>{Ra(this)&&(ht(ba,"Restarting streams for network reachability change."),await async function(d){const m=Rt(d);m.Ia.add(4),await nc(m),m.Aa.set("Unknown"),m.Ia.delete(4),await Jf(m)}(this))})}),this.Aa=new FO(i,r)}}async function Jf(n){if(Ra(n))for(const t of n.da)await t(!0)}async function nc(n){for(const t of n.da)await t(!1)}function DA(n,t){const e=Rt(n);e.Ta.has(t.targetId)||(e.Ta.set(t.targetId,t),Kp(e)?Yp(e):$o(e).x_()&&Gp(e,t))}function qp(n,t){const e=Rt(n),i=$o(e);e.Ta.delete(t),i.x_()&&OA(e,t),e.Ta.size===0&&(i.x_()?i.B_():Ra(e)&&e.Aa.set("Unknown"))}function Gp(n,t){if(n.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}$o(n).H_(t)}function OA(n,t){n.Ra.$e(t),$o(n).Y_(t)}function Yp(n){n.Ra=new UD({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>n.Ta.get(t)||null,lt:()=>n.datastore.serializer.databaseId}),$o(n).start(),n.Aa.aa()}function Kp(n){return Ra(n)&&!$o(n).M_()&&n.Ta.size>0}function Ra(n){return Rt(n).Ia.size===0}function MA(n){n.Ra=void 0}async function GO(n){n.Aa.set("Online")}async function YO(n){n.Ta.forEach((t,e)=>{Gp(n,t)})}async function KO(n,t){MA(n),Kp(n)?(n.Aa.la(t),Yp(n)):n.Aa.set("Unknown")}async function QO(n,t,e){if(n.Aa.set("Online"),t instanceof pA&&t.state===2&&t.cause)try{await async function(r,o){const u=o.cause;for(const h of o.targetIds)r.Ta.has(h)&&(await r.remoteSyncer.rejectListen(h,u),r.Ta.delete(h),r.Ra.removeTarget(h))}(n,t)}catch(i){ht(ba,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Rf(n,i)}else if(t instanceof sf?n.Ra.Ye(t):t instanceof mA?n.Ra.it(t):n.Ra.et(t),!e.isEqual(St.min()))try{const i=await xA(n.localStore);e.compareTo(i)>=0&&await function(o,u){const h=o.Ra.Pt(u);return h.targetChanges.forEach((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const _=o.Ta.get(m);_&&o.Ta.set(m,_.withResumeToken(d.resumeToken,u))}}),h.targetMismatches.forEach((d,m)=>{const _=o.Ta.get(d);if(!_)return;o.Ta.set(d,_.withResumeToken(We.EMPTY_BYTE_STRING,_.snapshotVersion)),OA(o,d);const v=new Zs(_.target,d,m,_.sequenceNumber);Gp(o,v)}),o.remoteSyncer.applyRemoteEvent(h)}(n,e)}catch(i){ht(ba,"Failed to raise snapshot:",i),await Rf(n,i)}}async function Rf(n,t,e){if(!Xo(t))throw t;n.Ia.add(1),await nc(n),n.Aa.set("Offline"),e||(e=()=>xA(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ht(ba,"Retrying IndexedDB access"),await e(),n.Ia.delete(1),await Jf(n)})}function kA(n,t){return t().catch(e=>Rf(n,e,t))}async function td(n){const t=Rt(n),e=yr(t);let i=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:Cp;for(;XO(t);)try{const r=await DO(t.localStore,i);if(r===null){t.Pa.length===0&&e.B_();break}i=r.batchId,WO(t,r)}catch(r){await Rf(t,r)}NA(t)&&PA(t)}function XO(n){return Ra(n)&&n.Pa.length<10}function WO(n,t){n.Pa.push(t);const e=yr(n);e.x_()&&e.Z_&&e.X_(t.mutations)}function NA(n){return Ra(n)&&!yr(n).M_()&&n.Pa.length>0}function PA(n){yr(n).start()}async function $O(n){yr(n).na()}async function ZO(n){const t=yr(n);for(const e of n.Pa)t.X_(e.mutations)}async function JO(n,t,e){const i=n.Pa.shift(),r=Lp.from(i,t,e);await kA(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),await td(n)}async function tM(n,t){t&&yr(n).Z_&&await async function(i,r){if(function(u){return VD(u)&&u!==$.ABORTED}(r.code)){const o=i.Pa.shift();yr(i).N_(),await kA(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),await td(i)}}(n,t),NA(n)&&PA(n)}async function sE(n,t){const e=Rt(n);e.asyncQueue.verifyOperationInProgress(),ht(ba,"RemoteStore received new credentials");const i=Ra(e);e.Ia.add(3),await nc(e),i&&e.Aa.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ia.delete(3),await Jf(e)}async function eM(n,t){const e=Rt(n);t?(e.Ia.delete(2),await Jf(e)):t||(e.Ia.add(2),await nc(e),e.Aa.set("Unknown"))}function $o(n){return n.Va||(n.Va=function(e,i,r){const o=Rt(e);return o.ia(),new zO(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Zo:GO.bind(null,n),e_:YO.bind(null,n),n_:KO.bind(null,n),J_:QO.bind(null,n)}),n.da.push(async t=>{t?(n.Va.N_(),Kp(n)?Yp(n):n.Aa.set("Unknown")):(await n.Va.stop(),MA(n))})),n.Va}function yr(n){return n.ma||(n.ma=function(e,i,r){const o=Rt(e);return o.ia(),new BO(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:$O.bind(null,n),n_:tM.bind(null,n),ea:ZO.bind(null,n),ta:JO.bind(null,n)}),n.da.push(async t=>{t?(n.ma.N_(),await td(n)):(await n.ma.stop(),n.Pa.length>0&&(ht(ba,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const u=Date.now()+i,h=new Qp(t,e,u,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xp(n,t){if(gs("AsyncQueue",`${t}: ${n}`),Xo(n))return new ct($.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{static emptySet(t){return new Do(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||pt.comparator(e.key,i.key):(e,i)=>pt.comparator(e.key,i.key),this.keyedMap=yu(),this.sortedSet=new he(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Do)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Do;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(){this.fa=new he(pt.comparator)}track(t){const e=t.doc.key,i=this.fa.get(e);i?t.type!==0&&i.type===3?this.fa=this.fa.insert(e,t):t.type===3&&i.type!==1?this.fa=this.fa.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.fa=this.fa.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.fa=this.fa.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.fa=this.fa.remove(e):t.type===1&&i.type===2?this.fa=this.fa.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.fa=this.fa.insert(e,{type:2,doc:t.doc}):Et(63341,{At:t,ga:i}):this.fa=this.fa.insert(e,t)}pa(){const t=[];return this.fa.inorderTraversal((e,i)=>{t.push(i)}),t}}class zo{constructor(t,e,i,r,o,u,h,d,m){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(t,e,i,r,o){const u=[];return e.forEach(h=>{u.push({type:0,doc:h})}),new zo(t,e,Do.emptySet(e),u,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Kf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(t=>t.ba())}}class iM{constructor(){this.queries=aE(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(e,i){const r=Rt(e),o=r.queries;r.queries=aE(),o.forEach((u,h)=>{for(const d of h.wa)d.onError(i)})})(this,new ct($.ABORTED,"Firestore shutting down"))}}function aE(){return new Aa(n=>nA(n),Kf)}async function VA(n,t){const e=Rt(n);let i=3;const r=t.query;let o=e.queries.get(r);o?!o.Sa()&&t.ba()&&(i=2):(o=new nM,i=t.ba()?0:1);try{switch(i){case 0:o.ya=await e.onListen(r,!0);break;case 1:o.ya=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(u){const h=Xp(u,`Initialization of query '${To(t.query)}' failed`);return void t.onError(h)}e.queries.set(r,o),o.wa.push(t),t.va(e.onlineState),o.ya&&t.Ca(o.ya)&&Wp(e)}async function LA(n,t){const e=Rt(n),i=t.query;let r=3;const o=e.queries.get(i);if(o){const u=o.wa.indexOf(t);u>=0&&(o.wa.splice(u,1),o.wa.length===0?r=t.ba()?0:1:!o.Sa()&&t.ba()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function sM(n,t){const e=Rt(n);let i=!1;for(const r of t){const o=r.query,u=e.queries.get(o);if(u){for(const h of u.wa)h.Ca(r)&&(i=!0);u.ya=r}}i&&Wp(e)}function rM(n,t,e){const i=Rt(n),r=i.queries.get(t);if(r)for(const o of r.wa)o.onError(e);i.queries.delete(t)}function Wp(n){n.Da.forEach(t=>{t.next()})}var sp,oE;(oE=sp||(sp={})).Fa="default",oE.Cache="cache";class UA{constructor(t,e,i){this.query=t,this.Ma=e,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new zo(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),e=!0):this.Ba(t,this.onlineState)&&(this.La(t),e=!0),this.Oa=t,e}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let e=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),e=!0),e}Ba(t,e){if(!t.fromCache||!this.ba())return!0;const i=e!=="Offline";return(!this.options.ka||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const e=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}La(t){t=zo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==sp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(t){this.key=t}}class BA{constructor(t){this.key=t}}class aM{constructor(t,e){this.query=t,this.Ha=e,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Pt(),this.mutatedKeys=Pt(),this.Xa=iA(t),this.eu=new Do(this.Xa)}get tu(){return this.Ha}nu(t,e){const i=e?e.ru:new rE,r=e?e.eu:this.eu;let o=e?e.mutatedKeys:this.mutatedKeys,u=r,h=!1;const d=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,m=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((_,v)=>{const T=r.get(_),A=Qf(this.query,v)?v:null,I=!!T&&this.mutatedKeys.has(T.key),k=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let M=!1;T&&A?T.data.isEqual(A.data)?I!==k&&(i.track({type:3,doc:A}),M=!0):this.iu(T,A)||(i.track({type:2,doc:A}),M=!0,(d&&this.Xa(A,d)>0||m&&this.Xa(A,m)<0)&&(h=!0)):!T&&A?(i.track({type:0,doc:A}),M=!0):T&&!A&&(i.track({type:1,doc:T}),M=!0,(d||m)&&(h=!0)),M&&(A?(u=u.add(A),o=k?o.add(_):o.delete(_)):(u=u.delete(_),o=o.delete(_)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),o=o.delete(_.key),i.track({type:1,doc:_})}return{eu:u,ru:i,Ds:h,mutatedKeys:o}}iu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const o=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const u=t.ru.pa();u.sort((_,v)=>function(A,I){const k=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{At:M})}};return k(A)-k(I)}(_.type,v.type)||this.Xa(_.doc,v.doc)),this.su(i),r=r!=null&&r;const h=e&&!r?this.ou():[],d=this.Za.size===0&&this.current&&!r?1:0,m=d!==this.Ya;return this.Ya=d,u.length!==0||m?{snapshot:new zo(this.query,t.eu,o,u,t.mutatedKeys,d===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:h}:{_u:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new rE,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=Pt(),this.eu.forEach(i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))});const e=[];return t.forEach(i=>{this.Za.has(i)||e.push(new BA(i))}),this.Za.forEach(i=>{t.has(i)||e.push(new zA(i))}),e}uu(t){this.Ha=t.qs,this.Za=Pt();const e=this.nu(t.documents);return this.applyChanges(e,!0)}cu(){return zo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const $p="SyncEngine";class oM{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class lM{constructor(t){this.key=t,this.lu=!1}}class uM{constructor(t,e,i,r,o,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.hu={},this.Pu=new Aa(h=>nA(h),Kf),this.Tu=new Map,this.Iu=new Set,this.du=new he(pt.comparator),this.Eu=new Map,this.Au=new Bp,this.Ru={},this.Vu=new Map,this.mu=Uo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function cM(n,t,e=!0){const i=YA(n);let r;const o=i.Pu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.cu()):r=await jA(i,t,e,!0),r}async function hM(n,t){const e=YA(n);await jA(e,t,!0,!1)}async function jA(n,t,e,i){const r=await OO(n.localStore,Ii(t)),o=r.targetId,u=n.sharedClientState.addLocalQueryTarget(o,e);let h;return i&&(h=await fM(n,t,o,u==="current",r.resumeToken)),n.isPrimaryClient&&e&&DA(n.remoteStore,r),h}async function fM(n,t,e,i,r){n.gu=(v,T,A)=>async function(k,M,H,Q){let tt=M.view.nu(H);tt.Ds&&(tt=await Jb(k.localStore,M.query,!1).then(({documents:O})=>M.view.nu(O,tt)));const rt=Q&&Q.targetChanges.get(M.targetId),nt=Q&&Q.targetMismatches.get(M.targetId)!=null,lt=M.view.applyChanges(tt,k.isPrimaryClient,rt,nt);return uE(k,M.targetId,lt._u),lt.snapshot}(n,v,T,A);const o=await Jb(n.localStore,t,!0),u=new aM(t,o.qs),h=u.nu(o.documents),d=ec.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),m=u.applyChanges(h,n.isPrimaryClient,d);uE(n,e,m._u);const _=new oM(t,e,u);return n.Pu.set(t,_),n.Tu.has(e)?n.Tu.get(e).push(t):n.Tu.set(e,[t]),m.snapshot}async function dM(n,t,e){const i=Rt(n),r=i.Pu.get(t),o=i.Tu.get(r.targetId);if(o.length>1)return i.Tu.set(r.targetId,o.filter(u=>!Kf(u,t))),void i.Pu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await np(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),e&&qp(i.remoteStore,r.targetId),rp(i,r.targetId)}).catch(Qo)):(rp(i,r.targetId),await np(i.localStore,r.targetId,!0))}async function gM(n,t){const e=Rt(n),i=e.Pu.get(t),r=e.Tu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),qp(e.remoteStore,i.targetId))}async function mM(n,t,e){const i=TM(n);try{const r=await function(u,h){const d=Rt(u),m=oe.now(),_=h.reduce((A,I)=>A.add(I.key),Pt());let v,T;return d.persistence.runTransaction("Locally write mutations","readwrite",A=>{let I=ms(),k=Pt();return d.Os.getEntries(A,_).next(M=>{I=M,I.forEach((H,Q)=>{Q.isValidDocument()||(k=k.add(H))})}).next(()=>d.localDocuments.getOverlayedDocuments(A,I)).next(M=>{v=M;const H=[];for(const Q of h){const tt=OD(Q,v.get(Q.key).overlayedDocument);tt!=null&&H.push(new wa(Q.key,tt,QS(tt.value.mapValue),Ci.exists(!0)))}return d.mutationQueue.addMutationBatch(A,m,H,h)}).next(M=>{T=M;const H=M.applyToLocalDocumentSet(v,k);return d.documentOverlayCache.saveOverlays(A,M.batchId,H)})}).then(()=>({batchId:T.batchId,changes:rA(v)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(u,h,d){let m=u.Ru[u.currentUser.toKey()];m||(m=new he(Ct)),m=m.insert(h,d),u.Ru[u.currentUser.toKey()]=m}(i,r.batchId,e),await ic(i,r.changes),await td(i.remoteStore)}catch(r){const o=Xp(r,"Failed to persist write");e.reject(o)}}async function HA(n,t){const e=Rt(n);try{const i=await IO(e.localStore,t);t.targetChanges.forEach((r,o)=>{const u=e.Eu.get(o);u&&(Gt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?u.lu=!0:r.modifiedDocuments.size>0?Gt(u.lu,14607):r.removedDocuments.size>0&&(Gt(u.lu,42227),u.lu=!1))}),await ic(e,i,t)}catch(i){await Qo(i)}}function lE(n,t,e){const i=Rt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.Pu.forEach((o,u)=>{const h=u.view.va(t);h.snapshot&&r.push(h.snapshot)}),function(u,h){const d=Rt(u);d.onlineState=h;let m=!1;d.queries.forEach((_,v)=>{for(const T of v.wa)T.va(h)&&(m=!0)}),m&&Wp(d)}(i.eventManager,t),r.length&&i.hu.J_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function pM(n,t,e){const i=Rt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Eu.get(t),o=r&&r.key;if(o){let u=new he(pt.comparator);u=u.insert(o,nn.newNoDocument(o,St.min()));const h=Pt().add(o),d=new $f(St.min(),new Map,new he(Ct),u,h);await HA(i,d),i.du=i.du.remove(o),i.Eu.delete(t),Zp(i)}else await np(i.localStore,t,!1).then(()=>rp(i,t,e)).catch(Qo)}async function _M(n,t){const e=Rt(n),i=t.batch.batchId;try{const r=await xO(e.localStore,t);qA(e,i,null),FA(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await ic(e,r)}catch(r){await Qo(r)}}async function yM(n,t,e){const i=Rt(n);try{const r=await function(u,h){const d=Rt(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let _;return d.mutationQueue.lookupMutationBatch(m,h).next(v=>(Gt(v!==null,37113),_=v.keys(),d.mutationQueue.removeMutationBatch(m,v))).next(()=>d.mutationQueue.performConsistencyCheck(m)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(m,_,h)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_)).next(()=>d.localDocuments.getDocuments(m,_))})}(i.localStore,t);qA(i,t,e),FA(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await ic(i,r)}catch(r){await Qo(r)}}function FA(n,t){(n.Vu.get(t)||[]).forEach(e=>{e.resolve()}),n.Vu.delete(t)}function qA(n,t,e){const i=Rt(n);let r=i.Ru[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Ru[i.currentUser.toKey()]=r}}function rp(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Tu.get(t))n.Pu.delete(i),e&&n.hu.pu(i,e);n.Tu.delete(t),n.isPrimaryClient&&n.Au.zr(t).forEach(i=>{n.Au.containsKey(i)||GA(n,i)})}function GA(n,t){n.Iu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(qp(n.remoteStore,e),n.du=n.du.remove(t),n.Eu.delete(e),Zp(n))}function uE(n,t,e){for(const i of e)i instanceof zA?(n.Au.addReference(i.key,t),vM(n,i)):i instanceof BA?(ht($p,"Document no longer in limbo: "+i.key),n.Au.removeReference(i.key,t),n.Au.containsKey(i.key)||GA(n,i.key)):Et(19791,{yu:i})}function vM(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Iu.has(i)||(ht($p,"New document in limbo: "+e),n.Iu.add(i),Zp(n))}function Zp(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Iu.values().next().value;n.Iu.delete(t);const e=new pt(re.fromString(t)),i=n.mu.next();n.Eu.set(i,new lM(e)),n.du=n.du.insert(e,i),DA(n.remoteStore,new Zs(Ii(Np(e.path)),i,"TargetPurposeLimboResolution",qf.ue))}}async function ic(n,t,e){const i=Rt(n),r=[],o=[],u=[];i.Pu.isEmpty()||(i.Pu.forEach((h,d)=>{u.push(i.gu(d,t,e).then(m=>{var _;if((m||e)&&i.isPrimaryClient){const v=m?!m.fromCache:(_=e?.targetChanges.get(d.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(d.targetId,v?"current":"not-current")}if(m){r.push(m);const v=Hp.Es(d.targetId,m);o.push(v)}}))}),await Promise.all(u),i.hu.J_(r),await async function(d,m){const _=Rt(d);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>J.forEach(m,T=>J.forEach(T.Is,A=>_.persistence.referenceDelegate.addReference(v,T.targetId,A)).next(()=>J.forEach(T.ds,A=>_.persistence.referenceDelegate.removeReference(v,T.targetId,A)))))}catch(v){if(!Xo(v))throw v;ht(Fp,"Failed to update sequence numbers: "+v)}for(const v of m){const T=v.targetId;if(!v.fromCache){const A=_.Fs.get(T),I=A.snapshotVersion,k=A.withLastLimboFreeSnapshotVersion(I);_.Fs=_.Fs.insert(T,k)}}}(i.localStore,o))}async function bM(n,t){const e=Rt(n);if(!e.currentUser.isEqual(t)){ht($p,"User change. New user:",t.toKey());const i=await RA(e.localStore,t);e.currentUser=t,function(o,u){o.Vu.forEach(h=>{h.forEach(d=>{d.reject(new ct($.CANCELLED,u))})}),o.Vu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await ic(e,i.Bs)}}function EM(n,t){const e=Rt(n),i=e.Eu.get(t);if(i&&i.lu)return Pt().add(i.key);{let r=Pt();const o=e.Tu.get(t);if(!o)return r;for(const u of o){const h=e.Pu.get(u);r=r.unionWith(h.view.tu)}return r}}function YA(n){const t=Rt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=HA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=EM.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=pM.bind(null,t),t.hu.J_=sM.bind(null,t.eventManager),t.hu.pu=rM.bind(null,t.eventManager),t}function TM(n){const t=Rt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_M.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=yM.bind(null,t),t}class xf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Zf(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,e){return null}Fu(t,e){return null}vu(t){return RO(this.persistence,new SO,t.initialUser,this.serializer)}Du(t){return new wA(jp.Vi,this.serializer)}bu(t){return new kO}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xf.provider={build:()=>new xf};class SM extends xf{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,e){Gt(this.persistence.referenceDelegate instanceof wf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new lO(i,t.asyncQueue,e)}Du(t){const e=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new wA(i=>wf.Vi(i,e),this.serializer)}}class ap{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>lE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=bM.bind(null,this.syncEngine),await eM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new iM}()}createDatastore(t){const e=Zf(t.databaseInfo.databaseId),i=function(o){return new UO(o)}(t.databaseInfo);return function(o,u,h,d){return new HO(o,u,h,d)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return function(i,r,o,u,h){return new qO(i,r,o,u,h)}(this.localStore,this.datastore,t.asyncQueue,e=>lE(this.syncEngine,e,0),function(){return nE.C()?new nE:new NO}())}createSyncEngine(t,e){return function(r,o,u,h,d,m,_){const v=new uM(r,o,u,h,d,m);return _&&(v.fu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(r){const o=Rt(r);ht(ba,"RemoteStore shutting down."),o.Ia.add(5),await nc(o),o.Ea.shutdown(),o.Aa.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}ap.provider={build:()=>new ap};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):gs("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr="FirestoreClient";class AM{constructor(t,e,i,r,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=en.UNAUTHENTICATED,this.clientId=Ip.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async u=>{ht(vr,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(ht(vr,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=Xp(e,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Am(n,t){n.asyncQueue.verifyOperationInProgress(),ht(vr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(async r=>{i.isEqual(r)||(await RA(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>{dr("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{ht("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(r=>{dr("Terminating Firestore due to IndexedDb database deletion failed",r)})}),n._offlineComponents=t}async function cE(n,t){n.asyncQueue.verifyOperationInProgress();const e=await wM(n);ht(vr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>sE(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>sE(t.remoteStore,r)),n._onlineComponents=t}async function wM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ht(vr,"Using user provided OfflineComponentProvider");try{await Am(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(r){return r.name==="FirebaseError"?r.code===$.FAILED_PRECONDITION||r.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(e))throw e;dr("Error using user provided cache. Falling back to memory cache: "+e),await Am(n,new xf)}}else ht(vr,"Using default OfflineComponentProvider"),await Am(n,new SM(void 0));return n._offlineComponents}async function QA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ht(vr,"Using user provided OnlineComponentProvider"),await cE(n,n._uninitializedComponentsProvider._online)):(ht(vr,"Using default OnlineComponentProvider"),await cE(n,new ap))),n._onlineComponents}function RM(n){return QA(n).then(t=>t.syncEngine)}async function op(n){const t=await QA(n),e=t.eventManager;return e.onListen=cM.bind(null,t.syncEngine),e.onUnlisten=dM.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=hM.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=gM.bind(null,t.syncEngine),e}function xM(n,t,e={}){const i=new or;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,d,m){const _=new KA({next:T=>{_.Ou(),u.enqueueAndForget(()=>LA(o,v)),T.fromCache&&d.source==="server"?m.reject(new ct($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(T)},error:T=>m.reject(T)}),v=new UA(h,_,{includeMetadataChanges:!0,ka:!0});return VA(o,v)}(await op(n),n.asyncQueue,t,e,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA="firestore.googleapis.com",fE=!0;class dE{constructor(t){var e,i;if(t.host===void 0){if(t.ssl!==void 0)throw new ct($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=WA,this.ssl=fE}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:fE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=AA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<aO)throw new ct($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}G2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XA((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ct($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ct($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ct($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ed{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new V2;switch(i.type){case"firstParty":return new B2(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ct($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=hE.get(e);i&&(ht("ComponentProvider","Removing Datastore"),hE.delete(e),i.terminate())}(this),Promise.resolve()}}function IM(n,t,e,i={}){var r;n=lr(n,ed);const o=Fo(t),u=n._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),d=`${t}:${e}`;o&&(jT(`https://${d}`),HT("Firestore",!0)),u.host!==WA&&u.host!==d&&dr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},u),{host:d,ssl:o,emulatorOptions:i});if(!pa(m,h)&&(n._setSettings(m),i.mockUserToken)){let _,v;if(typeof i.mockUserToken=="string")_=i.mockUserToken,v=en.MOCK_USER;else{_=KR(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new ct($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new en(T)}n._authCredentials=new L2(new PS(_,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new _s(this.firestore,t,this._query)}}class ke{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ur(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ke(this.firestore,t,this._key)}toJSON(){return{type:ke._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(Ju(e,ke._jsonSchema))return new ke(t,i||null,new pt(re.fromString(e.referencePath)))}}ke._jsonSchemaVersion="firestore/documentReference/1.0",ke._jsonSchema={type:xe("string",ke._jsonSchemaVersion),referencePath:xe("string")};class ur extends _s{constructor(t,e,i){super(t,e,Np(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ke(this.firestore,null,new pt(t))}withConverter(t){return new ur(this.firestore,t,this._path)}}function If(n,t,...e){if(n=rn(n),LS("collection","path",t),n instanceof ed){const i=re.fromString(t,...e);return Rb(i),new ur(n,null,i)}{if(!(n instanceof ke||n instanceof ur))throw new ct($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(re.fromString(t,...e));return Rb(i),new ur(n.firestore,null,i)}}function $A(n,t,...e){if(n=rn(n),arguments.length===1&&(t=Ip.newId()),LS("doc","path",t),n instanceof ed){const i=re.fromString(t,...e);return wb(i),new ke(n,null,new pt(i))}{if(!(n instanceof ke||n instanceof ur))throw new ct($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(re.fromString(t,...e));return wb(i),new ke(n.firestore,n instanceof ur?n.converter:null,new pt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="AsyncQueue";class mE{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new IA(this,"async_queue_retry"),this.oc=()=>{const i=Sm();i&&ht(gE,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=t;const e=Sm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const e=Sm();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise(()=>{});const e=new or;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Zu.push(t),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!Xo(t))throw t;ht(gE,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(t){const e=this._c.then(()=>(this.nc=!0,t().catch(i=>{throw this.tc=i,this.nc=!1,gs("INTERNAL UNHANDLED ERROR: ",pE(i)),i}).then(i=>(this.nc=!1,i))));return this._c=e,e}enqueueAfterDelay(t,e,i){this.ac(),this.sc.indexOf(t)>-1&&(e=0);const r=Qp.createAndSchedule(this,t,e,i,o=>this.lc(o));return this.ec.push(r),r}ac(){this.tc&&Et(47125,{hc:pE(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const e of this.ec)if(e.timerId===t)return!0;return!1}Ic(t){return this.Pc().then(()=>{this.ec.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.ec)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Pc()})}dc(t){this.sc.push(t)}lc(t){const e=this.ec.indexOf(t);this.ec.splice(e,1)}}function pE(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(n){return function(e,i){if(typeof e!="object"||e===null)return!1;const r=e;for(const o of i)if(o in r&&typeof r[o]=="function")return!0;return!1}(n,["next","error","complete"])}class Bo extends ed{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new mE,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new mE(t),this._firestoreClient=void 0,await t}}}function CM(n,t){const e=typeof n=="object"?n:YT(),i=typeof n=="string"?n:yf,r=_p(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=GR("firestore");o&&IM(r,...o)}return r}function Jp(n){if(n._terminated)throw new ct($.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||DM(n),n._firestoreClient}function DM(n){var t,e,i;const r=n._freezeSettings(),o=function(h,d,m,_){return new nD(h,d,m,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,XA(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((e=r.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new AM(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(h){const d=h?._online.build();return{_offline:h?._offline.build(d),_online:d}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Fn(We.fromBase64String(t))}catch(e){throw new ct($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Fn(We.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ju(t,Fn._jsonSchema))return Fn.fromBase64String(t.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:xe("string",Fn._jsonSchemaVersion),bytes:xe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ct($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ct($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ct($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ct(this._lat,t._lat)||Ct(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oi._jsonSchemaVersion}}static fromJSON(t){if(Ju(t,Oi._jsonSchema))return new Oi(t.latitude,t.longitude)}}Oi._jsonSchemaVersion="firestore/geoPoint/1.0",Oi._jsonSchema={type:xe("string",Oi._jsonSchemaVersion),latitude:xe("number"),longitude:xe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ju(t,Mi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(e=>typeof e=="number"))return new Mi(t.vectorValues);throw new ct($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mi._jsonSchemaVersion="firestore/vectorValue/1.0",Mi._jsonSchema={type:xe("string",Mi._jsonSchemaVersion),vectorValues:xe("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=/^__.*__$/;class MM{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new wa(t,this.data,this.fieldMask,e,this.fieldTransforms):new tc(t,this.data,e,this.fieldTransforms)}}function JA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ec:n})}}class e_{constructor(t,e,i,r,o,u){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new e_(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.Rc({path:i,mc:!1});return r.fc(t),r}gc(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.Rc({path:i,mc:!1});return r.Ac(),r}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return Cf(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(JA(this.Ec)&&OM.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class kM{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Zf(t)}Dc(t,e,i,r=!1){return new e_({Ec:t,methodName:e,bc:i,path:Xe.emptyPath(),mc:!1,Sc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tw(n){const t=n._freezeSettings(),e=Zf(n._databaseId);return new kM(n._databaseId,!!t.ignoreUndefinedProperties,e)}function NM(n,t,e,i,r,o={}){const u=n.Dc(o.merge||o.mergeFields?2:0,t,e,r);iw("Data must be an object, but it was:",u,i);const h=ew(i,u);let d,m;if(o.merge)d=new Jn(u.fieldMask),m=u.fieldTransforms;else if(o.mergeFields){const _=[];for(const v of o.mergeFields){const T=VM(t,v,e);if(!u.contains(T))throw new ct($.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);UM(_,T)||_.push(T)}d=new Jn(_),m=u.fieldTransforms.filter(v=>d.covers(v.field))}else d=null,m=u.fieldTransforms;return new MM(new Hn(h),d,m)}function PM(n,t,e,i=!1){return n_(e,n.Dc(i?4:3,t))}function n_(n,t){if(nw(n=rn(n)))return iw("Unsupported field value:",t,n),ew(n,t);if(n instanceof ZA)return function(i,r){if(!JA(r.Ec))throw r.wc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.wc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return function(i,r){const o=[];let u=0;for(const h of i){let d=n_(h,r.yc(u));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),u++}return{arrayValue:{values:o}}}(n,t)}return function(i,r){if((i=rn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return wD(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=oe.fromDate(i);return{timestampValue:Af(r.serializer,o)}}if(i instanceof oe){const o=new oe(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Af(r.serializer,o)}}if(i instanceof Oi)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Fn)return{bytesValue:_A(r.serializer,i._byteString)};if(i instanceof ke){const o=r.databaseId,u=i.firestore._databaseId;if(!u.isEqual(o))throw r.wc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:zp(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Mi)return function(u,h){return{mapValue:{fields:{[YS]:{stringValue:KS},[vf]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw h.wc("VectorValues must only contain numeric values.");return Pp(h.serializer,m)})}}}}}}(i,r);throw r.wc(`Unsupported field value: ${Ff(i)}`)}(n,t)}function ew(n,t){const e={};return BS(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Sa(n,(i,r)=>{const o=n_(r,t.Vc(i));o!=null&&(e[i]=o)}),{mapValue:{fields:e}}}function nw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof oe||n instanceof Oi||n instanceof Fn||n instanceof ke||n instanceof ZA||n instanceof Mi)}function iw(n,t,e){if(!nw(e)||!US(e)){const i=Ff(e);throw i==="an object"?t.wc(n+" a custom object"):t.wc(n+" "+i)}}function VM(n,t,e){if((t=rn(t))instanceof t_)return t._internalPath;if(typeof t=="string")return sw(n,t);throw Cf("Field path arguments must be of type string or ",n,!1,void 0,e)}const LM=new RegExp("[~\\*/\\[\\]]");function sw(n,t,e){if(t.search(LM)>=0)throw Cf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new t_(...t.split("."))._internalPath}catch{throw Cf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Cf(n,t,e,i,r){const o=i&&!i.isEmpty(),u=r!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||u)&&(d+=" (found",o&&(d+=` in field ${i}`),u&&(d+=` in document ${r}`),d+=")"),new ct($.INVALID_ARGUMENT,h+n+d)}function UM(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new zM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(nd("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class zM extends rw{data(){return super.data()}}function nd(n,t){return typeof t=="string"?sw(n,t):t instanceof t_?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ct($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class i_{}class s_ extends i_{}function ow(n,t,...e){let i=[];t instanceof i_&&i.push(t),i=i.concat(e),function(o){const u=o.filter(d=>d instanceof r_).length,h=o.filter(d=>d instanceof id).length;if(u>1||u>0&&h>0)throw new ct($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class id extends s_{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new id(t,e,i)}_apply(t){const e=this._parse(t);return uw(t._query,e),new _s(t.firestore,t.converter,$m(t._query,e))}_parse(t){const e=tw(t.firestore);return function(o,u,h,d,m,_,v){let T;if(m.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ct($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){bE(v,_);const I=[];for(const k of v)I.push(vE(d,o,k));T={arrayValue:{values:I}}}else T=vE(d,o,v)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||bE(v,_),T=PM(h,u,v,_==="in"||_==="not-in");return Re.create(m,_,T)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function yE(n,t,e){const i=t,r=nd("where",n);return id._create(r,i,e)}class r_ extends i_{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new r_(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return e.length===1?e[0]:ii.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(r,o){let u=r;const h=o.getFlattenedFilters();for(const d of h)uw(u,d),u=$m(u,d)}(t._query,e),new _s(t.firestore,t.converter,$m(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class a_ extends s_{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new a_(t,e)}_apply(t){const e=function(r,o,u){if(r.startAt!==null)throw new ct($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new ct($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ju(o,u)}(t._query,this._field,this._direction);return new _s(t.firestore,t.converter,function(r,o){const u=r.explicitOrderBy.concat([o]);return new Wo(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}function lw(n,t="asc"){const e=t,i=nd("orderBy",n);return a_._create(i,e)}class o_ extends s_{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new o_(t,e,i)}_apply(t){return new _s(t.firestore,t.converter,Ef(t._query,this._limit,this._limitType))}}function BM(n){return o_._create("limit",n,"F")}function vE(n,t,e){if(typeof(e=rn(e))=="string"){if(e==="")throw new ct($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eA(t)&&e.indexOf("/")!==-1)throw new ct($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(re.fromString(e));if(!pt.isDocumentKey(i))throw new ct($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Nb(n,new pt(i))}if(e instanceof ke)return Nb(n,e._key);throw new ct($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ff(e)}.`)}function bE(n,t){if(!Array.isArray(n)||n.length===0)throw new ct($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function uw(n,t){const e=function(r,o){for(const u of r)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new ct($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ct($.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class jM{convertValue(t,e="none"){switch(_r(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ve(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(pr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Sa(t,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertVectorValue(t){var e,i,r;const o=(r=(i=(e=t.fields)===null||e===void 0?void 0:e[vf].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(u=>ve(u.doubleValue));return new Mi(o)}convertGeoPoint(t){return new Oi(ve(t.latitude),ve(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Yf(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Uu(t));default:return null}}convertTimestamp(t){const e=mr(t);return new oe(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=re.fromString(t);Gt(SA(i),9688,{name:t});const r=new zu(i.get(1),i.get(3)),o=new pt(i.popFirst(5));return r.isEqual(e)||gs(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(n,t,e){let i;return i=n?n.toFirestore(t):t,i}class bu{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class da extends rw{constructor(t,e,i,r,o,u){super(t,e,i,r,u),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new rf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(nd("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=da._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}da._jsonSchemaVersion="firestore/documentSnapshot/1.0",da._jsonSchema={type:xe("string",da._jsonSchemaVersion),bundleSource:xe("string","DocumentSnapshot"),bundleName:xe("string"),bundle:xe("string")};class rf extends da{data(t={}){return super.data(t)}}class ga{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new bu(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new rf(this._firestore,this._userDataWriter,i.key,i,new bu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ct($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(h=>{const d=new rf(r._firestore,r._userDataWriter,h.doc.key,h.doc,new bu(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const d=new rf(r._firestore,r._userDataWriter,h.doc.key,h.doc,new bu(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let m=-1,_=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),_=u.indexOf(h.doc.key)),{type:FM(h.type),doc:d,oldIndex:m,newIndex:_}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ga._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Ip.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],r=[];return this.docs.forEach(o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function FM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:n})}}ga._jsonSchemaVersion="firestore/querySnapshot/1.0",ga._jsonSchema={type:xe("string",ga._jsonSchemaVersion),bundleSource:xe("string","QuerySnapshot"),bundleName:xe("string"),bundle:xe("string")};class l_ extends jM{constructor(t){super(),this.firestore=t}convertBytes(t){return new Fn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ke(this.firestore,null,e)}}function qM(n){n=lr(n,_s);const t=lr(n.firestore,Bo),e=Jp(t),i=new l_(t);return aw(n._query),xM(e,n._query).then(r=>new ga(t,i,n,r))}function GM(n){return hw(lr(n.firestore,Bo),[new Vp(n._key,Ci.none())])}function cw(n,t){const e=lr(n.firestore,Bo),i=$A(n),r=HM(n.converter,t);return hw(e,[NM(tw(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,Ci.exists(!1))]).then(()=>i)}function YM(n,...t){var e,i,r;n=rn(n);let o={includeMetadataChanges:!1,source:"default"},u=0;typeof t[u]!="object"||_E(t[u])||(o=t[u++]);const h={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(_E(t[u])){const v=t[u];t[u]=(e=v.next)===null||e===void 0?void 0:e.bind(v),t[u+1]=(i=v.error)===null||i===void 0?void 0:i.bind(v),t[u+2]=(r=v.complete)===null||r===void 0?void 0:r.bind(v)}let d,m,_;if(n instanceof ke)m=lr(n.firestore,Bo),_=Np(n._key.path),d={next:v=>{t[u]&&t[u](KM(m,n,v))},error:t[u+1],complete:t[u+2]};else{const v=lr(n,_s);m=lr(v.firestore,Bo),_=v._query;const T=new l_(m);d={next:A=>{t[u]&&t[u](new ga(m,T,v,A))},error:t[u+1],complete:t[u+2]},aw(n._query)}return function(T,A,I,k){const M=new KA(k),H=new UA(A,M,I);return T.asyncQueue.enqueueAndForget(async()=>VA(await op(T),H)),()=>{M.Ou(),T.asyncQueue.enqueueAndForget(async()=>LA(await op(T),H))}}(Jp(m),_,h,d)}function hw(n,t){return function(i,r){const o=new or;return i.asyncQueue.enqueueAndForget(async()=>mM(await RM(i),r,o)),o.promise}(Jp(n),t)}function KM(n,t,e){const i=e.docs.get(t._key),r=new l_(n);return new da(n,r,t._key,i,new bu(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(r){Ko=r})(qo),ko(new _a("firestore",(i,{instanceIdentifier:r,options:o})=>{const u=i.getProvider("app").getImmediate(),h=new Bo(new U2(i.getProvider("auth-internal")),new j2(u,i.getProvider("app-check-internal")),function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ct($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zu(m.options.projectId,_)}(u,r),u);return o=Object.assign({useFetchStreams:e},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),sr(bb,Eb,t),sr(bb,Eb,"esm2017")})();const QM={apiKey:"AIzaSyBCquZbrEGg9CHUhbzrFhFwDejhc0Mw-aQ",authDomain:"pruebas-c80da.firebaseapp.com",projectId:"pruebas-c80da",storageBucket:"pruebas-c80da.firebasestorage.app",messagingSenderId:"168916926366",appId:"1:168916926366:web:a3b7e882356f6d0cb8a08f",measurementId:"G-XMVGNQ24XY"},fw=GT(QM),lp=M2(fw),Du=CM(fw);function XM({onLogin:n}){const[t,e]=me.useState(""),[i,r]=me.useState(""),[o,u]=me.useState(""),h=async d=>{d.preventDefault();try{await _C(lp,t,i),n()}catch{u("Credenciales incorrectas o usuario no autorizado")}};return ut.jsxs("div",{className:"max-w-sm mx-auto mt-10 p-4 border rounded shadow",children:[ut.jsx("h2",{className:"text-xl font-bold mb-4 text-center",children:"Inicia sesin"}),ut.jsxs("form",{onSubmit:h,className:"flex flex-col gap-4",children:[ut.jsx("input",{type:"email",placeholder:"Correo",value:t,onChange:d=>e(d.target.value),className:"p-2 border rounded",required:!0}),ut.jsx("input",{type:"password",placeholder:"Contrasea",value:i,onChange:d=>r(d.target.value),className:"p-2 border rounded",required:!0}),o&&ut.jsx("p",{className:"text-red-500 text-sm",children:o}),ut.jsx("button",{type:"submit",className:"bg-blue-500 text-white py-2 rounded hover:bg-blue-600",children:"Entrar"})]})]})}function WM({onAdd:n}){const[t,e]=me.useState(""),i=()=>{t&&(n(t),e(""))};return ut.jsxs("div",{className:"flex flex-col items-center gap-4",children:[ut.jsxs("select",{value:t,onChange:r=>e(r.target.value),className:"border border-gray-300 rounded px-4 py-2",children:[ut.jsx("option",{value:"",children:"Selecciona una bebida"}),ut.jsx("option",{value:"cubata",children:"Cubata"}),ut.jsx("option",{value:"chupito",children:"Chupito"}),ut.jsx("option",{value:"cerveza",children:"Cerveza"})]}),ut.jsx("button",{onClick:i,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded disabled:opacity-50",disabled:!t,children:"Aadir bebida"})]})}const $M={"vilari.ser@gmail.com":"Sergio","iriasanchezgarcia@gmail.com":"Iria"};function dw({email:n}){const t=$M[n]||"Usuario Desconocido";return ut.jsx("span",{className:"text-gray-700 font-semibold",children:t})}function ZM({bebidas:n}){if(!n.length)return ut.jsx("p",{children:"No hay datos an."});const t=new Date,e=24,i=n.reduce((r,o)=>{const u=o.email||"Annimo";return r[u]||(r[u]=[]),r[u].push(o),r},{});return ut.jsxs("div",{className:"mt-6",children:[ut.jsx("h2",{className:"text-lg font-bold mb-2",children:" Estadsticas Globales"}),Object.entries(i).map(([r,o])=>{const u=o[0],h=o.filter(_=>{const v=new Date(_.timestamp);return(t-v)/(1e3*60*60)<e}),d=h.reduce((_,v)=>(_[v.tipo]=(_[v.tipo]||0)+1,_),{}),m=Object.entries(d).map(([_,v])=>`${v} ${_}${v>1?"s":""}`).join(", ");return ut.jsxs("div",{className:"mb-4 border-b pb-2",children:[ut.jsx("p",{className:"font-semibold",children:ut.jsx(dw,{email:r})}),ut.jsxs("p",{className:"text-sm text-gray-600",children:["ltima bebida: ",u.tipo,"  ",new Date(u.timestamp).toLocaleTimeString()]}),ut.jsx("p",{className:"text-sm mt-1",children:h.length>0?`ltimas ${e}h: ${m}`:ut.jsx("span",{className:"italic text-gray-500",children:"Sin datos recientes"})})]},r)})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function sc(n){return n+.5|0}const Js=(n,t,e)=>Math.max(Math.min(n,e),t);function Eu(n){return Js(sc(n*2.55),0,255)}function cr(n){return Js(sc(n*255),0,255)}function us(n){return Js(sc(n/2.55)/100,0,1)}function EE(n){return Js(sc(n*100),0,100)}const jn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},up=[..."0123456789ABCDEF"],JM=n=>up[n&15],tk=n=>up[(n&240)>>4]+up[n&15],Vh=n=>(n&240)>>4===(n&15),ek=n=>Vh(n.r)&&Vh(n.g)&&Vh(n.b)&&Vh(n.a);function nk(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&jn[n[1]]*17,g:255&jn[n[2]]*17,b:255&jn[n[3]]*17,a:t===5?jn[n[4]]*17:255}:(t===7||t===9)&&(e={r:jn[n[1]]<<4|jn[n[2]],g:jn[n[3]]<<4|jn[n[4]],b:jn[n[5]]<<4|jn[n[6]],a:t===9?jn[n[7]]<<4|jn[n[8]]:255})),e}const ik=(n,t)=>n<255?t(n):"";function sk(n){var t=ek(n)?JM:tk;return n?"#"+t(n.r)+t(n.g)+t(n.b)+ik(n.a,t):void 0}const rk=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function gw(n,t,e){const i=t*Math.min(e,1-e),r=(o,u=(o+n/30)%12)=>e-i*Math.max(Math.min(u-3,9-u,1),-1);return[r(0),r(8),r(4)]}function ak(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function ok(n,t,e){const i=gw(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function lk(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function u_(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),u=Math.min(e,i,r),h=(o+u)/2;let d,m,_;return o!==u&&(_=o-u,m=h>.5?_/(2-o-u):_/(o+u),d=lk(e,i,r,_,o),d=d*60+.5),[d|0,m||0,h]}function c_(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(cr)}function h_(n,t,e){return c_(gw,n,t,e)}function uk(n,t,e){return c_(ok,n,t,e)}function ck(n,t,e){return c_(ak,n,t,e)}function mw(n){return(n%360+360)%360}function hk(n){const t=rk.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Eu(+t[5]):cr(+t[5]));const r=mw(+t[2]),o=+t[3]/100,u=+t[4]/100;return t[1]==="hwb"?i=uk(r,o,u):t[1]==="hsv"?i=ck(r,o,u):i=h_(r,o,u),{r:i[0],g:i[1],b:i[2],a:e}}function fk(n,t){var e=u_(n);e[0]=mw(e[0]+t),e=h_(e),n.r=e[0],n.g=e[1],n.b=e[2]}function dk(n){if(!n)return;const t=u_(n),e=t[0],i=EE(t[1]),r=EE(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${us(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const TE={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},SE={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function gk(){const n={},t=Object.keys(SE),e=Object.keys(TE);let i,r,o,u,h;for(i=0;i<t.length;i++){for(u=h=t[i],r=0;r<e.length;r++)o=e[r],h=h.replace(o,TE[o]);o=parseInt(SE[u],16),n[h]=[o>>16&255,o>>8&255,o&255]}return n}let Lh;function mk(n){Lh||(Lh=gk(),Lh.transparent=[0,0,0,0]);const t=Lh[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const pk=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function _k(n){const t=pk.exec(n);let e=255,i,r,o;if(t){if(t[7]!==i){const u=+t[7];e=t[8]?Eu(u):Js(u*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?Eu(i):Js(i,0,255)),r=255&(t[4]?Eu(r):Js(r,0,255)),o=255&(t[6]?Eu(o):Js(o,0,255)),{r:i,g:r,b:o,a:e}}}function yk(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${us(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const wm=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,bo=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function vk(n,t,e){const i=bo(us(n.r)),r=bo(us(n.g)),o=bo(us(n.b));return{r:cr(wm(i+e*(bo(us(t.r))-i))),g:cr(wm(r+e*(bo(us(t.g))-r))),b:cr(wm(o+e*(bo(us(t.b))-o))),a:n.a+e*(t.a-n.a)}}function Uh(n,t,e){if(n){let i=u_(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=h_(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function pw(n,t){return n&&Object.assign(t||{},n)}function AE(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=cr(n[3]))):(t=pw(n,{r:0,g:0,b:0,a:1}),t.a=cr(t.a)),t}function bk(n){return n.charAt(0)==="r"?_k(n):hk(n)}class qu{constructor(t){if(t instanceof qu)return t;const e=typeof t;let i;e==="object"?i=AE(t):e==="string"&&(i=nk(t)||mk(t)||bk(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=pw(this._rgb);return t&&(t.a=us(t.a)),t}set rgb(t){this._rgb=AE(t)}rgbString(){return this._valid?yk(this._rgb):void 0}hexString(){return this._valid?sk(this._rgb):void 0}hslString(){return this._valid?dk(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const u=e===o?.5:e,h=2*u-1,d=i.a-r.a,m=((h*d===-1?h:(h+d)/(1+h*d))+1)/2;o=1-m,i.r=255&m*i.r+o*r.r+.5,i.g=255&m*i.g+o*r.g+.5,i.b=255&m*i.b+o*r.b+.5,i.a=u*i.a+(1-u)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=vk(this._rgb,t._rgb,e)),this}clone(){return new qu(this.rgb)}alpha(t){return this._rgb.a=cr(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=sc(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Uh(this._rgb,2,t),this}darken(t){return Uh(this._rgb,2,-t),this}saturate(t){return Uh(this._rgb,1,t),this}desaturate(t){return Uh(this._rgb,1,-t),this}rotate(t){return fk(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function as(){}const Ek=(()=>{let n=0;return()=>n++})();function ne(n){return n==null}function He(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function jt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function qn(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Ti(n,t){return qn(n)?n:t}function Ft(n,t){return typeof n>"u"?t:n}const Tk=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function ae(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Xt(n,t,e,i){let r,o,u;if(He(n))for(o=n.length,r=0;r<o;r++)t.call(e,n[r],r);else if(jt(n))for(u=Object.keys(n),o=u.length,r=0;r<o;r++)t.call(e,n[u[r]],u[r])}function Df(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Of(n){if(He(n))return n.map(Of);if(jt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=Of(n[e[r]]);return t}return n}function _w(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function Sk(n,t,e,i){if(!_w(n))return;const r=t[n],o=e[n];jt(r)&&jt(o)?Gu(r,o,i):t[n]=Of(o)}function Gu(n,t,e){const i=He(t)?t:[t],r=i.length;if(!jt(n))return n;e=e||{};const o=e.merger||Sk;let u;for(let h=0;h<r;++h){if(u=i[h],!jt(u))continue;const d=Object.keys(u);for(let m=0,_=d.length;m<_;++m)o(d[m],n,u,e)}return n}function Ou(n,t){return Gu(n,t,{merger:Ak})}function Ak(n,t,e){if(!_w(n))return;const i=t[n],r=e[n];jt(i)&&jt(r)?Ou(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Of(r))}const wE={"":n=>n,x:n=>n.x,y:n=>n.y};function wk(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function Rk(n){const t=wk(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function jo(n,t){return(wE[t]||(wE[t]=Rk(t)))(n)}function f_(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Yu=n=>typeof n<"u",br=n=>typeof n=="function",RE=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function xk(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const _n=Math.PI,hr=2*_n,Mf=Number.POSITIVE_INFINITY,Ik=_n/180,ti=_n/2,ra=_n/4,xE=_n*2/3,yw=Math.log10,fr=Math.sign;function af(n,t,e){return Math.abs(n-t)<e}function IE(n){const t=Math.round(n);n=af(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(yw(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function Ck(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function Dk(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function kf(n){return!Dk(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function Ok(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function Mk(n,t,e){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function fa(n){return n*(_n/180)}function kk(n){return n*(180/_n)}function CE(n){if(!qn(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function Nk(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*_n&&(o+=hr),{angle:o,distance:r}}function Pk(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function aa(n){return(n%hr+hr)%hr}function Vk(n,t,e,i){const r=aa(n),o=aa(t),u=aa(e),h=aa(o-r),d=aa(u-r),m=aa(r-o),_=aa(r-u);return r===o||r===u||i||h>d&&m<_}function ei(n,t,e){return Math.max(t,Math.min(e,n))}function Lk(n){return ei(n,-32768,32767)}function Ro(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function d_(n,t,e){e=e||(u=>n[u]<t);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const cp=(n,t,e,i)=>d_(n,e,i?r=>{const o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),Uk=(n,t,e)=>d_(n,e,i=>n[i][t]>=e);function zk(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const vw=["push","pop","shift","splice","unshift"];function Bk(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),vw.forEach(e=>{const i="_onData"+f_(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const u=r.apply(this,o);return n._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...o)}),u}})})}function DE(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(vw.forEach(o=>{delete n[o]}),delete n._chartjs)}function bw(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const Ew=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function Tw(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,Ew.call(window,()=>{i=!1,n.apply(t,e)}))}}function jk(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const Sw=n=>n==="start"?"left":n==="end"?"right":"center",xn=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,Hk=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t,zh=n=>n===0||n===1,OE=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*hr/e)),ME=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*hr/e)+1,Mu={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*ti)+1,easeOutSine:n=>Math.sin(n*ti),easeInOutSine:n=>-.5*(Math.cos(_n*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>zh(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>zh(n)?n:OE(n,.075,.3),easeOutElastic:n=>zh(n)?n:ME(n,.075,.3),easeInOutElastic(n){return zh(n)?n:n<.5?.5*OE(n*2,.1125,.45):.5+.5*ME(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Mu.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Mu.easeInBounce(n*2)*.5:Mu.easeOutBounce(n*2-1)*.5+.5};function Aw(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function kE(n){return Aw(n)?n:new qu(n)}function Rm(n){return Aw(n)?n:new qu(n).saturate(.5).darken(.1).hexString()}const Fk=["x","y","borderWidth","radius","tension"],qk=["color","borderColor","backgroundColor"];function Gk(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:qk},numbers:{type:"number",properties:Fk}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Yk(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const NE=new Map;function Kk(n,t){t=t||{};const e=n+JSON.stringify(t);let i=NE.get(e);return i||(i=new Intl.NumberFormat(n,t),NE.set(e,i)),i}function ww(n,t,e){return Kk(t,e).format(n)}const Qk={values(n){return He(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(e.length>1){const m=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(m<1e-4||m>1e15)&&(r="scientific"),o=Xk(n,e)}const u=yw(Math.abs(o)),h=isNaN(u)?1:Math.max(Math.min(-1*Math.floor(u),20),0),d={notation:r,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(d,this.options.ticks.format),ww(n,i,d)}};function Xk(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var Rw={formatters:Qk};function Wk(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Rw.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Ea=Object.create(null),hp=Object.create(null);function ku(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function xm(n,t,e){return typeof t=="string"?Gu(ku(n,t),e):Gu(ku(n,""),t)}class $k{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Rm(r.backgroundColor),this.hoverBorderColor=(i,r)=>Rm(r.borderColor),this.hoverColor=(i,r)=>Rm(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return xm(this,t,e)}get(t){return ku(this,t)}describe(t,e){return xm(hp,t,e)}override(t,e){return xm(Ea,t,e)}route(t,e,i,r){const o=ku(this,t),u=ku(this,i),h="_"+e;Object.defineProperties(o,{[h]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const d=this[h],m=u[r];return jt(d)?Object.assign({},m,d):Ft(d,m)},set(d){this[h]=d}}})}apply(t){t.forEach(e=>e(this))}}var be=new $k({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Gk,Yk,Wk]);function Zk(n){return!n||ne(n.size)||ne(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function PE(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function oa(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function VE(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function LE(n,t,e,i){xw(n,t,e,i,null)}function xw(n,t,e,i,r){let o,u,h,d,m,_,v,T;const A=t.pointStyle,I=t.rotation,k=t.radius;let M=(I||0)*Ik;if(A&&typeof A=="object"&&(o=A.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(M),n.drawImage(A,-A.width/2,-A.height/2,A.width,A.height),n.restore();return}if(!(isNaN(k)||k<=0)){switch(n.beginPath(),A){default:r?n.ellipse(e,i,r/2,k,0,0,hr):n.arc(e,i,k,0,hr),n.closePath();break;case"triangle":_=r?r/2:k,n.moveTo(e+Math.sin(M)*_,i-Math.cos(M)*k),M+=xE,n.lineTo(e+Math.sin(M)*_,i-Math.cos(M)*k),M+=xE,n.lineTo(e+Math.sin(M)*_,i-Math.cos(M)*k),n.closePath();break;case"rectRounded":m=k*.516,d=k-m,u=Math.cos(M+ra)*d,v=Math.cos(M+ra)*(r?r/2-m:d),h=Math.sin(M+ra)*d,T=Math.sin(M+ra)*(r?r/2-m:d),n.arc(e-v,i-h,m,M-_n,M-ti),n.arc(e+T,i-u,m,M-ti,M),n.arc(e+v,i+h,m,M,M+ti),n.arc(e-T,i+u,m,M+ti,M+_n),n.closePath();break;case"rect":if(!I){d=Math.SQRT1_2*k,_=r?r/2:d,n.rect(e-_,i-d,2*_,2*d);break}M+=ra;case"rectRot":v=Math.cos(M)*(r?r/2:k),u=Math.cos(M)*k,h=Math.sin(M)*k,T=Math.sin(M)*(r?r/2:k),n.moveTo(e-v,i-h),n.lineTo(e+T,i-u),n.lineTo(e+v,i+h),n.lineTo(e-T,i+u),n.closePath();break;case"crossRot":M+=ra;case"cross":v=Math.cos(M)*(r?r/2:k),u=Math.cos(M)*k,h=Math.sin(M)*k,T=Math.sin(M)*(r?r/2:k),n.moveTo(e-v,i-h),n.lineTo(e+v,i+h),n.moveTo(e+T,i-u),n.lineTo(e-T,i+u);break;case"star":v=Math.cos(M)*(r?r/2:k),u=Math.cos(M)*k,h=Math.sin(M)*k,T=Math.sin(M)*(r?r/2:k),n.moveTo(e-v,i-h),n.lineTo(e+v,i+h),n.moveTo(e+T,i-u),n.lineTo(e-T,i+u),M+=ra,v=Math.cos(M)*(r?r/2:k),u=Math.cos(M)*k,h=Math.sin(M)*k,T=Math.sin(M)*(r?r/2:k),n.moveTo(e-v,i-h),n.lineTo(e+v,i+h),n.moveTo(e+T,i-u),n.lineTo(e-T,i+u);break;case"line":u=r?r/2:Math.cos(M)*k,h=Math.sin(M)*k,n.moveTo(e-u,i-h),n.lineTo(e+u,i+h);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(M)*(r?r/2:k),i+Math.sin(M)*k);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function Iw(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function g_(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function m_(n){n.restore()}function Jk(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),ne(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function tN(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),u=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,d=e-o.actualBoundingBoxAscent,m=e+o.actualBoundingBoxDescent,_=r.strikethrough?(d+m)/2:m;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(u,_),n.lineTo(h,_),n.stroke()}}function eN(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Nf(n,t,e,i,r,o={}){const u=He(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let d,m;for(n.save(),n.font=r.string,Jk(n,o),d=0;d<u.length;++d)m=u[d],o.backdrop&&eN(n,o.backdrop),h&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),ne(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(m,e,i,o.maxWidth)),n.fillText(m,e,i,o.maxWidth),tN(n,e,i,m,o),i+=Number(r.lineHeight);n.restore()}function Pf(n,t){const{x:e,y:i,w:r,h:o,radius:u}=t;n.arc(e+u.topLeft,i+u.topLeft,u.topLeft,1.5*_n,_n,!0),n.lineTo(e,i+o-u.bottomLeft),n.arc(e+u.bottomLeft,i+o-u.bottomLeft,u.bottomLeft,_n,ti,!0),n.lineTo(e+r-u.bottomRight,i+o),n.arc(e+r-u.bottomRight,i+o-u.bottomRight,u.bottomRight,ti,0,!0),n.lineTo(e+r,i+u.topRight),n.arc(e+r-u.topRight,i+u.topRight,u.topRight,0,-ti,!0),n.lineTo(e+u.topLeft,i)}const nN=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,iN=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function sN(n,t){const e=(""+n).match(nN);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const rN=n=>+n||0;function Cw(n,t){const e={},i=jt(t),r=i?Object.keys(t):t,o=jt(n)?i?u=>Ft(n[u],n[t[u]]):u=>n[u]:()=>n;for(const u of r)e[u]=rN(o(u));return e}function Dw(n){return Cw(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Oo(n){return Cw(n,["topLeft","topRight","bottomLeft","bottomRight"])}function si(n){const t=Dw(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function pn(n,t){n=n||{},t=t||be.font;let e=Ft(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Ft(n.style,t.style);i&&!(""+i).match(iN)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Ft(n.family,t.family),lineHeight:sN(Ft(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Ft(n.weight,t.weight),string:""};return r.string=Zk(r),r}function Bh(n,t,e,i){let r,o,u;for(r=0,o=n.length;r<o;++r)if(u=n[r],u!==void 0&&u!==void 0)return u}function aN(n,t,e){const{min:i,max:r}=n,o=Tk(t,(r-i)/2),u=(h,d)=>e&&h===0?0:h+d;return{min:u(i,-Math.abs(o)),max:u(r,o)}}function Zo(n,t){return Object.assign(Object.create(n),t)}function p_(n,t=[""],e,i,r=()=>n[0]){const o=e||n;typeof i>"u"&&(i=Nw("_fallback",n));const u={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:h=>p_([h,...n],t,o,i)};return new Proxy(u,{deleteProperty(h,d){return delete h[d],delete h._keys,delete n[0][d],!0},get(h,d){return Mw(h,d,()=>gN(d,t,n,h))},getOwnPropertyDescriptor(h,d){return Reflect.getOwnPropertyDescriptor(h._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,d){return zE(h).includes(d)},ownKeys(h){return zE(h)},set(h,d,m){const _=h._storage||(h._storage=r());return h[d]=_[d]=m,delete h._keys,!0}})}function Ho(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:Ow(n,i),setContext:o=>Ho(n,o,e,i),override:o=>Ho(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty(o,u){return delete o[u],delete n[u],!0},get(o,u,h){return Mw(o,u,()=>lN(o,u,h))},getOwnPropertyDescriptor(o,u){return o._descriptors.allKeys?Reflect.has(n,u)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,u)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,u){return Reflect.has(n,u)},ownKeys(){return Reflect.ownKeys(n)},set(o,u,h){return n[u]=h,delete o[u],!0}})}function Ow(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:br(e)?e:()=>e,isIndexable:br(i)?i:()=>i}}const oN=(n,t)=>n?n+f_(t):t,__=(n,t)=>jt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Mw(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function lN(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:u}=n;let h=i[t];return br(h)&&u.isScriptable(t)&&(h=uN(t,h,n,e)),He(h)&&h.length&&(h=cN(t,h,n,u.isIndexable)),__(t,h)&&(h=Ho(h,r,o&&o[t],u)),h}function uN(n,t,e,i){const{_proxy:r,_context:o,_subProxy:u,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let d=t(o,u||i);return h.delete(n),__(n,d)&&(d=y_(r._scopes,r,n,d)),d}function cN(n,t,e,i){const{_proxy:r,_context:o,_subProxy:u,_descriptors:h}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(jt(t[0])){const d=t,m=r._scopes.filter(_=>_!==d);t=[];for(const _ of d){const v=y_(m,r,n,_);t.push(Ho(v,o,u&&u[n],h))}}return t}function kw(n,t,e){return br(n)?n(t,e):n}const hN=(n,t)=>n===!0?t:typeof n=="string"?jo(t,n):void 0;function fN(n,t,e,i,r){for(const o of t){const u=hN(e,o);if(u){n.add(u);const h=kw(u._fallback,e,r);if(typeof h<"u"&&h!==e&&h!==i)return h}else if(u===!1&&typeof i<"u"&&e!==i)return null}return!1}function y_(n,t,e,i){const r=t._rootScopes,o=kw(t._fallback,e,i),u=[...n,...r],h=new Set;h.add(i);let d=UE(h,u,e,o||e,i);return d===null||typeof o<"u"&&o!==e&&(d=UE(h,u,o,d,i),d===null)?!1:p_(Array.from(h),[""],r,o,()=>dN(t,e,i))}function UE(n,t,e,i,r){for(;e;)e=fN(n,t,e,i,r);return e}function dN(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return He(r)&&jt(e)?e:r||{}}function gN(n,t,e,i){let r;for(const o of t)if(r=Nw(oN(o,n),e),typeof r<"u")return __(n,r)?y_(e,i,n,r):r}function Nw(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function zE(n){let t=n._keys;return t||(t=n._keys=mN(n._scopes)),t}function mN(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}function v_(){return typeof window<"u"&&typeof document<"u"}function b_(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Vf(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const sd=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function pN(n,t){return sd(n).getPropertyValue(t)}const _N=["top","right","bottom","left"];function ma(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=_N[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const yN=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function vN(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let u=!1,h,d;if(yN(r,o,n.target))h=r,d=o;else{const m=t.getBoundingClientRect();h=i.clientX-m.left,d=i.clientY-m.top,u=!0}return{x:h,y:d,box:u}}function ca(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=sd(e),o=r.boxSizing==="border-box",u=ma(r,"padding"),h=ma(r,"border","width"),{x:d,y:m,box:_}=vN(n,e),v=u.left+(_&&h.left),T=u.top+(_&&h.top);let{width:A,height:I}=t;return o&&(A-=u.width+h.width,I-=u.height+h.height),{x:Math.round((d-v)/A*e.width/i),y:Math.round((m-T)/I*e.height/i)}}function bN(n,t,e){let i,r;if(t===void 0||e===void 0){const o=n&&b_(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const u=o.getBoundingClientRect(),h=sd(o),d=ma(h,"border","width"),m=ma(h,"padding");t=u.width-m.width-d.width,e=u.height-m.height-d.height,i=Vf(h.maxWidth,o,"clientWidth"),r=Vf(h.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||Mf,maxHeight:r||Mf}}const jh=n=>Math.round(n*10)/10;function EN(n,t,e,i){const r=sd(n),o=ma(r,"margin"),u=Vf(r.maxWidth,n,"clientWidth")||Mf,h=Vf(r.maxHeight,n,"clientHeight")||Mf,d=bN(n,t,e);let{width:m,height:_}=d;if(r.boxSizing==="content-box"){const T=ma(r,"border","width"),A=ma(r,"padding");m-=A.width+T.width,_-=A.height+T.height}return m=Math.max(0,m-o.width),_=Math.max(0,i?m/i:_-o.height),m=jh(Math.min(m,u,d.maxWidth)),_=jh(Math.min(_,h,d.maxHeight)),m&&!_&&(_=jh(m/2)),(t!==void 0||e!==void 0)&&i&&d.height&&_>d.height&&(_=d.height,m=jh(Math.floor(_*i))),{width:m,height:_}}function BE(n,t,e){const i=t||1,r=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const u=n.canvas;return u.style&&(e||!u.style.height&&!u.style.width)&&(u.style.height=`${n.height}px`,u.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||u.height!==r||u.width!==o?(n.currentDevicePixelRatio=i,u.height=r,u.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const TN=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};v_()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function jE(n,t){const e=pN(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const SN=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},AN=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Mo(n,t,e){return n?SN(t,e):AN()}function Pw(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function Vw(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function Hh(n,t,e){return n.options.clip?n[e]:t[e]}function wN(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:Hh(e,t,"left"),right:Hh(e,t,"right"),top:Hh(i,t,"top"),bottom:Hh(i,t,"bottom")}:t}function RN(n,t){const e=t._clip;if(e.disabled)return!1;const i=wN(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class xN{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const o=e.listeners[r],u=e.duration;o.forEach(h=>h({chart:t,initial:e.initial,numSteps:u,currentStep:Math.min(i-e.start,u)}))}_refresh(){this._request||(this._running=!0,this._request=Ew.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let u=o.length-1,h=!1,d;for(;u>=0;--u)d=o[u],d._active?(d._total>i.duration&&(i.duration=d._total),d.tick(t),h=!0):(o[u]=o[o.length-1],o.pop());h&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var os=new xN;const HE="transparent",IN={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=kE(n||HE),r=i.valid&&kE(t||HE);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class CN{constructor(t,e,i,r){const o=e[i];r=Bh([t.to,r,o,t.from]);const u=Bh([t.from,o,r]);this._active=!0,this._fn=t.fn||IN[t.type||typeof u],this._easing=Mu[t.easing]||Mu.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=u,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,u=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(u,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Bh([t.to,e,r,t.from]),this._from=Bh([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,u=this._loop,h=this._to;let d;if(this._active=o!==h&&(u||e<i),!this._active){this._target[r]=h,this._notify(!0);return}if(e<0){this._target[r]=o;return}d=e/i%2,d=u&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[r]=this._fn(o,h,d)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class Lw{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!jt(t))return;const e=Object.keys(be.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!jt(o))return;const u={};for(const h of e)u[h]=o[h];(He(o.properties)&&o.properties||[r]).forEach(h=>{(h===r||!i.has(h))&&i.set(h,u)})})}_animateOptions(t,e){const i=e.options,r=ON(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&DN(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),u=Object.keys(e),h=Date.now();let d;for(d=u.length-1;d>=0;--d){const m=u[d];if(m.charAt(0)==="$")continue;if(m==="options"){r.push(...this._animateOptions(t,e));continue}const _=e[m];let v=o[m];const T=i.get(m);if(v)if(T&&v.active()){v.update(T,_,h);continue}else v.cancel();if(!T||!T.duration){t[m]=_;continue}o[m]=v=new CN(T,t,m,_),r.push(v)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return os.add(this._chart,i),!0}}function DN(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function ON(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function FE(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function MN(n,t,e){if(e===!1)return!1;const i=FE(n,e),r=FE(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function kN(n){let t,e,i,r;return jt(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function Uw(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function qE(n,t,e,i={}){const r=n.keys,o=i.mode==="single";let u,h,d,m;if(t===null)return;let _=!1;for(u=0,h=r.length;u<h;++u){if(d=+r[u],d===e){if(_=!0,i.all)continue;break}m=n.values[d],qn(m)&&(o||t===0||fr(t)===fr(m))&&(t+=m)}return!_&&!i.all?0:t}function NN(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",u=Object.keys(n),h=new Array(u.length);let d,m,_;for(d=0,m=u.length;d<m;++d)_=u[d],h[d]={[r]:_,[o]:n[_]};return h}function Im(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function PN(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function VN(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function LN(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function GE(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function YE(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:u,index:h}=i,d=o.axis,m=u.axis,_=PN(o,u,i),v=t.length;let T;for(let A=0;A<v;++A){const I=t[A],{[d]:k,[m]:M}=I,H=I._stacks||(I._stacks={});T=H[m]=LN(r,_,k),T[h]=M,T._top=GE(T,u,!0,i.type),T._bottom=GE(T,u,!1,i.type);const Q=T._visualValues||(T._visualValues={});Q[h]=M}}function Cm(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function UN(n,t){return Zo(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function zN(n,t,e){return Zo(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function cu(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const Dm=n=>n==="reset"||n==="none",KE=(n,t)=>t?n:Object.assign({},n),BN=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:Uw(e,!0),values:null};class zw{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Im(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&cu(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(v,T,A,I)=>v==="x"?T:v==="r"?I:A,o=e.xAxisID=Ft(i.xAxisID,Cm(t,"x")),u=e.yAxisID=Ft(i.yAxisID,Cm(t,"y")),h=e.rAxisID=Ft(i.rAxisID,Cm(t,"r")),d=e.indexAxis,m=e.iAxisID=r(d,o,u,h),_=e.vAxisID=r(d,u,o,h);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(u),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(m),e.vScale=this.getScaleForId(_)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&DE(this._data,this),t._stacked&&cu(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(jt(e)){const r=this._cachedMeta;this._data=NN(e,r)}else if(i!==e){if(i){DE(i,this);const r=this._cachedMeta;cu(r),r._parsed=[]}e&&Object.isExtensible(e)&&Bk(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=e._stacked;e._stacked=Im(e.vScale,e),e.stack!==i.stack&&(r=!0,cu(e),e.stack=i.stack),this._resyncElements(t),(r||o!==e._stacked)&&(YE(this,e._parsed),e._stacked=Im(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:u}=i,h=o.axis;let d=t===0&&e===r.length?!0:i._sorted,m=t>0&&i._parsed[t-1],_,v,T;if(this._parsing===!1)i._parsed=r,i._sorted=!0,T=r;else{He(r[t])?T=this.parseArrayData(i,r,t,e):jt(r[t])?T=this.parseObjectData(i,r,t,e):T=this.parsePrimitiveData(i,r,t,e);const A=()=>v[h]===null||m&&v[h]<m[h];for(_=0;_<e;++_)i._parsed[_+t]=v=T[_],d&&(A()&&(d=!1),m=v);i._sorted=d}u&&YE(this,T)}parsePrimitiveData(t,e,i,r){const{iScale:o,vScale:u}=t,h=o.axis,d=u.axis,m=o.getLabels(),_=o===u,v=new Array(r);let T,A,I;for(T=0,A=r;T<A;++T)I=T+i,v[T]={[h]:_||o.parse(m[I],I),[d]:u.parse(e[I],I)};return v}parseArrayData(t,e,i,r){const{xScale:o,yScale:u}=t,h=new Array(r);let d,m,_,v;for(d=0,m=r;d<m;++d)_=d+i,v=e[_],h[d]={x:o.parse(v[0],_),y:u.parse(v[1],_)};return h}parseObjectData(t,e,i,r){const{xScale:o,yScale:u}=t,{xAxisKey:h="x",yAxisKey:d="y"}=this._parsing,m=new Array(r);let _,v,T,A;for(_=0,v=r;_<v;++_)T=_+i,A=e[T],m[_]={x:o.parse(jo(A,h),T),y:u.parse(jo(A,d),T)};return m}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,o=this._cachedMeta,u=e[t.axis],h={keys:Uw(r,!0),values:e._stacks[t.axis]._visualValues};return qE(h,u,o.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const o=i[e.axis];let u=o===null?NaN:o;const h=r&&i._stacks[e.axis];r&&h&&(r.values=h,u=qE(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,u),t.max=Math.max(t.max,u)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,u=r.length,h=this._getOtherScale(t),d=BN(e,i,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:_,max:v}=VN(h);let T,A;function I(){A=r[T];const k=A[h.axis];return!qn(A[t.axis])||_>k||v<k}for(T=0;T<u&&!(!I()&&(this.updateRangeFromParsed(m,t,A,d),o));++T);if(o){for(T=u-1;T>=0;--T)if(!I()){this.updateRangeFromParsed(m,t,A,d);break}}return m}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,o,u;for(r=0,o=e.length;r<o;++r)u=e[r][t.axis],qn(u)&&i.push(u);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=kN(Ft(this.options.clip,MN(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],o=e.chartArea,u=[],h=this._drawStart||0,d=this._drawCount||r.length-h,m=this.options.drawActiveElementsOnTop;let _;for(i.dataset&&i.dataset.draw(t,o,h,d),_=h;_<h+d;++_){const v=r[_];v.hidden||(v.active&&m?u.push(v):v.draw(t,o))}for(_=0;_<u.length;++_)u[_].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const u=this._cachedMeta.data[t];o=u.$context||(u.$context=zN(this.getContext(),t,u)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=UN(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",o=this._cachedDataOpts,u=t+"-"+e,h=o[u],d=this.enableOptionSharing&&Yu(i);if(h)return KE(h,d);const m=this.chart.config,_=m.datasetElementScopeKeys(this._type,t),v=r?[`${t}Hover`,"hover",t,""]:[t,""],T=m.getOptionScopes(this.getDataset(),_),A=Object.keys(be.elements[t]),I=()=>this.getContext(i,r,e),k=m.resolveNamedOptions(T,A,I,v);return k.$shared&&(k.$shared=d,o[u]=Object.freeze(KE(k,d))),k}_resolveAnimations(t,e,i){const r=this.chart,o=this._cachedDataOpts,u=`animation-${e}`,h=o[u];if(h)return h;let d;if(r.options.animation!==!1){const _=this.chart.config,v=_.datasetAnimationScopeKeys(this._type,e),T=_.getOptionScopes(this.getDataset(),v);d=_.createResolver(T,this.getContext(t,i,e))}const m=new Lw(r,d&&d.animations);return d&&d._cacheable&&(o[u]=Object.freeze(m)),m}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Dm(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,o=this.getSharedOptions(i),u=this.includeOptions(e,o)||o!==r;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:u}}updateElement(t,e,i,r){Dm(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!Dm(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const o=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[h,d,m]of this._syncList)this[h](d,m);this._syncList=[];const r=i.length,o=e.length,u=Math.min(o,r);u&&this.parse(0,u),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,e,i=!0){const r=this._cachedMeta,o=r.data,u=t+e;let h;const d=m=>{for(m.length+=e,h=m.length-1;h>=u;h--)m[h]=m[h-e]};for(d(o),h=t;h<u;++h)o[h]=new this.dataElementType;this._parsing&&d(r._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&cu(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function jN(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,o=e.length;r<o;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=bw(i.sort((r,o)=>r-o))}return n._cache.$bar}function HN(n){const t=n.iScale,e=jN(t,n.type);let i=t._length,r,o,u,h;const d=()=>{u===32767||u===-32768||(Yu(h)&&(i=Math.min(i,Math.abs(u-h)||i)),h=u)};for(r=0,o=e.length;r<o;++r)u=t.getPixelForValue(e[r]),d();for(h=void 0,r=0,o=t.ticks.length;r<o;++r)u=t.getPixelForTick(r),d();return i}function FN(n,t,e,i){const r=e.barThickness;let o,u;return ne(r)?(o=t.min*e.categoryPercentage,u=e.barPercentage):(o=r*i,u=1),{chunk:o/i,ratio:u,start:t.pixels[n]-o/2}}function qN(n,t,e,i){const r=t.pixels,o=r[n];let u=n>0?r[n-1]:null,h=n<r.length-1?r[n+1]:null;const d=e.categoryPercentage;u===null&&(u=o-(h===null?t.end-t.start:h-o)),h===null&&(h=o+o-u);const m=o-(o-Math.min(u,h))/2*d;return{chunk:Math.abs(h-u)/2*d/i,ratio:e.barPercentage,start:m}}function GN(n,t,e,i){const r=e.parse(n[0],i),o=e.parse(n[1],i),u=Math.min(r,o),h=Math.max(r,o);let d=u,m=h;Math.abs(u)>Math.abs(h)&&(d=h,m=u),t[e.axis]=m,t._custom={barStart:d,barEnd:m,start:r,end:o,min:u,max:h}}function Bw(n,t,e,i){return He(n)?GN(n,t,e,i):t[e.axis]=e.parse(n,i),t}function QE(n,t,e,i){const r=n.iScale,o=n.vScale,u=r.getLabels(),h=r===o,d=[];let m,_,v,T;for(m=e,_=e+i;m<_;++m)T=t[m],v={},v[r.axis]=h||r.parse(u[m],m),d.push(Bw(T,v,o,m));return d}function Om(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function YN(n,t,e){return n!==0?fr(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function KN(n){let t,e,i,r,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",o="start"):(r="start",o="end"),{start:e,end:i,reverse:t,top:r,bottom:o}}function QN(n,t,e,i){let r=t.borderSkipped;const o={};if(!r){n.borderSkipped=o;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:u,end:h,reverse:d,top:m,bottom:_}=KN(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=m:(e._bottom||0)===i?r=_:(o[XE(_,u,h,d)]=!0,r=m)),o[XE(r,u,h,d)]=!0,n.borderSkipped=o}function XE(n,t,e,i){return i?(n=XN(n,t,e),n=WE(n,e,t)):n=WE(n,t,e),n}function XN(n,t,e){return n===t?e:n===e?t:n}function WE(n,t,e){return n==="start"?t:n==="end"?e:n}function WN(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class $N extends zw{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,r){return QE(t,e,i,r)}parseArrayData(t,e,i,r){return QE(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:o,vScale:u}=t,{xAxisKey:h="x",yAxisKey:d="y"}=this._parsing,m=o.axis==="x"?h:d,_=u.axis==="x"?h:d,v=[];let T,A,I,k;for(T=i,A=i+r;T<A;++T)k=e[T],I={},I[o.axis]=o.parse(jo(k,m),T),v.push(Bw(jo(k,_),I,u,T));return v}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const o=i._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,o=this.getParsed(t),u=o._custom,h=Om(u)?"["+u.start+", "+u.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const o=r==="reset",{index:u,_cachedMeta:{vScale:h}}=this,d=h.getBasePixel(),m=h.isHorizontal(),_=this._getRuler(),{sharedOptions:v,includeOptions:T}=this._getSharedOptions(e,r);for(let A=e;A<e+i;A++){const I=this.getParsed(A),k=o||ne(I[h.axis])?{base:d,head:d}:this._calculateBarValuePixels(A),M=this._calculateBarIndexPixels(A,_),H=(I._stacks||{})[h.axis],Q={horizontal:m,base:k.base,enableBorderRadius:!H||Om(I._custom)||u===H._top||u===H._bottom,x:m?k.head:M.center,y:m?M.center:k.head,height:m?M.size:Math.abs(k.size),width:m?Math.abs(k.size):M.size};T&&(Q.options=v||this.resolveDataElementOptions(A,t[A].active?"active":r));const tt=Q.options||t[A].options;QN(Q,tt,H,u),WN(Q,tt,_.ratio),this.updateElement(t[A],A,Q,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(_=>_.controller.options.grouped),o=i.options.stacked,u=[],h=this._cachedMeta.controller.getParsed(e),d=h&&h[i.axis],m=_=>{const v=_._parsed.find(A=>A[i.axis]===d),T=v&&v[_.vScale.axis];if(ne(T)||isNaN(T))return!0};for(const _ of r)if(!(e!==void 0&&m(_))&&((o===!1||u.indexOf(_.stack)===-1||o===void 0&&_.stack===void 0)&&u.push(_.stack),_.index===t))break;return u.length||u.push(void 0),u}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[Ft(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const r=this._getStacks(t,i),o=e!==void 0?r.indexOf(e):-1;return o===-1?r.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let o,u;for(o=0,u=e.data.length;o<u;++o)r.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const h=t.barThickness;return{min:h||HN(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:h?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:o,minBarLength:u}}=this,h=o||0,d=this.getParsed(t),m=d._custom,_=Om(m);let v=d[e.axis],T=0,A=i?this.applyStack(e,d,i):v,I,k;A!==v&&(T=A-v,A=v),_&&(v=m.barStart,A=m.barEnd-m.barStart,v!==0&&fr(v)!==fr(m.barEnd)&&(T=0),T+=v);const M=!ne(o)&&!_?o:T;let H=e.getPixelForValue(M);if(this.chart.getDataVisibility(t)?I=e.getPixelForValue(T+A):I=H,k=I-H,Math.abs(k)<u){k=YN(k,e,h)*u,v===h&&(H-=k/2);const Q=e.getPixelForDecimal(0),tt=e.getPixelForDecimal(1),rt=Math.min(Q,tt),nt=Math.max(Q,tt);H=Math.max(Math.min(H,nt),rt),I=H+k,i&&!_&&(d._stacks[e.axis]._visualValues[r]=e.getValueForPixel(I)-e.getValueForPixel(H))}if(H===e.getPixelForValue(h)){const Q=fr(k)*e.getLineWidthForValue(h)/2;H+=Q,k-=Q}return{size:k,base:H,head:I,center:I+k/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,o=r.skipNull,u=Ft(r.maxBarThickness,1/0);let h,d;const m=this._getAxisCount();if(e.grouped){const _=o?this._getStackCount(t):e.stackCount,v=r.barThickness==="flex"?qN(t,e,r,_*m):FN(t,e,r,_*m),T=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,A=this._getAxis().indexOf(Ft(T,this.getFirstScaleIdForIndexAxis())),I=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+A;h=v.start+v.chunk*I+v.chunk/2,d=Math.min(u,v.chunk*v.ratio)}else h=i.getPixelForValue(this.getParsed(t)[i.axis],t),d=Math.min(u,e.min*e.ratio);return{base:h-d/2,head:h+d/2,center:h,size:d}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let o=0;for(;o<r;++o)this.getParsed(o)[e.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}function la(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class E_{static override(t){Object.assign(E_.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return la()}parse(){return la()}format(){return la()}add(){return la()}diff(){return la()}startOf(){return la()}endOf(){return la()}}var ZN={_date:E_};function JN(n,t,e,i){const{controller:r,data:o,_sorted:u}=n,h=r._cachedMeta.iScale,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&u&&o.length){const m=h._reversePixels?Uk:cp;if(i){if(r._sharedOptions){const _=o[0],v=typeof _.getRange=="function"&&_.getRange(t);if(v){const T=m(o,t,e-v),A=m(o,t,e+v);return{lo:T.lo,hi:A.hi}}}}else{const _=m(o,t,e);if(d){const{vScale:v}=r._cachedMeta,{_parsed:T}=n,A=T.slice(0,_.lo+1).reverse().findIndex(k=>!ne(k[v.axis]));_.lo-=Math.max(0,A);const I=T.slice(_.hi).findIndex(k=>!ne(k[v.axis]));_.hi+=Math.max(0,I)}return _}}return{lo:0,hi:o.length-1}}function rd(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),u=e[t];for(let h=0,d=o.length;h<d;++h){const{index:m,data:_}=o[h],{lo:v,hi:T}=JN(o[h],t,u,r);for(let A=v;A<=T;++A){const I=_[A];I.skip||i(I,m,A)}}}function tP(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const o=t?Math.abs(i.x-r.x):0,u=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(u,2))}}function Mm(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||rd(n,e,t,function(h,d,m){!r&&!Iw(h,n.chartArea,0)||h.inRange(t.x,t.y,i)&&o.push({element:h,datasetIndex:d,index:m})},!0),o}function eP(n,t,e,i){let r=[];function o(u,h,d){const{startAngle:m,endAngle:_}=u.getProps(["startAngle","endAngle"],i),{angle:v}=Nk(u,{x:t.x,y:t.y});Vk(v,m,_)&&r.push({element:u,datasetIndex:h,index:d})}return rd(n,e,t,o),r}function nP(n,t,e,i,r,o){let u=[];const h=tP(e);let d=Number.POSITIVE_INFINITY;function m(_,v,T){const A=_.inRange(t.x,t.y,r);if(i&&!A)return;const I=_.getCenterPoint(r);if(!(!!o||n.isPointInArea(I))&&!A)return;const M=h(t,I);M<d?(u=[{element:_,datasetIndex:v,index:T}],d=M):M===d&&u.push({element:_,datasetIndex:v,index:T})}return rd(n,e,t,m),u}function km(n,t,e,i,r,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?eP(n,t,e,r):nP(n,t,e,i,r,o)}function $E(n,t,e,i,r){const o=[],u=e==="x"?"inXRange":"inYRange";let h=!1;return rd(n,e,t,(d,m,_)=>{d[u]&&d[u](t[e],r)&&(o.push({element:d,datasetIndex:m,index:_}),h=h||d.inRange(t.x,t.y,r))}),i&&!h?[]:o}var iP={modes:{index(n,t,e,i){const r=ca(t,n),o=e.axis||"x",u=e.includeInvisible||!1,h=e.intersect?Mm(n,r,o,i,u):km(n,r,o,!1,i,u),d=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(m=>{const _=h[0].index,v=m.data[_];v&&!v.skip&&d.push({element:v,datasetIndex:m.index,index:_})}),d):[]},dataset(n,t,e,i){const r=ca(t,n),o=e.axis||"xy",u=e.includeInvisible||!1;let h=e.intersect?Mm(n,r,o,i,u):km(n,r,o,!1,i,u);if(h.length>0){const d=h[0].datasetIndex,m=n.getDatasetMeta(d).data;h=[];for(let _=0;_<m.length;++_)h.push({element:m[_],datasetIndex:d,index:_})}return h},point(n,t,e,i){const r=ca(t,n),o=e.axis||"xy",u=e.includeInvisible||!1;return Mm(n,r,o,i,u)},nearest(n,t,e,i){const r=ca(t,n),o=e.axis||"xy",u=e.includeInvisible||!1;return km(n,r,o,e.intersect,i,u)},x(n,t,e,i){const r=ca(t,n);return $E(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=ca(t,n);return $E(n,r,"y",e.intersect,i)}}};const jw=["left","top","right","bottom"];function hu(n,t){return n.filter(e=>e.pos===t)}function ZE(n,t){return n.filter(e=>jw.indexOf(e.pos)===-1&&e.box.axis===t)}function fu(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function sP(n){const t=[];let e,i,r,o,u,h;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:o,options:{stack:u,stackWeight:h=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:u&&o+u,stackWeight:h});return t}function rP(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!jw.includes(r))continue;const u=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});u.count++,u.weight+=o}return t}function aP(n,t){const e=rP(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,u,h;for(o=0,u=n.length;o<u;++o){h=n[o];const{fullSize:d}=h.box,m=e[h.stack],_=m&&h.stackWeight/m.weight;h.horizontal?(h.width=_?_*i:d&&t.availableWidth,h.height=r):(h.width=i,h.height=_?_*r:d&&t.availableHeight)}return e}function oP(n){const t=sP(n),e=fu(t.filter(m=>m.box.fullSize),!0),i=fu(hu(t,"left"),!0),r=fu(hu(t,"right")),o=fu(hu(t,"top"),!0),u=fu(hu(t,"bottom")),h=ZE(t,"x"),d=ZE(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(d).concat(u).concat(h),chartArea:hu(t,"chartArea"),vertical:i.concat(r).concat(d),horizontal:o.concat(u).concat(h)}}function JE(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function Hw(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function lP(n,t,e,i){const{pos:r,box:o}=e,u=n.maxPadding;if(!jt(r)){e.size&&(n[r]-=e.size);const v=i[e.stack]||{size:0,count:1};v.size=Math.max(v.size,e.horizontal?o.height:o.width),e.size=v.size/v.count,n[r]+=e.size}o.getPadding&&Hw(u,o.getPadding());const h=Math.max(0,t.outerWidth-JE(u,n,"left","right")),d=Math.max(0,t.outerHeight-JE(u,n,"top","bottom")),m=h!==n.w,_=d!==n.h;return n.w=h,n.h=d,e.horizontal?{same:m,other:_}:{same:_,other:m}}function uP(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function cP(n,t){const e=t.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(u=>{o[u]=Math.max(t[u],e[u])}),o}return i(n?["left","right"]:["top","bottom"])}function Tu(n,t,e,i){const r=[];let o,u,h,d,m,_;for(o=0,u=n.length,m=0;o<u;++o){h=n[o],d=h.box,d.update(h.width||t.w,h.height||t.h,cP(h.horizontal,t));const{same:v,other:T}=lP(t,e,h,i);m|=v&&r.length,_=_||T,d.fullSize||r.push(h)}return m&&Tu(r,t,e,i)||_}function Fh(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function tT(n,t,e,i){const r=e.padding;let{x:o,y:u}=t;for(const h of n){const d=h.box,m=i[h.stack]||{placed:0,weight:1},_=h.stackWeight/m.weight||1;if(h.horizontal){const v=t.w*_,T=m.size||d.height;Yu(m.start)&&(u=m.start),d.fullSize?Fh(d,r.left,u,e.outerWidth-r.right-r.left,T):Fh(d,t.left+m.placed,u,v,T),m.start=u,m.placed+=v,u=d.bottom}else{const v=t.h*_,T=m.size||d.width;Yu(m.start)&&(o=m.start),d.fullSize?Fh(d,o,r.top,T,e.outerHeight-r.bottom-r.top):Fh(d,o,t.top+m.placed,T,v),m.start=o,m.placed+=v,o=d.right}}t.x=o,t.y=u}var tr={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=si(n.options.layout.padding),o=Math.max(t-r.width,0),u=Math.max(e-r.height,0),h=oP(n.boxes),d=h.vertical,m=h.horizontal;Xt(n.boxes,k=>{typeof k.beforeLayout=="function"&&k.beforeLayout()});const _=d.reduce((k,M)=>M.box.options&&M.box.options.display===!1?k:k+1,0)||1,v=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:u,vBoxMaxWidth:o/2/_,hBoxMaxHeight:u/2}),T=Object.assign({},r);Hw(T,si(i));const A=Object.assign({maxPadding:T,w:o,h:u,x:r.left,y:r.top},r),I=aP(d.concat(m),v);Tu(h.fullSize,A,v,I),Tu(d,A,v,I),Tu(m,A,v,I)&&Tu(d,A,v,I),uP(A),tT(h.leftAndTop,A,v,I),A.x+=A.w,A.y+=A.h,tT(h.rightAndBottom,A,v,I),n.chartArea={left:A.left,top:A.top,right:A.left+A.w,bottom:A.top+A.h,height:A.h,width:A.w},Xt(h.chartArea,k=>{const M=k.box;Object.assign(M,n.chartArea),M.update(A.w,A.h,{left:0,top:0,right:0,bottom:0})})}};class Fw{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class hP extends Fw{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const of="$chartjs",fP={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},eT=n=>n===null||n==="";function dP(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[of]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",eT(r)){const o=jE(n,"width");o!==void 0&&(n.width=o)}if(eT(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=jE(n,"height");o!==void 0&&(n.height=o)}return n}const qw=TN?{passive:!0}:!1;function gP(n,t,e){n&&n.addEventListener(t,e,qw)}function mP(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,qw)}function pP(n,t){const e=fP[n.type]||n.type,{x:i,y:r}=ca(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Lf(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function _P(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let u=!1;for(const h of o)u=u||Lf(h.addedNodes,i),u=u&&!Lf(h.removedNodes,i);u&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function yP(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let u=!1;for(const h of o)u=u||Lf(h.removedNodes,i),u=u&&!Lf(h.addedNodes,i);u&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const Ku=new Map;let nT=0;function Gw(){const n=window.devicePixelRatio;n!==nT&&(nT=n,Ku.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function vP(n,t){Ku.size||window.addEventListener("resize",Gw),Ku.set(n,t)}function bP(n){Ku.delete(n),Ku.size||window.removeEventListener("resize",Gw)}function EP(n,t,e){const i=n.canvas,r=i&&b_(i);if(!r)return;const o=Tw((h,d)=>{const m=r.clientWidth;e(h,d),m<r.clientWidth&&e()},window),u=new ResizeObserver(h=>{const d=h[0],m=d.contentRect.width,_=d.contentRect.height;m===0&&_===0||o(m,_)});return u.observe(r),vP(n,o),u}function Nm(n,t,e){e&&e.disconnect(),t==="resize"&&bP(n)}function TP(n,t,e){const i=n.canvas,r=Tw(o=>{n.ctx!==null&&e(pP(o,n))},n);return gP(i,t,r),r}class SP extends Fw{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(dP(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[of])return!1;const i=e[of].initial;["height","width"].forEach(o=>{const u=i[o];ne(u)?e.removeAttribute(o):e.setAttribute(o,u)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[of],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),u={attach:_P,detach:yP,resize:EP}[e]||TP;r[e]=u(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:Nm,detach:Nm,resize:Nm}[e]||mP)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return EN(t,e,i,r)}isAttached(t){const e=t&&b_(t);return!!(e&&e.isConnected)}}function AP(n){return!v_()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?hP:SP}class rc{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return kf(this.x)&&kf(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}function wP(n,t){const e=n.options.ticks,i=RP(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?IP(t):[],u=o.length,h=o[0],d=o[u-1],m=[];if(u>r)return CP(t,m,o,u/r),m;const _=xP(o,t,r);if(u>0){let v,T;const A=u>1?Math.round((d-h)/(u-1)):null;for(qh(t,m,_,ne(A)?0:h-A,h),v=0,T=u-1;v<T;v++)qh(t,m,_,o[v],o[v+1]);return qh(t,m,_,d,ne(A)?t.length:d+A),m}return qh(t,m,_),m}function RP(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function xP(n,t,e){const i=DP(n),r=t.length/e;if(!i)return Math.max(r,1);const o=Ck(i);for(let u=0,h=o.length-1;u<h;u++){const d=o[u];if(d>r)return d}return Math.max(r,1)}function IP(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function CP(n,t,e,i){let r=0,o=e[0],u;for(i=Math.ceil(i),u=0;u<n.length;u++)u===o&&(t.push(n[u]),r++,o=e[r*i])}function qh(n,t,e,i,r){const o=Ft(i,0),u=Math.min(Ft(r,n.length),n.length);let h=0,d,m,_;for(e=Math.ceil(e),r&&(d=r-i,e=d/Math.floor(d/e)),_=o;_<0;)h++,_=Math.round(o+h*e);for(m=Math.max(o,0);m<u;m++)m===_&&(t.push(n[m]),h++,_=Math.round(o+h*e))}function DP(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const OP=n=>n==="left"?"right":n==="right"?"left":n,iT=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,sT=(n,t)=>Math.min(t||n,n);function rT(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function MP(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,u=n._endPixel,h=1e-6;let d=n.getPixelForTick(r),m;if(!(e&&(i===1?m=Math.max(d-o,u-d):t===0?m=(n.getPixelForTick(1)-d)/2:m=(d-n.getPixelForTick(r-1))/2,d+=r<t?m:-m,d<o-h||d>u+h)))return d}function kP(n,t){Xt(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}function du(n){return n.drawTicks?n.tickLength:0}function aT(n,t){if(!n.display)return 0;const e=pn(n.font,t),i=si(n.padding);return(He(n.text)?n.text.length:1)*e.lineHeight+i.height}function NP(n,t){return Zo(n,{scale:t,type:"scale"})}function PP(n,t,e){return Zo(n,{tick:e,index:t,type:"tick"})}function VP(n,t,e){let i=Sw(n);return(e&&t!=="right"||!e&&t==="right")&&(i=OP(i)),i}function LP(n,t,e,i){const{top:r,left:o,bottom:u,right:h,chart:d}=n,{chartArea:m,scales:_}=d;let v=0,T,A,I;const k=u-r,M=h-o;if(n.isHorizontal()){if(A=xn(i,o,h),jt(e)){const H=Object.keys(e)[0],Q=e[H];I=_[H].getPixelForValue(Q)+k-t}else e==="center"?I=(m.bottom+m.top)/2+k-t:I=iT(n,e,t);T=h-o}else{if(jt(e)){const H=Object.keys(e)[0],Q=e[H];A=_[H].getPixelForValue(Q)-M+t}else e==="center"?A=(m.left+m.right)/2-M+t:A=iT(n,e,t);I=xn(i,u,r),v=e==="left"?-ti:ti}return{titleX:A,titleY:I,maxWidth:T,rotation:v}}class Jo extends rc{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=Ti(t,Number.POSITIVE_INFINITY),e=Ti(e,Number.NEGATIVE_INFINITY),i=Ti(i,Number.POSITIVE_INFINITY),r=Ti(r,Number.NEGATIVE_INFINITY),{min:Ti(t,i),max:Ti(e,r),minDefined:qn(t),maxDefined:qn(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),u;if(r&&o)return{min:e,max:i};const h=this.getMatchingVisibleMetas();for(let d=0,m=h.length;d<m;++d)u=h[d].controller.getMinMax(this,t),r||(e=Math.min(e,u.min)),o||(i=Math.max(i,u.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:Ti(e,Ti(i,e)),max:Ti(i,Ti(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ae(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:u}=this.options,h=u.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=aN(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=h<this.ticks.length;this._convertTicksToLabels(d?rT(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),u.display&&(u.autoSkip||u.source==="auto")&&(this.ticks=wP(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ae(this.options.afterUpdate,[this])}beforeSetDimensions(){ae(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ae(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ae(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ae(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=ae(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){ae(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ae(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=sT(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let u=r,h,d,m;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const _=this._getLabelSizes(),v=_.widest.width,T=_.highest.height,A=ei(this.chart.width-v,0,this.maxWidth);h=t.offset?this.maxWidth/i:A/(i-1),v+6>h&&(h=A/(i-(t.offset?.5:1)),d=this.maxHeight-du(t.grid)-e.padding-aT(t.title,this.chart.options.font),m=Math.sqrt(v*v+T*T),u=kk(Math.min(Math.asin(ei((_.highest.height+6)/h,-1,1)),Math.asin(ei(d/m,-1,1))-Math.asin(ei(T/m,-1,1)))),u=Math.max(r,Math.min(o,u))),this.labelRotation=u}afterCalculateLabelRotation(){ae(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ae(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,u=this._isVisible(),h=this.isHorizontal();if(u){const d=aT(r,e.options.font);if(h?(t.width=this.maxWidth,t.height=du(o)+d):(t.height=this.maxHeight,t.width=du(o)+d),i.display&&this.ticks.length){const{first:m,last:_,widest:v,highest:T}=this._getLabelSizes(),A=i.padding*2,I=fa(this.labelRotation),k=Math.cos(I),M=Math.sin(I);if(h){const H=i.mirror?0:M*v.width+k*T.height;t.height=Math.min(this.maxHeight,t.height+H+A)}else{const H=i.mirror?0:k*v.width+M*T.height;t.width=Math.min(this.maxWidth,t.width+H+A)}this._calculatePadding(m,_,M,k)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:u},position:h}=this.options,d=this.labelRotation!==0,m=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const _=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let T=0,A=0;d?m?(T=r*t.width,A=i*e.height):(T=i*t.height,A=r*e.width):o==="start"?A=e.width:o==="end"?T=t.width:o!=="inner"&&(T=t.width/2,A=e.width/2),this.paddingLeft=Math.max((T-_+u)*this.width/(this.width-_),0),this.paddingRight=Math.max((A-v+u)*this.width/(this.width-v),0)}else{let _=e.height/2,v=t.height/2;o==="start"?(_=0,v=t.height):o==="end"&&(_=e.height,v=0),this.paddingTop=_+u,this.paddingBottom=v+u}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ae(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)ne(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=rT(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:o}=this,u=[],h=[],d=Math.floor(e/sT(e,i));let m=0,_=0,v,T,A,I,k,M,H,Q,tt,rt,nt;for(v=0;v<e;v+=d){if(I=t[v].label,k=this._resolveTickFontOptions(v),r.font=M=k.string,H=o[M]=o[M]||{data:{},gc:[]},Q=k.lineHeight,tt=rt=0,!ne(I)&&!He(I))tt=PE(r,H.data,H.gc,tt,I),rt=Q;else if(He(I))for(T=0,A=I.length;T<A;++T)nt=I[T],!ne(nt)&&!He(nt)&&(tt=PE(r,H.data,H.gc,tt,nt),rt+=Q);u.push(tt),h.push(rt),m=Math.max(tt,m),_=Math.max(rt,_)}kP(o,e);const lt=u.indexOf(m),O=h.indexOf(_),R=x=>({width:u[x]||0,height:h[x]||0});return{first:R(0),last:R(e-1),widest:R(lt),highest:R(O),widths:u,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return Lk(this._alignToPixels?oa(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=PP(this.getContext(),t,i))}return this.$context||(this.$context=NP(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=fa(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),u=t.autoSkipPadding||0,h=o?o.widest.width+u:0,d=o?o.highest.height+u:0;return this.isHorizontal()?d*i>h*r?h/i:d/r:d*r<h*i?d/i:h/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:u,border:h}=r,d=o.offset,m=this.isHorizontal(),v=this.ticks.length+(d?1:0),T=du(o),A=[],I=h.setContext(this.getContext()),k=I.display?I.width:0,M=k/2,H=function(Y){return oa(i,Y,k)};let Q,tt,rt,nt,lt,O,R,x,N,P,L,C;if(u==="top")Q=H(this.bottom),O=this.bottom-T,x=Q-M,P=H(t.top)+M,C=t.bottom;else if(u==="bottom")Q=H(this.top),P=t.top,C=H(t.bottom)-M,O=Q+M,x=this.top+T;else if(u==="left")Q=H(this.right),lt=this.right-T,R=Q-M,N=H(t.left)+M,L=t.right;else if(u==="right")Q=H(this.left),N=t.left,L=H(t.right)-M,lt=Q+M,R=this.left+T;else if(e==="x"){if(u==="center")Q=H((t.top+t.bottom)/2+.5);else if(jt(u)){const Y=Object.keys(u)[0],st=u[Y];Q=H(this.chart.scales[Y].getPixelForValue(st))}P=t.top,C=t.bottom,O=Q+M,x=O+T}else if(e==="y"){if(u==="center")Q=H((t.left+t.right)/2);else if(jt(u)){const Y=Object.keys(u)[0],st=u[Y];Q=H(this.chart.scales[Y].getPixelForValue(st))}lt=Q-M,R=lt-T,N=t.left,L=t.right}const Wt=Ft(r.ticks.maxTicksLimit,v),At=Math.max(1,Math.ceil(v/Wt));for(tt=0;tt<v;tt+=At){const Y=this.getContext(tt),st=o.setContext(Y),gt=h.setContext(Y),kt=st.lineWidth,V=st.color,et=gt.dash||[],ot=gt.dashOffset,it=st.tickWidth,dt=st.tickColor,wt=st.tickBorderDash||[],_t=st.tickBorderDashOffset;rt=MP(this,tt,d),rt!==void 0&&(nt=oa(i,rt,kt),m?lt=R=N=L=nt:O=x=P=C=nt,A.push({tx1:lt,ty1:O,tx2:R,ty2:x,x1:N,y1:P,x2:L,y2:C,width:kt,color:V,borderDash:et,borderDashOffset:ot,tickWidth:it,tickColor:dt,tickBorderDash:wt,tickBorderDashOffset:_t}))}return this._ticksLength=v,this._borderValue=Q,A}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,u=this.isHorizontal(),h=this.ticks,{align:d,crossAlign:m,padding:_,mirror:v}=o,T=du(i.grid),A=T+_,I=v?-_:A,k=-fa(this.labelRotation),M=[];let H,Q,tt,rt,nt,lt,O,R,x,N,P,L,C="middle";if(r==="top")lt=this.bottom-I,O=this._getXAxisLabelAlignment();else if(r==="bottom")lt=this.top+I,O=this._getXAxisLabelAlignment();else if(r==="left"){const At=this._getYAxisLabelAlignment(T);O=At.textAlign,nt=At.x}else if(r==="right"){const At=this._getYAxisLabelAlignment(T);O=At.textAlign,nt=At.x}else if(e==="x"){if(r==="center")lt=(t.top+t.bottom)/2+A;else if(jt(r)){const At=Object.keys(r)[0],Y=r[At];lt=this.chart.scales[At].getPixelForValue(Y)+A}O=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")nt=(t.left+t.right)/2-A;else if(jt(r)){const At=Object.keys(r)[0],Y=r[At];nt=this.chart.scales[At].getPixelForValue(Y)}O=this._getYAxisLabelAlignment(T).textAlign}e==="y"&&(d==="start"?C="top":d==="end"&&(C="bottom"));const Wt=this._getLabelSizes();for(H=0,Q=h.length;H<Q;++H){tt=h[H],rt=tt.label;const At=o.setContext(this.getContext(H));R=this.getPixelForTick(H)+o.labelOffset,x=this._resolveTickFontOptions(H),N=x.lineHeight,P=He(rt)?rt.length:1;const Y=P/2,st=At.color,gt=At.textStrokeColor,kt=At.textStrokeWidth;let V=O;u?(nt=R,O==="inner"&&(H===Q-1?V=this.options.reverse?"left":"right":H===0?V=this.options.reverse?"right":"left":V="center"),r==="top"?m==="near"||k!==0?L=-P*N+N/2:m==="center"?L=-Wt.highest.height/2-Y*N+N:L=-Wt.highest.height+N/2:m==="near"||k!==0?L=N/2:m==="center"?L=Wt.highest.height/2-Y*N:L=Wt.highest.height-P*N,v&&(L*=-1),k!==0&&!At.showLabelBackdrop&&(nt+=N/2*Math.sin(k))):(lt=R,L=(1-P)*N/2);let et;if(At.showLabelBackdrop){const ot=si(At.backdropPadding),it=Wt.heights[H],dt=Wt.widths[H];let wt=L-ot.top,_t=0-ot.left;switch(C){case"middle":wt-=it/2;break;case"bottom":wt-=it;break}switch(O){case"center":_t-=dt/2;break;case"right":_t-=dt;break;case"inner":H===Q-1?_t-=dt:H>0&&(_t-=dt/2);break}et={left:_t,top:wt,width:dt+ot.width,height:it+ot.height,color:At.backdropColor}}M.push({label:rt,font:x,textOffset:L,options:{rotation:k,color:st,strokeColor:gt,strokeWidth:kt,textAlign:V,textBaseline:C,translation:[nt,lt],backdrop:et}})}return M}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-fa(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,u=this._getLabelSizes(),h=t+o,d=u.widest.width;let m,_;return e==="left"?r?(_=this.right+o,i==="near"?m="left":i==="center"?(m="center",_+=d/2):(m="right",_+=d)):(_=this.right-h,i==="near"?m="right":i==="center"?(m="center",_-=d/2):(m="left",_=this.left)):e==="right"?r?(_=this.left+o,i==="near"?m="right":i==="center"?(m="center",_-=d/2):(m="left",_-=d)):(_=this.left+h,i==="near"?m="left":i==="center"?(m="center",_+=d/2):(m="right",_=this.right)):m="right",{textAlign:m,x:_}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:u}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,u),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,u;const h=(d,m,_)=>{!_.width||!_.color||(i.save(),i.lineWidth=_.width,i.strokeStyle=_.color,i.setLineDash(_.borderDash||[]),i.lineDashOffset=_.borderDashOffset,i.beginPath(),i.moveTo(d.x,d.y),i.lineTo(m.x,m.y),i.stroke(),i.restore())};if(e.display)for(o=0,u=r.length;o<u;++o){const d=r[o];e.drawOnChartArea&&h({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),e.drawTicks&&h({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),u=i.display?o.width:0;if(!u)return;const h=r.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let m,_,v,T;this.isHorizontal()?(m=oa(t,this.left,u)-u/2,_=oa(t,this.right,h)+h/2,v=T=d):(v=oa(t,this.top,u)-u/2,T=oa(t,this.bottom,h)+h/2,m=_=d),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(m,v),e.lineTo(_,T),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&g_(i,r);const o=this.getLabelItems(t);for(const u of o){const h=u.options,d=u.font,m=u.label,_=u.textOffset;Nf(i,m,0,_,d,h)}r&&m_(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=pn(i.font),u=si(i.padding),h=i.align;let d=o.lineHeight/2;e==="bottom"||e==="center"||jt(e)?(d+=u.bottom,He(i.text)&&(d+=o.lineHeight*(i.text.length-1))):d+=u.top;const{titleX:m,titleY:_,maxWidth:v,rotation:T}=LP(this,d,e,h);Nf(t,i.text,0,0,o,{color:i.color,maxWidth:v,rotation:T,textAlign:VP(h,e,r),textBaseline:"middle",translation:[m,_]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Ft(t.grid&&t.grid.z,-1),r=Ft(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Jo.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,u;for(o=0,u=e.length;o<u;++o){const h=e[o];h[i]===this.id&&(!t||h.type===t)&&r.push(h)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return pn(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Gh{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;BP(e)&&(i=this.register(e));const r=this.items,o=t.id,u=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,UP(t,u,i),this.override&&be.override(t.id,t.overrides)),u}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in be[r]&&(delete be[r][i],this.override&&delete Ea[i])}}function UP(n,t,e){const i=Gu(Object.create(null),[e?be.get(e):{},be.get(t),n.defaults]);be.set(t,i),n.defaultRoutes&&zP(t,n.defaultRoutes),n.descriptors&&be.describe(t,n.descriptors)}function zP(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),u=t[e].split("."),h=u.pop(),d=u.join(".");be.route(o,r,d,h)})}function BP(n){return"id"in n&&"defaults"in n}class jP{constructor(){this.controllers=new Gh(zw,"datasets",!0),this.elements=new Gh(rc,"elements"),this.plugins=new Gh(Object,"plugins"),this.scales=new Gh(Jo,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):Xt(r,u=>{const h=i||this._getRegistryForType(u);this._exec(t,h,u)})})}_exec(t,e,i){const r=f_(t);ae(i["before"+r],[],i),e[t](i),ae(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var Ai=new jP;class HP{constructor(){this._init=[]}notify(t,e,i,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=r?this._descriptors(t).filter(r):this._descriptors(t),u=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),u}_notify(t,e,i,r){r=r||{};for(const o of t){const u=o.plugin,h=u[i],d=[e,r,o.options];if(ae(h,d,u)===!1&&r.cancelable)return!1}return!0}invalidate(){ne(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Ft(i.options&&i.options.plugins,{}),o=FP(i);return r===!1&&!e?[]:GP(t,o,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,u)=>o.filter(h=>!u.some(d=>h.plugin.id===d.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function FP(n){const t={},e=[],i=Object.keys(Ai.plugins.items);for(let o=0;o<i.length;o++)e.push(Ai.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const u=r[o];e.indexOf(u)===-1&&(e.push(u),t[u.id]=!0)}return{plugins:e,localIds:t}}function qP(n,t){return!t&&n===!1?null:n===!0?{}:n}function GP(n,{plugins:t,localIds:e},i,r){const o=[],u=n.getContext();for(const h of t){const d=h.id,m=qP(i[d],r);m!==null&&o.push({plugin:h,options:YP(n.config,{plugin:h,local:e[d]},m,u)})}return o}function YP(n,{plugin:t,local:e},i,r){const o=n.pluginScopeKeys(t),u=n.getOptionScopes(i,o);return e&&t.defaults&&u.push(t.defaults),n.createResolver(u,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function fp(n,t){const e=be.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function KP(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function QP(n,t){return n===t?"_index_":"_value_"}function oT(n){if(n==="x"||n==="y"||n==="r")return n}function XP(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function dp(n,...t){if(oT(n))return n;for(const e of t){const i=e.axis||XP(e.position)||n.length>1&&oT(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function lT(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function WP(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return lT(n,"x",e[0])||lT(n,"y",e[0])}return{}}function $P(n,t){const e=Ea[n.type]||{scales:{}},i=t.scales||{},r=fp(n.type,t),o=Object.create(null);return Object.keys(i).forEach(u=>{const h=i[u];if(!jt(h))return console.error(`Invalid scale configuration for scale: ${u}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${u}`);const d=dp(u,h,WP(u,n),be.scales[h.type]),m=QP(d,r),_=e.scales||{};o[u]=Ou(Object.create(null),[{axis:d},h,_[d],_[m]])}),n.data.datasets.forEach(u=>{const h=u.type||n.type,d=u.indexAxis||fp(h,t),_=(Ea[h]||{}).scales||{};Object.keys(_).forEach(v=>{const T=KP(v,d),A=u[T+"AxisID"]||T;o[A]=o[A]||Object.create(null),Ou(o[A],[{axis:T},i[A],_[v]])})}),Object.keys(o).forEach(u=>{const h=o[u];Ou(h,[be.scales[h.type],be.scale])}),o}function Yw(n){const t=n.options||(n.options={});t.plugins=Ft(t.plugins,{}),t.scales=$P(n,t)}function Kw(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function ZP(n){return n=n||{},n.data=Kw(n.data),Yw(n),n}const uT=new Map,Qw=new Set;function Yh(n,t){let e=uT.get(n);return e||(e=t(),uT.set(n,e),Qw.add(e)),e}const gu=(n,t,e)=>{const i=jo(t,e);i!==void 0&&n.add(i)};class JP{constructor(t){this._config=ZP(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Kw(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Yw(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Yh(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Yh(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Yh(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return Yh(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,u=this._cachedScopes(t,i),h=u.get(e);if(h)return h;const d=new Set;e.forEach(_=>{t&&(d.add(t),_.forEach(v=>gu(d,t,v))),_.forEach(v=>gu(d,r,v)),_.forEach(v=>gu(d,Ea[o]||{},v)),_.forEach(v=>gu(d,be,v)),_.forEach(v=>gu(d,hp,v))});const m=Array.from(d);return m.length===0&&m.push(Object.create(null)),Qw.has(e)&&u.set(e,m),m}chartOptionScopes(){const{options:t,type:e}=this;return[t,Ea[e]||{},be.datasets[e]||{},{type:e},be,hp]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:u,subPrefixes:h}=cT(this._resolverCache,t,r);let d=u;if(eV(u,e)){o.$shared=!1,i=br(i)?i():i;const m=this.createResolver(t,i,h);d=Ho(u,i,m)}for(const m of e)o[m]=d[m];return o}createResolver(t,e,i=[""],r){const{resolver:o}=cT(this._resolverCache,t,i);return jt(e)?Ho(o,e,void 0,r):o}}function cT(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:p_(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},i.set(r,o)),o}const tV=n=>jt(n)&&Object.getOwnPropertyNames(n).some(t=>br(n[t]));function eV(n,t){const{isScriptable:e,isIndexable:i}=Ow(n);for(const r of t){const o=e(r),u=i(r),h=(u||o)&&n[r];if(o&&(br(h)||tV(h))||u&&He(h))return!0}return!1}var nV="4.5.0";const iV=["top","bottom","left","right","chartArea"];function hT(n,t){return n==="top"||n==="bottom"||iV.indexOf(n)===-1&&t==="x"}function fT(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function dT(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),ae(e&&e.onComplete,[n],t)}function sV(n){const t=n.chart,e=t.options.animation;ae(e&&e.onProgress,[n],t)}function Xw(n){return v_()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const lf={},gT=n=>{const t=Xw(n);return Object.values(lf).filter(e=>e.canvas===t).pop()};function rV(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const u=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=u)}}}function aV(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let ad=class{static defaults=be;static instances=lf;static overrides=Ea;static registry=Ai;static version=nV;static getChart=gT;static register(...t){Ai.add(...t),mT()}static unregister(...t){Ai.remove(...t),mT()}constructor(t,e){const i=this.config=new JP(e),r=Xw(t),o=gT(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const u=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||AP(r)),this.platform.updateConfig(i);const h=this.platform.acquireContext(r,u.aspectRatio),d=h&&h.canvas,m=d&&d.height,_=d&&d.width;if(this.id=Ek(),this.ctx=h,this.canvas=d,this.width=_,this.height=m,this._options=u,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new HP,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=jk(v=>this.update(v),u.resizeDelay||0),this._dataChanges=[],lf[this.id]=this,!h||!d){console.error("Failed to create chart: can't acquire context from the given item");return}os.listen(this,"complete",dT),os.listen(this,"progress",sV),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:o}=this;return ne(t)?e&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ai}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():BE(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return VE(this.canvas,this.ctx),this}stop(){return os.stop(this),this}resize(t,e){os.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,u=this.platform.getMaximumSize(r,t,e,o),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=u.width,this.height=u.height,this._aspectRatio=this.aspectRatio,BE(this,h,!0)&&(this.notifyPlugins("resize",{size:u}),ae(i.onResize,[this,u],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Xt(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((u,h)=>(u[h]=!1,u),{});let o=[];e&&(o=o.concat(Object.keys(e).map(u=>{const h=e[u],d=dp(u,h),m=d==="r",_=d==="x";return{options:h,dposition:m?"chartArea":_?"bottom":"left",dtype:m?"radialLinear":_?"category":"linear"}}))),Xt(o,u=>{const h=u.options,d=h.id,m=dp(d,h),_=Ft(h.type,u.dtype);(h.position===void 0||hT(h.position,m)!==hT(u.dposition))&&(h.position=u.dposition),r[d]=!0;let v=null;if(d in i&&i[d].type===_)v=i[d];else{const T=Ai.getScale(_);v=new T({id:d,type:_,ctx:this.ctx,chart:this}),i[v.id]=v}v.init(h,t)}),Xt(r,(u,h)=>{u||delete i[h]}),Xt(i,u=>{tr.configure(this,u,u.options),tr.addBox(this,u)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(fT("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const o=e[i];let u=this.getDatasetMeta(i);const h=o.type||this.config.type;if(u.type&&u.type!==h&&(this._destroyDatasetMeta(i),u=this.getDatasetMeta(i)),u.type=h,u.indexAxis=o.indexAxis||fp(h,this.options),u.order=o.order||0,u.index=i,u.label=""+o.label,u.visible=this.isDatasetVisible(i),u.controller)u.controller.updateIndex(i),u.controller.linkScales();else{const d=Ai.getController(h),{datasetElementType:m,dataElementType:_}=be.datasets[h];Object.assign(d,{dataElementType:Ai.getElement(_),datasetElementType:m&&Ai.getElement(m)}),u.controller=new d(this,i),t.push(u.controller)}}return this._updateMetasets(),t}_resetElements(){Xt(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let u=0;for(let m=0,_=this.data.datasets.length;m<_;m++){const{controller:v}=this.getDatasetMeta(m),T=!r&&o.indexOf(v)===-1;v.buildOrUpdateElements(T),u=Math.max(+v.getMaxOverflow(),u)}u=this._minPadding=i.layout.autoPadding?u:0,this._updateLayout(u),r||Xt(o,m=>{m.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(fT("z","_idx"));const{_active:h,_lastEvent:d}=this;d?this._eventHandler(d,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){Xt(this.scales,t=>{tr.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!RE(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of e){const u=i==="_removeElements"?-o:o;rV(t,r,u)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(u=>u[0]===o).map((u,h)=>h+","+u.splice(1).join(","))),r=i(0);for(let o=1;o<e;o++)if(!RE(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;tr.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Xt(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,br(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(os.has(this)?this.attached&&!os.running(this)&&os.start(this):(this.draw(),dT({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,o;for(r=0,o=e.length;r<o;++r){const u=e[r];(!t||u.visible)&&i.push(u)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=RN(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&g_(e,r),t.controller.draw(),r&&m_(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return Iw(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const o=iP.modes[e];return typeof o=="function"?o(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Zo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),u=o.controller._resolveAnimations(void 0,r);Yu(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),u.update(o,{visible:i}),this.update(h=>h.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),os.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),VE(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete lf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,u)=>{e.addEventListener(this,o,u),t[o]=u},r=(o,u,h)=>{o.offsetX=u,o.offsetY=h,this._eventHandler(o)};Xt(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(d,m)=>{e.addEventListener(this,d,m),t[d]=m},r=(d,m)=>{t[d]&&(e.removeEventListener(this,d,m),delete t[d])},o=(d,m)=>{this.canvas&&this.resize(d,m)};let u;const h=()=>{r("attach",h),this.attached=!0,this.resize(),i("resize",o),i("detach",u)};u=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",h)},e.isAttached(this.canvas)?h():u()}unbindEvents(){Xt(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Xt(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let o,u,h,d;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),h=0,d=t.length;h<d;++h){u=t[h];const m=u&&this.getDatasetMeta(u.datasetIndex).controller;m&&m[r+"HoverStyle"](u.element,u.datasetIndex,u.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:u})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[u],index:u}});!Df(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,o=(d,m)=>d.filter(_=>!m.some(v=>_.datasetIndex===v.datasetIndex&&_.index===v.index)),u=o(e,t),h=i?t:o(t,e);u.length&&this.updateHoverStyle(u,r.mode,!1),h.length&&r.mode&&this.updateHoverStyle(h,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=u=>(u.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:o}=this,u=e,h=this._getActiveElements(t,r,i,u),d=xk(t),m=aV(t,this._lastEvent,i,d);i&&(this._lastEvent=null,ae(o.onHover,[t,h,this],this),d&&ae(o.onClick,[t,h,this],this));const _=!Df(h,r);return(_||e)&&(this._active=h,this._updateHoverStyles(h,r,e)),this._lastEvent=m,_}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}};function mT(){return Xt(ad.instances,n=>n._plugins.invalidate())}function Ww(n,t){const{x:e,y:i,base:r,width:o,height:u}=n.getProps(["x","y","base","width","height"],t);let h,d,m,_,v;return n.horizontal?(v=u/2,h=Math.min(e,r),d=Math.max(e,r),m=i-v,_=i+v):(v=o/2,h=e-v,d=e+v,m=Math.min(i,r),_=Math.max(i,r)),{left:h,top:m,right:d,bottom:_}}function er(n,t,e,i){return n?0:ei(t,e,i)}function oV(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,o=Dw(i);return{t:er(r.top,o.top,0,e),r:er(r.right,o.right,0,t),b:er(r.bottom,o.bottom,0,e),l:er(r.left,o.left,0,t)}}function lV(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=Oo(r),u=Math.min(t,e),h=n.borderSkipped,d=i||jt(r);return{topLeft:er(!d||h.top||h.left,o.topLeft,0,u),topRight:er(!d||h.top||h.right,o.topRight,0,u),bottomLeft:er(!d||h.bottom||h.left,o.bottomLeft,0,u),bottomRight:er(!d||h.bottom||h.right,o.bottomRight,0,u)}}function uV(n){const t=Ww(n),e=t.right-t.left,i=t.bottom-t.top,r=oV(n,e/2,i/2),o=lV(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function Pm(n,t,e,i){const r=t===null,o=e===null,h=n&&!(r&&o)&&Ww(n,i);return h&&(r||Ro(t,h.left,h.right))&&(o||Ro(e,h.top,h.bottom))}function cV(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function hV(n,t){n.rect(t.x,t.y,t.w,t.h)}function Vm(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,u=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+o,h:n.h+u,radius:n.radius}}class fV extends rc{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:u}=uV(this),h=cV(u.radius)?Pf:hV;t.save(),(u.w!==o.w||u.h!==o.h)&&(t.beginPath(),h(t,Vm(u,e,o)),t.clip(),h(t,Vm(o,-e,u)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),h(t,Vm(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return Pm(this,t,e,i)}inXRange(t,e){return Pm(this,t,null,e)}inYRange(t,e){return Pm(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}const pT=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},dV=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class _T extends rc{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=ae(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=pn(i.font),o=r.size,u=this._computeTitleHeight(),{boxWidth:h,itemHeight:d}=pT(i,o);let m,_;e.font=r.string,this.isHorizontal()?(m=this.maxWidth,_=this._fitRows(u,o,h,d)+10):(_=this.maxHeight,m=this._fitCols(u,r,h,d)+10),this.width=Math.min(m,t.maxWidth||this.maxWidth),this.height=Math.min(_,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:u,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],m=this.lineWidths=[0],_=r+h;let v=t;o.textAlign="left",o.textBaseline="middle";let T=-1,A=-_;return this.legendItems.forEach((I,k)=>{const M=i+e/2+o.measureText(I.text).width;(k===0||m[m.length-1]+M+2*h>u)&&(v+=_,m[m.length-(k>0?0:1)]=0,A+=_,T++),d[k]={left:0,top:A,row:T,width:M,height:r},m[m.length-1]+=M+h}),v}_fitCols(t,e,i,r){const{ctx:o,maxHeight:u,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],m=this.columnSizes=[],_=u-t;let v=h,T=0,A=0,I=0,k=0;return this.legendItems.forEach((M,H)=>{const{itemWidth:Q,itemHeight:tt}=gV(i,e,o,M,r);H>0&&A+tt+2*h>_&&(v+=T+h,m.push({width:T,height:A}),I+=T+h,k++,T=A=0),d[H]={left:I,top:A,col:k,width:Q,height:tt},T=Math.max(T,Q),A+=tt+h}),v+=T,m.push({width:T,height:A}),v}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,u=Mo(o,this.left,this.width);if(this.isHorizontal()){let h=0,d=xn(i,this.left+r,this.right-this.lineWidths[h]);for(const m of e)h!==m.row&&(h=m.row,d=xn(i,this.left+r,this.right-this.lineWidths[h])),m.top+=this.top+t+r,m.left=u.leftForLtr(u.x(d),m.width),d+=m.width+r}else{let h=0,d=xn(i,this.top+t+r,this.bottom-this.columnSizes[h].height);for(const m of e)m.col!==h&&(h=m.col,d=xn(i,this.top+t+r,this.bottom-this.columnSizes[h].height)),m.top=d,m.left+=this.left+r,m.left=u.leftForLtr(u.x(m.left),m.width),d+=m.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;g_(t,this),this._draw(),m_(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:u}=t,h=be.color,d=Mo(t.rtl,this.left,this.width),m=pn(u.font),{padding:_}=u,v=m.size,T=v/2;let A;this.drawTitle(),r.textAlign=d.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=m.string;const{boxWidth:I,boxHeight:k,itemHeight:M}=pT(u,v),H=function(lt,O,R){if(isNaN(I)||I<=0||isNaN(k)||k<0)return;r.save();const x=Ft(R.lineWidth,1);if(r.fillStyle=Ft(R.fillStyle,h),r.lineCap=Ft(R.lineCap,"butt"),r.lineDashOffset=Ft(R.lineDashOffset,0),r.lineJoin=Ft(R.lineJoin,"miter"),r.lineWidth=x,r.strokeStyle=Ft(R.strokeStyle,h),r.setLineDash(Ft(R.lineDash,[])),u.usePointStyle){const N={radius:k*Math.SQRT2/2,pointStyle:R.pointStyle,rotation:R.rotation,borderWidth:x},P=d.xPlus(lt,I/2),L=O+T;xw(r,N,P,L,u.pointStyleWidth&&I)}else{const N=O+Math.max((v-k)/2,0),P=d.leftForLtr(lt,I),L=Oo(R.borderRadius);r.beginPath(),Object.values(L).some(C=>C!==0)?Pf(r,{x:P,y:N,w:I,h:k,radius:L}):r.rect(P,N,I,k),r.fill(),x!==0&&r.stroke()}r.restore()},Q=function(lt,O,R){Nf(r,R.text,lt,O+M/2,m,{strikethrough:R.hidden,textAlign:d.textAlign(R.textAlign)})},tt=this.isHorizontal(),rt=this._computeTitleHeight();tt?A={x:xn(o,this.left+_,this.right-i[0]),y:this.top+_+rt,line:0}:A={x:this.left+_,y:xn(o,this.top+rt+_,this.bottom-e[0].height),line:0},Pw(this.ctx,t.textDirection);const nt=M+_;this.legendItems.forEach((lt,O)=>{r.strokeStyle=lt.fontColor,r.fillStyle=lt.fontColor;const R=r.measureText(lt.text).width,x=d.textAlign(lt.textAlign||(lt.textAlign=u.textAlign)),N=I+T+R;let P=A.x,L=A.y;d.setWidth(this.width),tt?O>0&&P+N+_>this.right&&(L=A.y+=nt,A.line++,P=A.x=xn(o,this.left+_,this.right-i[A.line])):O>0&&L+nt>this.bottom&&(P=A.x=P+e[A.line].width+_,A.line++,L=A.y=xn(o,this.top+rt+_,this.bottom-e[A.line].height));const C=d.x(P);if(H(C,L,lt),P=Hk(x,P+I+T,tt?P+N:this.right,t.rtl),Q(d.x(P),L,lt),tt)A.x+=N+_;else if(typeof lt.text!="string"){const Wt=m.lineHeight;A.y+=$w(lt,Wt)+_}else A.y+=nt}),Vw(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=pn(e.font),r=si(e.padding);if(!e.display)return;const o=Mo(t.rtl,this.left,this.width),u=this.ctx,h=e.position,d=i.size/2,m=r.top+d;let _,v=this.left,T=this.width;if(this.isHorizontal())T=Math.max(...this.lineWidths),_=this.top+m,v=xn(t.align,v,this.right-T);else{const I=this.columnSizes.reduce((k,M)=>Math.max(k,M.height),0);_=m+xn(t.align,this.top,this.bottom-I-t.labels.padding-this._computeTitleHeight())}const A=xn(h,v,v+T);u.textAlign=o.textAlign(Sw(h)),u.textBaseline="middle",u.strokeStyle=e.color,u.fillStyle=e.color,u.font=i.string,Nf(u,e.text,A,_,i)}_computeTitleHeight(){const t=this.options.title,e=pn(t.font),i=si(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(Ro(t,this.left,this.right)&&Ro(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],Ro(t,r.left,r.left+r.width)&&Ro(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!_V(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=dV(r,i);r&&!o&&ae(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&ae(e.onHover,[t,i,this],this)}else i&&ae(e.onClick,[t,i,this],this)}}function gV(n,t,e,i,r){const o=mV(i,n,t,e),u=pV(r,i,t.lineHeight);return{itemWidth:o,itemHeight:u}}function mV(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,u)=>o.length>u.length?o:u)),t+e.size/2+i.measureText(r).width}function pV(n,t,e){let i=n;return typeof t.text!="string"&&(i=$w(t,e)),i}function $w(n,t){const e=n.text?n.text.length:0;return t*e}function _V(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var yV={id:"legend",_element:_T,start(n,t,e){const i=n.legend=new _T({ctx:n.ctx,options:e,chart:n});tr.configure(n,i,e),tr.addBox(n,i)},stop(n){tr.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;tr.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:u,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(d=>{const m=d.controller.getStyle(e?0:void 0),_=si(m.borderWidth);return{text:t[d.index].label,fillStyle:m.backgroundColor,fontColor:o,hidden:!d.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(_.width+_.height)/4,strokeStyle:m.borderColor,pointStyle:i||m.pointStyle,rotation:m.rotation,textAlign:r||m.textAlign,borderRadius:u&&(h||m.borderRadius),datasetIndex:d.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};const Su={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const d=h.tooltipPosition();i.add(d.x),r+=d.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((h,d)=>h+d)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,u,h;for(o=0,u=n.length;o<u;++o){const d=n[o].element;if(d&&d.hasValue()){const m=d.getCenterPoint(),_=Pk(t,m);_<r&&(r=_,h=d)}}if(h){const d=h.tooltipPosition();e=d.x,i=d.y}return{x:e,y:i}}};function Si(n,t){return t&&(He(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function ls(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function vV(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:u,value:h}=o.getLabelAndValue(r);return{chart:n,label:u,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:h,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function yT(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:u,boxHeight:h}=t,d=pn(t.bodyFont),m=pn(t.titleFont),_=pn(t.footerFont),v=o.length,T=r.length,A=i.length,I=si(t.padding);let k=I.height,M=0,H=i.reduce((rt,nt)=>rt+nt.before.length+nt.lines.length+nt.after.length,0);if(H+=n.beforeBody.length+n.afterBody.length,v&&(k+=v*m.lineHeight+(v-1)*t.titleSpacing+t.titleMarginBottom),H){const rt=t.displayColors?Math.max(h,d.lineHeight):d.lineHeight;k+=A*rt+(H-A)*d.lineHeight+(H-1)*t.bodySpacing}T&&(k+=t.footerMarginTop+T*_.lineHeight+(T-1)*t.footerSpacing);let Q=0;const tt=function(rt){M=Math.max(M,e.measureText(rt).width+Q)};return e.save(),e.font=m.string,Xt(n.title,tt),e.font=d.string,Xt(n.beforeBody.concat(n.afterBody),tt),Q=t.displayColors?u+2+t.boxPadding:0,Xt(i,rt=>{Xt(rt.before,tt),Xt(rt.lines,tt),Xt(rt.after,tt)}),Q=0,e.font=_.string,Xt(n.footer,tt),e.restore(),M+=I.width,{width:M,height:k}}function bV(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function EV(n,t,e,i){const{x:r,width:o}=i,u=e.caretSize+e.caretPadding;if(n==="left"&&r+o+u>t.width||n==="right"&&r-o-u<0)return!0}function TV(n,t,e,i){const{x:r,width:o}=e,{width:u,chartArea:{left:h,right:d}}=n;let m="center";return i==="center"?m=r<=(h+d)/2?"left":"right":r<=o/2?m="left":r>=u-o/2&&(m="right"),EV(m,n,t,e)&&(m="center"),m}function vT(n,t,e){const i=e.yAlign||t.yAlign||bV(n,e);return{xAlign:e.xAlign||t.xAlign||TV(n,t,e,i),yAlign:i}}function SV(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function AV(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function bT(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:u}=n,{xAlign:h,yAlign:d}=e,m=r+o,{topLeft:_,topRight:v,bottomLeft:T,bottomRight:A}=Oo(u);let I=SV(t,h);const k=AV(t,d,m);return d==="center"?h==="left"?I+=m:h==="right"&&(I-=m):h==="left"?I-=Math.max(_,T)+r:h==="right"&&(I+=Math.max(v,A)+r),{x:ei(I,0,i.width-t.width),y:ei(k,0,i.height-t.height)}}function Kh(n,t,e){const i=si(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function ET(n){return Si([],ls(n))}function wV(n,t,e){return Zo(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function TT(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const Zw={beforeTitle:as,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:as,beforeBody:as,beforeLabel:as,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return ne(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:as,afterBody:as,beforeFooter:as,footer:as,afterFooter:as};function dn(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?Zw[t].call(e,i):r}class ST extends rc{static positioners=Su;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,o=new Lw(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=wV(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=dn(i,"beforeTitle",this,t),o=dn(i,"title",this,t),u=dn(i,"afterTitle",this,t);let h=[];return h=Si(h,ls(r)),h=Si(h,ls(o)),h=Si(h,ls(u)),h}getBeforeBody(t,e){return ET(dn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return Xt(t,o=>{const u={before:[],lines:[],after:[]},h=TT(i,o);Si(u.before,ls(dn(h,"beforeLabel",this,o))),Si(u.lines,dn(h,"label",this,o)),Si(u.after,ls(dn(h,"afterLabel",this,o))),r.push(u)}),r}getAfterBody(t,e){return ET(dn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=dn(i,"beforeFooter",this,t),o=dn(i,"footer",this,t),u=dn(i,"afterFooter",this,t);let h=[];return h=Si(h,ls(r)),h=Si(h,ls(o)),h=Si(h,ls(u)),h}_createItems(t){const e=this._active,i=this.chart.data,r=[],o=[],u=[];let h=[],d,m;for(d=0,m=e.length;d<m;++d)h.push(vV(this.chart,e[d]));return t.filter&&(h=h.filter((_,v,T)=>t.filter(_,v,T,i))),t.itemSort&&(h=h.sort((_,v)=>t.itemSort(_,v,i))),Xt(h,_=>{const v=TT(t.callbacks,_);r.push(dn(v,"labelColor",this,_)),o.push(dn(v,"labelPointStyle",this,_)),u.push(dn(v,"labelTextColor",this,_))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=u,this.dataPoints=h,h}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let o,u=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const h=Su[i.position].call(this,r,this._eventPosition);u=this._createItems(i),this.title=this.getTitle(u,i),this.beforeBody=this.getBeforeBody(u,i),this.body=this.getBody(u,i),this.afterBody=this.getAfterBody(u,i),this.footer=this.getFooter(u,i);const d=this._size=yT(this,i),m=Object.assign({},h,d),_=vT(this.chart,i,m),v=bT(i,m,_,this.chart);this.xAlign=_.xAlign,this.yAlign=_.yAlign,o={opacity:1,x:v.x,y:v.y,width:d.width,height:d.height,caretX:h.x,caretY:h.y}}this._tooltipItems=u,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const o=this.getCaretPosition(t,i,r);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:o}=this,{caretSize:u,cornerRadius:h}=i,{topLeft:d,topRight:m,bottomLeft:_,bottomRight:v}=Oo(h),{x:T,y:A}=t,{width:I,height:k}=e;let M,H,Q,tt,rt,nt;return o==="center"?(rt=A+k/2,r==="left"?(M=T,H=M-u,tt=rt+u,nt=rt-u):(M=T+I,H=M+u,tt=rt-u,nt=rt+u),Q=M):(r==="left"?H=T+Math.max(d,_)+u:r==="right"?H=T+I-Math.max(m,v)-u:H=this.caretX,o==="top"?(tt=A,rt=tt-u,M=H-u,Q=H+u):(tt=A+k,rt=tt+u,M=H+u,Q=H-u),nt=tt),{x1:M,x2:H,x3:Q,y1:tt,y2:rt,y3:nt}}drawTitle(t,e,i){const r=this.title,o=r.length;let u,h,d;if(o){const m=Mo(i.rtl,this.x,this.width);for(t.x=Kh(this,i.titleAlign,i),e.textAlign=m.textAlign(i.titleAlign),e.textBaseline="middle",u=pn(i.titleFont),h=i.titleSpacing,e.fillStyle=i.titleColor,e.font=u.string,d=0;d<o;++d)e.fillText(r[d],m.x(t.x),t.y+u.lineHeight/2),t.y+=u.lineHeight+h,d+1===o&&(t.y+=i.titleMarginBottom-h)}}_drawColorBox(t,e,i,r,o){const u=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:d,boxWidth:m}=o,_=pn(o.bodyFont),v=Kh(this,"left",o),T=r.x(v),A=d<_.lineHeight?(_.lineHeight-d)/2:0,I=e.y+A;if(o.usePointStyle){const k={radius:Math.min(m,d)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},M=r.leftForLtr(T,m)+m/2,H=I+d/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,LE(t,k,M,H),t.strokeStyle=u.borderColor,t.fillStyle=u.backgroundColor,LE(t,k,M,H)}else{t.lineWidth=jt(u.borderWidth)?Math.max(...Object.values(u.borderWidth)):u.borderWidth||1,t.strokeStyle=u.borderColor,t.setLineDash(u.borderDash||[]),t.lineDashOffset=u.borderDashOffset||0;const k=r.leftForLtr(T,m),M=r.leftForLtr(r.xPlus(T,1),m-2),H=Oo(u.borderRadius);Object.values(H).some(Q=>Q!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Pf(t,{x:k,y:I,w:m,h:d,radius:H}),t.fill(),t.stroke(),t.fillStyle=u.backgroundColor,t.beginPath(),Pf(t,{x:M,y:I+1,w:m-2,h:d-2,radius:H}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(k,I,m,d),t.strokeRect(k,I,m,d),t.fillStyle=u.backgroundColor,t.fillRect(M,I+1,m-2,d-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:o,bodyAlign:u,displayColors:h,boxHeight:d,boxWidth:m,boxPadding:_}=i,v=pn(i.bodyFont);let T=v.lineHeight,A=0;const I=Mo(i.rtl,this.x,this.width),k=function(R){e.fillText(R,I.x(t.x+A),t.y+T/2),t.y+=T+o},M=I.textAlign(u);let H,Q,tt,rt,nt,lt,O;for(e.textAlign=u,e.textBaseline="middle",e.font=v.string,t.x=Kh(this,M,i),e.fillStyle=i.bodyColor,Xt(this.beforeBody,k),A=h&&M!=="right"?u==="center"?m/2+_:m+2+_:0,rt=0,lt=r.length;rt<lt;++rt){for(H=r[rt],Q=this.labelTextColors[rt],e.fillStyle=Q,Xt(H.before,k),tt=H.lines,h&&tt.length&&(this._drawColorBox(e,t,rt,I,i),T=Math.max(v.lineHeight,d)),nt=0,O=tt.length;nt<O;++nt)k(tt[nt]),T=v.lineHeight;Xt(H.after,k)}A=0,T=v.lineHeight,Xt(this.afterBody,k),t.y-=o}drawFooter(t,e,i){const r=this.footer,o=r.length;let u,h;if(o){const d=Mo(i.rtl,this.x,this.width);for(t.x=Kh(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=d.textAlign(i.footerAlign),e.textBaseline="middle",u=pn(i.footerFont),e.fillStyle=i.footerColor,e.font=u.string,h=0;h<o;++h)e.fillText(r[h],d.x(t.x),t.y+u.lineHeight/2),t.y+=u.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:o,yAlign:u}=this,{x:h,y:d}=t,{width:m,height:_}=i,{topLeft:v,topRight:T,bottomLeft:A,bottomRight:I}=Oo(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(h+v,d),u==="top"&&this.drawCaret(t,e,i,r),e.lineTo(h+m-T,d),e.quadraticCurveTo(h+m,d,h+m,d+T),u==="center"&&o==="right"&&this.drawCaret(t,e,i,r),e.lineTo(h+m,d+_-I),e.quadraticCurveTo(h+m,d+_,h+m-I,d+_),u==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(h+A,d+_),e.quadraticCurveTo(h,d+_,h,d+_-A),u==="center"&&o==="left"&&this.drawCaret(t,e,i,r),e.lineTo(h,d+v),e.quadraticCurveTo(h,d,h+v,d),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const u=Su[t.position].call(this,this._active,this._eventPosition);if(!u)return;const h=this._size=yT(this,t),d=Object.assign({},u,this._size),m=vT(e,t,d),_=bT(t,d,m,e);(r._to!==_.x||o._to!==_.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=h.width,this.height=h.height,this.caretX=u.x,this.caretY=u.y,this._resolveAnimations().update(this,_))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const u=si(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,r,e),Pw(t,e.textDirection),o.y+=u.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),Vw(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:h,index:d})=>{const m=this.chart.getDatasetMeta(h);if(!m)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:m.data[d],index:d}}),o=!Df(i,r),u=this._positionChanged(r,e);(o||u)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],u=this._getActiveElements(t,o,e,i),h=this._positionChanged(u,t),d=e||!Df(u,o)||h;return d&&(this._active=u,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),d}_getActiveElements(t,e,i,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const u=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&u.reverse(),u}_positionChanged(t,e){const{caretX:i,caretY:r,options:o}=this,u=Su[o.position].call(this,t,e);return u!==!1&&(i!==u.x||r!==u.y)}}var RV={id:"tooltip",_element:ST,positioners:Su,afterInit(n,t,e){e&&(n.tooltip=new ST({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Zw},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const xV=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function IV(n,t,e,i){const r=n.indexOf(t);if(r===-1)return xV(n,t,e,i);const o=n.lastIndexOf(t);return r!==o?e:r}const CV=(n,t)=>n===null?null:ei(Math.round(n),0,t);function AT(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class DV extends Jo{static id="category";static defaults={ticks:{callback:AT}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:o}of e)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(ne(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:IV(i,t,Ft(e,t),this._addedLabels),CV(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let u=t;u<=e;u++)r.push({value:u});return r}getLabelForValue(t){return AT.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function OV(n,t){const e=[],{bounds:r,step:o,min:u,max:h,precision:d,count:m,maxTicks:_,maxDigits:v,includeBounds:T}=n,A=o||1,I=_-1,{min:k,max:M}=t,H=!ne(u),Q=!ne(h),tt=!ne(m),rt=(M-k)/(v+1);let nt=IE((M-k)/I/A)*A,lt,O,R,x;if(nt<1e-14&&!H&&!Q)return[{value:k},{value:M}];x=Math.ceil(M/nt)-Math.floor(k/nt),x>I&&(nt=IE(x*nt/I/A)*A),ne(d)||(lt=Math.pow(10,d),nt=Math.ceil(nt*lt)/lt),r==="ticks"?(O=Math.floor(k/nt)*nt,R=Math.ceil(M/nt)*nt):(O=k,R=M),H&&Q&&o&&Ok((h-u)/o,nt/1e3)?(x=Math.round(Math.min((h-u)/nt,_)),nt=(h-u)/x,O=u,R=h):tt?(O=H?u:O,R=Q?h:R,x=m-1,nt=(R-O)/x):(x=(R-O)/nt,af(x,Math.round(x),nt/1e3)?x=Math.round(x):x=Math.ceil(x));const N=Math.max(CE(nt),CE(O));lt=Math.pow(10,ne(d)?N:d),O=Math.round(O*lt)/lt,R=Math.round(R*lt)/lt;let P=0;for(H&&(T&&O!==u?(e.push({value:u}),O<u&&P++,af(Math.round((O+P*nt)*lt)/lt,u,wT(u,rt,n))&&P++):O<u&&P++);P<x;++P){const L=Math.round((O+P*nt)*lt)/lt;if(Q&&L>h)break;e.push({value:L})}return Q&&T&&R!==h?e.length&&af(e[e.length-1].value,h,wT(h,rt,n))?e[e.length-1].value=h:e.push({value:h}):(!Q||R===h)&&e.push({value:R}),e}function wT(n,t,{horizontal:e,minRotation:i}){const r=fa(i),o=(e?Math.sin(r):Math.cos(r))||.001,u=.75*t*(""+n).length;return Math.min(t/o,u)}class MV extends Jo{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return ne(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const u=d=>r=e?r:d,h=d=>o=i?o:d;if(t){const d=fr(r),m=fr(o);d<0&&m<0?h(0):d>0&&m>0&&u(0)}if(r===o){let d=o===0?1:Math.abs(o*.05);h(o+d),t||u(r-d)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,u=OV(r,o);return t.bounds==="ticks"&&Mk(u,this,"value"),t.reverse?(u.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),u}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return ww(t,this.chart.options.locale,this.options.ticks.format)}}class kV extends MV{static id="linear";static defaults={ticks:{callback:Rw.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=qn(t)?t:0,this.max=qn(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=fa(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const od={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},mn=Object.keys(od);function RT(n,t){return n-t}function xT(n,t){if(ne(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let u=t;return typeof i=="function"&&(u=i(u)),qn(u)||(u=typeof i=="string"?e.parse(u,i):e.parse(u)),u===null?null:(r&&(u=r==="week"&&(kf(o)||o===!0)?e.startOf(u,"isoWeek",o):e.startOf(u,r)),+u)}function IT(n,t,e,i){const r=mn.length;for(let o=mn.indexOf(n);o<r-1;++o){const u=od[mn[o]],h=u.steps?u.steps:Number.MAX_SAFE_INTEGER;if(u.common&&Math.ceil((e-t)/(h*u.size))<=i)return mn[o]}return mn[r-1]}function NV(n,t,e,i,r){for(let o=mn.length-1;o>=mn.indexOf(e);o--){const u=mn[o];if(od[u].common&&n._adapter.diff(r,i,u)>=t-1)return u}return mn[e?mn.indexOf(e):0]}function PV(n){for(let t=mn.indexOf(n)+1,e=mn.length;t<e;++t)if(od[mn[t]].common)return mn[t]}function CT(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=d_(e,t),o=e[i]>=t?e[i]:e[r];n[o]=!0}}function VV(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),u=t[t.length-1].value;let h,d;for(h=o;h<=u;h=+r.add(h,1,i))d=e[h],d>=0&&(t[d].major=!0);return t}function DT(n,t,e){const i=[],r={},o=t.length;let u,h;for(u=0;u<o;++u)h=t[u],r[h]=u,i.push({value:h,major:!1});return o===0||!e?i:VV(n,i,r,e)}class OT extends Jo{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new ZN._date(t.adapters.date);r.init(e),Ou(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:xT(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:u,maxDefined:h}=this.getUserBounds();function d(m){!u&&!isNaN(m.min)&&(r=Math.min(r,m.min)),!h&&!isNaN(m.max)&&(o=Math.max(o,m.max))}(!u||!h)&&(d(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&d(this.getMinMax(!1))),r=qn(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),o=qn(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,u=this.max,h=zk(r,o,u);return this._unit=e.unit||(i.autoSkip?IT(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):NV(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:PV(this._unit),this.initOffsets(r),t.reverse&&h.reverse(),DT(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const u=t.length<3?.5:.25;e=ei(e,0,u),i=ei(i,0,u),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,o=r.time,u=o.unit||IT(o.minUnit,e,i,this._getLabelCapacity(e)),h=Ft(r.ticks.stepSize,1),d=u==="week"?o.isoWeekday:!1,m=kf(d)||d===!0,_={};let v=e,T,A;if(m&&(v=+t.startOf(v,"isoWeek",d)),v=+t.startOf(v,m?"day":u),t.diff(i,e,u)>1e5*h)throw new Error(e+" and "+i+" are too far apart with stepSize of "+h+" "+u);const I=r.ticks.source==="data"&&this.getDataTimestamps();for(T=v,A=0;T<i;T=+t.add(T,h,u),A++)CT(_,T,I);return(T===i||r.bounds==="ticks"||A===1)&&CT(_,T,I),Object.keys(_).sort(RT).map(k=>+k)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,o=this._unit,u=e||r[o];return this._adapter.format(t,u)}_tickFormatFunction(t,e,i,r){const o=this.options,u=o.ticks.callback;if(u)return ae(u,[t,e,i],this);const h=o.time.displayFormats,d=this._unit,m=this._majorUnit,_=d&&h[d],v=m&&h[m],T=i[e],A=m&&v&&T&&T.major;return this._adapter.format(t,r||(A?v:_))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=fa(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(r),u=Math.sin(r),h=this._resolveTickFontOptions(0).size;return{w:i*o+h*u,h:i*u+h*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,DT(this,[t],this._majorUnit),r),u=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/u.w:this.height/u.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(xT(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return bw(t.sort(RT))}}function Qh(n,t,e){let i=0,r=n.length-1,o,u,h,d;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=cp(n,"pos",t)),{pos:o,time:h}=n[i],{pos:u,time:d}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=cp(n,"time",t)),{time:o,pos:h}=n[i],{time:u,pos:d}=n[r]);const m=u-o;return m?h+(d-h)*(t-o)/m:h}class XV extends OT{static id="timeseries";static defaults=OT.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Qh(e,this.min),this._tableRange=Qh(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let u,h,d,m,_;for(u=0,h=t.length;u<h;++u)m=t[u],m>=e&&m<=i&&r.push(m);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(u=0,h=r.length;u<h;++u)_=r[u+1],d=r[u-1],m=r[u],Math.round((_+d)/2)!==m&&o.push({time:m,pos:u/(h-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Qh(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Qh(this._table,i*this._tableRange+this._minPos,!0)}}const Jw="label";function MT(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function LV(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function t1(n,t){n.labels=t}function e1(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Jw;const i=[];n.datasets=t.map(r=>{const o=n.datasets.find(u=>u[e]===r[e]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function UV(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Jw;const e={labels:[],datasets:[]};return t1(e,n.labels),e1(e,n.datasets,t),e}function zV(n,t){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:u,data:h,options:d,plugins:m=[],fallbackContent:_,updateMode:v,...T}=n,A=me.useRef(null),I=me.useRef(null),k=()=>{A.current&&(I.current=new ad(A.current,{type:u,data:UV(h,o),options:d&&{...d},plugins:m}),MT(t,I.current))},M=()=>{MT(t,null),I.current&&(I.current.destroy(),I.current=null)};return me.useEffect(()=>{!r&&I.current&&d&&LV(I.current,d)},[r,d]),me.useEffect(()=>{!r&&I.current&&t1(I.current.config.data,h.labels)},[r,h.labels]),me.useEffect(()=>{!r&&I.current&&h.datasets&&e1(I.current.config.data,h.datasets,o)},[r,h.datasets]),me.useEffect(()=>{I.current&&(r?(M(),setTimeout(k)):I.current.update(v))},[r,d,h.labels,h.datasets,v]),me.useEffect(()=>{I.current&&(M(),setTimeout(k))},[u]),me.useEffect(()=>(k(),()=>M()),[]),NT.createElement("canvas",{ref:A,role:"img",height:e,width:i,...T},_)}const BV=me.forwardRef(zV);function jV(n,t){return ad.register(t),me.forwardRef((e,i)=>NT.createElement(BV,{...e,ref:i,type:n}))}const kT=jV("bar",$N);ad.register(fV,DV,kV,RV,yV);function HV({bebidas:n}){if(!n.length)return ut.jsx("p",{className:"mt-4 text-sm",children:"No has aadido bebidas an."});const t=new Date,e=6,i=24,r=n[0],u=n.filter(H=>{const Q=new Date(H.timestamp);return(t-Q)/(1e3*60*60)<e}).reduce((H,Q)=>(H[Q.tipo]=(H[Q.tipo]||0)+1,H),{}),d=n.filter(H=>{const Q=new Date(H.timestamp);return(t-Q)/(1e3*60*60)<i}).reduce((H,Q)=>(H[Q.tipo]=(H[Q.tipo]||0)+1,H),{}),m=Object.keys(d),_=Object.values(d),v={labels:m,datasets:[{label:"Cantidad",data:_,backgroundColor:"rgba(59, 130, 246, 0.6)",borderRadius:4}]},T={indexAxis:"y",scales:{x:{beginAtZero:!0,ticks:{stepSize:1}}},plugins:{legend:{display:!1}}},A=Array.from({length:24},(H,Q)=>Q),I=Array(24).fill(0);n.forEach(H=>{const Q=new Date(H.timestamp);if((t-Q)/(1e3*60*60)<i){const rt=Q.getHours();I[rt]++}});const k={labels:A.map(H=>`${H}:00`),datasets:[{label:"Bebidas por hora",data:I,backgroundColor:"rgba(59, 130, 246, 0.6)",borderRadius:4}]},M={scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}}};return ut.jsxs("div",{className:"mt-6",children:[ut.jsx("h2",{className:"text-lg font-bold mb-2",children:" Tus estadsticas"}),ut.jsxs("p",{children:["ltima bebida: ",r.tipo,"  ",new Date(r.timestamp).toLocaleTimeString()]}),ut.jsxs("p",{children:["Bebidas en las ltimas ",e,"h:"]}),ut.jsx("ul",{className:"list-disc pl-4 text-sm text-gray-700 mb-2",children:Object.entries(u).map(([H,Q])=>ut.jsxs("li",{children:[H,"s: ",Q]},H))}),ut.jsx("p",{className:"text-sm mt-4 font-semibold",children:"Bebidas en las ltimas 24h (por tipo):"}),ut.jsx("div",{className:"bg-white rounded p-2 mt-2",children:ut.jsx(kT,{data:v,options:T})}),ut.jsx("p",{className:"text-sm mt-4 font-semibold",children:"Bebidas en las ltimas 24h (por hora):"}),ut.jsx("div",{className:"bg-white rounded p-2 mt-2",children:ut.jsx(kT,{data:k,options:M})})]})}function FV({bebidas:n,uid:t}){const e=new Date,i=new Date(e.getTime()-24*60*60*1e3),r=n.filter(m=>{const _=new Date(m.timestamp);return m.uid===t&&_>i}),o=r.reduce((m,_)=>(m[_.tipo]=m[_.tipo]?[...m[_.tipo],_]:[_],m),{}),u=["cerveza","cubata","chupito"],h=async m=>{try{await cw(If(Du,"bebidas"),{uid:t,tipo:m,timestamp:new Date().toISOString()})}catch(_){console.error("Error aadiendo bebida:",_)}},d=async m=>{try{const _=ow(If(Du,"bebidas"),yE("uid","==",t),yE("tipo","==",m),lw("timestamp","desc"),BM(1)),v=await qM(_);if(!v.empty){const T=v.docs[0];await GM($A(Du,"bebidas",T.id))}}catch(_){console.error("Error eliminando bebida:",_)}};return ut.jsxs("div",{className:"mt-6",children:[ut.jsx("h2",{className:"text-lg font-bold mb-2",children:" Editar Mis Bebidas (ltimas 24h)"}),u.map(m=>{const _=o[m]?.length||0;return ut.jsxs("div",{className:"flex items-center justify-between border rounded p-2 my-1",children:[ut.jsxs("span",{className:"font-semibold",children:[m,"s"]}),ut.jsxs("div",{className:"flex items-center space-x-3",children:[ut.jsx("button",{onClick:()=>d(m),className:"bg-red-500 text-white px-3 py-1 rounded disabled:opacity-50",disabled:_===0,"aria-label":`Eliminar una bebida de tipo ${m}`,children:"-"}),ut.jsx("span",{className:"w-6 text-center",children:_}),ut.jsx("button",{onClick:()=>h(m),className:"bg-green-500 text-white px-3 py-1 rounded","aria-label":`Aadir una bebida de tipo ${m}`,children:"+"})]})]},m)}),r.length===0&&ut.jsx("p",{className:"text-sm text-gray-600 mt-4",children:"No tienes bebidas registradas."})]})}function qV(){return ut.jsxs("div",{className:"text-center mt-6 text-gray-700",children:[ut.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Ranking"}),ut.jsx("p",{className:"text-lg italic",children:"Coming soon "})]})}function GV({bebidas:n}){const t=Array.from(new Set(n.map(r=>r.uid))),[e,i]=me.useState("");return ut.jsxs("div",{className:"mt-6",children:[ut.jsx("h2",{className:"text-lg font-bold mb-4",children:" Editar Bebidas Globales (ltimas 24h)"}),ut.jsxs("div",{className:"mb-4",children:[ut.jsx("label",{className:"block text-sm font-medium mb-1",children:"Seleccionar usuario:"}),ut.jsxs("select",{className:"border p-2 rounded w-full",onChange:r=>i(r.target.value),value:e,children:[ut.jsx("option",{value:"",disabled:!0,children:"-- Selecciona un usuario --"}),t.map(r=>{const o=n.find(u=>u.uid===r)?.email||"Annimo";return ut.jsx("option",{value:r,children:o},r)})]})]}),e&&ut.jsx("div",{className:"mt-4 border-t pt-4",children:ut.jsx(FV,{bebidas:n,uid:e})})]})}function YV(){const[n,t]=me.useState(null),[e,i]=me.useState([]),[r,o]=me.useState("inicio");me.useEffect(()=>{const d=bC(lp,m=>{t(m)});return()=>d()},[]),me.useEffect(()=>{const d=ow(If(Du,"bebidas"),lw("timestamp","desc")),m=YM(d,_=>{const v=_.docs.map(T=>({id:T.id,...T.data()}));i(v)});return()=>m()},[]);const u=async d=>{const m={tipo:d,timestamp:new Date().toISOString(),uid:n.uid,email:n.email};await cw(If(Du,"bebidas"),m)};if(!n)return ut.jsx(XM,{onLogin:()=>{}});const h=e.filter(d=>d.uid===n.uid);return ut.jsxs("div",{className:`max-w-md w-full mx-auto mt-6 p-4 border rounded shadow
                md:max-w-md md:p-4`,children:[ut.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-4 gap-2",children:[ut.jsx("h1",{className:"text-xl font-bold text-center md:text-left",children:" Contador de Bebidas"}),ut.jsx("button",{onClick:()=>EC(lp),className:"text-sm text-red-600 underline md:self-center",children:"Cerrar sesin"})]}),ut.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:[ut.jsx("button",{onClick:()=>o("inicio"),className:`px-3 py-1 rounded min-w-[80px] text-center ${r==="inicio"?"bg-blue-500 text-white":"bg-gray-200"}`,children:"Inicio"}),ut.jsx("button",{onClick:()=>o("global"),className:`px-3 py-1 rounded min-w-[80px] text-center ${r==="global"?"bg-blue-500 text-white":"bg-gray-200"}`,children:"Global"}),ut.jsx("button",{onClick:()=>o("editar"),className:`px-3 py-1 rounded min-w-[80px] text-center ${r==="editar"?"bg-blue-500 text-white":"bg-gray-200"}`,children:"Editar Bebidas"}),ut.jsx("button",{onClick:()=>o("ranking"),className:`px-3 py-1 rounded min-w-[80px] text-center ${r==="ranking"?"bg-blue-500 text-white":"bg-gray-200"}`,children:"Ranking"})]}),r==="inicio"&&ut.jsxs(ut.Fragment,{children:[ut.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Bienvenido: ",ut.jsx(dw,{email:n.email})]}),ut.jsx(WM,{onAdd:u}),ut.jsx(HV,{bebidas:h})]}),r==="global"&&ut.jsx(ZM,{bebidas:e}),r==="editar"&&ut.jsx(GV,{bebidas:e}),r==="ranking"&&ut.jsx(qV,{})]})}VR.createRoot(document.getElementById("root")).render(ut.jsx(me.StrictMode,{children:ut.jsx(YV,{})}));

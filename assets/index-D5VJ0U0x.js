(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function Qx(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ym={exports:{}},hc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $0;function Xx(){if($0)return hc;$0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:c,ref:r!==void 0?r:null,props:o}}return hc.Fragment=t,hc.jsx=e,hc.jsxs=e,hc}var Z0;function Wx(){return Z0||(Z0=1,ym.exports=Xx()),ym.exports}var st=Wx(),vm={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J0;function $x(){if(J0)return Rt;J0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.iterator;function b(V){return V===null||typeof V!="object"?null:(V=v&&V[v]||V["@@iterator"],typeof V=="function"?V:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,k={};function M(V,nt,ct){this.props=V,this.context=nt,this.refs=k,this.updater=ct||A}M.prototype.isReactComponent={},M.prototype.setState=function(V,nt){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,nt,"setState")},M.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function G(){}G.prototype=M.prototype;function X(V,nt,ct){this.props=V,this.context=nt,this.refs=k,this.updater=ct||A}var et=X.prototype=new G;et.constructor=X,I(et,M.prototype),et.isPureReactComponent=!0;var it=Array.isArray,W={H:null,A:null,T:null,S:null,V:null},ot=Object.prototype.hasOwnProperty;function C(V,nt,ct,rt,dt,wt){return ct=wt.ref,{$$typeof:n,type:V,key:nt,ref:ct!==void 0?ct:null,props:wt}}function x(V,nt){return C(V.type,nt,void 0,void 0,void 0,V.props)}function R(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function N(V){var nt={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ct){return nt[ct]})}var P=/\/+/g;function L(V,nt){return typeof V=="object"&&V!==null&&V.key!=null?N(""+V.key):nt.toString(36)}function D(){}function $t(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(D,D):(V.status="pending",V.then(function(nt){V.status==="pending"&&(V.status="fulfilled",V.value=nt)},function(nt){V.status==="pending"&&(V.status="rejected",V.reason=nt)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function At(V,nt,ct,rt,dt){var wt=typeof V;(wt==="undefined"||wt==="boolean")&&(V=null);var _t=!1;if(V===null)_t=!0;else switch(wt){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(V.$$typeof){case n:case t:_t=!0;break;case _:return _t=V._init,At(_t(V._payload),nt,ct,rt,dt)}}if(_t)return dt=dt(V),_t=rt===""?"."+L(V,0):rt,it(dt)?(ct="",_t!=null&&(ct=_t.replace(P,"$&/")+"/"),At(dt,nt,ct,"",function(oi){return oi})):dt!=null&&(R(dt)&&(dt=x(dt,ct+(dt.key==null||V&&V.key===dt.key?"":(""+dt.key).replace(P,"$&/")+"/")+_t)),nt.push(dt)),1;_t=0;var Ve=rt===""?".":rt+":";if(it(V))for(var se=0;se<V.length;se++)rt=V[se],wt=Ve+L(rt,se),_t+=At(rt,nt,ct,wt,dt);else if(se=b(V),typeof se=="function")for(V=se.call(V),se=0;!(rt=V.next()).done;)rt=rt.value,wt=Ve+L(rt,se++),_t+=At(rt,nt,ct,wt,dt);else if(wt==="object"){if(typeof V.then=="function")return At($t(V),nt,ct,rt,dt);throw nt=String(V),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return _t}function Y(V,nt,ct){if(V==null)return V;var rt=[],dt=0;return At(V,rt,"","",function(wt){return nt.call(ct,wt,dt++)}),rt}function at(V){if(V._status===-1){var nt=V._result;nt=nt(),nt.then(function(ct){(V._status===0||V._status===-1)&&(V._status=1,V._result=ct)},function(ct){(V._status===0||V._status===-1)&&(V._status=2,V._result=ct)}),V._status===-1&&(V._status=0,V._result=nt)}if(V._status===1)return V._result.default;throw V._result}var gt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function kt(){}return Rt.Children={map:Y,forEach:function(V,nt,ct){Y(V,function(){nt.apply(this,arguments)},ct)},count:function(V){var nt=0;return Y(V,function(){nt++}),nt},toArray:function(V){return Y(V,function(nt){return nt})||[]},only:function(V){if(!R(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Rt.Component=M,Rt.Fragment=e,Rt.Profiler=r,Rt.PureComponent=X,Rt.StrictMode=i,Rt.Suspense=d,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return W.H.useMemoCache(V)}},Rt.cache=function(V){return function(){return V.apply(null,arguments)}},Rt.cloneElement=function(V,nt,ct){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var rt=I({},V.props),dt=V.key,wt=void 0;if(nt!=null)for(_t in nt.ref!==void 0&&(wt=void 0),nt.key!==void 0&&(dt=""+nt.key),nt)!ot.call(nt,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&nt.ref===void 0||(rt[_t]=nt[_t]);var _t=arguments.length-2;if(_t===1)rt.children=ct;else if(1<_t){for(var Ve=Array(_t),se=0;se<_t;se++)Ve[se]=arguments[se+2];rt.children=Ve}return C(V.type,dt,void 0,void 0,wt,rt)},Rt.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:o,_context:V},V},Rt.createElement=function(V,nt,ct){var rt,dt={},wt=null;if(nt!=null)for(rt in nt.key!==void 0&&(wt=""+nt.key),nt)ot.call(nt,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(dt[rt]=nt[rt]);var _t=arguments.length-2;if(_t===1)dt.children=ct;else if(1<_t){for(var Ve=Array(_t),se=0;se<_t;se++)Ve[se]=arguments[se+2];dt.children=Ve}if(V&&V.defaultProps)for(rt in _t=V.defaultProps,_t)dt[rt]===void 0&&(dt[rt]=_t[rt]);return C(V,wt,void 0,void 0,null,dt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(V){return{$$typeof:h,render:V}},Rt.isValidElement=R,Rt.lazy=function(V){return{$$typeof:_,_payload:{_status:-1,_result:V},_init:at}},Rt.memo=function(V,nt){return{$$typeof:m,type:V,compare:nt===void 0?null:nt}},Rt.startTransition=function(V){var nt=W.T,ct={};W.T=ct;try{var rt=V(),dt=W.S;dt!==null&&dt(ct,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(kt,gt)}catch(wt){gt(wt)}finally{W.T=nt}},Rt.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},Rt.use=function(V){return W.H.use(V)},Rt.useActionState=function(V,nt,ct){return W.H.useActionState(V,nt,ct)},Rt.useCallback=function(V,nt){return W.H.useCallback(V,nt)},Rt.useContext=function(V){return W.H.useContext(V)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(V,nt){return W.H.useDeferredValue(V,nt)},Rt.useEffect=function(V,nt,ct){var rt=W.H;if(typeof ct=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return rt.useEffect(V,nt)},Rt.useId=function(){return W.H.useId()},Rt.useImperativeHandle=function(V,nt,ct){return W.H.useImperativeHandle(V,nt,ct)},Rt.useInsertionEffect=function(V,nt){return W.H.useInsertionEffect(V,nt)},Rt.useLayoutEffect=function(V,nt){return W.H.useLayoutEffect(V,nt)},Rt.useMemo=function(V,nt){return W.H.useMemo(V,nt)},Rt.useOptimistic=function(V,nt){return W.H.useOptimistic(V,nt)},Rt.useReducer=function(V,nt,ct){return W.H.useReducer(V,nt,ct)},Rt.useRef=function(V){return W.H.useRef(V)},Rt.useState=function(V){return W.H.useState(V)},Rt.useSyncExternalStore=function(V,nt,ct){return W.H.useSyncExternalStore(V,nt,ct)},Rt.useTransition=function(){return W.H.useTransition()},Rt.version="19.1.0",Rt}var tb;function Rp(){return tb||(tb=1,vm.exports=$x()),vm.exports}var Ht=Rp();const ds=Qx(Ht);var bm={exports:{}},fc={},Em={exports:{}},Tm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eb;function Zx(){return eb||(eb=1,function(n){function t(Y,at){var gt=Y.length;Y.push(at);t:for(;0<gt;){var kt=gt-1>>>1,V=Y[kt];if(0<r(V,at))Y[kt]=at,Y[gt]=V,gt=kt;else break t}}function e(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var at=Y[0],gt=Y.pop();if(gt!==at){Y[0]=gt;t:for(var kt=0,V=Y.length,nt=V>>>1;kt<nt;){var ct=2*(kt+1)-1,rt=Y[ct],dt=ct+1,wt=Y[dt];if(0>r(rt,gt))dt<V&&0>r(wt,rt)?(Y[kt]=wt,Y[dt]=gt,kt=dt):(Y[kt]=rt,Y[ct]=gt,kt=ct);else if(dt<V&&0>r(wt,gt))Y[kt]=wt,Y[dt]=gt,kt=dt;else break t}}return at}function r(Y,at){var gt=Y.sortIndex-at.sortIndex;return gt!==0?gt:Y.id-at.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var d=[],m=[],_=1,v=null,b=3,A=!1,I=!1,k=!1,M=!1,G=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,et=typeof setImmediate<"u"?setImmediate:null;function it(Y){for(var at=e(m);at!==null;){if(at.callback===null)i(m);else if(at.startTime<=Y)i(m),at.sortIndex=at.expirationTime,t(d,at);else break;at=e(m)}}function W(Y){if(k=!1,it(Y),!I)if(e(d)!==null)I=!0,ot||(ot=!0,L());else{var at=e(m);at!==null&&At(W,at.startTime-Y)}}var ot=!1,C=-1,x=5,R=-1;function N(){return M?!0:!(n.unstable_now()-R<x)}function P(){if(M=!1,ot){var Y=n.unstable_now();R=Y;var at=!0;try{t:{I=!1,k&&(k=!1,X(C),C=-1),A=!0;var gt=b;try{e:{for(it(Y),v=e(d);v!==null&&!(v.expirationTime>Y&&N());){var kt=v.callback;if(typeof kt=="function"){v.callback=null,b=v.priorityLevel;var V=kt(v.expirationTime<=Y);if(Y=n.unstable_now(),typeof V=="function"){v.callback=V,it(Y),at=!0;break e}v===e(d)&&i(d),it(Y)}else i(d);v=e(d)}if(v!==null)at=!0;else{var nt=e(m);nt!==null&&At(W,nt.startTime-Y),at=!1}}break t}finally{v=null,b=gt,A=!1}at=void 0}}finally{at?L():ot=!1}}}var L;if(typeof et=="function")L=function(){et(P)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,$t=D.port2;D.port1.onmessage=P,L=function(){$t.postMessage(null)}}else L=function(){G(P,0)};function At(Y,at){C=G(function(){Y(n.unstable_now())},at)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(Y){switch(b){case 1:case 2:case 3:var at=3;break;default:at=b}var gt=b;b=at;try{return Y()}finally{b=gt}},n.unstable_requestPaint=function(){M=!0},n.unstable_runWithPriority=function(Y,at){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var gt=b;b=Y;try{return at()}finally{b=gt}},n.unstable_scheduleCallback=function(Y,at,gt){var kt=n.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?kt+gt:kt):gt=kt,Y){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=gt+V,Y={id:_++,callback:at,priorityLevel:Y,startTime:gt,expirationTime:V,sortIndex:-1},gt>kt?(Y.sortIndex=gt,t(m,Y),e(d)===null&&Y===e(m)&&(k?(X(C),C=-1):k=!0,At(W,gt-kt))):(Y.sortIndex=V,t(d,Y),I||A||(I=!0,ot||(ot=!0,L()))),Y},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(Y){var at=b;return function(){var gt=b;b=at;try{return Y.apply(this,arguments)}finally{b=gt}}}}(Tm)),Tm}var nb;function Jx(){return nb||(nb=1,Em.exports=Zx()),Em.exports}var Sm={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ib;function tR(){if(ib)return tn;ib=1;var n=Rp();function t(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(d,m,_){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:d,containerInfo:m,implementation:_}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,tn.createPortal=function(d,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(d,m,null,_)},tn.flushSync=function(d){var m=c.T,_=i.p;try{if(c.T=null,i.p=2,d)return d()}finally{c.T=m,i.p=_,i.d.f()}},tn.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(d,m))},tn.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},tn.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var _=m.as,v=h(_,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,A=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?i.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:A}):_==="script"&&i.d.X(d,{crossOrigin:v,integrity:b,fetchPriority:A,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},tn.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=h(m.as,m.crossOrigin);i.d.M(d,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(d)},tn.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,v=h(_,m.crossOrigin);i.d.L(d,_,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},tn.preloadModule=function(d,m){if(typeof d=="string")if(m){var _=h(m.as,m.crossOrigin);i.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(d)},tn.requestFormReset=function(d){i.d.r(d)},tn.unstable_batchedUpdates=function(d,m){return d(m)},tn.useFormState=function(d,m,_){return c.H.useFormState(d,m,_)},tn.useFormStatus=function(){return c.H.useHostTransitionStatus()},tn.version="19.1.0",tn}var sb;function eR(){if(sb)return Sm.exports;sb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Sm.exports=tR(),Sm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rb;function nR(){if(rb)return fc;rb=1;var n=Jx(),t=Rp(),e=eR();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function c(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(i(188))}function d(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var l=s,u=a;;){var g=l.return;if(g===null)break;var p=g.alternate;if(p===null){if(u=g.return,u!==null){l=u;continue}break}if(g.child===p.child){for(p=g.child;p;){if(p===l)return h(g),s;if(p===u)return h(g),a;p=p.sibling}throw Error(i(188))}if(l.return!==u.return)l=g,u=p;else{for(var T=!1,S=g.child;S;){if(S===l){T=!0,l=g,u=p;break}if(S===u){T=!0,u=g,l=p;break}S=S.sibling}if(!T){for(S=p.child;S;){if(S===l){T=!0,l=p,u=g;break}if(S===u){T=!0,u=p,l=g;break}S=S.sibling}if(!T)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:a}function m(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=m(s),a!==null)return a;s=s.sibling}return null}var _=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),et=Symbol.for("react.context"),it=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function L(s){return s===null||typeof s!="object"?null:(s=P&&s[P]||s["@@iterator"],typeof s=="function"?s:null)}var D=Symbol.for("react.client.reference");function $t(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===D?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case I:return"Fragment";case M:return"Profiler";case k:return"StrictMode";case W:return"Suspense";case ot:return"SuspenseList";case R:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case A:return"Portal";case et:return(s.displayName||"Context")+".Provider";case X:return(s._context.displayName||"Context")+".Consumer";case it:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case C:return a=s.displayName||null,a!==null?a:$t(s.type)||"Memo";case x:a=s._payload,s=s._init;try{return $t(s(a))}catch{}}return null}var At=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},kt=[],V=-1;function nt(s){return{current:s}}function ct(s){0>V||(s.current=kt[V],kt[V]=null,V--)}function rt(s,a){V++,kt[V]=s.current,s.current=a}var dt=nt(null),wt=nt(null),_t=nt(null),Ve=nt(null);function se(s,a){switch(rt(_t,a),rt(wt,s),rt(dt,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?w0(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=w0(a),s=x0(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ct(dt),rt(dt,s)}function oi(){ct(dt),ct(wt),ct(_t)}function Es(s){s.memoizedState!==null&&rt(Ve,s);var a=dt.current,l=x0(a,s.type);a!==l&&(rt(wt,s),rt(dt,l))}function Pi(s){wt.current===s&&(ct(dt),ct(wt)),Ve.current===s&&(ct(Ve),ac._currentValue=gt)}var Rr=Object.prototype.hasOwnProperty,Ir=n.unstable_scheduleCallback,Cr=n.unstable_cancelCallback,il=n.unstable_shouldYield,uu=n.unstable_requestPaint,Dn=n.unstable_now,yd=n.unstable_getCurrentPriorityLevel,sl=n.unstable_ImmediatePriority,Da=n.unstable_UserBlockingPriority,Dr=n.unstable_NormalPriority,vd=n.unstable_LowPriority,Oa=n.unstable_IdlePriority,rl=n.log,hu=n.unstable_setDisableYieldValue,de=null,Kt=null;function vn(s){if(typeof rl=="function"&&hu(s),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(de,s)}catch{}}var Ze=Math.clz32?Math.clz32:Or,fu=Math.log,bd=Math.LN2;function Or(s){return s>>>=0,s===0?32:31-(fu(s)/bd|0)|0}var Mr=256,kr=4194304;function Kn(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ma(s,a,l){var u=s.pendingLanes;if(u===0)return 0;var g=0,p=s.suspendedLanes,T=s.pingedLanes;s=s.warmLanes;var S=u&134217727;return S!==0?(u=S&~p,u!==0?g=Kn(u):(T&=S,T!==0?g=Kn(T):l||(l=S&~s,l!==0&&(g=Kn(l))))):(S=u&~p,S!==0?g=Kn(S):T!==0?g=Kn(T):l||(l=u&~s,l!==0&&(g=Kn(l)))),g===0?0:a!==0&&a!==g&&(a&p)===0&&(p=g&-g,l=a&-a,p>=l||p===32&&(l&4194048)!==0)?a:g}function Nr(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function al(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ol(){var s=Mr;return Mr<<=1,(Mr&4194048)===0&&(Mr=256),s}function ll(){var s=kr;return kr<<=1,(kr&62914560)===0&&(kr=4194304),s}function Vi(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function Li(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function cl(s,a,l,u,g,p){var T=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var S=s.entanglements,O=s.expirationTimes,F=s.hiddenUpdates;for(l=T&~l;0<l;){var Q=31-Ze(l),J=1<<Q;S[Q]=0,O[Q]=-1;var H=F[Q];if(H!==null)for(F[Q]=null,Q=0;Q<H.length;Q++){var q=H[Q];q!==null&&(q.lane&=-536870913)}l&=~J}u!==0&&li(s,u,0),p!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=p&~(T&~a))}function li(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var u=31-Ze(a);s.entangledLanes|=a,s.entanglements[u]=s.entanglements[u]|1073741824|l&4194090}function ul(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var u=31-Ze(l),g=1<<u;g&a|s[u]&a&&(s[u]|=a),l&=~g}}function Ts(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ka(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Ss(){var s=at.p;return s!==0?s:(s=window.event,s===void 0?32:G0(s.type))}function du(s,a){var l=at.p;try{return at.p=s,a()}finally{at.p=l}}var ce=Math.random().toString(36).slice(2),Ce="__reactFiber$"+ce,Te="__reactProps$"+ce,On="__reactContainer$"+ce,hl="__reactEvents$"+ce,Ed="__reactListeners$"+ce,As="__reactHandles$"+ce,gu="__reactResources$"+ce,Pr="__reactMarker$"+ce;function ws(s){delete s[Ce],delete s[Te],delete s[hl],delete s[Ed],delete s[As]}function Ui(s){var a=s[Ce];if(a)return a;for(var l=s.parentNode;l;){if(a=l[On]||l[Ce]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=D0(s);s!==null;){if(l=s[Ce])return l;s=D0(s)}return a}s=l,l=s.parentNode}return null}function ci(s){if(s=s[Ce]||s[On]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function ui(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function an(s){var a=s[gu];return a||(a=s[gu]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function pe(s){s[Pr]=!0}var fl=new Set,Na={};function Qn(s,a){zi(s,a),zi(s+"Capture",a)}function zi(s,a){for(Na[s]=a,s=0;s<a.length;s++)fl.add(a[s])}var mu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pu={},Vr={};function _u(s){return Rr.call(Vr,s)?!0:Rr.call(pu,s)?!1:mu.test(s)?Vr[s]=!0:(pu[s]=!0,!1)}function xs(s,a,l){if(_u(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function hi(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function qe(s,a,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+u)}}var Lr,yu;function Bi(s){if(Lr===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Lr=a&&a[1]||"",yu=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Lr+s+yu}var Pa=!1;function Va(s,a){if(!s||Pa)return"";Pa=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(q){var H=q}Reflect.construct(s,[],J)}else{try{J.call()}catch(q){H=q}s.call(J.prototype)}}else{try{throw Error()}catch(q){H=q}(J=s())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(q){if(q&&H&&typeof q.stack=="string")return[q.stack,H.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),T=p[0],S=p[1];if(T&&S){var O=T.split(`
`),F=S.split(`
`);for(g=u=0;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;for(;g<F.length&&!F[g].includes("DetermineComponentFrameRoot");)g++;if(u===O.length||g===F.length)for(u=O.length-1,g=F.length-1;1<=u&&0<=g&&O[u]!==F[g];)g--;for(;1<=u&&0<=g;u--,g--)if(O[u]!==F[g]){if(u!==1||g!==1)do if(u--,g--,0>g||O[u]!==F[g]){var Q=`
`+O[u].replace(" at new "," at ");return s.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",s.displayName)),Q}while(1<=u&&0<=g);break}}}finally{Pa=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?Bi(l):""}function dl(s){switch(s.tag){case 26:case 27:case 5:return Bi(s.type);case 16:return Bi("Lazy");case 13:return Bi("Suspense");case 19:return Bi("SuspenseList");case 0:case 15:return Va(s.type,!1);case 11:return Va(s.type.render,!1);case 1:return Va(s.type,!0);case 31:return Bi("Activity");default:return""}}function La(s){try{var a="";do a+=dl(s),s=s.return;while(s);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function on(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function gl(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Td(s){var a=gl(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),u=""+s[a];if(!s.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,p=l.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(T){u=""+T,p.call(this,T)}}),Object.defineProperty(s,a,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Ua(s){s._valueTracker||(s._valueTracker=Td(s))}function ml(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return s&&(u=gl(s)?s.checked?"true":"false":s.value),s=u,s!==l?(a.setValue(s),!0):!1}function Ur(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Sd=/[\n"\\]/g;function Se(s){return s.replace(Sd,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function bn(s,a,l,u,g,p,T,S){s.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?s.type=T:s.removeAttribute("type"),a!=null?T==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+on(a)):s.value!==""+on(a)&&(s.value=""+on(a)):T!=="submit"&&T!=="reset"||s.removeAttribute("value"),a!=null?Rs(s,T,on(a)):l!=null?Rs(s,T,on(l)):u!=null&&s.removeAttribute("value"),g==null&&p!=null&&(s.defaultChecked=!!p),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+on(S):s.removeAttribute("name")}function zr(s,a,l,u,g,p,T,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(s.type=p),a!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||a!=null))return;l=l!=null?""+on(l):"",a=a!=null?""+on(a):l,S||a===s.value||(s.value=a),s.defaultValue=a}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=S?s.checked:!!u,s.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(s.name=T)}function Rs(s,a,l){a==="number"&&Ur(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function ji(s,a,l,u){if(s=s.options,a){a={};for(var g=0;g<l.length;g++)a["$"+l[g]]=!0;for(l=0;l<s.length;l++)g=a.hasOwnProperty("$"+s[l].value),s[l].selected!==g&&(s[l].selected=g),g&&u&&(s[l].defaultSelected=!0)}else{for(l=""+on(l),a=null,g=0;g<s.length;g++){if(s[g].value===l){s[g].selected=!0,u&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function Zt(s,a,l){if(a!=null&&(a=""+on(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+on(l):""}function Br(s,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(i(92));if(At(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=on(a),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u)}function Mn(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var jr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vu(s,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":u?s.setProperty(a,l):typeof l!="number"||l===0||jr.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function pl(s,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var g in a)u=a[g],a.hasOwnProperty(g)&&l[g]!==u&&vu(s,g,u)}else for(var p in a)a.hasOwnProperty(p)&&vu(s,p,a[p])}function _l(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ad=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function za(s){return wd.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Fi=null;function kn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Hi=null,qi=null;function yl(s){var a=ci(s);if(a&&(s=a.stateNode)){var l=s[Te]||null;t:switch(s=a.stateNode,a.type){case"input":if(bn(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Se(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==s&&u.form===s.form){var g=u[Te]||null;if(!g)throw Error(i(90));bn(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===s.form&&ml(u)}break t;case"textarea":Zt(s,l.value,l.defaultValue);break t;case"select":a=l.value,a!=null&&ji(s,!!l.multiple,a,!1)}}}var fi=!1;function bu(s,a,l){if(fi)return s(a,l);fi=!0;try{var u=s(a);return u}finally{if(fi=!1,(Hi!==null||qi!==null)&&(dh(),Hi&&(a=Hi,s=qi,qi=Hi=null,yl(a),s)))for(a=0;a<s.length;a++)yl(s[a])}}function Fr(s,a){var l=s.stateNode;if(l===null)return null;var u=l[Te]||null;if(u===null)return null;l=u[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nn=!1;if(Xn)try{var Hr={};Object.defineProperty(Hr,"passive",{get:function(){Nn=!0}}),window.addEventListener("test",Hr,Hr),window.removeEventListener("test",Hr,Hr)}catch{Nn=!1}var di=null,Is=null,Gi=null;function vl(){if(Gi)return Gi;var s,a=Is,l=a.length,u,g="value"in di?di.value:di.textContent,p=g.length;for(s=0;s<l&&a[s]===g[s];s++);var T=l-s;for(u=1;u<=T&&a[l-u]===g[p-u];u++);return Gi=g.slice(s,1<u?1-u:void 0)}function gi(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function mi(){return!0}function bl(){return!1}function Le(s){function a(l,u,g,p,T){this._reactName=l,this._targetInst=g,this.type=u,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(l=s[S],this[S]=l?l(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?mi:bl,this.isPropagationStopped=bl,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=mi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=mi)},persist:function(){},isPersistent:mi}),a}var Gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ba=Le(Gt),qr=_({},Gt,{view:0,detail:0}),Eu=Le(qr),ja,Fa,pi,Gr=_({},qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==pi&&(pi&&s.type==="mousemove"?(ja=s.screenX-pi.screenX,Fa=s.screenY-pi.screenY):Fa=ja=0,pi=s),ja)},movementY:function(s){return"movementY"in s?s.movementY:Fa}}),Pn=Le(Gr),Tu=_({},Gr,{dataTransfer:0}),xd=Le(Tu),Yr=_({},qr,{relatedTarget:0}),Ha=Le(Yr),El=_({},Gt,{animationName:0,elapsedTime:0,pseudoElement:0}),qa=Le(El),Su=_({},Gt,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ga=Le(Su),Rd=_({},Gt,{data:0}),Tl=Le(Rd),Kr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Au={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sl(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=wu[s])?!!a[s]:!1}function Qr(){return Sl}var xu=_({},qr,{key:function(s){if(s.key){var a=Kr[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=gi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Au[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qr,charCode:function(s){return s.type==="keypress"?gi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?gi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Ya=Le(xu),Ru=_({},Gr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Al=Le(Ru),Yi=_({},qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qr}),Iu=Le(Yi),Cu=_({},Gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Du=Le(Cu),Ou=_({},Gr,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ka=Le(Ou),ln=_({},Gt,{newState:0,oldState:0}),Mu=Le(ln),ku=[9,13,27,32],_i=Xn&&"CompositionEvent"in window,f=null;Xn&&"documentMode"in document&&(f=document.documentMode);var y=Xn&&"TextEvent"in window&&!f,E=Xn&&(!_i||f&&8<f&&11>=f),w=" ",B=!1;function K(s,a){switch(s){case"keyup":return ku.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lt(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Vt=!1;function De(s,a){switch(s){case"compositionend":return lt(a);case"keypress":return a.which!==32?null:(B=!0,w);case"textInput":return s=a.data,s===w&&B?null:s;default:return null}}function Lt(s,a){if(Vt)return s==="compositionend"||!_i&&K(s,a)?(s=vl(),Gi=Is=di=null,Vt=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return E&&a.locale!=="ko"?null:a.data;default:return null}}var Ue={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oe(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!Ue[s.type]:a==="textarea"}function Ki(s,a,l,u){Hi?qi?qi.push(u):qi=[u]:Hi=u,a=vh(a,"onChange"),0<a.length&&(l=new Ba("onChange","change",null,l,u),s.push({event:l,listeners:a}))}var Ge=null,yi=null;function wl(s){b0(s,0)}function Nu(s){var a=ui(s);if(ml(a))return s}function j_(s,a){if(s==="change")return a}var F_=!1;if(Xn){var Id;if(Xn){var Cd="oninput"in document;if(!Cd){var H_=document.createElement("div");H_.setAttribute("oninput","return;"),Cd=typeof H_.oninput=="function"}Id=Cd}else Id=!1;F_=Id&&(!document.documentMode||9<document.documentMode)}function q_(){Ge&&(Ge.detachEvent("onpropertychange",G_),yi=Ge=null)}function G_(s){if(s.propertyName==="value"&&Nu(yi)){var a=[];Ki(a,yi,s,kn(s)),bu(wl,a)}}function A1(s,a,l){s==="focusin"?(q_(),Ge=a,yi=l,Ge.attachEvent("onpropertychange",G_)):s==="focusout"&&q_()}function w1(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Nu(yi)}function x1(s,a){if(s==="click")return Nu(a)}function R1(s,a){if(s==="input"||s==="change")return Nu(a)}function I1(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var En=typeof Object.is=="function"?Object.is:I1;function xl(s,a){if(En(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var g=l[u];if(!Rr.call(a,g)||!En(s[g],a[g]))return!1}return!0}function Y_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function K_(s,a){var l=Y_(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=a&&u>=a)return{node:l,offset:a-s};s=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=Y_(l)}}function Q_(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Q_(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function X_(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=Ur(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=Ur(s.document)}return a}function Dd(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var C1=Xn&&"documentMode"in document&&11>=document.documentMode,Qa=null,Od=null,Rl=null,Md=!1;function W_(s,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Md||Qa==null||Qa!==Ur(u)||(u=Qa,"selectionStart"in u&&Dd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Rl&&xl(Rl,u)||(Rl=u,u=vh(Od,"onSelect"),0<u.length&&(a=new Ba("onSelect","select",null,a,l),s.push({event:a,listeners:u}),a.target=Qa)))}function Xr(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var Xa={animationend:Xr("Animation","AnimationEnd"),animationiteration:Xr("Animation","AnimationIteration"),animationstart:Xr("Animation","AnimationStart"),transitionrun:Xr("Transition","TransitionRun"),transitionstart:Xr("Transition","TransitionStart"),transitioncancel:Xr("Transition","TransitionCancel"),transitionend:Xr("Transition","TransitionEnd")},kd={},$_={};Xn&&($_=document.createElement("div").style,"AnimationEvent"in window||(delete Xa.animationend.animation,delete Xa.animationiteration.animation,delete Xa.animationstart.animation),"TransitionEvent"in window||delete Xa.transitionend.transition);function Wr(s){if(kd[s])return kd[s];if(!Xa[s])return s;var a=Xa[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in $_)return kd[s]=a[l];return s}var Z_=Wr("animationend"),J_=Wr("animationiteration"),ty=Wr("animationstart"),D1=Wr("transitionrun"),O1=Wr("transitionstart"),M1=Wr("transitioncancel"),ey=Wr("transitionend"),ny=new Map,Nd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nd.push("scrollEnd");function Wn(s,a){ny.set(s,a),Qn(a,[s])}var iy=new WeakMap;function Vn(s,a){if(typeof s=="object"&&s!==null){var l=iy.get(s);return l!==void 0?l:(a={value:s,source:a,stack:La(a)},iy.set(s,a),a)}return{value:s,source:a,stack:La(a)}}var Ln=[],Wa=0,Pd=0;function Pu(){for(var s=Wa,a=Pd=Wa=0;a<s;){var l=Ln[a];Ln[a++]=null;var u=Ln[a];Ln[a++]=null;var g=Ln[a];Ln[a++]=null;var p=Ln[a];if(Ln[a++]=null,u!==null&&g!==null){var T=u.pending;T===null?g.next=g:(g.next=T.next,T.next=g),u.pending=g}p!==0&&sy(l,g,p)}}function Vu(s,a,l,u){Ln[Wa++]=s,Ln[Wa++]=a,Ln[Wa++]=l,Ln[Wa++]=u,Pd|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function Vd(s,a,l,u){return Vu(s,a,l,u),Lu(s)}function $a(s,a){return Vu(s,null,null,a),Lu(s)}function sy(s,a,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var g=!1,p=s.return;p!==null;)p.childLanes|=l,u=p.alternate,u!==null&&(u.childLanes|=l),p.tag===22&&(s=p.stateNode,s===null||s._visibility&1||(g=!0)),s=p,p=p.return;return s.tag===3?(p=s.stateNode,g&&a!==null&&(g=31-Ze(l),s=p.hiddenUpdates,u=s[g],u===null?s[g]=[a]:u.push(a),a.lane=l|536870912),p):null}function Lu(s){if(50<Zl)throw Zl=0,Fg=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var Za={};function k1(s,a,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(s,a,l,u){return new k1(s,a,l,u)}function Ld(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Qi(s,a){var l=s.alternate;return l===null?(l=Tn(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function ry(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Uu(s,a,l,u,g,p){var T=0;if(u=s,typeof s=="function")Ld(s)&&(T=1);else if(typeof s=="string")T=Px(s,l,dt.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case R:return s=Tn(31,l,a,g),s.elementType=R,s.lanes=p,s;case I:return $r(l.children,g,p,a);case k:T=8,g|=24;break;case M:return s=Tn(12,l,a,g|2),s.elementType=M,s.lanes=p,s;case W:return s=Tn(13,l,a,g),s.elementType=W,s.lanes=p,s;case ot:return s=Tn(19,l,a,g),s.elementType=ot,s.lanes=p,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case G:case et:T=10;break t;case X:T=9;break t;case it:T=11;break t;case C:T=14;break t;case x:T=16,u=null;break t}T=29,l=Error(i(130,s===null?"null":typeof s,"")),u=null}return a=Tn(T,l,a,g),a.elementType=s,a.type=u,a.lanes=p,a}function $r(s,a,l,u){return s=Tn(7,s,u,a),s.lanes=l,s}function Ud(s,a,l){return s=Tn(6,s,null,a),s.lanes=l,s}function zd(s,a,l){return a=Tn(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var Ja=[],to=0,zu=null,Bu=0,Un=[],zn=0,Zr=null,Xi=1,Wi="";function Jr(s,a){Ja[to++]=Bu,Ja[to++]=zu,zu=s,Bu=a}function ay(s,a,l){Un[zn++]=Xi,Un[zn++]=Wi,Un[zn++]=Zr,Zr=s;var u=Xi;s=Wi;var g=32-Ze(u)-1;u&=~(1<<g),l+=1;var p=32-Ze(a)+g;if(30<p){var T=g-g%5;p=(u&(1<<T)-1).toString(32),u>>=T,g-=T,Xi=1<<32-Ze(a)+g|l<<g|u,Wi=p+s}else Xi=1<<p|l<<g|u,Wi=s}function Bd(s){s.return!==null&&(Jr(s,1),ay(s,1,0))}function jd(s){for(;s===zu;)zu=Ja[--to],Ja[to]=null,Bu=Ja[--to],Ja[to]=null;for(;s===Zr;)Zr=Un[--zn],Un[zn]=null,Wi=Un[--zn],Un[zn]=null,Xi=Un[--zn],Un[zn]=null}var cn=null,ge=null,Ft=!1,ta=null,vi=!1,Fd=Error(i(519));function ea(s){var a=Error(i(418,""));throw Dl(Vn(a,s)),Fd}function oy(s){var a=s.stateNode,l=s.type,u=s.memoizedProps;switch(a[Ce]=s,a[Te]=u,l){case"dialog":Mt("cancel",a),Mt("close",a);break;case"iframe":case"object":case"embed":Mt("load",a);break;case"video":case"audio":for(l=0;l<tc.length;l++)Mt(tc[l],a);break;case"source":Mt("error",a);break;case"img":case"image":case"link":Mt("error",a),Mt("load",a);break;case"details":Mt("toggle",a);break;case"input":Mt("invalid",a),zr(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ua(a);break;case"select":Mt("invalid",a);break;case"textarea":Mt("invalid",a),Br(a,u.value,u.defaultValue,u.children),Ua(a)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||A0(a.textContent,l)?(u.popover!=null&&(Mt("beforetoggle",a),Mt("toggle",a)),u.onScroll!=null&&Mt("scroll",a),u.onScrollEnd!=null&&Mt("scrollend",a),u.onClick!=null&&(a.onclick=bh),a=!0):a=!1,a||ea(s)}function ly(s){for(cn=s.return;cn;)switch(cn.tag){case 5:case 13:vi=!1;return;case 27:case 3:vi=!0;return;default:cn=cn.return}}function Il(s){if(s!==cn)return!1;if(!Ft)return ly(s),Ft=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||sm(s.type,s.memoizedProps)),l=!l),l&&ge&&ea(s),ly(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));t:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(a===0){ge=Zn(s.nextSibling);break t}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;s=s.nextSibling}ge=null}}else a===27?(a=ge,qs(s.type)?(s=lm,lm=null,ge=s):ge=a):ge=cn?Zn(s.stateNode.nextSibling):null;return!0}function Cl(){ge=cn=null,Ft=!1}function cy(){var s=ta;return s!==null&&(fn===null?fn=s:fn.push.apply(fn,s),ta=null),s}function Dl(s){ta===null?ta=[s]:ta.push(s)}var Hd=nt(null),na=null,$i=null;function Cs(s,a,l){rt(Hd,a._currentValue),a._currentValue=l}function Zi(s){s._currentValue=Hd.current,ct(Hd)}function qd(s,a,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),s===l)break;s=s.return}}function Gd(s,a,l,u){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var p=g.dependencies;if(p!==null){var T=g.child;p=p.firstContext;t:for(;p!==null;){var S=p;p=g;for(var O=0;O<a.length;O++)if(S.context===a[O]){p.lanes|=l,S=p.alternate,S!==null&&(S.lanes|=l),qd(p.return,l,s),u||(T=null);break t}p=S.next}}else if(g.tag===18){if(T=g.return,T===null)throw Error(i(341));T.lanes|=l,p=T.alternate,p!==null&&(p.lanes|=l),qd(T,l,s),T=null}else T=g.child;if(T!==null)T.return=g;else for(T=g;T!==null;){if(T===s){T=null;break}if(g=T.sibling,g!==null){g.return=T.return,T=g;break}T=T.return}g=T}}function Ol(s,a,l,u){s=null;for(var g=a,p=!1;g!==null;){if(!p){if((g.flags&524288)!==0)p=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var T=g.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var S=g.type;En(g.pendingProps.value,T.value)||(s!==null?s.push(S):s=[S])}}else if(g===Ve.current){if(T=g.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(ac):s=[ac])}g=g.return}s!==null&&Gd(a,s,l,u),a.flags|=262144}function ju(s){for(s=s.firstContext;s!==null;){if(!En(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ia(s){na=s,$i=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Je(s){return uy(na,s)}function Fu(s,a){return na===null&&ia(s),uy(s,a)}function uy(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},$i===null){if(s===null)throw Error(i(308));$i=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else $i=$i.next=a;return l}var N1=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},P1=n.unstable_scheduleCallback,V1=n.unstable_NormalPriority,Me={$$typeof:et,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yd(){return{controller:new N1,data:new Map,refCount:0}}function Ml(s){s.refCount--,s.refCount===0&&P1(V1,function(){s.controller.abort()})}var kl=null,Kd=0,eo=0,no=null;function L1(s,a){if(kl===null){var l=kl=[];Kd=0,eo=Xg(),no={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Kd++,a.then(hy,hy),a}function hy(){if(--Kd===0&&kl!==null){no!==null&&(no.status="fulfilled");var s=kl;kl=null,eo=0,no=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function U1(s,a){var l=[],u={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return s.then(function(){u.status="fulfilled",u.value=a;for(var g=0;g<l.length;g++)(0,l[g])(a)},function(g){for(u.status="rejected",u.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),u}var fy=Y.S;Y.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&L1(s,a),fy!==null&&fy(s,a)};var sa=nt(null);function Qd(){var s=sa.current;return s!==null?s:re.pooledCache}function Hu(s,a){a===null?rt(sa,sa.current):rt(sa,a.pool)}function dy(){var s=Qd();return s===null?null:{parent:Me._currentValue,pool:s}}var Nl=Error(i(460)),gy=Error(i(474)),qu=Error(i(542)),Xd={then:function(){}};function my(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Gu(){}function py(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(Gu,Gu),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,yy(s),s;default:if(typeof a.status=="string")a.then(Gu,Gu);else{if(s=re,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(u){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=u}},function(u){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,yy(s),s}throw Pl=a,Nl}}var Pl=null;function _y(){if(Pl===null)throw Error(i(459));var s=Pl;return Pl=null,s}function yy(s){if(s===Nl||s===qu)throw Error(i(483))}var Ds=!1;function Wd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $d(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Os(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ms(s,a,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(Qt&2)!==0){var g=u.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),u.pending=a,a=Lu(s),sy(s,null,l),a}return Vu(s,u,a,l),Lu(s)}function Vl(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,ul(s,l)}}function Zd(s,a){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var g=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?g=p=T:p=p.next=T,l=l.next}while(l!==null);p===null?g=p=a:p=p.next=a}else g=p=a;l={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var Jd=!1;function Ll(){if(Jd){var s=no;if(s!==null)throw s}}function Ul(s,a,l,u){Jd=!1;var g=s.updateQueue;Ds=!1;var p=g.firstBaseUpdate,T=g.lastBaseUpdate,S=g.shared.pending;if(S!==null){g.shared.pending=null;var O=S,F=O.next;O.next=null,T===null?p=F:T.next=F,T=O;var Q=s.alternate;Q!==null&&(Q=Q.updateQueue,S=Q.lastBaseUpdate,S!==T&&(S===null?Q.firstBaseUpdate=F:S.next=F,Q.lastBaseUpdate=O))}if(p!==null){var J=g.baseState;T=0,Q=F=O=null,S=p;do{var H=S.lane&-536870913,q=H!==S.lane;if(q?(Ut&H)===H:(u&H)===H){H!==0&&H===eo&&(Jd=!0),Q!==null&&(Q=Q.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var Tt=s,yt=S;H=a;var ee=l;switch(yt.tag){case 1:if(Tt=yt.payload,typeof Tt=="function"){J=Tt.call(ee,J,H);break t}J=Tt;break t;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=yt.payload,H=typeof Tt=="function"?Tt.call(ee,J,H):Tt,H==null)break t;J=_({},J,H);break t;case 2:Ds=!0}}H=S.callback,H!==null&&(s.flags|=64,q&&(s.flags|=8192),q=g.callbacks,q===null?g.callbacks=[H]:q.push(H))}else q={lane:H,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Q===null?(F=Q=q,O=J):Q=Q.next=q,T|=H;if(S=S.next,S===null){if(S=g.shared.pending,S===null)break;q=S,S=q.next,q.next=null,g.lastBaseUpdate=q,g.shared.pending=null}}while(!0);Q===null&&(O=J),g.baseState=O,g.firstBaseUpdate=F,g.lastBaseUpdate=Q,p===null&&(g.shared.lanes=0),Bs|=T,s.lanes=T,s.memoizedState=J}}function vy(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function by(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)vy(l[s],a)}var io=nt(null),Yu=nt(0);function Ey(s,a){s=rs,rt(Yu,s),rt(io,a),rs=s|a.baseLanes}function tg(){rt(Yu,rs),rt(io,io.current)}function eg(){rs=Yu.current,ct(io),ct(Yu)}var ks=0,It=null,Jt=null,Ae=null,Ku=!1,so=!1,ra=!1,Qu=0,zl=0,ro=null,z1=0;function _e(){throw Error(i(321))}function ng(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!En(s[l],a[l]))return!1;return!0}function ig(s,a,l,u,g,p){return ks=p,It=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Y.H=s===null||s.memoizedState===null?sv:rv,ra=!1,p=l(u,g),ra=!1,so&&(p=Sy(a,l,u,g)),Ty(s),p}function Ty(s){Y.H=th;var a=Jt!==null&&Jt.next!==null;if(ks=0,Ae=Jt=It=null,Ku=!1,zl=0,ro=null,a)throw Error(i(300));s===null||ze||(s=s.dependencies,s!==null&&ju(s)&&(ze=!0))}function Sy(s,a,l,u){It=s;var g=0;do{if(so&&(ro=null),zl=0,so=!1,25<=g)throw Error(i(301));if(g+=1,Ae=Jt=null,s.updateQueue!=null){var p=s.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}Y.H=Y1,p=a(l,u)}while(so);return p}function B1(){var s=Y.H,a=s.useState()[0];return a=typeof a.then=="function"?Bl(a):a,s=s.useState()[0],(Jt!==null?Jt.memoizedState:null)!==s&&(It.flags|=1024),a}function sg(){var s=Qu!==0;return Qu=0,s}function rg(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function ag(s){if(Ku){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Ku=!1}ks=0,Ae=Jt=It=null,so=!1,zl=Qu=0,ro=null}function un(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?It.memoizedState=Ae=s:Ae=Ae.next=s,Ae}function we(){if(Jt===null){var s=It.alternate;s=s!==null?s.memoizedState:null}else s=Jt.next;var a=Ae===null?It.memoizedState:Ae.next;if(a!==null)Ae=a,Jt=s;else{if(s===null)throw It.alternate===null?Error(i(467)):Error(i(310));Jt=s,s={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Ae===null?It.memoizedState=Ae=s:Ae=Ae.next=s}return Ae}function og(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bl(s){var a=zl;return zl+=1,ro===null&&(ro=[]),s=py(ro,s,a),a=It,(Ae===null?a.memoizedState:Ae.next)===null&&(a=a.alternate,Y.H=a===null||a.memoizedState===null?sv:rv),s}function Xu(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Bl(s);if(s.$$typeof===et)return Je(s)}throw Error(i(438,String(s)))}function lg(s){var a=null,l=It.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=It.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=og(),It.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),u=0;u<s;u++)l[u]=N;return a.index++,l}function Ji(s,a){return typeof a=="function"?a(s):a}function Wu(s){var a=we();return cg(a,Jt,s)}function cg(s,a,l){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var g=s.baseQueue,p=u.pending;if(p!==null){if(g!==null){var T=g.next;g.next=p.next,p.next=T}a.baseQueue=g=p,u.pending=null}if(p=s.baseState,g===null)s.memoizedState=p;else{a=g.next;var S=T=null,O=null,F=a,Q=!1;do{var J=F.lane&-536870913;if(J!==F.lane?(Ut&J)===J:(ks&J)===J){var H=F.revertLane;if(H===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),J===eo&&(Q=!0);else if((ks&H)===H){F=F.next,H===eo&&(Q=!0);continue}else J={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},O===null?(S=O=J,T=p):O=O.next=J,It.lanes|=H,Bs|=H;J=F.action,ra&&l(p,J),p=F.hasEagerState?F.eagerState:l(p,J)}else H={lane:J,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},O===null?(S=O=H,T=p):O=O.next=H,It.lanes|=J,Bs|=J;F=F.next}while(F!==null&&F!==a);if(O===null?T=p:O.next=S,!En(p,s.memoizedState)&&(ze=!0,Q&&(l=no,l!==null)))throw l;s.memoizedState=p,s.baseState=T,s.baseQueue=O,u.lastRenderedState=p}return g===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function ug(s){var a=we(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var u=l.dispatch,g=l.pending,p=a.memoizedState;if(g!==null){l.pending=null;var T=g=g.next;do p=s(p,T.action),T=T.next;while(T!==g);En(p,a.memoizedState)||(ze=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),l.lastRenderedState=p}return[p,u]}function Ay(s,a,l){var u=It,g=we(),p=Ft;if(p){if(l===void 0)throw Error(i(407));l=l()}else l=a();var T=!En((Jt||g).memoizedState,l);T&&(g.memoizedState=l,ze=!0),g=g.queue;var S=Ry.bind(null,u,g,s);if(jl(2048,8,S,[s]),g.getSnapshot!==a||T||Ae!==null&&Ae.memoizedState.tag&1){if(u.flags|=2048,ao(9,$u(),xy.bind(null,u,g,l,a),null),re===null)throw Error(i(349));p||(ks&124)!==0||wy(u,a,l)}return l}function wy(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=It.updateQueue,a===null?(a=og(),It.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function xy(s,a,l,u){a.value=l,a.getSnapshot=u,Iy(a)&&Cy(s)}function Ry(s,a,l){return l(function(){Iy(a)&&Cy(s)})}function Iy(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!En(s,l)}catch{return!0}}function Cy(s){var a=$a(s,2);a!==null&&Rn(a,s,2)}function hg(s){var a=un();if(typeof s=="function"){var l=s;if(s=l(),ra){vn(!0);try{l()}finally{vn(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:s},a}function Dy(s,a,l,u){return s.baseState=l,cg(s,Jt,typeof u=="function"?u:Ji)}function j1(s,a,l,u,g){if(Ju(s))throw Error(i(485));if(s=a.action,s!==null){var p={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};Y.T!==null?l(!0):p.isTransition=!1,u(p),l=a.pending,l===null?(p.next=a.pending=p,Oy(a,p)):(p.next=l.next,a.pending=l.next=p)}}function Oy(s,a){var l=a.action,u=a.payload,g=s.state;if(a.isTransition){var p=Y.T,T={};Y.T=T;try{var S=l(g,u),O=Y.S;O!==null&&O(T,S),My(s,a,S)}catch(F){fg(s,a,F)}finally{Y.T=p}}else try{p=l(g,u),My(s,a,p)}catch(F){fg(s,a,F)}}function My(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){ky(s,a,u)},function(u){return fg(s,a,u)}):ky(s,a,l)}function ky(s,a,l){a.status="fulfilled",a.value=l,Ny(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,Oy(s,l)))}function fg(s,a,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,Ny(a),a=a.next;while(a!==u)}s.action=null}function Ny(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function Py(s,a){return a}function Vy(s,a){if(Ft){var l=re.formState;if(l!==null){t:{var u=It;if(Ft){if(ge){e:{for(var g=ge,p=vi;g.nodeType!==8;){if(!p){g=null;break e}if(g=Zn(g.nextSibling),g===null){g=null;break e}}p=g.data,g=p==="F!"||p==="F"?g:null}if(g){ge=Zn(g.nextSibling),u=g.data==="F!";break t}}ea(u)}u=!1}u&&(a=l[0])}}return l=un(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Py,lastRenderedState:a},l.queue=u,l=ev.bind(null,It,u),u.dispatch=l,u=hg(!1),p=_g.bind(null,It,!1,u.queue),u=un(),g={state:a,dispatch:null,action:s,pending:null},u.queue=g,l=j1.bind(null,It,g,p,l),g.dispatch=l,u.memoizedState=s,[a,l,!1]}function Ly(s){var a=we();return Uy(a,Jt,s)}function Uy(s,a,l){if(a=cg(s,a,Py)[0],s=Wu(Ji)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=Bl(a)}catch(T){throw T===Nl?qu:T}else u=a;a=we();var g=a.queue,p=g.dispatch;return l!==a.memoizedState&&(It.flags|=2048,ao(9,$u(),F1.bind(null,g,l),null)),[u,p,s]}function F1(s,a){s.action=a}function zy(s){var a=we(),l=Jt;if(l!==null)return Uy(a,l,s);we(),a=a.memoizedState,l=we();var u=l.queue.dispatch;return l.memoizedState=s,[a,u,!1]}function ao(s,a,l,u){return s={tag:s,create:l,deps:u,inst:a,next:null},a=It.updateQueue,a===null&&(a=og(),It.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,a.lastEffect=s),s}function $u(){return{destroy:void 0,resource:void 0}}function By(){return we().memoizedState}function Zu(s,a,l,u){var g=un();u=u===void 0?null:u,It.flags|=s,g.memoizedState=ao(1|a,$u(),l,u)}function jl(s,a,l,u){var g=we();u=u===void 0?null:u;var p=g.memoizedState.inst;Jt!==null&&u!==null&&ng(u,Jt.memoizedState.deps)?g.memoizedState=ao(a,p,l,u):(It.flags|=s,g.memoizedState=ao(1|a,p,l,u))}function jy(s,a){Zu(8390656,8,s,a)}function Fy(s,a){jl(2048,8,s,a)}function Hy(s,a){return jl(4,2,s,a)}function qy(s,a){return jl(4,4,s,a)}function Gy(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Yy(s,a,l){l=l!=null?l.concat([s]):null,jl(4,4,Gy.bind(null,a,s),l)}function dg(){}function Ky(s,a){var l=we();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&ng(a,u[1])?u[0]:(l.memoizedState=[s,a],s)}function Qy(s,a){var l=we();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&ng(a,u[1]))return u[0];if(u=s(),ra){vn(!0);try{s()}finally{vn(!1)}}return l.memoizedState=[u,a],u}function gg(s,a,l){return l===void 0||(ks&1073741824)!==0?s.memoizedState=a:(s.memoizedState=l,s=$v(),It.lanes|=s,Bs|=s,l)}function Xy(s,a,l,u){return En(l,a)?l:io.current!==null?(s=gg(s,l,u),En(s,a)||(ze=!0),s):(ks&42)===0?(ze=!0,s.memoizedState=l):(s=$v(),It.lanes|=s,Bs|=s,a)}function Wy(s,a,l,u,g){var p=at.p;at.p=p!==0&&8>p?p:8;var T=Y.T,S={};Y.T=S,_g(s,!1,a,l);try{var O=g(),F=Y.S;if(F!==null&&F(S,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var Q=U1(O,u);Fl(s,a,Q,xn(s))}else Fl(s,a,u,xn(s))}catch(J){Fl(s,a,{then:function(){},status:"rejected",reason:J},xn())}finally{at.p=p,Y.T=T}}function H1(){}function mg(s,a,l,u){if(s.tag!==5)throw Error(i(476));var g=$y(s).queue;Wy(s,g,a,gt,l===null?H1:function(){return Zy(s),l(u)})}function $y(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:gt},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function Zy(s){var a=$y(s).next.queue;Fl(s,a,{},xn())}function pg(){return Je(ac)}function Jy(){return we().memoizedState}function tv(){return we().memoizedState}function q1(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=xn();s=Os(l);var u=Ms(a,s,l);u!==null&&(Rn(u,a,l),Vl(u,a,l)),a={cache:Yd()},s.payload=a;return}a=a.return}}function G1(s,a,l){var u=xn();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Ju(s)?nv(a,l):(l=Vd(s,a,l,u),l!==null&&(Rn(l,s,u),iv(l,a,u)))}function ev(s,a,l){var u=xn();Fl(s,a,l,u)}function Fl(s,a,l,u){var g={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ju(s))nv(a,g);else{var p=s.alternate;if(s.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var T=a.lastRenderedState,S=p(T,l);if(g.hasEagerState=!0,g.eagerState=S,En(S,T))return Vu(s,a,g,0),re===null&&Pu(),!1}catch{}finally{}if(l=Vd(s,a,g,u),l!==null)return Rn(l,s,u),iv(l,a,u),!0}return!1}function _g(s,a,l,u){if(u={lane:2,revertLane:Xg(),action:u,hasEagerState:!1,eagerState:null,next:null},Ju(s)){if(a)throw Error(i(479))}else a=Vd(s,l,u,2),a!==null&&Rn(a,s,2)}function Ju(s){var a=s.alternate;return s===It||a!==null&&a===It}function nv(s,a){so=Ku=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function iv(s,a,l){if((l&4194048)!==0){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,ul(s,l)}}var th={readContext:Je,use:Xu,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useLayoutEffect:_e,useInsertionEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useSyncExternalStore:_e,useId:_e,useHostTransitionStatus:_e,useFormState:_e,useActionState:_e,useOptimistic:_e,useMemoCache:_e,useCacheRefresh:_e},sv={readContext:Je,use:Xu,useCallback:function(s,a){return un().memoizedState=[s,a===void 0?null:a],s},useContext:Je,useEffect:jy,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,Zu(4194308,4,Gy.bind(null,a,s),l)},useLayoutEffect:function(s,a){return Zu(4194308,4,s,a)},useInsertionEffect:function(s,a){Zu(4,2,s,a)},useMemo:function(s,a){var l=un();a=a===void 0?null:a;var u=s();if(ra){vn(!0);try{s()}finally{vn(!1)}}return l.memoizedState=[u,a],u},useReducer:function(s,a,l){var u=un();if(l!==void 0){var g=l(a);if(ra){vn(!0);try{l(a)}finally{vn(!1)}}}else g=a;return u.memoizedState=u.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},u.queue=s,s=s.dispatch=G1.bind(null,It,s),[u.memoizedState,s]},useRef:function(s){var a=un();return s={current:s},a.memoizedState=s},useState:function(s){s=hg(s);var a=s.queue,l=ev.bind(null,It,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:dg,useDeferredValue:function(s,a){var l=un();return gg(l,s,a)},useTransition:function(){var s=hg(!1);return s=Wy.bind(null,It,s.queue,!0,!1),un().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var u=It,g=un();if(Ft){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),re===null)throw Error(i(349));(Ut&124)!==0||wy(u,a,l)}g.memoizedState=l;var p={value:l,getSnapshot:a};return g.queue=p,jy(Ry.bind(null,u,p,s),[s]),u.flags|=2048,ao(9,$u(),xy.bind(null,u,p,l,a),null),l},useId:function(){var s=un(),a=re.identifierPrefix;if(Ft){var l=Wi,u=Xi;l=(u&~(1<<32-Ze(u)-1)).toString(32)+l,a=""+a+"R"+l,l=Qu++,0<l&&(a+="H"+l.toString(32)),a+=""}else l=z1++,a=""+a+"r"+l.toString(32)+"";return s.memoizedState=a},useHostTransitionStatus:pg,useFormState:Vy,useActionState:Vy,useOptimistic:function(s){var a=un();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=_g.bind(null,It,!0,l),l.dispatch=a,[s,a]},useMemoCache:lg,useCacheRefresh:function(){return un().memoizedState=q1.bind(null,It)}},rv={readContext:Je,use:Xu,useCallback:Ky,useContext:Je,useEffect:Fy,useImperativeHandle:Yy,useInsertionEffect:Hy,useLayoutEffect:qy,useMemo:Qy,useReducer:Wu,useRef:By,useState:function(){return Wu(Ji)},useDebugValue:dg,useDeferredValue:function(s,a){var l=we();return Xy(l,Jt.memoizedState,s,a)},useTransition:function(){var s=Wu(Ji)[0],a=we().memoizedState;return[typeof s=="boolean"?s:Bl(s),a]},useSyncExternalStore:Ay,useId:Jy,useHostTransitionStatus:pg,useFormState:Ly,useActionState:Ly,useOptimistic:function(s,a){var l=we();return Dy(l,Jt,s,a)},useMemoCache:lg,useCacheRefresh:tv},Y1={readContext:Je,use:Xu,useCallback:Ky,useContext:Je,useEffect:Fy,useImperativeHandle:Yy,useInsertionEffect:Hy,useLayoutEffect:qy,useMemo:Qy,useReducer:ug,useRef:By,useState:function(){return ug(Ji)},useDebugValue:dg,useDeferredValue:function(s,a){var l=we();return Jt===null?gg(l,s,a):Xy(l,Jt.memoizedState,s,a)},useTransition:function(){var s=ug(Ji)[0],a=we().memoizedState;return[typeof s=="boolean"?s:Bl(s),a]},useSyncExternalStore:Ay,useId:Jy,useHostTransitionStatus:pg,useFormState:zy,useActionState:zy,useOptimistic:function(s,a){var l=we();return Jt!==null?Dy(l,Jt,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:lg,useCacheRefresh:tv},oo=null,Hl=0;function eh(s){var a=Hl;return Hl+=1,oo===null&&(oo=[]),py(oo,s,a)}function ql(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function nh(s,a){throw a.$$typeof===v?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function av(s){var a=s._init;return a(s._payload)}function ov(s){function a(z,U){if(s){var j=z.deletions;j===null?(z.deletions=[U],z.flags|=16):j.push(U)}}function l(z,U){if(!s)return null;for(;U!==null;)a(z,U),U=U.sibling;return null}function u(z){for(var U=new Map;z!==null;)z.key!==null?U.set(z.key,z):U.set(z.index,z),z=z.sibling;return U}function g(z,U){return z=Qi(z,U),z.index=0,z.sibling=null,z}function p(z,U,j){return z.index=j,s?(j=z.alternate,j!==null?(j=j.index,j<U?(z.flags|=67108866,U):j):(z.flags|=67108866,U)):(z.flags|=1048576,U)}function T(z){return s&&z.alternate===null&&(z.flags|=67108866),z}function S(z,U,j,$){return U===null||U.tag!==6?(U=Ud(j,z.mode,$),U.return=z,U):(U=g(U,j),U.return=z,U)}function O(z,U,j,$){var ft=j.type;return ft===I?Q(z,U,j.props.children,$,j.key):U!==null&&(U.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===x&&av(ft)===U.type)?(U=g(U,j.props),ql(U,j),U.return=z,U):(U=Uu(j.type,j.key,j.props,null,z.mode,$),ql(U,j),U.return=z,U)}function F(z,U,j,$){return U===null||U.tag!==4||U.stateNode.containerInfo!==j.containerInfo||U.stateNode.implementation!==j.implementation?(U=zd(j,z.mode,$),U.return=z,U):(U=g(U,j.children||[]),U.return=z,U)}function Q(z,U,j,$,ft){return U===null||U.tag!==7?(U=$r(j,z.mode,$,ft),U.return=z,U):(U=g(U,j),U.return=z,U)}function J(z,U,j){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Ud(""+U,z.mode,j),U.return=z,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case b:return j=Uu(U.type,U.key,U.props,null,z.mode,j),ql(j,U),j.return=z,j;case A:return U=zd(U,z.mode,j),U.return=z,U;case x:var $=U._init;return U=$(U._payload),J(z,U,j)}if(At(U)||L(U))return U=$r(U,z.mode,j,null),U.return=z,U;if(typeof U.then=="function")return J(z,eh(U),j);if(U.$$typeof===et)return J(z,Fu(z,U),j);nh(z,U)}return null}function H(z,U,j,$){var ft=U!==null?U.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ft!==null?null:S(z,U,""+j,$);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case b:return j.key===ft?O(z,U,j,$):null;case A:return j.key===ft?F(z,U,j,$):null;case x:return ft=j._init,j=ft(j._payload),H(z,U,j,$)}if(At(j)||L(j))return ft!==null?null:Q(z,U,j,$,null);if(typeof j.then=="function")return H(z,U,eh(j),$);if(j.$$typeof===et)return H(z,U,Fu(z,j),$);nh(z,j)}return null}function q(z,U,j,$,ft){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return z=z.get(j)||null,S(U,z,""+$,ft);if(typeof $=="object"&&$!==null){switch($.$$typeof){case b:return z=z.get($.key===null?j:$.key)||null,O(U,z,$,ft);case A:return z=z.get($.key===null?j:$.key)||null,F(U,z,$,ft);case x:var Dt=$._init;return $=Dt($._payload),q(z,U,j,$,ft)}if(At($)||L($))return z=z.get(j)||null,Q(U,z,$,ft,null);if(typeof $.then=="function")return q(z,U,j,eh($),ft);if($.$$typeof===et)return q(z,U,j,Fu(U,$),ft);nh(U,$)}return null}function Tt(z,U,j,$){for(var ft=null,Dt=null,mt=U,vt=U=0,je=null;mt!==null&&vt<j.length;vt++){mt.index>vt?(je=mt,mt=null):je=mt.sibling;var Bt=H(z,mt,j[vt],$);if(Bt===null){mt===null&&(mt=je);break}s&&mt&&Bt.alternate===null&&a(z,mt),U=p(Bt,U,vt),Dt===null?ft=Bt:Dt.sibling=Bt,Dt=Bt,mt=je}if(vt===j.length)return l(z,mt),Ft&&Jr(z,vt),ft;if(mt===null){for(;vt<j.length;vt++)mt=J(z,j[vt],$),mt!==null&&(U=p(mt,U,vt),Dt===null?ft=mt:Dt.sibling=mt,Dt=mt);return Ft&&Jr(z,vt),ft}for(mt=u(mt);vt<j.length;vt++)je=q(mt,z,vt,j[vt],$),je!==null&&(s&&je.alternate!==null&&mt.delete(je.key===null?vt:je.key),U=p(je,U,vt),Dt===null?ft=je:Dt.sibling=je,Dt=je);return s&&mt.forEach(function(Xs){return a(z,Xs)}),Ft&&Jr(z,vt),ft}function yt(z,U,j,$){if(j==null)throw Error(i(151));for(var ft=null,Dt=null,mt=U,vt=U=0,je=null,Bt=j.next();mt!==null&&!Bt.done;vt++,Bt=j.next()){mt.index>vt?(je=mt,mt=null):je=mt.sibling;var Xs=H(z,mt,Bt.value,$);if(Xs===null){mt===null&&(mt=je);break}s&&mt&&Xs.alternate===null&&a(z,mt),U=p(Xs,U,vt),Dt===null?ft=Xs:Dt.sibling=Xs,Dt=Xs,mt=je}if(Bt.done)return l(z,mt),Ft&&Jr(z,vt),ft;if(mt===null){for(;!Bt.done;vt++,Bt=j.next())Bt=J(z,Bt.value,$),Bt!==null&&(U=p(Bt,U,vt),Dt===null?ft=Bt:Dt.sibling=Bt,Dt=Bt);return Ft&&Jr(z,vt),ft}for(mt=u(mt);!Bt.done;vt++,Bt=j.next())Bt=q(mt,z,vt,Bt.value,$),Bt!==null&&(s&&Bt.alternate!==null&&mt.delete(Bt.key===null?vt:Bt.key),U=p(Bt,U,vt),Dt===null?ft=Bt:Dt.sibling=Bt,Dt=Bt);return s&&mt.forEach(function(Kx){return a(z,Kx)}),Ft&&Jr(z,vt),ft}function ee(z,U,j,$){if(typeof j=="object"&&j!==null&&j.type===I&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case b:t:{for(var ft=j.key;U!==null;){if(U.key===ft){if(ft=j.type,ft===I){if(U.tag===7){l(z,U.sibling),$=g(U,j.props.children),$.return=z,z=$;break t}}else if(U.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===x&&av(ft)===U.type){l(z,U.sibling),$=g(U,j.props),ql($,j),$.return=z,z=$;break t}l(z,U);break}else a(z,U);U=U.sibling}j.type===I?($=$r(j.props.children,z.mode,$,j.key),$.return=z,z=$):($=Uu(j.type,j.key,j.props,null,z.mode,$),ql($,j),$.return=z,z=$)}return T(z);case A:t:{for(ft=j.key;U!==null;){if(U.key===ft)if(U.tag===4&&U.stateNode.containerInfo===j.containerInfo&&U.stateNode.implementation===j.implementation){l(z,U.sibling),$=g(U,j.children||[]),$.return=z,z=$;break t}else{l(z,U);break}else a(z,U);U=U.sibling}$=zd(j,z.mode,$),$.return=z,z=$}return T(z);case x:return ft=j._init,j=ft(j._payload),ee(z,U,j,$)}if(At(j))return Tt(z,U,j,$);if(L(j)){if(ft=L(j),typeof ft!="function")throw Error(i(150));return j=ft.call(j),yt(z,U,j,$)}if(typeof j.then=="function")return ee(z,U,eh(j),$);if(j.$$typeof===et)return ee(z,U,Fu(z,j),$);nh(z,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,U!==null&&U.tag===6?(l(z,U.sibling),$=g(U,j),$.return=z,z=$):(l(z,U),$=Ud(j,z.mode,$),$.return=z,z=$),T(z)):l(z,U)}return function(z,U,j,$){try{Hl=0;var ft=ee(z,U,j,$);return oo=null,ft}catch(mt){if(mt===Nl||mt===qu)throw mt;var Dt=Tn(29,mt,null,z.mode);return Dt.lanes=$,Dt.return=z,Dt}finally{}}}var lo=ov(!0),lv=ov(!1),Bn=nt(null),bi=null;function Ns(s){var a=s.alternate;rt(ke,ke.current&1),rt(Bn,s),bi===null&&(a===null||io.current!==null||a.memoizedState!==null)&&(bi=s)}function cv(s){if(s.tag===22){if(rt(ke,ke.current),rt(Bn,s),bi===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(bi=s)}}else Ps()}function Ps(){rt(ke,ke.current),rt(Bn,Bn.current)}function ts(s){ct(Bn),bi===s&&(bi=null),ct(ke)}var ke=nt(0);function ih(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||om(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function yg(s,a,l,u){a=s.memoizedState,l=l(u,a),l=l==null?a:_({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var vg={enqueueSetState:function(s,a,l){s=s._reactInternals;var u=xn(),g=Os(u);g.payload=a,l!=null&&(g.callback=l),a=Ms(s,g,u),a!==null&&(Rn(a,s,u),Vl(a,s,u))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var u=xn(),g=Os(u);g.tag=1,g.payload=a,l!=null&&(g.callback=l),a=Ms(s,g,u),a!==null&&(Rn(a,s,u),Vl(a,s,u))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=xn(),u=Os(l);u.tag=2,a!=null&&(u.callback=a),a=Ms(s,u,l),a!==null&&(Rn(a,s,l),Vl(a,s,l))}};function uv(s,a,l,u,g,p,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,p,T):a.prototype&&a.prototype.isPureReactComponent?!xl(l,u)||!xl(g,p):!0}function hv(s,a,l,u){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==s&&vg.enqueueReplaceState(a,a.state,null)}function aa(s,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(s=s.defaultProps){l===a&&(l=_({},l));for(var g in s)l[g]===void 0&&(l[g]=s[g])}return l}var sh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function fv(s){sh(s)}function dv(s){console.error(s)}function gv(s){sh(s)}function rh(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function mv(s,a,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function bg(s,a,l){return l=Os(l),l.tag=3,l.payload={element:null},l.callback=function(){rh(s,a)},l}function pv(s){return s=Os(s),s.tag=3,s}function _v(s,a,l,u){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var p=u.value;s.payload=function(){return g(p)},s.callback=function(){mv(a,l,u)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(s.callback=function(){mv(a,l,u),typeof g!="function"&&(js===null?js=new Set([this]):js.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function K1(s,a,l,u,g){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&Ol(a,l,g,!0),l=Bn.current,l!==null){switch(l.tag){case 13:return bi===null?qg():l.alternate===null&&me===0&&(me=3),l.flags&=-257,l.flags|=65536,l.lanes=g,u===Xd?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),Yg(s,u,g)),!1;case 22:return l.flags|=65536,u===Xd?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),Yg(s,u,g)),!1}throw Error(i(435,l.tag))}return Yg(s,u,g),qg(),!1}if(Ft)return a=Bn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,u!==Fd&&(s=Error(i(422),{cause:u}),Dl(Vn(s,l)))):(u!==Fd&&(a=Error(i(423),{cause:u}),Dl(Vn(a,l))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,u=Vn(u,l),g=bg(s.stateNode,u,g),Zd(s,g),me!==4&&(me=2)),!1;var p=Error(i(520),{cause:u});if(p=Vn(p,l),$l===null?$l=[p]:$l.push(p),me!==4&&(me=2),a===null)return!0;u=Vn(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=g&-g,l.lanes|=s,s=bg(l.stateNode,u,s),Zd(l,s),!1;case 1:if(a=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(js===null||!js.has(p))))return l.flags|=65536,g&=-g,l.lanes|=g,g=pv(g),_v(g,s,l,u),Zd(l,g),!1}l=l.return}while(l!==null);return!1}var yv=Error(i(461)),ze=!1;function Ye(s,a,l,u){a.child=s===null?lv(a,null,l,u):lo(a,s.child,l,u)}function vv(s,a,l,u,g){l=l.render;var p=a.ref;if("ref"in u){var T={};for(var S in u)S!=="ref"&&(T[S]=u[S])}else T=u;return ia(a),u=ig(s,a,l,T,p,g),S=sg(),s!==null&&!ze?(rg(s,a,g),es(s,a,g)):(Ft&&S&&Bd(a),a.flags|=1,Ye(s,a,u,g),a.child)}function bv(s,a,l,u,g){if(s===null){var p=l.type;return typeof p=="function"&&!Ld(p)&&p.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=p,Ev(s,a,p,u,g)):(s=Uu(l.type,null,u,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(p=s.child,!Ig(s,g)){var T=p.memoizedProps;if(l=l.compare,l=l!==null?l:xl,l(T,u)&&s.ref===a.ref)return es(s,a,g)}return a.flags|=1,s=Qi(p,u),s.ref=a.ref,s.return=a,a.child=s}function Ev(s,a,l,u,g){if(s!==null){var p=s.memoizedProps;if(xl(p,u)&&s.ref===a.ref)if(ze=!1,a.pendingProps=u=p,Ig(s,g))(s.flags&131072)!==0&&(ze=!0);else return a.lanes=s.lanes,es(s,a,g)}return Eg(s,a,l,u,g)}function Tv(s,a,l){var u=a.pendingProps,g=u.children,p=s!==null?s.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=p!==null?p.baseLanes|l:l,s!==null){for(g=a.child=s.child,p=0;g!==null;)p=p|g.lanes|g.childLanes,g=g.sibling;a.childLanes=p&~u}else a.childLanes=0,a.child=null;return Sv(s,a,u,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Hu(a,p!==null?p.cachePool:null),p!==null?Ey(a,p):tg(),cv(a);else return a.lanes=a.childLanes=536870912,Sv(s,a,p!==null?p.baseLanes|l:l,l)}else p!==null?(Hu(a,p.cachePool),Ey(a,p),Ps(),a.memoizedState=null):(s!==null&&Hu(a,null),tg(),Ps());return Ye(s,a,g,l),a.child}function Sv(s,a,l,u){var g=Qd();return g=g===null?null:{parent:Me._currentValue,pool:g},a.memoizedState={baseLanes:l,cachePool:g},s!==null&&Hu(a,null),tg(),cv(a),s!==null&&Ol(s,a,u,!0),null}function ah(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function Eg(s,a,l,u,g){return ia(a),l=ig(s,a,l,u,void 0,g),u=sg(),s!==null&&!ze?(rg(s,a,g),es(s,a,g)):(Ft&&u&&Bd(a),a.flags|=1,Ye(s,a,l,g),a.child)}function Av(s,a,l,u,g,p){return ia(a),a.updateQueue=null,l=Sy(a,u,l,g),Ty(s),u=sg(),s!==null&&!ze?(rg(s,a,p),es(s,a,p)):(Ft&&u&&Bd(a),a.flags|=1,Ye(s,a,l,p),a.child)}function wv(s,a,l,u,g){if(ia(a),a.stateNode===null){var p=Za,T=l.contextType;typeof T=="object"&&T!==null&&(p=Je(T)),p=new l(u,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=vg,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=u,p.state=a.memoizedState,p.refs={},Wd(a),T=l.contextType,p.context=typeof T=="object"&&T!==null?Je(T):Za,p.state=a.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(yg(a,l,T,u),p.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&vg.enqueueReplaceState(p,p.state,null),Ul(a,u,p,g),Ll(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(s===null){p=a.stateNode;var S=a.memoizedProps,O=aa(l,S);p.props=O;var F=p.context,Q=l.contextType;T=Za,typeof Q=="object"&&Q!==null&&(T=Je(Q));var J=l.getDerivedStateFromProps;Q=typeof J=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=a.pendingProps!==S,Q||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||F!==T)&&hv(a,p,u,T),Ds=!1;var H=a.memoizedState;p.state=H,Ul(a,u,p,g),Ll(),F=a.memoizedState,S||H!==F||Ds?(typeof J=="function"&&(yg(a,l,J,u),F=a.memoizedState),(O=Ds||uv(a,l,O,u,H,F,T))?(Q||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=F),p.props=u,p.state=F,p.context=T,u=O):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{p=a.stateNode,$d(s,a),T=a.memoizedProps,Q=aa(l,T),p.props=Q,J=a.pendingProps,H=p.context,F=l.contextType,O=Za,typeof F=="object"&&F!==null&&(O=Je(F)),S=l.getDerivedStateFromProps,(F=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==J||H!==O)&&hv(a,p,u,O),Ds=!1,H=a.memoizedState,p.state=H,Ul(a,u,p,g),Ll();var q=a.memoizedState;T!==J||H!==q||Ds||s!==null&&s.dependencies!==null&&ju(s.dependencies)?(typeof S=="function"&&(yg(a,l,S,u),q=a.memoizedState),(Q=Ds||uv(a,l,Q,u,H,q,O)||s!==null&&s.dependencies!==null&&ju(s.dependencies))?(F||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,q,O),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,q,O)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===s.memoizedProps&&H===s.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&H===s.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=q),p.props=u,p.state=q,p.context=O,u=Q):(typeof p.componentDidUpdate!="function"||T===s.memoizedProps&&H===s.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&H===s.memoizedState||(a.flags|=1024),u=!1)}return p=u,ah(s,a),u=(a.flags&128)!==0,p||u?(p=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,s!==null&&u?(a.child=lo(a,s.child,null,g),a.child=lo(a,null,l,g)):Ye(s,a,l,g),a.memoizedState=p.state,s=a.child):s=es(s,a,g),s}function xv(s,a,l,u){return Cl(),a.flags|=256,Ye(s,a,l,u),a.child}var Tg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sg(s){return{baseLanes:s,cachePool:dy()}}function Ag(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=jn),s}function Rv(s,a,l){var u=a.pendingProps,g=!1,p=(a.flags&128)!==0,T;if((T=p)||(T=s!==null&&s.memoizedState===null?!1:(ke.current&2)!==0),T&&(g=!0,a.flags&=-129),T=(a.flags&32)!==0,a.flags&=-33,s===null){if(Ft){if(g?Ns(a):Ps(),Ft){var S=ge,O;if(O=S){t:{for(O=S,S=vi;O.nodeType!==8;){if(!S){S=null;break t}if(O=Zn(O.nextSibling),O===null){S=null;break t}}S=O}S!==null?(a.memoizedState={dehydrated:S,treeContext:Zr!==null?{id:Xi,overflow:Wi}:null,retryLane:536870912,hydrationErrors:null},O=Tn(18,null,null,0),O.stateNode=S,O.return=a,a.child=O,cn=a,ge=null,O=!0):O=!1}O||ea(a)}if(S=a.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return om(S)?a.lanes=32:a.lanes=536870912,null;ts(a)}return S=u.children,u=u.fallback,g?(Ps(),g=a.mode,S=oh({mode:"hidden",children:S},g),u=$r(u,g,l,null),S.return=a,u.return=a,S.sibling=u,a.child=S,g=a.child,g.memoizedState=Sg(l),g.childLanes=Ag(s,T,l),a.memoizedState=Tg,u):(Ns(a),wg(a,S))}if(O=s.memoizedState,O!==null&&(S=O.dehydrated,S!==null)){if(p)a.flags&256?(Ns(a),a.flags&=-257,a=xg(s,a,l)):a.memoizedState!==null?(Ps(),a.child=s.child,a.flags|=128,a=null):(Ps(),g=u.fallback,S=a.mode,u=oh({mode:"visible",children:u.children},S),g=$r(g,S,l,null),g.flags|=2,u.return=a,g.return=a,u.sibling=g,a.child=u,lo(a,s.child,null,l),u=a.child,u.memoizedState=Sg(l),u.childLanes=Ag(s,T,l),a.memoizedState=Tg,a=g);else if(Ns(a),om(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var F=T.dgst;T=F,u=Error(i(419)),u.stack="",u.digest=T,Dl({value:u,source:null,stack:null}),a=xg(s,a,l)}else if(ze||Ol(s,a,l,!1),T=(l&s.childLanes)!==0,ze||T){if(T=re,T!==null&&(u=l&-l,u=(u&42)!==0?1:Ts(u),u=(u&(T.suspendedLanes|l))!==0?0:u,u!==0&&u!==O.retryLane))throw O.retryLane=u,$a(s,u),Rn(T,s,u),yv;S.data==="$?"||qg(),a=xg(s,a,l)}else S.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=O.treeContext,ge=Zn(S.nextSibling),cn=a,Ft=!0,ta=null,vi=!1,s!==null&&(Un[zn++]=Xi,Un[zn++]=Wi,Un[zn++]=Zr,Xi=s.id,Wi=s.overflow,Zr=a),a=wg(a,u.children),a.flags|=4096);return a}return g?(Ps(),g=u.fallback,S=a.mode,O=s.child,F=O.sibling,u=Qi(O,{mode:"hidden",children:u.children}),u.subtreeFlags=O.subtreeFlags&65011712,F!==null?g=Qi(F,g):(g=$r(g,S,l,null),g.flags|=2),g.return=a,u.return=a,u.sibling=g,a.child=u,u=g,g=a.child,S=s.child.memoizedState,S===null?S=Sg(l):(O=S.cachePool,O!==null?(F=Me._currentValue,O=O.parent!==F?{parent:F,pool:F}:O):O=dy(),S={baseLanes:S.baseLanes|l,cachePool:O}),g.memoizedState=S,g.childLanes=Ag(s,T,l),a.memoizedState=Tg,u):(Ns(a),l=s.child,s=l.sibling,l=Qi(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,s!==null&&(T=a.deletions,T===null?(a.deletions=[s],a.flags|=16):T.push(s)),a.child=l,a.memoizedState=null,l)}function wg(s,a){return a=oh({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function oh(s,a){return s=Tn(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function xg(s,a,l){return lo(a,s.child,null,l),s=wg(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function Iv(s,a,l){s.lanes|=a;var u=s.alternate;u!==null&&(u.lanes|=a),qd(s.return,a,l)}function Rg(s,a,l,u,g){var p=s.memoizedState;p===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:g}:(p.isBackwards=a,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=l,p.tailMode=g)}function Cv(s,a,l){var u=a.pendingProps,g=u.revealOrder,p=u.tail;if(Ye(s,a,u.children,l),u=ke.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Iv(s,l,a);else if(s.tag===19)Iv(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}u&=1}switch(rt(ke,u),g){case"forwards":for(l=a.child,g=null;l!==null;)s=l.alternate,s!==null&&ih(s)===null&&(g=l),l=l.sibling;l=g,l===null?(g=a.child,a.child=null):(g=l.sibling,l.sibling=null),Rg(a,!1,g,l,p);break;case"backwards":for(l=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&ih(s)===null){a.child=g;break}s=g.sibling,g.sibling=l,l=g,g=s}Rg(a,!0,l,null,p);break;case"together":Rg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function es(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),Bs|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(Ol(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,l=Qi(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=Qi(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function Ig(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&ju(s)))}function Q1(s,a,l){switch(a.tag){case 3:se(a,a.stateNode.containerInfo),Cs(a,Me,s.memoizedState.cache),Cl();break;case 27:case 5:Es(a);break;case 4:se(a,a.stateNode.containerInfo);break;case 10:Cs(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(Ns(a),a.flags|=128,null):(l&a.child.childLanes)!==0?Rv(s,a,l):(Ns(a),s=es(s,a,l),s!==null?s.sibling:null);Ns(a);break;case 19:var g=(s.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(Ol(s,a,l,!1),u=(l&a.childLanes)!==0),g){if(u)return Cv(s,a,l);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),rt(ke,ke.current),u)break;return null;case 22:case 23:return a.lanes=0,Tv(s,a,l);case 24:Cs(a,Me,s.memoizedState.cache)}return es(s,a,l)}function Dv(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)ze=!0;else{if(!Ig(s,l)&&(a.flags&128)===0)return ze=!1,Q1(s,a,l);ze=(s.flags&131072)!==0}else ze=!1,Ft&&(a.flags&1048576)!==0&&ay(a,Bu,a.index);switch(a.lanes=0,a.tag){case 16:t:{s=a.pendingProps;var u=a.elementType,g=u._init;if(u=g(u._payload),a.type=u,typeof u=="function")Ld(u)?(s=aa(u,s),a.tag=1,a=wv(null,a,u,s,l)):(a.tag=0,a=Eg(null,a,u,s,l));else{if(u!=null){if(g=u.$$typeof,g===it){a.tag=11,a=vv(null,a,u,s,l);break t}else if(g===C){a.tag=14,a=bv(null,a,u,s,l);break t}}throw a=$t(u)||u,Error(i(306,a,""))}}return a;case 0:return Eg(s,a,a.type,a.pendingProps,l);case 1:return u=a.type,g=aa(u,a.pendingProps),wv(s,a,u,g,l);case 3:t:{if(se(a,a.stateNode.containerInfo),s===null)throw Error(i(387));u=a.pendingProps;var p=a.memoizedState;g=p.element,$d(s,a),Ul(a,u,null,l);var T=a.memoizedState;if(u=T.cache,Cs(a,Me,u),u!==p.cache&&Gd(a,[Me],l,!0),Ll(),u=T.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:T.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=xv(s,a,u,l);break t}else if(u!==g){g=Vn(Error(i(424)),a),Dl(g),a=xv(s,a,u,l);break t}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(ge=Zn(s.firstChild),cn=a,Ft=!0,ta=null,vi=!0,l=lv(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Cl(),u===g){a=es(s,a,l);break t}Ye(s,a,u,l)}a=a.child}return a;case 26:return ah(s,a),s===null?(l=N0(a.type,null,a.pendingProps,null))?a.memoizedState=l:Ft||(l=a.type,s=a.pendingProps,u=Eh(_t.current).createElement(l),u[Ce]=a,u[Te]=s,Qe(u,l,s),pe(u),a.stateNode=u):a.memoizedState=N0(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Es(a),s===null&&Ft&&(u=a.stateNode=O0(a.type,a.pendingProps,_t.current),cn=a,vi=!0,g=ge,qs(a.type)?(lm=g,ge=Zn(u.firstChild)):ge=g),Ye(s,a,a.pendingProps.children,l),ah(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Ft&&((g=u=ge)&&(u=Tx(u,a.type,a.pendingProps,vi),u!==null?(a.stateNode=u,cn=a,ge=Zn(u.firstChild),vi=!1,g=!0):g=!1),g||ea(a)),Es(a),g=a.type,p=a.pendingProps,T=s!==null?s.memoizedProps:null,u=p.children,sm(g,p)?u=null:T!==null&&sm(g,T)&&(a.flags|=32),a.memoizedState!==null&&(g=ig(s,a,B1,null,null,l),ac._currentValue=g),ah(s,a),Ye(s,a,u,l),a.child;case 6:return s===null&&Ft&&((s=l=ge)&&(l=Sx(l,a.pendingProps,vi),l!==null?(a.stateNode=l,cn=a,ge=null,s=!0):s=!1),s||ea(a)),null;case 13:return Rv(s,a,l);case 4:return se(a,a.stateNode.containerInfo),u=a.pendingProps,s===null?a.child=lo(a,null,u,l):Ye(s,a,u,l),a.child;case 11:return vv(s,a,a.type,a.pendingProps,l);case 7:return Ye(s,a,a.pendingProps,l),a.child;case 8:return Ye(s,a,a.pendingProps.children,l),a.child;case 12:return Ye(s,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,Cs(a,a.type,u.value),Ye(s,a,u.children,l),a.child;case 9:return g=a.type._context,u=a.pendingProps.children,ia(a),g=Je(g),u=u(g),a.flags|=1,Ye(s,a,u,l),a.child;case 14:return bv(s,a,a.type,a.pendingProps,l);case 15:return Ev(s,a,a.type,a.pendingProps,l);case 19:return Cv(s,a,l);case 31:return u=a.pendingProps,l=a.mode,u={mode:u.mode,children:u.children},s===null?(l=oh(u,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=Qi(s.child,u),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return Tv(s,a,l);case 24:return ia(a),u=Je(Me),s===null?(g=Qd(),g===null&&(g=re,p=Yd(),g.pooledCache=p,p.refCount++,p!==null&&(g.pooledCacheLanes|=l),g=p),a.memoizedState={parent:u,cache:g},Wd(a),Cs(a,Me,g)):((s.lanes&l)!==0&&($d(s,a),Ul(a,null,null,l),Ll()),g=s.memoizedState,p=a.memoizedState,g.parent!==u?(g={parent:u,cache:u},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),Cs(a,Me,u)):(u=p.cache,Cs(a,Me,u),u!==g.cache&&Gd(a,[Me],l,!0))),Ye(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function ns(s){s.flags|=4}function Ov(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!z0(a)){if(a=Bn.current,a!==null&&((Ut&4194048)===Ut?bi!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||a!==bi))throw Pl=Xd,gy;s.flags|=8192}}function lh(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?ll():536870912,s.lanes|=a,fo|=a)}function Gl(s,a){if(!Ft)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function he(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(a)for(var g=s.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=u,s.childLanes=l,a}function X1(s,a,l){var u=a.pendingProps;switch(jd(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(a),null;case 1:return he(a),null;case 3:return l=a.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Zi(Me),oi(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Il(a)?ns(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,cy())),he(a),null;case 26:return l=a.memoizedState,s===null?(ns(a),l!==null?(he(a),Ov(a,l)):(he(a),a.flags&=-16777217)):l?l!==s.memoizedState?(ns(a),he(a),Ov(a,l)):(he(a),a.flags&=-16777217):(s.memoizedProps!==u&&ns(a),he(a),a.flags&=-16777217),null;case 27:Pi(a),l=_t.current;var g=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==u&&ns(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return he(a),null}s=dt.current,Il(a)?oy(a):(s=O0(g,u,l),a.stateNode=s,ns(a))}return he(a),null;case 5:if(Pi(a),l=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&ns(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return he(a),null}if(s=dt.current,Il(a))oy(a);else{switch(g=Eh(_t.current),s){case 1:s=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=g.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof u.is=="string"?g.createElement("select",{is:u.is}):g.createElement("select"),u.multiple?s.multiple=!0:u.size&&(s.size=u.size);break;default:s=typeof u.is=="string"?g.createElement(l,{is:u.is}):g.createElement(l)}}s[Ce]=a,s[Te]=u;t:for(g=a.child;g!==null;){if(g.tag===5||g.tag===6)s.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===a)break t;for(;g.sibling===null;){if(g.return===null||g.return===a)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}a.stateNode=s;t:switch(Qe(s,l,u),l){case"button":case"input":case"select":case"textarea":s=!!u.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&ns(a)}}return he(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==u&&ns(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(s=_t.current,Il(a)){if(s=a.stateNode,l=a.memoizedProps,u=null,g=cn,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}s[Ce]=a,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||A0(s.nodeValue,l)),s||ea(a)}else s=Eh(s).createTextNode(u),s[Ce]=a,a.stateNode=s}return he(a),null;case 13:if(u=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=Il(a),u!==null&&u.dehydrated!==null){if(s===null){if(!g)throw Error(i(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Ce]=a}else Cl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;he(a),g=!1}else g=cy(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(ts(a),a):(ts(a),null)}if(ts(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=u!==null,s=s!==null&&s.memoizedState!==null,l){u=a.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==g&&(u.flags|=2048)}return l!==s&&l&&(a.child.flags|=8192),lh(a,a.updateQueue),he(a),null;case 4:return oi(),s===null&&Jg(a.stateNode.containerInfo),he(a),null;case 10:return Zi(a.type),he(a),null;case 19:if(ct(ke),g=a.memoizedState,g===null)return he(a),null;if(u=(a.flags&128)!==0,p=g.rendering,p===null)if(u)Gl(g,!1);else{if(me!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(p=ih(s),p!==null){for(a.flags|=128,Gl(g,!1),s=p.updateQueue,a.updateQueue=s,lh(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)ry(l,s),l=l.sibling;return rt(ke,ke.current&1|2),a.child}s=s.sibling}g.tail!==null&&Dn()>hh&&(a.flags|=128,u=!0,Gl(g,!1),a.lanes=4194304)}else{if(!u)if(s=ih(p),s!==null){if(a.flags|=128,u=!0,s=s.updateQueue,a.updateQueue=s,lh(a,s),Gl(g,!0),g.tail===null&&g.tailMode==="hidden"&&!p.alternate&&!Ft)return he(a),null}else 2*Dn()-g.renderingStartTime>hh&&l!==536870912&&(a.flags|=128,u=!0,Gl(g,!1),a.lanes=4194304);g.isBackwards?(p.sibling=a.child,a.child=p):(s=g.last,s!==null?s.sibling=p:a.child=p,g.last=p)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=Dn(),a.sibling=null,s=ke.current,rt(ke,u?s&1|2:s&1),a):(he(a),null);case 22:case 23:return ts(a),eg(),u=a.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(he(a),a.subtreeFlags&6&&(a.flags|=8192)):he(a),l=a.updateQueue,l!==null&&lh(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),s!==null&&ct(sa),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Zi(Me),he(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function W1(s,a){switch(jd(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Zi(Me),oi(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Pi(a),null;case 13:if(ts(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Cl()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return ct(ke),null;case 4:return oi(),null;case 10:return Zi(a.type),null;case 22:case 23:return ts(a),eg(),s!==null&&ct(sa),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return Zi(Me),null;case 25:return null;default:return null}}function Mv(s,a){switch(jd(a),a.tag){case 3:Zi(Me),oi();break;case 26:case 27:case 5:Pi(a);break;case 4:oi();break;case 13:ts(a);break;case 19:ct(ke);break;case 10:Zi(a.type);break;case 22:case 23:ts(a),eg(),s!==null&&ct(sa);break;case 24:Zi(Me)}}function Yl(s,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var g=u.next;l=g;do{if((l.tag&s)===s){u=void 0;var p=l.create,T=l.inst;u=p(),T.destroy=u}l=l.next}while(l!==g)}}catch(S){ne(a,a.return,S)}}function Vs(s,a,l){try{var u=a.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var p=g.next;u=p;do{if((u.tag&s)===s){var T=u.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,g=a;var O=l,F=S;try{F()}catch(Q){ne(g,O,Q)}}}u=u.next}while(u!==p)}}catch(Q){ne(a,a.return,Q)}}function kv(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{by(a,l)}catch(u){ne(s,s.return,u)}}}function Nv(s,a,l){l.props=aa(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){ne(s,a,u)}}function Kl(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(g){ne(s,a,g)}}function Ei(s,a){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(g){ne(s,a,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){ne(s,a,g)}else l.current=null}function Pv(s){var a=s.type,l=s.memoizedProps,u=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(g){ne(s,s.return,g)}}function Cg(s,a,l){try{var u=s.stateNode;_x(u,s.type,l,a),u[Te]=a}catch(g){ne(s,s.return,g)}}function Vv(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&qs(s.type)||s.tag===4}function Dg(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||Vv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&qs(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Og(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=bh));else if(u!==4&&(u===27&&qs(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(Og(s,a,l),s=s.sibling;s!==null;)Og(s,a,l),s=s.sibling}function ch(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(u!==4&&(u===27&&qs(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(ch(s,a,l),s=s.sibling;s!==null;)ch(s,a,l),s=s.sibling}function Lv(s){var a=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);Qe(a,u,l),a[Ce]=s,a[Te]=l}catch(p){ne(s,s.return,p)}}var is=!1,ye=!1,Mg=!1,Uv=typeof WeakSet=="function"?WeakSet:Set,Be=null;function $1(s,a){if(s=s.containerInfo,nm=Rh,s=X_(s),Dd(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var g=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break t}var T=0,S=-1,O=-1,F=0,Q=0,J=s,H=null;e:for(;;){for(var q;J!==l||g!==0&&J.nodeType!==3||(S=T+g),J!==p||u!==0&&J.nodeType!==3||(O=T+u),J.nodeType===3&&(T+=J.nodeValue.length),(q=J.firstChild)!==null;)H=J,J=q;for(;;){if(J===s)break e;if(H===l&&++F===g&&(S=T),H===p&&++Q===u&&(O=T),(q=J.nextSibling)!==null)break;J=H,H=J.parentNode}J=q}l=S===-1||O===-1?null:{start:S,end:O}}else l=null}l=l||{start:0,end:0}}else l=null;for(im={focusedElem:s,selectionRange:l},Rh=!1,Be=a;Be!==null;)if(a=Be,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,Be=s;else for(;Be!==null;){switch(a=Be,p=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&p!==null){s=void 0,l=a,g=p.memoizedProps,p=p.memoizedState,u=l.stateNode;try{var Tt=aa(l.type,g,l.elementType===l.type);s=u.getSnapshotBeforeUpdate(Tt,p),u.__reactInternalSnapshotBeforeUpdate=s}catch(yt){ne(l,l.return,yt)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)am(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":am(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,Be=s;break}Be=a.return}}function zv(s,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Ls(s,l),u&4&&Yl(5,l);break;case 1:if(Ls(s,l),u&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(T){ne(l,l.return,T)}else{var g=aa(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(g,a,s.__reactInternalSnapshotBeforeUpdate)}catch(T){ne(l,l.return,T)}}u&64&&kv(l),u&512&&Kl(l,l.return);break;case 3:if(Ls(s,l),u&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{by(s,a)}catch(T){ne(l,l.return,T)}}break;case 27:a===null&&u&4&&Lv(l);case 26:case 5:Ls(s,l),a===null&&u&4&&Pv(l),u&512&&Kl(l,l.return);break;case 12:Ls(s,l);break;case 13:Ls(s,l),u&4&&Fv(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=ax.bind(null,l),Ax(s,l))));break;case 22:if(u=l.memoizedState!==null||is,!u){a=a!==null&&a.memoizedState!==null||ye,g=is;var p=ye;is=u,(ye=a)&&!p?Us(s,l,(l.subtreeFlags&8772)!==0):Ls(s,l),is=g,ye=p}break;case 30:break;default:Ls(s,l)}}function Bv(s){var a=s.alternate;a!==null&&(s.alternate=null,Bv(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&ws(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var ue=null,hn=!1;function ss(s,a,l){for(l=l.child;l!==null;)jv(s,a,l),l=l.sibling}function jv(s,a,l){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(de,l)}catch{}switch(l.tag){case 26:ye||Ei(l,a),ss(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ye||Ei(l,a);var u=ue,g=hn;qs(l.type)&&(ue=l.stateNode,hn=!1),ss(s,a,l),nc(l.stateNode),ue=u,hn=g;break;case 5:ye||Ei(l,a);case 6:if(u=ue,g=hn,ue=null,ss(s,a,l),ue=u,hn=g,ue!==null)if(hn)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(l.stateNode)}catch(p){ne(l,a,p)}else try{ue.removeChild(l.stateNode)}catch(p){ne(l,a,p)}break;case 18:ue!==null&&(hn?(s=ue,C0(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),uc(s)):C0(ue,l.stateNode));break;case 4:u=ue,g=hn,ue=l.stateNode.containerInfo,hn=!0,ss(s,a,l),ue=u,hn=g;break;case 0:case 11:case 14:case 15:ye||Vs(2,l,a),ye||Vs(4,l,a),ss(s,a,l);break;case 1:ye||(Ei(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Nv(l,a,u)),ss(s,a,l);break;case 21:ss(s,a,l);break;case 22:ye=(u=ye)||l.memoizedState!==null,ss(s,a,l),ye=u;break;default:ss(s,a,l)}}function Fv(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{uc(s)}catch(l){ne(a,a.return,l)}}function Z1(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new Uv),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new Uv),a;default:throw Error(i(435,s.tag))}}function kg(s,a){var l=Z1(s);a.forEach(function(u){var g=ox.bind(null,s,u);l.has(u)||(l.add(u),u.then(g,g))})}function Sn(s,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var g=l[u],p=s,T=a,S=T;t:for(;S!==null;){switch(S.tag){case 27:if(qs(S.type)){ue=S.stateNode,hn=!1;break t}break;case 5:ue=S.stateNode,hn=!1;break t;case 3:case 4:ue=S.stateNode.containerInfo,hn=!0;break t}S=S.return}if(ue===null)throw Error(i(160));jv(p,T,g),ue=null,hn=!1,p=g.alternate,p!==null&&(p.return=null),g.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Hv(a,s),a=a.sibling}var $n=null;function Hv(s,a){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Sn(a,s),An(s),u&4&&(Vs(3,s,s.return),Yl(3,s),Vs(5,s,s.return));break;case 1:Sn(a,s),An(s),u&512&&(ye||l===null||Ei(l,l.return)),u&64&&is&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var g=$n;if(Sn(a,s),An(s),u&512&&(ye||l===null||Ei(l,l.return)),u&4){var p=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){t:{u=s.type,l=s.memoizedProps,g=g.ownerDocument||g;e:switch(u){case"title":p=g.getElementsByTagName("title")[0],(!p||p[Pr]||p[Ce]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=g.createElement(u),g.head.insertBefore(p,g.querySelector("head > title"))),Qe(p,u,l),p[Ce]=s,pe(p),u=p;break t;case"link":var T=L0("link","href",g).get(u+(l.href||""));if(T){for(var S=0;S<T.length;S++)if(p=T[S],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(S,1);break e}}p=g.createElement(u),Qe(p,u,l),g.head.appendChild(p);break;case"meta":if(T=L0("meta","content",g).get(u+(l.content||""))){for(S=0;S<T.length;S++)if(p=T[S],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(S,1);break e}}p=g.createElement(u),Qe(p,u,l),g.head.appendChild(p);break;default:throw Error(i(468,u))}p[Ce]=s,pe(p),u=p}s.stateNode=u}else U0(g,s.type,s.stateNode);else s.stateNode=V0(g,u,s.memoizedProps);else p!==u?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,u===null?U0(g,s.type,s.stateNode):V0(g,u,s.memoizedProps)):u===null&&s.stateNode!==null&&Cg(s,s.memoizedProps,l.memoizedProps)}break;case 27:Sn(a,s),An(s),u&512&&(ye||l===null||Ei(l,l.return)),l!==null&&u&4&&Cg(s,s.memoizedProps,l.memoizedProps);break;case 5:if(Sn(a,s),An(s),u&512&&(ye||l===null||Ei(l,l.return)),s.flags&32){g=s.stateNode;try{Mn(g,"")}catch(q){ne(s,s.return,q)}}u&4&&s.stateNode!=null&&(g=s.memoizedProps,Cg(s,g,l!==null?l.memoizedProps:g)),u&1024&&(Mg=!0);break;case 6:if(Sn(a,s),An(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(q){ne(s,s.return,q)}}break;case 3:if(Ah=null,g=$n,$n=Th(a.containerInfo),Sn(a,s),$n=g,An(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{uc(a.containerInfo)}catch(q){ne(s,s.return,q)}Mg&&(Mg=!1,qv(s));break;case 4:u=$n,$n=Th(s.stateNode.containerInfo),Sn(a,s),An(s),$n=u;break;case 12:Sn(a,s),An(s);break;case 13:Sn(a,s),An(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(zg=Dn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,kg(s,u)));break;case 22:g=s.memoizedState!==null;var O=l!==null&&l.memoizedState!==null,F=is,Q=ye;if(is=F||g,ye=Q||O,Sn(a,s),ye=Q,is=F,An(s),u&8192)t:for(a=s.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(l===null||O||is||ye||oa(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){O=l=a;try{if(p=O.stateNode,g)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=O.stateNode;var J=O.memoizedProps.style,H=J!=null&&J.hasOwnProperty("display")?J.display:null;S.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(q){ne(O,O.return,q)}}}else if(a.tag===6){if(l===null){O=a;try{O.stateNode.nodeValue=g?"":O.memoizedProps}catch(q){ne(O,O.return,q)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,kg(s,l))));break;case 19:Sn(a,s),An(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,kg(s,u)));break;case 30:break;case 21:break;default:Sn(a,s),An(s)}}function An(s){var a=s.flags;if(a&2){try{for(var l,u=s.return;u!==null;){if(Vv(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var g=l.stateNode,p=Dg(s);ch(s,p,g);break;case 5:var T=l.stateNode;l.flags&32&&(Mn(T,""),l.flags&=-33);var S=Dg(s);ch(s,S,T);break;case 3:case 4:var O=l.stateNode.containerInfo,F=Dg(s);Og(s,F,O);break;default:throw Error(i(161))}}catch(Q){ne(s,s.return,Q)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function qv(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;qv(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function Ls(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)zv(s,a.alternate,a),a=a.sibling}function oa(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Vs(4,a,a.return),oa(a);break;case 1:Ei(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&Nv(a,a.return,l),oa(a);break;case 27:nc(a.stateNode);case 26:case 5:Ei(a,a.return),oa(a);break;case 22:a.memoizedState===null&&oa(a);break;case 30:oa(a);break;default:oa(a)}s=s.sibling}}function Us(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,g=s,p=a,T=p.flags;switch(p.tag){case 0:case 11:case 15:Us(g,p,l),Yl(4,p);break;case 1:if(Us(g,p,l),u=p,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(F){ne(u,u.return,F)}if(u=p,g=u.updateQueue,g!==null){var S=u.stateNode;try{var O=g.shared.hiddenCallbacks;if(O!==null)for(g.shared.hiddenCallbacks=null,g=0;g<O.length;g++)vy(O[g],S)}catch(F){ne(u,u.return,F)}}l&&T&64&&kv(p),Kl(p,p.return);break;case 27:Lv(p);case 26:case 5:Us(g,p,l),l&&u===null&&T&4&&Pv(p),Kl(p,p.return);break;case 12:Us(g,p,l);break;case 13:Us(g,p,l),l&&T&4&&Fv(g,p);break;case 22:p.memoizedState===null&&Us(g,p,l),Kl(p,p.return);break;case 30:break;default:Us(g,p,l)}a=a.sibling}}function Ng(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Ml(l))}function Pg(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Ml(s))}function Ti(s,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Gv(s,a,l,u),a=a.sibling}function Gv(s,a,l,u){var g=a.flags;switch(a.tag){case 0:case 11:case 15:Ti(s,a,l,u),g&2048&&Yl(9,a);break;case 1:Ti(s,a,l,u);break;case 3:Ti(s,a,l,u),g&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Ml(s)));break;case 12:if(g&2048){Ti(s,a,l,u),s=a.stateNode;try{var p=a.memoizedProps,T=p.id,S=p.onPostCommit;typeof S=="function"&&S(T,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(O){ne(a,a.return,O)}}else Ti(s,a,l,u);break;case 13:Ti(s,a,l,u);break;case 23:break;case 22:p=a.stateNode,T=a.alternate,a.memoizedState!==null?p._visibility&2?Ti(s,a,l,u):Ql(s,a):p._visibility&2?Ti(s,a,l,u):(p._visibility|=2,co(s,a,l,u,(a.subtreeFlags&10256)!==0)),g&2048&&Ng(T,a);break;case 24:Ti(s,a,l,u),g&2048&&Pg(a.alternate,a);break;default:Ti(s,a,l,u)}}function co(s,a,l,u,g){for(g=g&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var p=s,T=a,S=l,O=u,F=T.flags;switch(T.tag){case 0:case 11:case 15:co(p,T,S,O,g),Yl(8,T);break;case 23:break;case 22:var Q=T.stateNode;T.memoizedState!==null?Q._visibility&2?co(p,T,S,O,g):Ql(p,T):(Q._visibility|=2,co(p,T,S,O,g)),g&&F&2048&&Ng(T.alternate,T);break;case 24:co(p,T,S,O,g),g&&F&2048&&Pg(T.alternate,T);break;default:co(p,T,S,O,g)}a=a.sibling}}function Ql(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,u=a,g=u.flags;switch(u.tag){case 22:Ql(l,u),g&2048&&Ng(u.alternate,u);break;case 24:Ql(l,u),g&2048&&Pg(u.alternate,u);break;default:Ql(l,u)}a=a.sibling}}var Xl=8192;function uo(s){if(s.subtreeFlags&Xl)for(s=s.child;s!==null;)Yv(s),s=s.sibling}function Yv(s){switch(s.tag){case 26:uo(s),s.flags&Xl&&s.memoizedState!==null&&Lx($n,s.memoizedState,s.memoizedProps);break;case 5:uo(s);break;case 3:case 4:var a=$n;$n=Th(s.stateNode.containerInfo),uo(s),$n=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=Xl,Xl=16777216,uo(s),Xl=a):uo(s));break;default:uo(s)}}function Kv(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Wl(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Be=u,Xv(u,s)}Kv(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Qv(s),s=s.sibling}function Qv(s){switch(s.tag){case 0:case 11:case 15:Wl(s),s.flags&2048&&Vs(9,s,s.return);break;case 3:Wl(s);break;case 12:Wl(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,uh(s)):Wl(s);break;default:Wl(s)}}function uh(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Be=u,Xv(u,s)}Kv(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Vs(8,a,a.return),uh(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,uh(a));break;default:uh(a)}s=s.sibling}}function Xv(s,a){for(;Be!==null;){var l=Be;switch(l.tag){case 0:case 11:case 15:Vs(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ml(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Be=u;else t:for(l=s;Be!==null;){u=Be;var g=u.sibling,p=u.return;if(Bv(u),u===l){Be=null;break t}if(g!==null){g.return=p,Be=g;break t}Be=p}}}var J1={getCacheForType:function(s){var a=Je(Me),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l}},tx=typeof WeakMap=="function"?WeakMap:Map,Qt=0,re=null,Ot=null,Ut=0,Xt=0,wn=null,zs=!1,ho=!1,Vg=!1,rs=0,me=0,Bs=0,la=0,Lg=0,jn=0,fo=0,$l=null,fn=null,Ug=!1,zg=0,hh=1/0,fh=null,js=null,Ke=0,Fs=null,go=null,mo=0,Bg=0,jg=null,Wv=null,Zl=0,Fg=null;function xn(){if((Qt&2)!==0&&Ut!==0)return Ut&-Ut;if(Y.T!==null){var s=eo;return s!==0?s:Xg()}return Ss()}function $v(){jn===0&&(jn=(Ut&536870912)===0||Ft?ol():536870912);var s=Bn.current;return s!==null&&(s.flags|=32),jn}function Rn(s,a,l){(s===re&&(Xt===2||Xt===9)||s.cancelPendingCommit!==null)&&(po(s,0),Hs(s,Ut,jn,!1)),Li(s,l),((Qt&2)===0||s!==re)&&(s===re&&((Qt&2)===0&&(la|=l),me===4&&Hs(s,Ut,jn,!1)),Si(s))}function Zv(s,a,l){if((Qt&6)!==0)throw Error(i(327));var u=!l&&(a&124)===0&&(a&s.expiredLanes)===0||Nr(s,a),g=u?ix(s,a):Gg(s,a,!0),p=u;do{if(g===0){ho&&!u&&Hs(s,a,0,!1);break}else{if(l=s.current.alternate,p&&!ex(l)){g=Gg(s,a,!1),p=!1;continue}if(g===2){if(p=a,s.errorRecoveryDisabledLanes&p)var T=0;else T=s.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){a=T;t:{var S=s;g=$l;var O=S.current.memoizedState.isDehydrated;if(O&&(po(S,T).flags|=256),T=Gg(S,T,!1),T!==2){if(Vg&&!O){S.errorRecoveryDisabledLanes|=p,la|=p,g=4;break t}p=fn,fn=g,p!==null&&(fn===null?fn=p:fn.push.apply(fn,p))}g=T}if(p=!1,g!==2)continue}}if(g===1){po(s,0),Hs(s,a,0,!0);break}t:{switch(u=s,p=g,p){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Hs(u,a,jn,!zs);break t;case 2:fn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(g=zg+300-Dn(),10<g)){if(Hs(u,a,jn,!zs),Ma(u,0,!0)!==0)break t;u.timeoutHandle=R0(Jv.bind(null,u,l,fn,fh,Ug,a,jn,la,fo,zs,p,2,-0,0),g);break t}Jv(u,l,fn,fh,Ug,a,jn,la,fo,zs,p,0,-0,0)}}break}while(!0);Si(s)}function Jv(s,a,l,u,g,p,T,S,O,F,Q,J,H,q){if(s.timeoutHandle=-1,J=a.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(rc={stylesheets:null,count:0,unsuspend:Vx},Yv(a),J=Ux(),J!==null)){s.cancelPendingCommit=J(a0.bind(null,s,a,p,l,u,g,T,S,O,Q,1,H,q)),Hs(s,p,T,!F);return}a0(s,a,p,l,u,g,T,S,O)}function ex(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var g=l[u],p=g.getSnapshot;g=g.value;try{if(!En(p(),g))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Hs(s,a,l,u){a&=~Lg,a&=~la,s.suspendedLanes|=a,s.pingedLanes&=~a,u&&(s.warmLanes|=a),u=s.expirationTimes;for(var g=a;0<g;){var p=31-Ze(g),T=1<<p;u[p]=-1,g&=~T}l!==0&&li(s,l,a)}function dh(){return(Qt&6)===0?(Jl(0),!1):!0}function Hg(){if(Ot!==null){if(Xt===0)var s=Ot.return;else s=Ot,$i=na=null,ag(s),oo=null,Hl=0,s=Ot;for(;s!==null;)Mv(s.alternate,s),s=s.return;Ot=null}}function po(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,vx(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Hg(),re=s,Ot=l=Qi(s.current,null),Ut=a,Xt=0,wn=null,zs=!1,ho=Nr(s,a),Vg=!1,fo=jn=Lg=la=Bs=me=0,fn=$l=null,Ug=!1,(a&8)!==0&&(a|=a&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=a;0<u;){var g=31-Ze(u),p=1<<g;a|=s[g],u&=~p}return rs=a,Pu(),l}function t0(s,a){It=null,Y.H=th,a===Nl||a===qu?(a=_y(),Xt=3):a===gy?(a=_y(),Xt=4):Xt=a===yv?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,wn=a,Ot===null&&(me=1,rh(s,Vn(a,s.current)))}function e0(){var s=Y.H;return Y.H=th,s===null?th:s}function n0(){var s=Y.A;return Y.A=J1,s}function qg(){me=4,zs||(Ut&4194048)!==Ut&&Bn.current!==null||(ho=!0),(Bs&134217727)===0&&(la&134217727)===0||re===null||Hs(re,Ut,jn,!1)}function Gg(s,a,l){var u=Qt;Qt|=2;var g=e0(),p=n0();(re!==s||Ut!==a)&&(fh=null,po(s,a)),a=!1;var T=me;t:do try{if(Xt!==0&&Ot!==null){var S=Ot,O=wn;switch(Xt){case 8:Hg(),T=6;break t;case 3:case 2:case 9:case 6:Bn.current===null&&(a=!0);var F=Xt;if(Xt=0,wn=null,_o(s,S,O,F),l&&ho){T=0;break t}break;default:F=Xt,Xt=0,wn=null,_o(s,S,O,F)}}nx(),T=me;break}catch(Q){t0(s,Q)}while(!0);return a&&s.shellSuspendCounter++,$i=na=null,Qt=u,Y.H=g,Y.A=p,Ot===null&&(re=null,Ut=0,Pu()),T}function nx(){for(;Ot!==null;)i0(Ot)}function ix(s,a){var l=Qt;Qt|=2;var u=e0(),g=n0();re!==s||Ut!==a?(fh=null,hh=Dn()+500,po(s,a)):ho=Nr(s,a);t:do try{if(Xt!==0&&Ot!==null){a=Ot;var p=wn;e:switch(Xt){case 1:Xt=0,wn=null,_o(s,a,p,1);break;case 2:case 9:if(my(p)){Xt=0,wn=null,s0(a);break}a=function(){Xt!==2&&Xt!==9||re!==s||(Xt=7),Si(s)},p.then(a,a);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:my(p)?(Xt=0,wn=null,s0(a)):(Xt=0,wn=null,_o(s,a,p,7));break;case 5:var T=null;switch(Ot.tag){case 26:T=Ot.memoizedState;case 5:case 27:var S=Ot;if(!T||z0(T)){Xt=0,wn=null;var O=S.sibling;if(O!==null)Ot=O;else{var F=S.return;F!==null?(Ot=F,gh(F)):Ot=null}break e}}Xt=0,wn=null,_o(s,a,p,5);break;case 6:Xt=0,wn=null,_o(s,a,p,6);break;case 8:Hg(),me=6;break t;default:throw Error(i(462))}}sx();break}catch(Q){t0(s,Q)}while(!0);return $i=na=null,Y.H=u,Y.A=g,Qt=l,Ot!==null?0:(re=null,Ut=0,Pu(),me)}function sx(){for(;Ot!==null&&!il();)i0(Ot)}function i0(s){var a=Dv(s.alternate,s,rs);s.memoizedProps=s.pendingProps,a===null?gh(s):Ot=a}function s0(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=Av(l,a,a.pendingProps,a.type,void 0,Ut);break;case 11:a=Av(l,a,a.pendingProps,a.type.render,a.ref,Ut);break;case 5:ag(a);default:Mv(l,a),a=Ot=ry(a,rs),a=Dv(l,a,rs)}s.memoizedProps=s.pendingProps,a===null?gh(s):Ot=a}function _o(s,a,l,u){$i=na=null,ag(a),oo=null,Hl=0;var g=a.return;try{if(K1(s,g,a,l,Ut)){me=1,rh(s,Vn(l,s.current)),Ot=null;return}}catch(p){if(g!==null)throw Ot=g,p;me=1,rh(s,Vn(l,s.current)),Ot=null;return}a.flags&32768?(Ft||u===1?s=!0:ho||(Ut&536870912)!==0?s=!1:(zs=s=!0,(u===2||u===9||u===3||u===6)&&(u=Bn.current,u!==null&&u.tag===13&&(u.flags|=16384))),r0(a,s)):gh(a)}function gh(s){var a=s;do{if((a.flags&32768)!==0){r0(a,zs);return}s=a.return;var l=X1(a.alternate,a,rs);if(l!==null){Ot=l;return}if(a=a.sibling,a!==null){Ot=a;return}Ot=a=s}while(a!==null);me===0&&(me=5)}function r0(s,a){do{var l=W1(s.alternate,s);if(l!==null){l.flags&=32767,Ot=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){Ot=s;return}Ot=s=l}while(s!==null);me=6,Ot=null}function a0(s,a,l,u,g,p,T,S,O){s.cancelPendingCommit=null;do mh();while(Ke!==0);if((Qt&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(p=a.lanes|a.childLanes,p|=Pd,cl(s,l,p,T,S,O),s===re&&(Ot=re=null,Ut=0),go=a,Fs=s,mo=l,Bg=p,jg=g,Wv=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,lx(Dr,function(){return h0(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=Y.T,Y.T=null,g=at.p,at.p=2,T=Qt,Qt|=4;try{$1(s,a,l)}finally{Qt=T,at.p=g,Y.T=u}}Ke=1,o0(),l0(),c0()}}function o0(){if(Ke===1){Ke=0;var s=Fs,a=go,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null;var u=at.p;at.p=2;var g=Qt;Qt|=4;try{Hv(a,s);var p=im,T=X_(s.containerInfo),S=p.focusedElem,O=p.selectionRange;if(T!==S&&S&&S.ownerDocument&&Q_(S.ownerDocument.documentElement,S)){if(O!==null&&Dd(S)){var F=O.start,Q=O.end;if(Q===void 0&&(Q=F),"selectionStart"in S)S.selectionStart=F,S.selectionEnd=Math.min(Q,S.value.length);else{var J=S.ownerDocument||document,H=J&&J.defaultView||window;if(H.getSelection){var q=H.getSelection(),Tt=S.textContent.length,yt=Math.min(O.start,Tt),ee=O.end===void 0?yt:Math.min(O.end,Tt);!q.extend&&yt>ee&&(T=ee,ee=yt,yt=T);var z=K_(S,yt),U=K_(S,ee);if(z&&U&&(q.rangeCount!==1||q.anchorNode!==z.node||q.anchorOffset!==z.offset||q.focusNode!==U.node||q.focusOffset!==U.offset)){var j=J.createRange();j.setStart(z.node,z.offset),q.removeAllRanges(),yt>ee?(q.addRange(j),q.extend(U.node,U.offset)):(j.setEnd(U.node,U.offset),q.addRange(j))}}}}for(J=[],q=S;q=q.parentNode;)q.nodeType===1&&J.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<J.length;S++){var $=J[S];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Rh=!!nm,im=nm=null}finally{Qt=g,at.p=u,Y.T=l}}s.current=a,Ke=2}}function l0(){if(Ke===2){Ke=0;var s=Fs,a=go,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=Y.T,Y.T=null;var u=at.p;at.p=2;var g=Qt;Qt|=4;try{zv(s,a.alternate,a)}finally{Qt=g,at.p=u,Y.T=l}}Ke=3}}function c0(){if(Ke===4||Ke===3){Ke=0,uu();var s=Fs,a=go,l=mo,u=Wv;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ke=5:(Ke=0,go=Fs=null,u0(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(js=null),ka(l),a=a.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(de,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=Y.T,g=at.p,at.p=2,Y.T=null;try{for(var p=s.onRecoverableError,T=0;T<u.length;T++){var S=u[T];p(S.value,{componentStack:S.stack})}}finally{Y.T=a,at.p=g}}(mo&3)!==0&&mh(),Si(s),g=s.pendingLanes,(l&4194090)!==0&&(g&42)!==0?s===Fg?Zl++:(Zl=0,Fg=s):Zl=0,Jl(0)}}function u0(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Ml(a)))}function mh(s){return o0(),l0(),c0(),h0()}function h0(){if(Ke!==5)return!1;var s=Fs,a=Bg;Bg=0;var l=ka(mo),u=Y.T,g=at.p;try{at.p=32>l?32:l,Y.T=null,l=jg,jg=null;var p=Fs,T=mo;if(Ke=0,go=Fs=null,mo=0,(Qt&6)!==0)throw Error(i(331));var S=Qt;if(Qt|=4,Qv(p.current),Gv(p,p.current,T,l),Qt=S,Jl(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(de,p)}catch{}return!0}finally{at.p=g,Y.T=u,u0(s,a)}}function f0(s,a,l){a=Vn(l,a),a=bg(s.stateNode,a,2),s=Ms(s,a,2),s!==null&&(Li(s,2),Si(s))}function ne(s,a,l){if(s.tag===3)f0(s,s,l);else for(;a!==null;){if(a.tag===3){f0(a,s,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(js===null||!js.has(u))){s=Vn(l,s),l=pv(2),u=Ms(a,l,2),u!==null&&(_v(l,u,a,s),Li(u,2),Si(u));break}}a=a.return}}function Yg(s,a,l){var u=s.pingCache;if(u===null){u=s.pingCache=new tx;var g=new Set;u.set(a,g)}else g=u.get(a),g===void 0&&(g=new Set,u.set(a,g));g.has(l)||(Vg=!0,g.add(l),s=rx.bind(null,s,a,l),a.then(s,s))}function rx(s,a,l){var u=s.pingCache;u!==null&&u.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,re===s&&(Ut&l)===l&&(me===4||me===3&&(Ut&62914560)===Ut&&300>Dn()-zg?(Qt&2)===0&&po(s,0):Lg|=l,fo===Ut&&(fo=0)),Si(s)}function d0(s,a){a===0&&(a=ll()),s=$a(s,a),s!==null&&(Li(s,a),Si(s))}function ax(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),d0(s,l)}function ox(s,a){var l=0;switch(s.tag){case 13:var u=s.stateNode,g=s.memoizedState;g!==null&&(l=g.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),d0(s,l)}function lx(s,a){return Ir(s,a)}var ph=null,yo=null,Kg=!1,_h=!1,Qg=!1,ca=0;function Si(s){s!==yo&&s.next===null&&(yo===null?ph=yo=s:yo=yo.next=s),_h=!0,Kg||(Kg=!0,ux())}function Jl(s,a){if(!Qg&&_h){Qg=!0;do for(var l=!1,u=ph;u!==null;){if(s!==0){var g=u.pendingLanes;if(g===0)var p=0;else{var T=u.suspendedLanes,S=u.pingedLanes;p=(1<<31-Ze(42|s)+1)-1,p&=g&~(T&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,_0(u,p))}else p=Ut,p=Ma(u,u===re?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||Nr(u,p)||(l=!0,_0(u,p));u=u.next}while(l);Qg=!1}}function cx(){g0()}function g0(){_h=Kg=!1;var s=0;ca!==0&&(yx()&&(s=ca),ca=0);for(var a=Dn(),l=null,u=ph;u!==null;){var g=u.next,p=m0(u,a);p===0?(u.next=null,l===null?ph=g:l.next=g,g===null&&(yo=l)):(l=u,(s!==0||(p&3)!==0)&&(_h=!0)),u=g}Jl(s)}function m0(s,a){for(var l=s.suspendedLanes,u=s.pingedLanes,g=s.expirationTimes,p=s.pendingLanes&-62914561;0<p;){var T=31-Ze(p),S=1<<T,O=g[T];O===-1?((S&l)===0||(S&u)!==0)&&(g[T]=al(S,a)):O<=a&&(s.expiredLanes|=S),p&=~S}if(a=re,l=Ut,l=Ma(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===a&&(Xt===2||Xt===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&Cr(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||Nr(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(u!==null&&Cr(u),ka(l)){case 2:case 8:l=Da;break;case 32:l=Dr;break;case 268435456:l=Oa;break;default:l=Dr}return u=p0.bind(null,s),l=Ir(l,u),s.callbackPriority=a,s.callbackNode=l,a}return u!==null&&u!==null&&Cr(u),s.callbackPriority=2,s.callbackNode=null,2}function p0(s,a){if(Ke!==0&&Ke!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(mh()&&s.callbackNode!==l)return null;var u=Ut;return u=Ma(s,s===re?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(Zv(s,u,a),m0(s,Dn()),s.callbackNode!=null&&s.callbackNode===l?p0.bind(null,s):null)}function _0(s,a){if(mh())return null;Zv(s,a,!0)}function ux(){bx(function(){(Qt&6)!==0?Ir(sl,cx):g0()})}function Xg(){return ca===0&&(ca=ol()),ca}function y0(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:za(""+s)}function v0(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function hx(s,a,l,u,g){if(a==="submit"&&l&&l.stateNode===g){var p=y0((g[Te]||null).action),T=u.submitter;T&&(a=(a=T[Te]||null)?y0(a.formAction):T.getAttribute("formAction"),a!==null&&(p=a,T=null));var S=new Ba("action","action",null,u,g);s.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ca!==0){var O=T?v0(g,T):new FormData(g);mg(l,{pending:!0,data:O,method:g.method,action:p},null,O)}}else typeof p=="function"&&(S.preventDefault(),O=T?v0(g,T):new FormData(g),mg(l,{pending:!0,data:O,method:g.method,action:p},p,O))},currentTarget:g}]})}}for(var Wg=0;Wg<Nd.length;Wg++){var $g=Nd[Wg],fx=$g.toLowerCase(),dx=$g[0].toUpperCase()+$g.slice(1);Wn(fx,"on"+dx)}Wn(Z_,"onAnimationEnd"),Wn(J_,"onAnimationIteration"),Wn(ty,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(D1,"onTransitionRun"),Wn(O1,"onTransitionStart"),Wn(M1,"onTransitionCancel"),Wn(ey,"onTransitionEnd"),zi("onMouseEnter",["mouseout","mouseover"]),zi("onMouseLeave",["mouseout","mouseover"]),zi("onPointerEnter",["pointerout","pointerover"]),zi("onPointerLeave",["pointerout","pointerover"]),Qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tc));function b0(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],g=u.event;u=u.listeners;t:{var p=void 0;if(a)for(var T=u.length-1;0<=T;T--){var S=u[T],O=S.instance,F=S.currentTarget;if(S=S.listener,O!==p&&g.isPropagationStopped())break t;p=S,g.currentTarget=F;try{p(g)}catch(Q){sh(Q)}g.currentTarget=null,p=O}else for(T=0;T<u.length;T++){if(S=u[T],O=S.instance,F=S.currentTarget,S=S.listener,O!==p&&g.isPropagationStopped())break t;p=S,g.currentTarget=F;try{p(g)}catch(Q){sh(Q)}g.currentTarget=null,p=O}}}}function Mt(s,a){var l=a[hl];l===void 0&&(l=a[hl]=new Set);var u=s+"__bubble";l.has(u)||(E0(a,s,2,!1),l.add(u))}function Zg(s,a,l){var u=0;a&&(u|=4),E0(l,s,u,a)}var yh="_reactListening"+Math.random().toString(36).slice(2);function Jg(s){if(!s[yh]){s[yh]=!0,fl.forEach(function(l){l!=="selectionchange"&&(gx.has(l)||Zg(l,!1,s),Zg(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[yh]||(a[yh]=!0,Zg("selectionchange",!1,a))}}function E0(s,a,l,u){switch(G0(a)){case 2:var g=jx;break;case 8:g=Fx;break;default:g=dm}l=g.bind(null,a,l,s),g=void 0,!Nn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),u?g!==void 0?s.addEventListener(a,l,{capture:!0,passive:g}):s.addEventListener(a,l,!0):g!==void 0?s.addEventListener(a,l,{passive:g}):s.addEventListener(a,l,!1)}function tm(s,a,l,u,g){var p=u;if((a&1)===0&&(a&2)===0&&u!==null)t:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var S=u.stateNode.containerInfo;if(S===g)break;if(T===4)for(T=u.return;T!==null;){var O=T.tag;if((O===3||O===4)&&T.stateNode.containerInfo===g)return;T=T.return}for(;S!==null;){if(T=Ui(S),T===null)return;if(O=T.tag,O===5||O===6||O===26||O===27){u=p=T;continue t}S=S.parentNode}}u=u.return}bu(function(){var F=p,Q=kn(l),J=[];t:{var H=ny.get(s);if(H!==void 0){var q=Ba,Tt=s;switch(s){case"keypress":if(gi(l)===0)break t;case"keydown":case"keyup":q=Ya;break;case"focusin":Tt="focus",q=Ha;break;case"focusout":Tt="blur",q=Ha;break;case"beforeblur":case"afterblur":q=Ha;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=xd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Iu;break;case Z_:case J_:case ty:q=qa;break;case ey:q=Du;break;case"scroll":case"scrollend":q=Eu;break;case"wheel":q=Ka;break;case"copy":case"cut":case"paste":q=Ga;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Al;break;case"toggle":case"beforetoggle":q=Mu}var yt=(a&4)!==0,ee=!yt&&(s==="scroll"||s==="scrollend"),z=yt?H!==null?H+"Capture":null:H;yt=[];for(var U=F,j;U!==null;){var $=U;if(j=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||j===null||z===null||($=Fr(U,z),$!=null&&yt.push(ec(U,$,j))),ee)break;U=U.return}0<yt.length&&(H=new q(H,Tt,null,l,Q),J.push({event:H,listeners:yt}))}}if((a&7)===0){t:{if(H=s==="mouseover"||s==="pointerover",q=s==="mouseout"||s==="pointerout",H&&l!==Fi&&(Tt=l.relatedTarget||l.fromElement)&&(Ui(Tt)||Tt[On]))break t;if((q||H)&&(H=Q.window===Q?Q:(H=Q.ownerDocument)?H.defaultView||H.parentWindow:window,q?(Tt=l.relatedTarget||l.toElement,q=F,Tt=Tt?Ui(Tt):null,Tt!==null&&(ee=o(Tt),yt=Tt.tag,Tt!==ee||yt!==5&&yt!==27&&yt!==6)&&(Tt=null)):(q=null,Tt=F),q!==Tt)){if(yt=Pn,$="onMouseLeave",z="onMouseEnter",U="mouse",(s==="pointerout"||s==="pointerover")&&(yt=Al,$="onPointerLeave",z="onPointerEnter",U="pointer"),ee=q==null?H:ui(q),j=Tt==null?H:ui(Tt),H=new yt($,U+"leave",q,l,Q),H.target=ee,H.relatedTarget=j,$=null,Ui(Q)===F&&(yt=new yt(z,U+"enter",Tt,l,Q),yt.target=j,yt.relatedTarget=ee,$=yt),ee=$,q&&Tt)e:{for(yt=q,z=Tt,U=0,j=yt;j;j=vo(j))U++;for(j=0,$=z;$;$=vo($))j++;for(;0<U-j;)yt=vo(yt),U--;for(;0<j-U;)z=vo(z),j--;for(;U--;){if(yt===z||z!==null&&yt===z.alternate)break e;yt=vo(yt),z=vo(z)}yt=null}else yt=null;q!==null&&T0(J,H,q,yt,!1),Tt!==null&&ee!==null&&T0(J,ee,Tt,yt,!0)}}t:{if(H=F?ui(F):window,q=H.nodeName&&H.nodeName.toLowerCase(),q==="select"||q==="input"&&H.type==="file")var ft=j_;else if(Oe(H))if(F_)ft=R1;else{ft=w1;var Dt=A1}else q=H.nodeName,!q||q.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?F&&_l(F.elementType)&&(ft=j_):ft=x1;if(ft&&(ft=ft(s,F))){Ki(J,ft,l,Q);break t}Dt&&Dt(s,H,F),s==="focusout"&&F&&H.type==="number"&&F.memoizedProps.value!=null&&Rs(H,"number",H.value)}switch(Dt=F?ui(F):window,s){case"focusin":(Oe(Dt)||Dt.contentEditable==="true")&&(Qa=Dt,Od=F,Rl=null);break;case"focusout":Rl=Od=Qa=null;break;case"mousedown":Md=!0;break;case"contextmenu":case"mouseup":case"dragend":Md=!1,W_(J,l,Q);break;case"selectionchange":if(C1)break;case"keydown":case"keyup":W_(J,l,Q)}var mt;if(_i)t:{switch(s){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else Vt?K(s,l)&&(vt="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(vt="onCompositionStart");vt&&(E&&l.locale!=="ko"&&(Vt||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&Vt&&(mt=vl()):(di=Q,Is="value"in di?di.value:di.textContent,Vt=!0)),Dt=vh(F,vt),0<Dt.length&&(vt=new Tl(vt,s,null,l,Q),J.push({event:vt,listeners:Dt}),mt?vt.data=mt:(mt=lt(l),mt!==null&&(vt.data=mt)))),(mt=y?De(s,l):Lt(s,l))&&(vt=vh(F,"onBeforeInput"),0<vt.length&&(Dt=new Tl("onBeforeInput","beforeinput",null,l,Q),J.push({event:Dt,listeners:vt}),Dt.data=mt)),hx(J,s,F,l,Q)}b0(J,a)})}function ec(s,a,l){return{instance:s,listener:a,currentTarget:l}}function vh(s,a){for(var l=a+"Capture",u=[];s!==null;){var g=s,p=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||p===null||(g=Fr(s,l),g!=null&&u.unshift(ec(s,g,p)),g=Fr(s,a),g!=null&&u.push(ec(s,g,p))),s.tag===3)return u;s=s.return}return[]}function vo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function T0(s,a,l,u,g){for(var p=a._reactName,T=[];l!==null&&l!==u;){var S=l,O=S.alternate,F=S.stateNode;if(S=S.tag,O!==null&&O===u)break;S!==5&&S!==26&&S!==27||F===null||(O=F,g?(F=Fr(l,p),F!=null&&T.unshift(ec(l,F,O))):g||(F=Fr(l,p),F!=null&&T.push(ec(l,F,O)))),l=l.return}T.length!==0&&s.push({event:a,listeners:T})}var mx=/\r\n?/g,px=/\u0000|\uFFFD/g;function S0(s){return(typeof s=="string"?s:""+s).replace(mx,`
`).replace(px,"")}function A0(s,a){return a=S0(a),S0(s)===a}function bh(){}function te(s,a,l,u,g,p){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||Mn(s,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&Mn(s,""+u);break;case"className":hi(s,"class",u);break;case"tabIndex":hi(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":hi(s,l,u);break;case"style":pl(s,u,p);break;case"data":if(a!=="object"){hi(s,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=za(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(a!=="input"&&te(s,a,"name",g.name,g,null),te(s,a,"formEncType",g.formEncType,g,null),te(s,a,"formMethod",g.formMethod,g,null),te(s,a,"formTarget",g.formTarget,g,null)):(te(s,a,"encType",g.encType,g,null),te(s,a,"method",g.method,g,null),te(s,a,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=za(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=bh);break;case"onScroll":u!=null&&Mt("scroll",s);break;case"onScrollEnd":u!=null&&Mt("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=za(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":Mt("beforetoggle",s),Mt("toggle",s),xs(s,"popover",u);break;case"xlinkActuate":qe(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":qe(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":qe(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":qe(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":qe(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":qe(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":qe(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":qe(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":qe(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":xs(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Ad.get(l)||l,xs(s,l,u))}}function em(s,a,l,u,g,p){switch(l){case"style":pl(s,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof u=="string"?Mn(s,u):(typeof u=="number"||typeof u=="bigint")&&Mn(s,""+u);break;case"onScroll":u!=null&&Mt("scroll",s);break;case"onScrollEnd":u!=null&&Mt("scrollend",s);break;case"onClick":u!=null&&(s.onclick=bh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Na.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),a=l.slice(2,g?l.length-7:void 0),p=s[Te]||null,p=p!=null?p[l]:null,typeof p=="function"&&s.removeEventListener(a,p,g),typeof u=="function")){typeof p!="function"&&p!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,u,g);break t}l in s?s[l]=u:u===!0?s.setAttribute(l,""):xs(s,l,u)}}}function Qe(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",s),Mt("load",s);var u=!1,g=!1,p;for(p in l)if(l.hasOwnProperty(p)){var T=l[p];if(T!=null)switch(p){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:te(s,a,p,T,l,null)}}g&&te(s,a,"srcSet",l.srcSet,l,null),u&&te(s,a,"src",l.src,l,null);return;case"input":Mt("invalid",s);var S=p=T=g=null,O=null,F=null;for(u in l)if(l.hasOwnProperty(u)){var Q=l[u];if(Q!=null)switch(u){case"name":g=Q;break;case"type":T=Q;break;case"checked":O=Q;break;case"defaultChecked":F=Q;break;case"value":p=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,a));break;default:te(s,a,u,Q,l,null)}}zr(s,p,S,O,F,T,g,!1),Ua(s);return;case"select":Mt("invalid",s),u=T=p=null;for(g in l)if(l.hasOwnProperty(g)&&(S=l[g],S!=null))switch(g){case"value":p=S;break;case"defaultValue":T=S;break;case"multiple":u=S;default:te(s,a,g,S,l,null)}a=p,l=T,s.multiple=!!u,a!=null?ji(s,!!u,a,!1):l!=null&&ji(s,!!u,l,!0);return;case"textarea":Mt("invalid",s),p=g=u=null;for(T in l)if(l.hasOwnProperty(T)&&(S=l[T],S!=null))switch(T){case"value":u=S;break;case"defaultValue":g=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:te(s,a,T,S,l,null)}Br(s,u,g,p),Ua(s);return;case"option":for(O in l)if(l.hasOwnProperty(O)&&(u=l[O],u!=null))switch(O){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:te(s,a,O,u,l,null)}return;case"dialog":Mt("beforetoggle",s),Mt("toggle",s),Mt("cancel",s),Mt("close",s);break;case"iframe":case"object":Mt("load",s);break;case"video":case"audio":for(u=0;u<tc.length;u++)Mt(tc[u],s);break;case"image":Mt("error",s),Mt("load",s);break;case"details":Mt("toggle",s);break;case"embed":case"source":case"link":Mt("error",s),Mt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in l)if(l.hasOwnProperty(F)&&(u=l[F],u!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:te(s,a,F,u,l,null)}return;default:if(_l(a)){for(Q in l)l.hasOwnProperty(Q)&&(u=l[Q],u!==void 0&&em(s,a,Q,u,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(u=l[S],u!=null&&te(s,a,S,u,l,null))}function _x(s,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,p=null,T=null,S=null,O=null,F=null,Q=null;for(q in l){var J=l[q];if(l.hasOwnProperty(q)&&J!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":O=J;default:u.hasOwnProperty(q)||te(s,a,q,null,u,J)}}for(var H in u){var q=u[H];if(J=l[H],u.hasOwnProperty(H)&&(q!=null||J!=null))switch(H){case"type":p=q;break;case"name":g=q;break;case"checked":F=q;break;case"defaultChecked":Q=q;break;case"value":T=q;break;case"defaultValue":S=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,a));break;default:q!==J&&te(s,a,H,q,u,J)}}bn(s,T,S,O,F,Q,p,g);return;case"select":q=T=S=H=null;for(p in l)if(O=l[p],l.hasOwnProperty(p)&&O!=null)switch(p){case"value":break;case"multiple":q=O;default:u.hasOwnProperty(p)||te(s,a,p,null,u,O)}for(g in u)if(p=u[g],O=l[g],u.hasOwnProperty(g)&&(p!=null||O!=null))switch(g){case"value":H=p;break;case"defaultValue":S=p;break;case"multiple":T=p;default:p!==O&&te(s,a,g,p,u,O)}a=S,l=T,u=q,H!=null?ji(s,!!l,H,!1):!!u!=!!l&&(a!=null?ji(s,!!l,a,!0):ji(s,!!l,l?[]:"",!1));return;case"textarea":q=H=null;for(S in l)if(g=l[S],l.hasOwnProperty(S)&&g!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:te(s,a,S,null,u,g)}for(T in u)if(g=u[T],p=l[T],u.hasOwnProperty(T)&&(g!=null||p!=null))switch(T){case"value":H=g;break;case"defaultValue":q=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==p&&te(s,a,T,g,u,p)}Zt(s,H,q);return;case"option":for(var Tt in l)if(H=l[Tt],l.hasOwnProperty(Tt)&&H!=null&&!u.hasOwnProperty(Tt))switch(Tt){case"selected":s.selected=!1;break;default:te(s,a,Tt,null,u,H)}for(O in u)if(H=u[O],q=l[O],u.hasOwnProperty(O)&&H!==q&&(H!=null||q!=null))switch(O){case"selected":s.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:te(s,a,O,H,u,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in l)H=l[yt],l.hasOwnProperty(yt)&&H!=null&&!u.hasOwnProperty(yt)&&te(s,a,yt,null,u,H);for(F in u)if(H=u[F],q=l[F],u.hasOwnProperty(F)&&H!==q&&(H!=null||q!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,a));break;default:te(s,a,F,H,u,q)}return;default:if(_l(a)){for(var ee in l)H=l[ee],l.hasOwnProperty(ee)&&H!==void 0&&!u.hasOwnProperty(ee)&&em(s,a,ee,void 0,u,H);for(Q in u)H=u[Q],q=l[Q],!u.hasOwnProperty(Q)||H===q||H===void 0&&q===void 0||em(s,a,Q,H,u,q);return}}for(var z in l)H=l[z],l.hasOwnProperty(z)&&H!=null&&!u.hasOwnProperty(z)&&te(s,a,z,null,u,H);for(J in u)H=u[J],q=l[J],!u.hasOwnProperty(J)||H===q||H==null&&q==null||te(s,a,J,H,u,q)}var nm=null,im=null;function Eh(s){return s.nodeType===9?s:s.ownerDocument}function w0(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function x0(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function sm(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var rm=null;function yx(){var s=window.event;return s&&s.type==="popstate"?s===rm?!1:(rm=s,!0):(rm=null,!1)}var R0=typeof setTimeout=="function"?setTimeout:void 0,vx=typeof clearTimeout=="function"?clearTimeout:void 0,I0=typeof Promise=="function"?Promise:void 0,bx=typeof queueMicrotask=="function"?queueMicrotask:typeof I0<"u"?function(s){return I0.resolve(null).then(s).catch(Ex)}:R0;function Ex(s){setTimeout(function(){throw s})}function qs(s){return s==="head"}function C0(s,a){var l=a,u=0,g=0;do{var p=l.nextSibling;if(s.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(0<u&&8>u){l=u;var T=s.ownerDocument;if(l&1&&nc(T.documentElement),l&2&&nc(T.body),l&4)for(l=T.head,nc(l),T=l.firstChild;T;){var S=T.nextSibling,O=T.nodeName;T[Pr]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&T.rel.toLowerCase()==="stylesheet"||l.removeChild(T),T=S}}if(g===0){s.removeChild(p),uc(a);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:u=l.charCodeAt(0)-48;else u=0;l=p}while(l);uc(a)}function am(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":am(l),ws(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function Tx(s,a,l,u){for(;s.nodeType===1;){var g=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Pr])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(p=s.getAttribute("rel"),p==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(p!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(p=s.getAttribute("src"),(p!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&p&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var p=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===p)return s}else return s;if(s=Zn(s.nextSibling),s===null)break}return null}function Sx(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Zn(s.nextSibling),s===null))return null;return s}function om(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function Ax(s,a){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function Zn(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var lm=null;function D0(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return s;a--}else l==="/$"&&a++}s=s.previousSibling}return null}function O0(s,a,l){switch(a=Eh(l),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function nc(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);ws(s)}var Fn=new Map,M0=new Set;function Th(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var as=at.d;at.d={f:wx,r:xx,D:Rx,C:Ix,L:Cx,m:Dx,X:Mx,S:Ox,M:kx};function wx(){var s=as.f(),a=dh();return s||a}function xx(s){var a=ci(s);a!==null&&a.tag===5&&a.type==="form"?Zy(a):as.r(s)}var bo=typeof document>"u"?null:document;function k0(s,a,l){var u=bo;if(u&&typeof a=="string"&&a){var g=Se(a);g='link[rel="'+s+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),M0.has(g)||(M0.add(g),s={rel:s,crossOrigin:l,href:a},u.querySelector(g)===null&&(a=u.createElement("link"),Qe(a,"link",s),pe(a),u.head.appendChild(a)))}}function Rx(s){as.D(s),k0("dns-prefetch",s,null)}function Ix(s,a){as.C(s,a),k0("preconnect",s,a)}function Cx(s,a,l){as.L(s,a,l);var u=bo;if(u&&s&&a){var g='link[rel="preload"][as="'+Se(a)+'"]';a==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+Se(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+Se(l.imageSizes)+'"]')):g+='[href="'+Se(s)+'"]';var p=g;switch(a){case"style":p=Eo(s);break;case"script":p=To(s)}Fn.has(p)||(s=_({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),Fn.set(p,s),u.querySelector(g)!==null||a==="style"&&u.querySelector(ic(p))||a==="script"&&u.querySelector(sc(p))||(a=u.createElement("link"),Qe(a,"link",s),pe(a),u.head.appendChild(a)))}}function Dx(s,a){as.m(s,a);var l=bo;if(l&&s){var u=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+Se(u)+'"][href="'+Se(s)+'"]',p=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=To(s)}if(!Fn.has(p)&&(s=_({rel:"modulepreload",href:s},a),Fn.set(p,s),l.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(sc(p)))return}u=l.createElement("link"),Qe(u,"link",s),pe(u),l.head.appendChild(u)}}}function Ox(s,a,l){as.S(s,a,l);var u=bo;if(u&&s){var g=an(u).hoistableStyles,p=Eo(s);a=a||"default";var T=g.get(p);if(!T){var S={loading:0,preload:null};if(T=u.querySelector(ic(p)))S.loading=5;else{s=_({rel:"stylesheet",href:s,"data-precedence":a},l),(l=Fn.get(p))&&cm(s,l);var O=T=u.createElement("link");pe(O),Qe(O,"link",s),O._p=new Promise(function(F,Q){O.onload=F,O.onerror=Q}),O.addEventListener("load",function(){S.loading|=1}),O.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Sh(T,a,u)}T={type:"stylesheet",instance:T,count:1,state:S},g.set(p,T)}}}function Mx(s,a){as.X(s,a);var l=bo;if(l&&s){var u=an(l).hoistableScripts,g=To(s),p=u.get(g);p||(p=l.querySelector(sc(g)),p||(s=_({src:s,async:!0},a),(a=Fn.get(g))&&um(s,a),p=l.createElement("script"),pe(p),Qe(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(g,p))}}function kx(s,a){as.M(s,a);var l=bo;if(l&&s){var u=an(l).hoistableScripts,g=To(s),p=u.get(g);p||(p=l.querySelector(sc(g)),p||(s=_({src:s,async:!0,type:"module"},a),(a=Fn.get(g))&&um(s,a),p=l.createElement("script"),pe(p),Qe(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(g,p))}}function N0(s,a,l,u){var g=(g=_t.current)?Th(g):null;if(!g)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Eo(l.href),l=an(g).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Eo(l.href);var p=an(g).hoistableStyles,T=p.get(s);if(T||(g=g.ownerDocument||g,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(s,T),(p=g.querySelector(ic(s)))&&!p._p&&(T.instance=p,T.state.loading=5),Fn.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Fn.set(s,l),p||Nx(g,s,l,T.state))),a&&u===null)throw Error(i(528,""));return T}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=To(l),l=an(g).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Eo(s){return'href="'+Se(s)+'"'}function ic(s){return'link[rel="stylesheet"]['+s+"]"}function P0(s){return _({},s,{"data-precedence":s.precedence,precedence:null})}function Nx(s,a,l,u){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=s.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),Qe(a,"link",l),pe(a),s.head.appendChild(a))}function To(s){return'[src="'+Se(s)+'"]'}function sc(s){return"script[async]"+s}function V0(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=s.querySelector('style[data-href~="'+Se(l.href)+'"]');if(u)return a.instance=u,pe(u),u;var g=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),pe(u),Qe(u,"style",g),Sh(u,l.precedence,s),a.instance=u;case"stylesheet":g=Eo(l.href);var p=s.querySelector(ic(g));if(p)return a.state.loading|=4,a.instance=p,pe(p),p;u=P0(l),(g=Fn.get(g))&&cm(u,g),p=(s.ownerDocument||s).createElement("link"),pe(p);var T=p;return T._p=new Promise(function(S,O){T.onload=S,T.onerror=O}),Qe(p,"link",u),a.state.loading|=4,Sh(p,l.precedence,s),a.instance=p;case"script":return p=To(l.src),(g=s.querySelector(sc(p)))?(a.instance=g,pe(g),g):(u=l,(g=Fn.get(p))&&(u=_({},l),um(u,g)),s=s.ownerDocument||s,g=s.createElement("script"),pe(g),Qe(g,"link",u),s.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Sh(u,l.precedence,s));return a.instance}function Sh(s,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,p=g,T=0;T<u.length;T++){var S=u[T];if(S.dataset.precedence===a)p=S;else if(p!==g)break}p?p.parentNode.insertBefore(s,p.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function cm(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function um(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Ah=null;function L0(s,a,l){if(Ah===null){var u=new Map,g=Ah=new Map;g.set(l,u)}else g=Ah,u=g.get(l),u||(u=new Map,g.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),g=0;g<l.length;g++){var p=l[g];if(!(p[Pr]||p[Ce]||s==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(a)||"";T=s+T;var S=u.get(T);S?S.push(p):u.set(T,[p])}}return u}function U0(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function Px(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function z0(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var rc=null;function Vx(){}function Lx(s,a,l){if(rc===null)throw Error(i(475));var u=rc;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var g=Eo(l.href),p=s.querySelector(ic(g));if(p){s=p._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(u.count++,u=wh.bind(u),s.then(u,u)),a.state.loading|=4,a.instance=p,pe(p);return}p=s.ownerDocument||s,l=P0(l),(g=Fn.get(g))&&cm(l,g),p=p.createElement("link"),pe(p);var T=p;T._p=new Promise(function(S,O){T.onload=S,T.onerror=O}),Qe(p,"link",l),a.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=wh.bind(u),s.addEventListener("load",a),s.addEventListener("error",a))}}function Ux(){if(rc===null)throw Error(i(475));var s=rc;return s.stylesheets&&s.count===0&&hm(s,s.stylesheets),0<s.count?function(a){var l=setTimeout(function(){if(s.stylesheets&&hm(s,s.stylesheets),s.unsuspend){var u=s.unsuspend;s.unsuspend=null,u()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(l)}}:null}function wh(){if(this.count--,this.count===0){if(this.stylesheets)hm(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var xh=null;function hm(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,xh=new Map,a.forEach(zx,s),xh=null,wh.call(s))}function zx(s,a){if(!(a.state.loading&4)){var l=xh.get(s);if(l)var u=l.get(null);else{l=new Map,xh.set(s,l);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<g.length;p++){var T=g[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),u=T)}u&&l.set(null,u)}g=a.instance,T=g.getAttribute("data-precedence"),p=l.get(T)||u,p===u&&l.set(null,g),l.set(T,g),this.count++,u=wh.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),p?p.parentNode.insertBefore(g,p.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),a.state.loading|=4}}var ac={$$typeof:et,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function Bx(s,a,l,u,g,p,T,S){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vi(0),this.hiddenUpdates=Vi(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function B0(s,a,l,u,g,p,T,S,O,F,Q,J){return s=new Bx(s,a,l,T,S,O,F,J),a=1,p===!0&&(a|=24),p=Tn(3,null,null,a),s.current=p,p.stateNode=s,a=Yd(),a.refCount++,s.pooledCache=a,a.refCount++,p.memoizedState={element:u,isDehydrated:l,cache:a},Wd(p),s}function j0(s){return s?(s=Za,s):Za}function F0(s,a,l,u,g,p){g=j0(g),u.context===null?u.context=g:u.pendingContext=g,u=Os(a),u.payload={element:l},p=p===void 0?null:p,p!==null&&(u.callback=p),l=Ms(s,u,a),l!==null&&(Rn(l,s,a),Vl(l,s,a))}function H0(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function fm(s,a){H0(s,a),(s=s.alternate)&&H0(s,a)}function q0(s){if(s.tag===13){var a=$a(s,67108864);a!==null&&Rn(a,s,67108864),fm(s,67108864)}}var Rh=!0;function jx(s,a,l,u){var g=Y.T;Y.T=null;var p=at.p;try{at.p=2,dm(s,a,l,u)}finally{at.p=p,Y.T=g}}function Fx(s,a,l,u){var g=Y.T;Y.T=null;var p=at.p;try{at.p=8,dm(s,a,l,u)}finally{at.p=p,Y.T=g}}function dm(s,a,l,u){if(Rh){var g=gm(u);if(g===null)tm(s,a,u,Ih,l),Y0(s,u);else if(qx(g,s,a,l,u))u.stopPropagation();else if(Y0(s,u),a&4&&-1<Hx.indexOf(s)){for(;g!==null;){var p=ci(g);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=Kn(p.pendingLanes);if(T!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var O=1<<31-Ze(T);S.entanglements[1]|=O,T&=~O}Si(p),(Qt&6)===0&&(hh=Dn()+500,Jl(0))}}break;case 13:S=$a(p,2),S!==null&&Rn(S,p,2),dh(),fm(p,2)}if(p=gm(u),p===null&&tm(s,a,u,Ih,l),p===g)break;g=p}g!==null&&u.stopPropagation()}else tm(s,a,u,null,l)}}function gm(s){return s=kn(s),mm(s)}var Ih=null;function mm(s){if(Ih=null,s=Ui(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=c(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Ih=s,null}function G0(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yd()){case sl:return 2;case Da:return 8;case Dr:case vd:return 32;case Oa:return 268435456;default:return 32}default:return 32}}var pm=!1,Gs=null,Ys=null,Ks=null,oc=new Map,lc=new Map,Qs=[],Hx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Y0(s,a){switch(s){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Ys=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":oc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":lc.delete(a.pointerId)}}function cc(s,a,l,u,g,p){return s===null||s.nativeEvent!==p?(s={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:p,targetContainers:[g]},a!==null&&(a=ci(a),a!==null&&q0(a)),s):(s.eventSystemFlags|=u,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function qx(s,a,l,u,g){switch(a){case"focusin":return Gs=cc(Gs,s,a,l,u,g),!0;case"dragenter":return Ys=cc(Ys,s,a,l,u,g),!0;case"mouseover":return Ks=cc(Ks,s,a,l,u,g),!0;case"pointerover":var p=g.pointerId;return oc.set(p,cc(oc.get(p)||null,s,a,l,u,g)),!0;case"gotpointercapture":return p=g.pointerId,lc.set(p,cc(lc.get(p)||null,s,a,l,u,g)),!0}return!1}function K0(s){var a=Ui(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){s.blockedOn=a,du(s.priority,function(){if(l.tag===13){var u=xn();u=Ts(u);var g=$a(l,u);g!==null&&Rn(g,l,u),fm(l,u)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ch(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=gm(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);Fi=u,l.target.dispatchEvent(u),Fi=null}else return a=ci(l),a!==null&&q0(a),s.blockedOn=l,!1;a.shift()}return!0}function Q0(s,a,l){Ch(s)&&l.delete(a)}function Gx(){pm=!1,Gs!==null&&Ch(Gs)&&(Gs=null),Ys!==null&&Ch(Ys)&&(Ys=null),Ks!==null&&Ch(Ks)&&(Ks=null),oc.forEach(Q0),lc.forEach(Q0)}function Dh(s,a){s.blockedOn===a&&(s.blockedOn=null,pm||(pm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Gx)))}var Oh=null;function X0(s){Oh!==s&&(Oh=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Oh===s&&(Oh=null);for(var a=0;a<s.length;a+=3){var l=s[a],u=s[a+1],g=s[a+2];if(typeof u!="function"){if(mm(u||l)===null)continue;break}var p=ci(l);p!==null&&(s.splice(a,3),a-=3,mg(p,{pending:!0,data:g,method:l.method,action:u},u,g))}}))}function uc(s){function a(O){return Dh(O,s)}Gs!==null&&Dh(Gs,s),Ys!==null&&Dh(Ys,s),Ks!==null&&Dh(Ks,s),oc.forEach(a),lc.forEach(a);for(var l=0;l<Qs.length;l++){var u=Qs[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<Qs.length&&(l=Qs[0],l.blockedOn===null);)K0(l),l.blockedOn===null&&Qs.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var g=l[u],p=l[u+1],T=g[Te]||null;if(typeof p=="function")T||X0(l);else if(T){var S=null;if(p&&p.hasAttribute("formAction")){if(g=p,T=p[Te]||null)S=T.formAction;else if(mm(g)!==null)continue}else S=T.action;typeof S=="function"?l[u+1]=S:(l.splice(u,3),u-=3),X0(l)}}}function _m(s){this._internalRoot=s}Mh.prototype.render=_m.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,u=xn();F0(l,u,s,a,null,null)},Mh.prototype.unmount=_m.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;F0(s.current,2,null,s,null,null),dh(),a[On]=null}};function Mh(s){this._internalRoot=s}Mh.prototype.unstable_scheduleHydration=function(s){if(s){var a=Ss();s={blockedOn:null,target:s,priority:a};for(var l=0;l<Qs.length&&a!==0&&a<Qs[l].priority;l++);Qs.splice(l,0,s),l===0&&K0(s)}};var W0=t.version;if(W0!=="19.1.0")throw Error(i(527,W0,"19.1.0"));at.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=d(a),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var Yx={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kh.isDisabled&&kh.supportsFiber)try{de=kh.inject(Yx),Kt=kh}catch{}}return fc.createRoot=function(s,a){if(!r(s))throw Error(i(299));var l=!1,u="",g=fv,p=dv,T=gv,S=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(S=a.unstable_transitionCallbacks)),a=B0(s,1,!1,null,null,l,u,g,p,T,S,null),s[On]=a.current,Jg(s),new _m(a)},fc.hydrateRoot=function(s,a,l){if(!r(s))throw Error(i(299));var u=!1,g="",p=fv,T=dv,S=gv,O=null,F=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(O=l.unstable_transitionCallbacks),l.formState!==void 0&&(F=l.formState)),a=B0(s,1,!0,a,l??null,u,g,p,T,S,O,F),a.context=j0(null),l=a.current,u=xn(),u=Ts(u),g=Os(u),g.callback=null,Ms(l,g,u),l=u,a.current.lanes=l,Li(a,l),Si(a),s[On]=a.current,Jg(s),new Mh(a)},fc.version="19.1.0",fc}var ab;function iR(){if(ab)return bm.exports;ab=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),bm.exports=nR(),bm.exports}var sR=iR();const rR=()=>{};var ob={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},aR=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[e++],c=n[e++],h=n[e++],d=((r&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(d>>10)),t[i++]=String.fromCharCode(56320+(d&1023))}else{const o=n[e++],c=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|c&63)}}return t.join("")},iS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],c=r+1<n.length,h=c?n[r+1]:0,d=r+2<n.length,m=d?n[r+2]:0,_=o>>2,v=(o&3)<<4|h>>4;let b=(h&15)<<2|m>>6,A=m&63;d||(A=64,c||(b=64)),i.push(e[_],e[v],e[b],e[A])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(nS(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):aR(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],h=r<n.length?e[n.charAt(r)]:0;++r;const m=r<n.length?e[n.charAt(r)]:64;++r;const v=r<n.length?e[n.charAt(r)]:64;if(++r,o==null||h==null||m==null||v==null)throw new oR;const b=o<<2|h>>4;if(i.push(b),m!==64){const A=h<<4&240|m>>2;if(i.push(A),v!==64){const I=m<<6&192|v;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class oR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lR=function(n){const t=nS(n);return iS.encodeByteArray(t,!0)},df=function(n){return lR(n).replace(/\./g,"")},sS=function(n){try{return iS.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR=()=>cR().__FIREBASE_DEFAULTS__,hR=()=>{if(typeof process>"u"||typeof ob>"u")return;const n=ob.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},fR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&sS(n[1]);return t&&JSON.parse(t)},Gf=()=>{try{return rR()||uR()||hR()||fR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},rS=n=>{var t,e;return(e=(t=Gf())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},dR=n=>{const t=rS(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},aS=()=>{var n;return(n=Gf())===null||n===void 0?void 0:n.config},oS=n=>{var t;return(t=Gf())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function lS(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[df(JSON.stringify(e)),df(JSON.stringify(c)),""].join(".")}const Rc={};function pR(){const n={prod:[],emulator:[]};for(const t of Object.keys(Rc))Rc[t]?n.emulator.push(t):n.prod.push(t);return n}function _R(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let lb=!1;function cS(n,t){if(typeof window>"u"||typeof document>"u"||!Yo(window.location.host)||Rc[n]===t||Rc[n]||lb)return;Rc[n]=t;function e(b){return`__firebase__banner__${b}`}const i="__firebase__banner",o=pR().prod.length>0;function c(){const b=document.getElementById(i);b&&b.remove()}function h(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function d(b,A){b.setAttribute("width","24"),b.setAttribute("id",A),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function m(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{lb=!0,c()},b}function _(b,A){b.setAttribute("id",A),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=_R(i),A=e("text"),I=document.getElementById(A)||document.createElement("span"),k=e("learnmore"),M=document.getElementById(k)||document.createElement("a"),G=e("preprendIcon"),X=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const et=b.element;h(et),_(M,k);const it=m();d(X,G),et.append(X,I,M,it),document.body.appendChild(et)}o?(I.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function vR(){var n;const t=(n=Gf())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ER(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function TR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SR(){const n=rn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function AR(){return!vR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wR(){try{return typeof indexedDB=="object"}catch{return!1}}function xR(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var o;t(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="FirebaseError";class vs extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=RR,Object.setPrototypeOf(this,vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wc.prototype.create)}}class Wc{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],c=o?IR(o,i):"Error",h=`${this.serviceName}: ${c} (${r}).`;return new vs(r,h,i)}}function IR(n,t){return n.replace(CR,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const CR=/\{\$([^}]+)}/g;function DR(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Ea(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const o=n[r],c=t[r];if(cb(o)&&cb(c)){if(!Ea(o,c))return!1}else if(o!==c)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function cb(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function yc(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(o)}}),t}function vc(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function OR(n,t){const e=new MR(n,t);return e.subscribe.bind(e)}class MR{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");kR(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=Am),r.error===void 0&&(r.error=Am),r.complete===void 0&&(r.complete=Am);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kR(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Am(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(n){return n&&n._delegate?n._delegate:n}class Ta{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new gR;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t?.identifier),r=(e=t?.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(VR(t))try{this.getOrInitializeService({instanceIdentifier:ga})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=ga){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ga){return this.instances.has(t)}getOptions(t=ga){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&c.resolve(r)}return r}onInit(t,e){var i;const r=this.normalizeInstanceIdentifier(e),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(t),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&t(c,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:PR(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=ga){return this.component?this.component.multipleInstances?t:ga:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PR(n){return n===ga?void 0:n}function VR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new NR(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Nt||(Nt={}));const UR={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},zR=Nt.INFO,BR={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},jR=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=BR[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Ip{constructor(t){this.name=t,this._logLevel=zR,this._logHandler=jR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?UR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}const FR=(n,t)=>t.some(e=>n instanceof e);let ub,hb;function HR(){return ub||(ub=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qR(){return hb||(hb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uS=new WeakMap,Qm=new WeakMap,hS=new WeakMap,wm=new WeakMap,Cp=new WeakMap;function GR(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{e(rr(n.result)),r()},c=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&uS.set(e,n)}).catch(()=>{}),Cp.set(t,n),t}function YR(n){if(Qm.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{e(),r()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});Qm.set(n,t)}let Xm={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Qm.get(n);if(t==="objectStoreNames")return n.objectStoreNames||hS.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return rr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function KR(n){Xm=n(Xm)}function QR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(xm(this),t,...e);return hS.set(i,t.sort?t.sort():[t]),rr(i)}:qR().includes(n)?function(...t){return n.apply(xm(this),t),rr(uS.get(this))}:function(...t){return rr(n.apply(xm(this),t))}}function XR(n){return typeof n=="function"?QR(n):(n instanceof IDBTransaction&&YR(n),FR(n,HR())?new Proxy(n,Xm):n)}function rr(n){if(n instanceof IDBRequest)return GR(n);if(wm.has(n))return wm.get(n);const t=XR(n);return t!==n&&(wm.set(n,t),Cp.set(t,n)),t}const xm=n=>Cp.get(n);function WR(n,t,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){const c=indexedDB.open(n,t),h=rr(c);return i&&c.addEventListener("upgradeneeded",d=>{i(rr(c.result),d.oldVersion,d.newVersion,rr(c.transaction),d)}),e&&c.addEventListener("blocked",d=>e(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),r&&d.addEventListener("versionchange",m=>r(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const $R=["get","getKey","getAll","getAllKeys","count"],ZR=["put","add","delete","clear"],Rm=new Map;function fb(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Rm.get(t))return Rm.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=ZR.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||$R.includes(e)))return;const o=async function(c,...h){const d=this.transaction(c,r?"readwrite":"readonly");let m=d.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[e](...h),r&&d.done]))[0]};return Rm.set(t,o),o}KR(n=>({...n,get:(t,e,i)=>fb(t,e)||n.get(t,e,i),has:(t,e)=>!!fb(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(tI(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function tI(n){const t=n.getComponent();return t?.type==="VERSION"}const Wm="@firebase/app",db="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=new Ip("@firebase/app"),eI="@firebase/app-compat",nI="@firebase/analytics-compat",iI="@firebase/analytics",sI="@firebase/app-check-compat",rI="@firebase/app-check",aI="@firebase/auth",oI="@firebase/auth-compat",lI="@firebase/database",cI="@firebase/data-connect",uI="@firebase/database-compat",hI="@firebase/functions",fI="@firebase/functions-compat",dI="@firebase/installations",gI="@firebase/installations-compat",mI="@firebase/messaging",pI="@firebase/messaging-compat",_I="@firebase/performance",yI="@firebase/performance-compat",vI="@firebase/remote-config",bI="@firebase/remote-config-compat",EI="@firebase/storage",TI="@firebase/storage-compat",SI="@firebase/firestore",AI="@firebase/ai",wI="@firebase/firestore-compat",xI="firebase",RI="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="[DEFAULT]",II={[Wm]:"fire-core",[eI]:"fire-core-compat",[iI]:"fire-analytics",[nI]:"fire-analytics-compat",[rI]:"fire-app-check",[sI]:"fire-app-check-compat",[aI]:"fire-auth",[oI]:"fire-auth-compat",[lI]:"fire-rtdb",[cI]:"fire-data-connect",[uI]:"fire-rtdb-compat",[hI]:"fire-fn",[fI]:"fire-fn-compat",[dI]:"fire-iid",[gI]:"fire-iid-compat",[mI]:"fire-fcm",[pI]:"fire-fcm-compat",[_I]:"fire-perf",[yI]:"fire-perf-compat",[vI]:"fire-rc",[bI]:"fire-rc-compat",[EI]:"fire-gcs",[TI]:"fire-gcs-compat",[SI]:"fire-fst",[wI]:"fire-fst-compat",[AI]:"fire-vertex","fire-js":"fire-js",[xI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf=new Map,CI=new Map,Zm=new Map;function gb(n,t){try{n.container.addComponent(t)}catch(e){ms.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Lo(n){const t=n.name;if(Zm.has(t))return ms.debug(`There were multiple attempts to register component ${t}.`),!1;Zm.set(t,n);for(const e of gf.values())gb(e,n);for(const e of CI.values())gb(e,n);return!0}function Dp(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Jn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ar=new Wc("app","Firebase",DI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ar.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=RI;function fS(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i=Object.assign({name:$m,automaticDataCollectionEnabled:!0},t),r=i.name;if(typeof r!="string"||!r)throw ar.create("bad-app-name",{appName:String(r)});if(e||(e=aS()),!e)throw ar.create("no-options");const o=gf.get(r);if(o){if(Ea(e,o.options)&&Ea(i,o.config))return o;throw ar.create("duplicate-app",{appName:r})}const c=new LR(r);for(const d of Zm.values())c.addComponent(d);const h=new OI(e,i,c);return gf.set(r,h),h}function dS(n=$m){const t=gf.get(n);if(!t&&n===$m&&aS())return fS();if(!t)throw ar.create("no-app",{appName:n});return t}function or(n,t,e){var i;let r=(i=II[n])!==null&&i!==void 0?i:n;e&&(r+=`-${e}`);const o=r.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const h=[`Unable to register library "${r}" with version "${t}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ms.warn(h.join(" "));return}Lo(new Ta(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI="firebase-heartbeat-database",kI=1,Vc="firebase-heartbeat-store";let Im=null;function gS(){return Im||(Im=WR(MI,kI,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Vc)}catch(e){console.warn(e)}}}}).catch(n=>{throw ar.create("idb-open",{originalErrorMessage:n.message})})),Im}async function NI(n){try{const e=(await gS()).transaction(Vc),i=await e.objectStore(Vc).get(mS(n));return await e.done,i}catch(t){if(t instanceof vs)ms.warn(t.message);else{const e=ar.create("idb-get",{originalErrorMessage:t?.message});ms.warn(e.message)}}}async function mb(n,t){try{const i=(await gS()).transaction(Vc,"readwrite");await i.objectStore(Vc).put(t,mS(n)),await i.done}catch(e){if(e instanceof vs)ms.warn(e.message);else{const i=ar.create("idb-set",{originalErrorMessage:e?.message});ms.warn(i.message)}}}function mS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=1024,VI=30;class LI{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new zI(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,e;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=pb();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats.length>VI){const c=BI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ms.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=pb(),{heartbeatsToSend:i,unsentEntries:r}=UI(this._heartbeatsCache.heartbeats),o=df(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ms.warn(e),""}}}function pb(){return new Date().toISOString().substring(0,10)}function UI(n,t=PI){const e=[];let i=n.slice();for(const r of n){const o=e.find(c=>c.agent===r.agent);if(o){if(o.dates.push(r.date),_b(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),_b(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class zI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wR()?xR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await NI(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return mb(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return mb(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function _b(n){return df(JSON.stringify({version:2,heartbeats:n})).length}function BI(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(n){Lo(new Ta("platform-logger",t=>new JR(t),"PRIVATE")),Lo(new Ta("heartbeat",t=>new LI(t),"PRIVATE")),or(Wm,db,n),or(Wm,db,"esm2017"),or("fire-js","")}jI("");function Op(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e}function pS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FI=pS,_S=new Wc("auth","Firebase",pS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mf=new Ip("@firebase/auth");function HI(n,...t){mf.logLevel<=Nt.WARN&&mf.warn(`Auth (${Ko}): ${n}`,...t)}function Jh(n,...t){mf.logLevel<=Nt.ERROR&&mf.error(`Auth (${Ko}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(n,...t){throw Mp(n,...t)}function Ii(n,...t){return Mp(n,...t)}function yS(n,t,e){const i=Object.assign(Object.assign({},FI()),{[t]:e});return new Wc("auth","Firebase",i).create(t,{appName:n.name})}function lr(n){return yS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mp(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return _S.create(n,...t)}function bt(n,t,...e){if(!n)throw Mp(t,...e)}function hs(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Jh(t),new Error(t)}function ps(n,t){n||hs(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function qI(){return yb()==="http:"||yb()==="https:"}function yb(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qI()||ER()||"connection"in navigator)?navigator.onLine:!0}function YI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(t,e){this.shortDelay=t,this.longDelay=e,ps(e>t,"Short delay should be less than long delay!"),this.isMobile=yR()||TR()}get(){return GI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(n,t){ps(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],XI=new Zc(3e4,6e4);function Ra(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function Ar(n,t,e,i,r={}){return bS(n,r,async()=>{let o={},c={};i&&(t==="GET"?c=i:o={body:JSON.stringify(i)});const h=$c(Object.assign({key:n.config.apiKey},c)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:t,headers:d},o);return bR()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Yo(n.emulatorConfig.host)&&(m.credentials="include"),vS.fetch()(await ES(n,n.config.apiHost,e,h),m)})}async function bS(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},KI),t);try{const r=new $I(n),o=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Nh(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[d,m]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nh(n,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw Nh(n,"email-already-in-use",c);if(d==="USER_DISABLED")throw Nh(n,"user-disabled",c);const _=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw yS(n,_,m);si(n,_)}}catch(r){if(r instanceof vs)throw r;si(n,"network-request-failed",{message:String(r)})}}async function Yf(n,t,e,i,r={}){const o=await Ar(n,t,e,i,r);return"mfaPendingCredential"in o&&si(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function ES(n,t,e,i){const r=`${t}${e}?${i}`,o=n,c=o.config.emulator?kp(n.config,r):`${n.config.apiScheme}://${r}`;return QI.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function WI(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $I{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Ii(this.auth,"network-request-failed")),XI.get())})}}function Nh(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=Ii(n,t,i);return r.customData._tokenResponse=e,r}function vb(n){return n!==void 0&&n.enterprise!==void 0}class ZI{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return WI(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function JI(n,t){return Ar(n,"GET","/v2/recaptchaConfig",Ra(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tC(n,t){return Ar(n,"POST","/v1/accounts:delete",t)}async function pf(n,t){return Ar(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function eC(n,t=!1){const e=Pe(n),i=await e.getIdToken(t),r=Np(i);bt(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,c=o?.sign_in_provider;return{claims:r,token:i,authTime:Ic(Cm(r.auth_time)),issuedAtTime:Ic(Cm(r.iat)),expirationTime:Ic(Cm(r.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Cm(n){return Number(n)*1e3}function Np(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return Jh("JWT malformed, contained fewer than 3 sections"),null;try{const r=sS(e);return r?JSON.parse(r):(Jh("Failed to decode base64 JWT payload"),null)}catch(r){return Jh("Caught error parsing JWT payload as JSON",r?.toString()),null}}function bb(n){const t=Np(n);return bt(t,"internal-error"),bt(typeof t.exp<"u","internal-error"),bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lc(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof vs&&nC(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function nC({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ic(this.lastLoginAt),this.creationTime=Ic(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _f(n){var t;const e=n.auth,i=await n.getIdToken(),r=await Lc(n,pf(e,{idToken:i}));bt(r?.users.length,e,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const c=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?TS(o.providerUserInfo):[],h=rC(n.providerData,c),d=n.isAnonymous,m=!(n.email&&o.passwordHash)&&!h?.length,_=d?m:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new tp(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(n,v)}async function sC(n){const t=Pe(n);await _f(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function rC(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function TS(n){return n.map(t=>{var{providerId:e}=t,i=Op(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aC(n,t){const e=await bS(n,{},async()=>{const i=$c({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,c=await ES(n,r,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:i};return n.emulatorConfig&&Yo(n.emulatorConfig.host)&&(d.credentials="include"),vS.fetch()(c,d)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function oC(n,t){return Ar(n,"POST","/v2/accounts:revokeToken",Ra(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){bt(t.idToken,"internal-error"),bt(typeof t.idToken<"u","internal-error"),bt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):bb(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){bt(t.length!==0,"internal-error");const e=bb(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:o}=await aC(t,e);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:o}=e,c=new Do;return i&&(bt(typeof i=="string","internal-error",{appName:t}),c.refreshToken=i),r&&(bt(typeof r=="string","internal-error",{appName:t}),c.accessToken=r),o&&(bt(typeof o=="number","internal-error",{appName:t}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Do,this.toJSON())}_performRefresh(){return hs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ws(n,t){bt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class ti{constructor(t){var{uid:e,auth:i,stsTokenManager:r}=t,o=Op(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new iC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new tp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await Lc(this,this.stsTokenManager.getToken(this.auth,t));return bt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return eC(this,t)}reload(){return sC(this)}_assign(t){this!==t&&(bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new ti(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await _f(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(lr(this.auth));const t=await this.getIdToken();return await Lc(this,tC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,r,o,c,h,d,m,_;const v=(i=e.displayName)!==null&&i!==void 0?i:void 0,b=(r=e.email)!==null&&r!==void 0?r:void 0,A=(o=e.phoneNumber)!==null&&o!==void 0?o:void 0,I=(c=e.photoURL)!==null&&c!==void 0?c:void 0,k=(h=e.tenantId)!==null&&h!==void 0?h:void 0,M=(d=e._redirectEventId)!==null&&d!==void 0?d:void 0,G=(m=e.createdAt)!==null&&m!==void 0?m:void 0,X=(_=e.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:et,emailVerified:it,isAnonymous:W,providerData:ot,stsTokenManager:C}=e;bt(et&&C,t,"internal-error");const x=Do.fromJSON(this.name,C);bt(typeof et=="string",t,"internal-error"),Ws(v,t.name),Ws(b,t.name),bt(typeof it=="boolean",t,"internal-error"),bt(typeof W=="boolean",t,"internal-error"),Ws(A,t.name),Ws(I,t.name),Ws(k,t.name),Ws(M,t.name),Ws(G,t.name),Ws(X,t.name);const R=new ti({uid:et,auth:t,email:b,emailVerified:it,displayName:v,isAnonymous:W,photoURL:I,phoneNumber:A,tenantId:k,stsTokenManager:x,createdAt:G,lastLoginAt:X});return ot&&Array.isArray(ot)&&(R.providerData=ot.map(N=>Object.assign({},N))),M&&(R._redirectEventId=M),R}static async _fromIdTokenResponse(t,e,i=!1){const r=new Do;r.updateFromServerResponse(e);const o=new ti({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await _f(o),o}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];bt(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?TS(r.providerUserInfo):[],c=!(r.email&&r.passwordHash)&&!o?.length,h=new Do;h.updateFromIdToken(i);const d=new ti({uid:r.localId,auth:t,stsTokenManager:h,isAnonymous:c}),m={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new tp(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(d,m),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=new Map;function fs(n){ps(n instanceof Function,"Expected a class definition");let t=Eb.get(n);return t?(ps(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,Eb.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}SS.type="NONE";const Tb=SS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(n,t,e){return`firebase:${n}:${t}:${e}`}class Oo{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=tf(this.userKey,r.apiKey,o),this.fullPersistenceKey=tf("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await pf(this.auth,{idToken:t}).catch(()=>{});return e?ti._fromGetAccountInfoResponse(this.auth,e,t):null}return ti._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new Oo(fs(Tb),t,i);const r=(await Promise.all(e.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=r[0]||fs(Tb);const c=tf(i,t.config.apiKey,t.name);let h=null;for(const m of e)try{const _=await m._get(c);if(_){let v;if(typeof _=="string"){const b=await pf(t,{idToken:_}).catch(()=>{});if(!b)break;v=await ti._fromGetAccountInfoResponse(t,b,_)}else v=ti._fromJSON(t,_);m!==o&&(h=v),o=m;break}}catch{}const d=r.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Oo(o,t,i):(o=d[0],h&&await o._set(c,h.toJSON()),await Promise.all(e.map(async m=>{if(m!==o)try{await m._remove(c)}catch{}})),new Oo(o,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(RS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(AS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(CS(t))return"Blackberry";if(DS(t))return"Webos";if(wS(t))return"Safari";if((t.includes("chrome/")||xS(t))&&!t.includes("edge/"))return"Chrome";if(IS(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function AS(n=rn()){return/firefox\//i.test(n)}function wS(n=rn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function xS(n=rn()){return/crios\//i.test(n)}function RS(n=rn()){return/iemobile/i.test(n)}function IS(n=rn()){return/android/i.test(n)}function CS(n=rn()){return/blackberry/i.test(n)}function DS(n=rn()){return/webos/i.test(n)}function Pp(n=rn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function lC(n=rn()){var t;return Pp(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function cC(){return SR()&&document.documentMode===10}function OS(n=rn()){return Pp(n)||IS(n)||DS(n)||CS(n)||/windows phone/i.test(n)||RS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(n,t=[]){let e;switch(n){case"Browser":e=Sb(rn());break;case"Worker":e=`${Sb(rn())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Ko}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((c,h)=>{try{const d=t(o);c(d)}catch(d){h(d)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hC(n,t={}){return Ar(n,"GET","/v2/passwordPolicy",Ra(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=6;class dC{constructor(t){var e,i,r,o;const c=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=c.minPasswordLength)!==null&&e!==void 0?e:fC,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,r,o,c,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,d),this.validatePasswordCharacterOptions(t,d),d.isValid&&(d.isValid=(e=d.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),d.isValid&&(d.isValid=(i=d.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(r=d.containsLowercaseLetter)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(c=d.containsNumericCharacter)!==null&&c!==void 0?c:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ab(this),this.idTokenSubscription=new Ab(this),this.beforeStateQueue=new uC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_S,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=fs(e)),this._initializationPromise=this.queue(async()=>{var i,r,o;if(!this._deleted&&(this.persistenceManager=await Oo.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await pf(this,{idToken:t}),i=await ti._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(Jn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,h=r?._redirectEventId,d=await this.tryRedirectSignIn(t);(!c||c===h)&&d?.user&&(r=d.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await _f(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=YI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Jn(this.app))return Promise.reject(lr(this));const e=t?Pe(t):null;return e&&bt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(lr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Jn(this.app)?Promise.reject(lr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await hC(this),e=new dC(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Wc("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await oC(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&fs(t)||this._popupRedirectResolver;bt(e,this,"argument-error"),this.redirectPersistenceManager=await Oo.create(this,[fs(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,i;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof e=="function"){const d=t.addObserver(e,i,r);return()=>{c=!0,d()}}else{const d=t.addObserver(e);return()=>{c=!0,d()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=MS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e?.error&&HI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Qo(n){return Pe(n)}class Ab{constructor(t){this.auth=t,this.observer=null,this.addObserver=OR(e=>this.observer=e)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mC(n){Kf=n}function kS(n){return Kf.loadJS(n)}function pC(){return Kf.recaptchaEnterpriseScript}function _C(){return Kf.gapiScript}function yC(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class vC{constructor(){this.enterprise=new bC}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class bC{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const EC="recaptcha-enterprise",NS="NO_RECAPTCHA";class TC{constructor(t){this.type=EC,this.auth=Qo(t)}async verify(t="verify",e=!1){async function i(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,h)=>{JI(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new ZI(d);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,c(m.siteKey)}}).catch(d=>{h(d)})})}function r(o,c,h){const d=window.grecaptcha;vb(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:t}).then(m=>{c(m)}).catch(()=>{c(NS)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new vC().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{i(this.auth).then(h=>{if(!e&&vb(window.grecaptcha))r(h,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let d=pC();d.length!==0&&(d+=h),kS(d).then(()=>{r(h,o,c)}).catch(m=>{c(m)})}}).catch(h=>{c(h)})})}}async function wb(n,t,e,i=!1,r=!1){const o=new TC(n);let c;if(r)c=NS;else try{c=await o.verify(e)}catch{c=await o.verify(e,!0)}const h=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function xb(n,t,e,i,r){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await wb(n,t,e,e==="getOobCode");return i(n,c)}else return i(n,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await wb(n,t,e,e==="getOobCode");return i(n,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(n,t){const e=Dp(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),o=e.getOptions();if(Ea(o,t??{}))return r;si(r,"already-initialized")}return e.initialize({options:t})}function AC(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(fs);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function wC(n,t,e){const i=Qo(n);bt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,o=PS(t),{host:c,port:h}=xC(t),d=h===null?"":`:${h}`,m={url:`${o}//${c}${d}/`},_=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){bt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),bt(Ea(m,i.config.emulator)&&Ea(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,Yo(c)?(lS(`${o}//${c}${d}`),cS("Auth",!0)):RC()}function PS(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function xC(n){const t=PS(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:Rb(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:Rb(c)}}}function Rb(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function RC(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return hs("not implemented")}_getIdTokenResponse(t){return hs("not implemented")}_linkToIdToken(t,e){return hs("not implemented")}_getReauthenticationResolver(t){return hs("not implemented")}}async function IC(n,t){return Ar(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CC(n,t){return Yf(n,"POST","/v1/accounts:signInWithPassword",Ra(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DC(n,t){return Yf(n,"POST","/v1/accounts:signInWithEmailLink",Ra(n,t))}async function OC(n,t){return Yf(n,"POST","/v1/accounts:signInWithEmailLink",Ra(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc extends Vp{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new Uc(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new Uc(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xb(t,e,"signInWithPassword",CC);case"emailLink":return DC(t,{email:this._email,oobCode:this._password});default:si(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xb(t,i,"signUpPassword",IC);case"emailLink":return OC(t,{idToken:e,email:this._email,oobCode:this._password});default:si(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(n,t){return Yf(n,"POST","/v1/accounts:signInWithIdp",Ra(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC="http://localhost";class Sa extends Vp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Sa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):si("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=e,o=Op(e,["providerId","signInMethod"]);if(!i||!r)return null;const c=new Sa(i,r);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return Mo(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Mo(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Mo(t,e)}buildRequest(){const t={requestUri:MC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=$c(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function NC(n){const t=yc(vc(n)).link,e=t?yc(vc(t)).deep_link_id:null,i=yc(vc(n)).deep_link_id;return(i?yc(vc(i)).link:null)||i||e||t||n}class Lp{constructor(t){var e,i,r,o,c,h;const d=yc(vc(t)),m=(e=d.apiKey)!==null&&e!==void 0?e:null,_=(i=d.oobCode)!==null&&i!==void 0?i:null,v=kC((r=d.mode)!==null&&r!==void 0?r:null);bt(m&&_&&v,"argument-error"),this.apiKey=m,this.operation=v,this.code=_,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(c=d.lang)!==null&&c!==void 0?c:null,this.tenantId=(h=d.tenantId)!==null&&h!==void 0?h:null}static parseLink(t){const e=NC(t);try{return new Lp(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(){this.providerId=Xo.PROVIDER_ID}static credential(t,e){return Uc._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=Lp.parseLink(e);return bt(i,"argument-error"),Uc._fromEmailAndCode(t,i.code,i.tenantId)}}Xo.PROVIDER_ID="password";Xo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc extends VS{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends Jc{constructor(){super("facebook.com")}static credential(t){return Sa._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return $s.credentialFromTaggedObject(t)}static credentialFromError(t){return $s.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return $s.credential(t.oauthAccessToken)}catch{return null}}}$s.FACEBOOK_SIGN_IN_METHOD="facebook.com";$s.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends Jc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Sa._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Zs.credentialFromTaggedObject(t)}static credentialFromError(t){return Zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return Zs.credential(e,i)}catch{return null}}}Zs.GOOGLE_SIGN_IN_METHOD="google.com";Zs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends Jc{constructor(){super("github.com")}static credential(t){return Sa._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Js.credentialFromTaggedObject(t)}static credentialFromError(t){return Js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Js.credential(t.oauthAccessToken)}catch{return null}}}Js.GITHUB_SIGN_IN_METHOD="github.com";Js.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr extends Jc{constructor(){super("twitter.com")}static credential(t,e){return Sa._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return tr.credentialFromTaggedObject(t)}static credentialFromError(t){return tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return tr.credential(e,i)}catch{return null}}}tr.TWITTER_SIGN_IN_METHOD="twitter.com";tr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const o=await ti._fromIdTokenResponse(t,i,r),c=Ib(i);return new Uo({user:o,providerId:c,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=Ib(i);return new Uo({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function Ib(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf extends vs{constructor(t,e,i,r){var o;super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,yf.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new yf(t,e,i,r)}}function LS(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?yf._fromErrorAndOperation(n,o,t,i):o})}async function PC(n,t,e=!1){const i=await Lc(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Uo._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VC(n,t,e=!1){const{auth:i}=n;if(Jn(i.app))return Promise.reject(lr(i));const r="reauthenticate";try{const o=await Lc(n,LS(i,r,t,n),e);bt(o.idToken,i,"internal-error");const c=Np(o.idToken);bt(c,i,"internal-error");const{sub:h}=c;return bt(n.uid===h,i,"user-mismatch"),Uo._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&si(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function US(n,t,e=!1){if(Jn(n.app))return Promise.reject(lr(n));const i="signIn",r=await LS(n,i,t),o=await Uo._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(o.user),o}async function LC(n,t){return US(Qo(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UC(n){const t=Qo(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function zC(n,t,e){return Jn(n.app)?Promise.reject(lr(n)):LC(Pe(n),Xo.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&UC(n),i})}function BC(n,t,e,i){return Pe(n).onIdTokenChanged(t,e,i)}function jC(n,t,e){return Pe(n).beforeAuthStateChanged(t,e)}function FC(n,t,e,i){return Pe(n).onAuthStateChanged(t,e,i)}function HC(n){return Pe(n).signOut()}const vf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(vf,"1"),this.storage.removeItem(vf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=1e3,GC=10;class BS extends zS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=OS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,h,d)=>{this.notifyListeners(c,d)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const c=this.storage.getItem(i);!e&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);cC()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,GC):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},qC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}BS.type="LOCAL";const YC=BS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS extends zS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}jS.type="SESSION";const FS=jS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new Qf(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:o}=e.data,c=this.handlersMap[r];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const h=Array.from(c).map(async m=>m(e.origin,o)),d=await KC(h);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:d})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,c;return new Promise((h,d)=>{const m=Up("",20);r.port1.start();const _=setTimeout(()=>{d(new Error("unsupported_event"))},i);c={messageChannel:r,onMessage(v){const b=v;if(b.data.eventId===m)switch(b.data.status){case"ack":clearTimeout(_),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(b.data.response);break;default:clearTimeout(_),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(c),r.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:m,data:e},[r.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(){return window}function XC(n){Ci().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function WC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $C(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function ZC(){return HS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="firebaseLocalStorageDb",JC=1,bf="firebaseLocalStorage",GS="fbase_key";class tu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Xf(n,t){return n.transaction([bf],t?"readwrite":"readonly").objectStore(bf)}function t2(){const n=indexedDB.deleteDatabase(qS);return new tu(n).toPromise()}function ep(){const n=indexedDB.open(qS,JC);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(bf,{keyPath:GS})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(bf)?t(i):(i.close(),await t2(),t(await ep()))})})}async function Cb(n,t,e){const i=Xf(n,!0).put({[GS]:t,value:e});return new tu(i).toPromise()}async function e2(n,t){const e=Xf(n,!1).get(t),i=await new tu(e).toPromise();return i===void 0?null:i.value}function Db(n,t){const e=Xf(n,!0).delete(t);return new tu(e).toPromise()}const n2=800,i2=3;class YS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ep(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>i2)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return HS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qf._getInstance(ZC()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await WC(),!this.activeServiceWorker)return;this.sender=new QC(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((e=i[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||$C()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await ep();return await Cb(t,vf,"1"),await Db(t,vf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Cb(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>e2(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>Db(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const o=Xf(r,!1).getAll();return new tu(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:o}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),n2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}YS.type="LOCAL";const s2=YS;new Zc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(n,t){return t?fs(t):(bt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp extends Vp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Mo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Mo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Mo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function a2(n){return US(n.auth,new zp(n),n.bypassAuthState)}function o2(n){const{auth:t,user:e}=n;return bt(e,t,"internal-error"),VC(e,new zp(n),n.bypassAuthState)}async function l2(n){const{auth:t,user:e}=n;return bt(e,t,"internal-error"),PC(e,new zp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(t,e,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:o,error:c,type:h}=t;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(m){this.reject(m)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return a2;case"linkViaPopup":case"linkViaRedirect":return l2;case"reauthViaPopup":case"reauthViaRedirect":return o2;default:si(this.auth,"internal-error")}}resolve(t){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=new Zc(2e3,1e4);class Io extends KS{constructor(t,e,i,r,o){super(t,e,r,o),this.provider=i,this.authWindow=null,this.pollId=null,Io.currentPopupAction&&Io.currentPopupAction.cancel(),Io.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return bt(t,this.auth,"internal-error"),t}async onExecution(){ps(this.filter.length===1,"Popup operations only handle one event");const t=Up();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Io.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,i;if(!((i=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,c2.get())};t()}}Io.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2="pendingRedirect",ef=new Map;class h2 extends KS{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=ef.get(this.auth._key());if(!t){try{const i=await f2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}ef.set(this.auth._key(),t)}return this.bypassAuthState||ef.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function f2(n,t){const e=m2(t),i=g2(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function d2(n,t){ef.set(n._key(),t)}function g2(n){return fs(n._redirectPersistence)}function m2(n){return tf(u2,n.config.apiKey,n.name)}async function p2(n,t,e=!1){if(Jn(n.app))return Promise.reject(lr(n));const i=Qo(n),r=r2(i,t),c=await new h2(i,r,e).execute();return c&&!e&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=10*60*1e3;class y2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!v2(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!QS(t)){const r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";e.onError(Ii(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=_2&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ob(t))}saveEventToCache(t){this.cachedEventUids.add(Ob(t)),this.lastProcessedEventTime=Date.now()}}function Ob(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function QS({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function v2(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b2(n,t={}){return Ar(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,T2=/^https?/;async function S2(n){if(n.config.emulator)return;const{authorizedDomains:t}=await b2(n);for(const e of t)try{if(A2(e))return}catch{}si(n,"unauthorized-domain")}function A2(n){const t=Jm(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===i}if(!T2.test(e))return!1;if(E2.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=new Zc(3e4,6e4);function Mb(){const n=Ci().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function x2(n){return new Promise((t,e)=>{var i,r,o;function c(){Mb(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Mb(),e(Ii(n,"network-request-failed"))},timeout:w2.get()})}if(!((r=(i=Ci().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((o=Ci().gapi)===null||o===void 0)&&o.load)c();else{const h=yC("iframefcb");return Ci()[h]=()=>{gapi.load?c():e(Ii(n,"network-request-failed"))},kS(`${_C()}?onload=${h}`).catch(d=>e(d))}}).catch(t=>{throw nf=null,t})}let nf=null;function R2(n){return nf=nf||x2(n),nf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=new Zc(5e3,15e3),C2="__/auth/iframe",D2="emulator/auth/iframe",O2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},M2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function k2(n){const t=n.config;bt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?kp(t,D2):`https://${n.config.authDomain}/${C2}`,i={apiKey:t.apiKey,appName:n.name,v:Ko},r=M2.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${$c(i).slice(1)}`}async function N2(n){const t=await R2(n),e=Ci().gapi;return bt(e,n,"internal-error"),t.open({where:document.body,url:k2(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:O2,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const c=Ii(n,"network-request-failed"),h=Ci().setTimeout(()=>{o(c)},I2.get());function d(){Ci().clearTimeout(h),r(i)}i.ping(d).then(d,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},V2=500,L2=600,U2="_blank",z2="http://localhost";class kb{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function B2(n,t,e,i=V2,r=L2){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const d=Object.assign(Object.assign({},P2),{width:i.toString(),height:r.toString(),top:o,left:c}),m=rn().toLowerCase();e&&(h=xS(m)?U2:e),AS(m)&&(t=t||z2,d.scrollbars="yes");const _=Object.entries(d).reduce((b,[A,I])=>`${b}${A}=${I},`,"");if(lC(m)&&h!=="_self")return j2(t||"",h),new kb(null);const v=window.open(t||"",h,_);bt(v,n,"popup-blocked");try{v.focus()}catch{}return new kb(v)}function j2(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2="__/auth/handler",H2="emulator/auth/handler",q2=encodeURIComponent("fac");async function Nb(n,t,e,i,r,o){bt(n.config.authDomain,n,"auth-domain-config-required"),bt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Ko,eventId:r};if(t instanceof VS){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",DR(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[_,v]of Object.entries({}))c[_]=v}if(t instanceof Jc){const _=t.getScopes().filter(v=>v!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const d=await n._getAppCheckToken(),m=d?`#${q2}=${encodeURIComponent(d)}`:"";return`${G2(n)}?${$c(h).slice(1)}${m}`}function G2({config:n}){return n.emulator?kp(n,H2):`https://${n.authDomain}/${F2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="webStorageSupport";class Y2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FS,this._completeRedirectFn=p2,this._overrideRedirectResult=d2}async _openPopup(t,e,i,r){var o;ps((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const c=await Nb(t,e,i,Jm(),r);return B2(t,c,Up())}async _openRedirect(t,e,i,r){await this._originValidation(t);const o=await Nb(t,e,i,Jm(),r);return XC(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(ps(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await N2(t),i=new y2(t);return e.register("authEvent",r=>(bt(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Dm,{type:Dm},r=>{var o;const c=(o=r?.[0])===null||o===void 0?void 0:o[Dm];c!==void 0&&e(!!c),si(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=S2(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return OS()||wS()||Pp()}}const K2=Y2;var Pb="@firebase/auth",Vb="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function W2(n){Lo(new Ta("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;bt(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MS(n)},m=new gC(i,r,o,d);return AC(m,e),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Lo(new Ta("auth-internal",t=>{const e=Qo(t.getProvider("auth").getImmediate());return(i=>new Q2(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),or(Pb,Vb,X2(n)),or(Pb,Vb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=5*60,Z2=oS("authIdTokenMaxAge")||$2;let Lb=null;const J2=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>Z2)return;const r=e?.token;Lb!==r&&(Lb=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function tD(n=dS()){const t=Dp(n,"auth");if(t.isInitialized())return t.getImmediate();const e=SC(n,{popupRedirectResolver:K2,persistence:[s2,YC,FS]}),i=oS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=J2(o.toString());jC(e,c,()=>c(e.currentUser)),BC(e,h=>c(h))}}const r=rS("auth");return r&&wC(e,`http://${r}`),e}function eD(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}mC({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const o=Ii("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",eD().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});W2("Browser");var nD="firebase",iD="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */or(nD,iD,"app");var Ub=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cr,XS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,x){function R(){}R.prototype=x.prototype,C.D=x.prototype,C.prototype=new R,C.prototype.constructor=C,C.C=function(N,P,L){for(var D=Array(arguments.length-2),$t=2;$t<arguments.length;$t++)D[$t-2]=arguments[$t];return x.prototype[P].apply(N,D)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(C,x,R){R||(R=0);var N=Array(16);if(typeof x=="string")for(var P=0;16>P;++P)N[P]=x.charCodeAt(R++)|x.charCodeAt(R++)<<8|x.charCodeAt(R++)<<16|x.charCodeAt(R++)<<24;else for(P=0;16>P;++P)N[P]=x[R++]|x[R++]<<8|x[R++]<<16|x[R++]<<24;x=C.g[0],R=C.g[1],P=C.g[2];var L=C.g[3],D=x+(L^R&(P^L))+N[0]+3614090360&4294967295;x=R+(D<<7&4294967295|D>>>25),D=L+(P^x&(R^P))+N[1]+3905402710&4294967295,L=x+(D<<12&4294967295|D>>>20),D=P+(R^L&(x^R))+N[2]+606105819&4294967295,P=L+(D<<17&4294967295|D>>>15),D=R+(x^P&(L^x))+N[3]+3250441966&4294967295,R=P+(D<<22&4294967295|D>>>10),D=x+(L^R&(P^L))+N[4]+4118548399&4294967295,x=R+(D<<7&4294967295|D>>>25),D=L+(P^x&(R^P))+N[5]+1200080426&4294967295,L=x+(D<<12&4294967295|D>>>20),D=P+(R^L&(x^R))+N[6]+2821735955&4294967295,P=L+(D<<17&4294967295|D>>>15),D=R+(x^P&(L^x))+N[7]+4249261313&4294967295,R=P+(D<<22&4294967295|D>>>10),D=x+(L^R&(P^L))+N[8]+1770035416&4294967295,x=R+(D<<7&4294967295|D>>>25),D=L+(P^x&(R^P))+N[9]+2336552879&4294967295,L=x+(D<<12&4294967295|D>>>20),D=P+(R^L&(x^R))+N[10]+4294925233&4294967295,P=L+(D<<17&4294967295|D>>>15),D=R+(x^P&(L^x))+N[11]+2304563134&4294967295,R=P+(D<<22&4294967295|D>>>10),D=x+(L^R&(P^L))+N[12]+1804603682&4294967295,x=R+(D<<7&4294967295|D>>>25),D=L+(P^x&(R^P))+N[13]+4254626195&4294967295,L=x+(D<<12&4294967295|D>>>20),D=P+(R^L&(x^R))+N[14]+2792965006&4294967295,P=L+(D<<17&4294967295|D>>>15),D=R+(x^P&(L^x))+N[15]+1236535329&4294967295,R=P+(D<<22&4294967295|D>>>10),D=x+(P^L&(R^P))+N[1]+4129170786&4294967295,x=R+(D<<5&4294967295|D>>>27),D=L+(R^P&(x^R))+N[6]+3225465664&4294967295,L=x+(D<<9&4294967295|D>>>23),D=P+(x^R&(L^x))+N[11]+643717713&4294967295,P=L+(D<<14&4294967295|D>>>18),D=R+(L^x&(P^L))+N[0]+3921069994&4294967295,R=P+(D<<20&4294967295|D>>>12),D=x+(P^L&(R^P))+N[5]+3593408605&4294967295,x=R+(D<<5&4294967295|D>>>27),D=L+(R^P&(x^R))+N[10]+38016083&4294967295,L=x+(D<<9&4294967295|D>>>23),D=P+(x^R&(L^x))+N[15]+3634488961&4294967295,P=L+(D<<14&4294967295|D>>>18),D=R+(L^x&(P^L))+N[4]+3889429448&4294967295,R=P+(D<<20&4294967295|D>>>12),D=x+(P^L&(R^P))+N[9]+568446438&4294967295,x=R+(D<<5&4294967295|D>>>27),D=L+(R^P&(x^R))+N[14]+3275163606&4294967295,L=x+(D<<9&4294967295|D>>>23),D=P+(x^R&(L^x))+N[3]+4107603335&4294967295,P=L+(D<<14&4294967295|D>>>18),D=R+(L^x&(P^L))+N[8]+1163531501&4294967295,R=P+(D<<20&4294967295|D>>>12),D=x+(P^L&(R^P))+N[13]+2850285829&4294967295,x=R+(D<<5&4294967295|D>>>27),D=L+(R^P&(x^R))+N[2]+4243563512&4294967295,L=x+(D<<9&4294967295|D>>>23),D=P+(x^R&(L^x))+N[7]+1735328473&4294967295,P=L+(D<<14&4294967295|D>>>18),D=R+(L^x&(P^L))+N[12]+2368359562&4294967295,R=P+(D<<20&4294967295|D>>>12),D=x+(R^P^L)+N[5]+4294588738&4294967295,x=R+(D<<4&4294967295|D>>>28),D=L+(x^R^P)+N[8]+2272392833&4294967295,L=x+(D<<11&4294967295|D>>>21),D=P+(L^x^R)+N[11]+1839030562&4294967295,P=L+(D<<16&4294967295|D>>>16),D=R+(P^L^x)+N[14]+4259657740&4294967295,R=P+(D<<23&4294967295|D>>>9),D=x+(R^P^L)+N[1]+2763975236&4294967295,x=R+(D<<4&4294967295|D>>>28),D=L+(x^R^P)+N[4]+1272893353&4294967295,L=x+(D<<11&4294967295|D>>>21),D=P+(L^x^R)+N[7]+4139469664&4294967295,P=L+(D<<16&4294967295|D>>>16),D=R+(P^L^x)+N[10]+3200236656&4294967295,R=P+(D<<23&4294967295|D>>>9),D=x+(R^P^L)+N[13]+681279174&4294967295,x=R+(D<<4&4294967295|D>>>28),D=L+(x^R^P)+N[0]+3936430074&4294967295,L=x+(D<<11&4294967295|D>>>21),D=P+(L^x^R)+N[3]+3572445317&4294967295,P=L+(D<<16&4294967295|D>>>16),D=R+(P^L^x)+N[6]+76029189&4294967295,R=P+(D<<23&4294967295|D>>>9),D=x+(R^P^L)+N[9]+3654602809&4294967295,x=R+(D<<4&4294967295|D>>>28),D=L+(x^R^P)+N[12]+3873151461&4294967295,L=x+(D<<11&4294967295|D>>>21),D=P+(L^x^R)+N[15]+530742520&4294967295,P=L+(D<<16&4294967295|D>>>16),D=R+(P^L^x)+N[2]+3299628645&4294967295,R=P+(D<<23&4294967295|D>>>9),D=x+(P^(R|~L))+N[0]+4096336452&4294967295,x=R+(D<<6&4294967295|D>>>26),D=L+(R^(x|~P))+N[7]+1126891415&4294967295,L=x+(D<<10&4294967295|D>>>22),D=P+(x^(L|~R))+N[14]+2878612391&4294967295,P=L+(D<<15&4294967295|D>>>17),D=R+(L^(P|~x))+N[5]+4237533241&4294967295,R=P+(D<<21&4294967295|D>>>11),D=x+(P^(R|~L))+N[12]+1700485571&4294967295,x=R+(D<<6&4294967295|D>>>26),D=L+(R^(x|~P))+N[3]+2399980690&4294967295,L=x+(D<<10&4294967295|D>>>22),D=P+(x^(L|~R))+N[10]+4293915773&4294967295,P=L+(D<<15&4294967295|D>>>17),D=R+(L^(P|~x))+N[1]+2240044497&4294967295,R=P+(D<<21&4294967295|D>>>11),D=x+(P^(R|~L))+N[8]+1873313359&4294967295,x=R+(D<<6&4294967295|D>>>26),D=L+(R^(x|~P))+N[15]+4264355552&4294967295,L=x+(D<<10&4294967295|D>>>22),D=P+(x^(L|~R))+N[6]+2734768916&4294967295,P=L+(D<<15&4294967295|D>>>17),D=R+(L^(P|~x))+N[13]+1309151649&4294967295,R=P+(D<<21&4294967295|D>>>11),D=x+(P^(R|~L))+N[4]+4149444226&4294967295,x=R+(D<<6&4294967295|D>>>26),D=L+(R^(x|~P))+N[11]+3174756917&4294967295,L=x+(D<<10&4294967295|D>>>22),D=P+(x^(L|~R))+N[2]+718787259&4294967295,P=L+(D<<15&4294967295|D>>>17),D=R+(L^(P|~x))+N[9]+3951481745&4294967295,C.g[0]=C.g[0]+x&4294967295,C.g[1]=C.g[1]+(P+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+P&4294967295,C.g[3]=C.g[3]+L&4294967295}i.prototype.u=function(C,x){x===void 0&&(x=C.length);for(var R=x-this.blockSize,N=this.B,P=this.h,L=0;L<x;){if(P==0)for(;L<=R;)r(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<x;)if(N[P++]=C.charCodeAt(L++),P==this.blockSize){r(this,N),P=0;break}}else for(;L<x;)if(N[P++]=C[L++],P==this.blockSize){r(this,N),P=0;break}}this.h=P,this.o+=x},i.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var x=1;x<C.length-8;++x)C[x]=0;var R=8*this.o;for(x=C.length-8;x<C.length;++x)C[x]=R&255,R/=256;for(this.u(C),C=Array(16),x=R=0;4>x;++x)for(var N=0;32>N;N+=8)C[R++]=this.g[x]>>>N&255;return C};function o(C,x){var R=h;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=x(C)}function c(C,x){this.h=x;for(var R=[],N=!0,P=C.length-1;0<=P;P--){var L=C[P]|0;N&&L==x||(R[P]=L,N=!1)}this.g=R}var h={};function d(C){return-128<=C&&128>C?o(C,function(x){return new c([x|0],0>x?-1:0)}):new c([C|0],0>C?-1:0)}function m(C){if(isNaN(C)||!isFinite(C))return v;if(0>C)return M(m(-C));for(var x=[],R=1,N=0;C>=R;N++)x[N]=C/R|0,R*=4294967296;return new c(x,0)}function _(C,x){if(C.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(C.charAt(0)=="-")return M(_(C.substring(1),x));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=m(Math.pow(x,8)),N=v,P=0;P<C.length;P+=8){var L=Math.min(8,C.length-P),D=parseInt(C.substring(P,P+L),x);8>L?(L=m(Math.pow(x,L)),N=N.j(L).add(m(D))):(N=N.j(R),N=N.add(m(D)))}return N}var v=d(0),b=d(1),A=d(16777216);n=c.prototype,n.m=function(){if(k(this))return-M(this).m();for(var C=0,x=1,R=0;R<this.g.length;R++){var N=this.i(R);C+=(0<=N?N:4294967296+N)*x,x*=4294967296}return C},n.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(I(this))return"0";if(k(this))return"-"+M(this).toString(C);for(var x=m(Math.pow(C,6)),R=this,N="";;){var P=it(R,x).g;R=G(R,P.j(x));var L=((0<R.g.length?R.g[0]:R.h)>>>0).toString(C);if(R=P,I(R))return L+N;for(;6>L.length;)L="0"+L;N=L+N}},n.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function I(C){if(C.h!=0)return!1;for(var x=0;x<C.g.length;x++)if(C.g[x]!=0)return!1;return!0}function k(C){return C.h==-1}n.l=function(C){return C=G(this,C),k(C)?-1:I(C)?0:1};function M(C){for(var x=C.g.length,R=[],N=0;N<x;N++)R[N]=~C.g[N];return new c(R,~C.h).add(b)}n.abs=function(){return k(this)?M(this):this},n.add=function(C){for(var x=Math.max(this.g.length,C.g.length),R=[],N=0,P=0;P<=x;P++){var L=N+(this.i(P)&65535)+(C.i(P)&65535),D=(L>>>16)+(this.i(P)>>>16)+(C.i(P)>>>16);N=D>>>16,L&=65535,D&=65535,R[P]=D<<16|L}return new c(R,R[R.length-1]&-2147483648?-1:0)};function G(C,x){return C.add(M(x))}n.j=function(C){if(I(this)||I(C))return v;if(k(this))return k(C)?M(this).j(M(C)):M(M(this).j(C));if(k(C))return M(this.j(M(C)));if(0>this.l(A)&&0>C.l(A))return m(this.m()*C.m());for(var x=this.g.length+C.g.length,R=[],N=0;N<2*x;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var P=0;P<C.g.length;P++){var L=this.i(N)>>>16,D=this.i(N)&65535,$t=C.i(P)>>>16,At=C.i(P)&65535;R[2*N+2*P]+=D*At,X(R,2*N+2*P),R[2*N+2*P+1]+=L*At,X(R,2*N+2*P+1),R[2*N+2*P+1]+=D*$t,X(R,2*N+2*P+1),R[2*N+2*P+2]+=L*$t,X(R,2*N+2*P+2)}for(N=0;N<x;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=x;N<2*x;N++)R[N]=0;return new c(R,0)};function X(C,x){for(;(C[x]&65535)!=C[x];)C[x+1]+=C[x]>>>16,C[x]&=65535,x++}function et(C,x){this.g=C,this.h=x}function it(C,x){if(I(x))throw Error("division by zero");if(I(C))return new et(v,v);if(k(C))return x=it(M(C),x),new et(M(x.g),M(x.h));if(k(x))return x=it(C,M(x)),new et(M(x.g),x.h);if(30<C.g.length){if(k(C)||k(x))throw Error("slowDivide_ only works with positive integers.");for(var R=b,N=x;0>=N.l(C);)R=W(R),N=W(N);var P=ot(R,1),L=ot(N,1);for(N=ot(N,2),R=ot(R,2);!I(N);){var D=L.add(N);0>=D.l(C)&&(P=P.add(R),L=D),N=ot(N,1),R=ot(R,1)}return x=G(C,P.j(x)),new et(P,x)}for(P=v;0<=C.l(x);){for(R=Math.max(1,Math.floor(C.m()/x.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),L=m(R),D=L.j(x);k(D)||0<D.l(C);)R-=N,L=m(R),D=L.j(x);I(L)&&(L=b),P=P.add(L),C=G(C,D)}return new et(P,C)}n.A=function(C){return it(this,C).h},n.and=function(C){for(var x=Math.max(this.g.length,C.g.length),R=[],N=0;N<x;N++)R[N]=this.i(N)&C.i(N);return new c(R,this.h&C.h)},n.or=function(C){for(var x=Math.max(this.g.length,C.g.length),R=[],N=0;N<x;N++)R[N]=this.i(N)|C.i(N);return new c(R,this.h|C.h)},n.xor=function(C){for(var x=Math.max(this.g.length,C.g.length),R=[],N=0;N<x;N++)R[N]=this.i(N)^C.i(N);return new c(R,this.h^C.h)};function W(C){for(var x=C.g.length+1,R=[],N=0;N<x;N++)R[N]=C.i(N)<<1|C.i(N-1)>>>31;return new c(R,C.h)}function ot(C,x){var R=x>>5;x%=32;for(var N=C.g.length-R,P=[],L=0;L<N;L++)P[L]=0<x?C.i(L+R)>>>x|C.i(L+R+1)<<32-x:C.i(L+R);return new c(P,C.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,XS=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=_,cr=c}).apply(typeof Ub<"u"?Ub:typeof self<"u"?self:typeof window<"u"?window:{});var Ph=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var WS,bc,$S,sf,np,ZS,JS,tA;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,y,E){return f==Array.prototype||f==Object.prototype||(f[y]=E.value),f};function e(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ph=="object"&&Ph];for(var y=0;y<f.length;++y){var E=f[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=e(this);function r(f,y){if(y)t:{var E=i;f=f.split(".");for(var w=0;w<f.length-1;w++){var B=f[w];if(!(B in E))break t;E=E[B]}f=f[f.length-1],w=E[f],y=y(w),y!=w&&y!=null&&t(E,f,{configurable:!0,writable:!0,value:y})}}function o(f,y){f instanceof String&&(f+="");var E=0,w=!1,B={next:function(){if(!w&&E<f.length){var K=E++;return{value:y(K,f[K]),done:!1}}return w=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}r("Array.prototype.values",function(f){return f||function(){return o(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function d(f){var y=typeof f;return y=y!="object"?y:f?Array.isArray(f)?"array":y:"null",y=="array"||y=="object"&&typeof f.length=="number"}function m(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function _(f,y,E){return f.call.apply(f.bind,arguments)}function v(f,y,E){if(!f)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,w),f.apply(y,B)}}return function(){return f.apply(y,arguments)}}function b(f,y,E){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:v,b.apply(null,arguments)}function A(f,y){var E=Array.prototype.slice.call(arguments,1);return function(){var w=E.slice();return w.push.apply(w,arguments),f.apply(this,w)}}function I(f,y){function E(){}E.prototype=y.prototype,f.aa=y.prototype,f.prototype=new E,f.prototype.constructor=f,f.Qb=function(w,B,K){for(var lt=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)lt[Vt-2]=arguments[Vt];return y.prototype[B].apply(w,lt)}}function k(f){const y=f.length;if(0<y){const E=Array(y);for(let w=0;w<y;w++)E[w]=f[w];return E}return[]}function M(f,y){for(let E=1;E<arguments.length;E++){const w=arguments[E];if(d(w)){const B=f.length||0,K=w.length||0;f.length=B+K;for(let lt=0;lt<K;lt++)f[B+lt]=w[lt]}else f.push(w)}}class G{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function X(f){return/^[\s\xa0]*$/.test(f)}function et(){var f=h.navigator;return f&&(f=f.userAgent)?f:""}function it(f){return it[" "](f),f}it[" "]=function(){};var W=et().indexOf("Gecko")!=-1&&!(et().toLowerCase().indexOf("webkit")!=-1&&et().indexOf("Edge")==-1)&&!(et().indexOf("Trident")!=-1||et().indexOf("MSIE")!=-1)&&et().indexOf("Edge")==-1;function ot(f,y,E){for(const w in f)y.call(E,f[w],w,f)}function C(f,y){for(const E in f)y.call(void 0,f[E],E,f)}function x(f){const y={};for(const E in f)y[E]=f[E];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(f,y){let E,w;for(let B=1;B<arguments.length;B++){w=arguments[B];for(E in w)f[E]=w[E];for(let K=0;K<R.length;K++)E=R[K],Object.prototype.hasOwnProperty.call(w,E)&&(f[E]=w[E])}}function P(f){var y=1;f=f.split(":");const E=[];for(;0<y&&f.length;)E.push(f.shift()),y--;return f.length&&E.push(f.join(":")),E}function L(f){h.setTimeout(()=>{throw f},0)}function D(){var f=kt;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class $t{constructor(){this.h=this.g=null}add(y,E){const w=At.get();w.set(y,E),this.h?this.h.next=w:this.g=w,this.h=w}}var At=new G(()=>new Y,f=>f.reset());class Y{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let at,gt=!1,kt=new $t,V=()=>{const f=h.Promise.resolve(void 0);at=()=>{f.then(nt)}};var nt=()=>{for(var f;f=D();){try{f.h.call(f.g)}catch(E){L(E)}var y=At;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}gt=!1};function ct(){this.s=this.s,this.C=this.C}ct.prototype.s=!1,ct.prototype.ma=function(){this.s||(this.s=!0,this.N())},ct.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function rt(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}rt.prototype.h=function(){this.defaultPrevented=!0};var dt=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};h.addEventListener("test",E,y),h.removeEventListener("test",E,y)}catch{}return f}();function wt(f,y){if(rt.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var E=this.type=f.type,w=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(W){t:{try{it(y.nodeName);var B=!0;break t}catch{}B=!1}B||(y=null)}}else E=="mouseover"?y=f.fromElement:E=="mouseout"&&(y=f.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:_t[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&wt.aa.h.call(this)}}I(wt,rt);var _t={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ve="closure_listenable_"+(1e6*Math.random()|0),se=0;function oi(f,y,E,w,B){this.listener=f,this.proxy=null,this.src=y,this.type=E,this.capture=!!w,this.ha=B,this.key=++se,this.da=this.fa=!1}function Es(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Pi(f){this.src=f,this.g={},this.h=0}Pi.prototype.add=function(f,y,E,w,B){var K=f.toString();f=this.g[K],f||(f=this.g[K]=[],this.h++);var lt=Ir(f,y,w,B);return-1<lt?(y=f[lt],E||(y.fa=!1)):(y=new oi(y,this.src,K,!!w,B),y.fa=E,f.push(y)),y};function Rr(f,y){var E=y.type;if(E in f.g){var w=f.g[E],B=Array.prototype.indexOf.call(w,y,void 0),K;(K=0<=B)&&Array.prototype.splice.call(w,B,1),K&&(Es(y),f.g[E].length==0&&(delete f.g[E],f.h--))}}function Ir(f,y,E,w){for(var B=0;B<f.length;++B){var K=f[B];if(!K.da&&K.listener==y&&K.capture==!!E&&K.ha==w)return B}return-1}var Cr="closure_lm_"+(1e6*Math.random()|0),il={};function uu(f,y,E,w,B){if(Array.isArray(y)){for(var K=0;K<y.length;K++)uu(f,y[K],E,w,B);return null}return E=hu(E),f&&f[Ve]?f.K(y,E,m(w)?!!w.capture:!1,B):Dn(f,y,E,!1,w,B)}function Dn(f,y,E,w,B,K){if(!y)throw Error("Invalid event type");var lt=m(B)?!!B.capture:!!B,Vt=Oa(f);if(Vt||(f[Cr]=Vt=new Pi(f)),E=Vt.add(y,E,w,lt,K),E.proxy)return E;if(w=yd(),E.proxy=w,w.src=f,w.listener=E,f.addEventListener)dt||(B=lt),B===void 0&&(B=!1),f.addEventListener(y.toString(),w,B);else if(f.attachEvent)f.attachEvent(Dr(y.toString()),w);else if(f.addListener&&f.removeListener)f.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return E}function yd(){function f(E){return y.call(f.src,f.listener,E)}const y=vd;return f}function sl(f,y,E,w,B){if(Array.isArray(y))for(var K=0;K<y.length;K++)sl(f,y[K],E,w,B);else w=m(w)?!!w.capture:!!w,E=hu(E),f&&f[Ve]?(f=f.i,y=String(y).toString(),y in f.g&&(K=f.g[y],E=Ir(K,E,w,B),-1<E&&(Es(K[E]),Array.prototype.splice.call(K,E,1),K.length==0&&(delete f.g[y],f.h--)))):f&&(f=Oa(f))&&(y=f.g[y.toString()],f=-1,y&&(f=Ir(y,E,w,B)),(E=-1<f?y[f]:null)&&Da(E))}function Da(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[Ve])Rr(y.i,f);else{var E=f.type,w=f.proxy;y.removeEventListener?y.removeEventListener(E,w,f.capture):y.detachEvent?y.detachEvent(Dr(E),w):y.addListener&&y.removeListener&&y.removeListener(w),(E=Oa(y))?(Rr(E,f),E.h==0&&(E.src=null,y[Cr]=null)):Es(f)}}}function Dr(f){return f in il?il[f]:il[f]="on"+f}function vd(f,y){if(f.da)f=!0;else{y=new wt(y,this);var E=f.listener,w=f.ha||f.src;f.fa&&Da(f),f=E.call(w,y)}return f}function Oa(f){return f=f[Cr],f instanceof Pi?f:null}var rl="__closure_events_fn_"+(1e9*Math.random()>>>0);function hu(f){return typeof f=="function"?f:(f[rl]||(f[rl]=function(y){return f.handleEvent(y)}),f[rl])}function de(){ct.call(this),this.i=new Pi(this),this.M=this,this.F=null}I(de,ct),de.prototype[Ve]=!0,de.prototype.removeEventListener=function(f,y,E,w){sl(this,f,y,E,w)};function Kt(f,y){var E,w=f.F;if(w)for(E=[];w;w=w.F)E.push(w);if(f=f.M,w=y.type||y,typeof y=="string")y=new rt(y,f);else if(y instanceof rt)y.target=y.target||f;else{var B=y;y=new rt(w,f),N(y,B)}if(B=!0,E)for(var K=E.length-1;0<=K;K--){var lt=y.g=E[K];B=vn(lt,w,!0,y)&&B}if(lt=y.g=f,B=vn(lt,w,!0,y)&&B,B=vn(lt,w,!1,y)&&B,E)for(K=0;K<E.length;K++)lt=y.g=E[K],B=vn(lt,w,!1,y)&&B}de.prototype.N=function(){if(de.aa.N.call(this),this.i){var f=this.i,y;for(y in f.g){for(var E=f.g[y],w=0;w<E.length;w++)Es(E[w]);delete f.g[y],f.h--}}this.F=null},de.prototype.K=function(f,y,E,w){return this.i.add(String(f),y,!1,E,w)},de.prototype.L=function(f,y,E,w){return this.i.add(String(f),y,!0,E,w)};function vn(f,y,E,w){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,K=0;K<y.length;++K){var lt=y[K];if(lt&&!lt.da&&lt.capture==E){var Vt=lt.listener,De=lt.ha||lt.src;lt.fa&&Rr(f.i,lt),B=Vt.call(De,w)!==!1&&B}}return B&&!w.defaultPrevented}function Ze(f,y,E){if(typeof f=="function")E&&(f=b(f,E));else if(f&&typeof f.handleEvent=="function")f=b(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:h.setTimeout(f,y||0)}function fu(f){f.g=Ze(()=>{f.g=null,f.i&&(f.i=!1,fu(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class bd extends ct{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:fu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Or(f){ct.call(this),this.h=f,this.g={}}I(Or,ct);var Mr=[];function kr(f){ot(f.g,function(y,E){this.g.hasOwnProperty(E)&&Da(y)},f),f.g={}}Or.prototype.N=function(){Or.aa.N.call(this),kr(this)},Or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kn=h.JSON.stringify,Ma=h.JSON.parse,Nr=class{stringify(f){return h.JSON.stringify(f,void 0)}parse(f){return h.JSON.parse(f,void 0)}};function al(){}al.prototype.h=null;function ol(f){return f.h||(f.h=f.i())}function ll(){}var Vi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Li(){rt.call(this,"d")}I(Li,rt);function cl(){rt.call(this,"c")}I(cl,rt);var li={},ul=null;function Ts(){return ul=ul||new de}li.La="serverreachability";function ka(f){rt.call(this,li.La,f)}I(ka,rt);function Ss(f){const y=Ts();Kt(y,new ka(y))}li.STAT_EVENT="statevent";function du(f,y){rt.call(this,li.STAT_EVENT,f),this.stat=y}I(du,rt);function ce(f){const y=Ts();Kt(y,new du(y,f))}li.Ma="timingevent";function Ce(f,y){rt.call(this,li.Ma,f),this.size=y}I(Ce,rt);function Te(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){f()},y)}function On(){this.g=!0}On.prototype.xa=function(){this.g=!1};function hl(f,y,E,w,B,K){f.info(function(){if(f.g)if(K)for(var lt="",Vt=K.split("&"),De=0;De<Vt.length;De++){var Lt=Vt[De].split("=");if(1<Lt.length){var Ue=Lt[0];Lt=Lt[1];var Oe=Ue.split("_");lt=2<=Oe.length&&Oe[1]=="type"?lt+(Ue+"="+Lt+"&"):lt+(Ue+"=redacted&")}}else lt=null;else lt=K;return"XMLHTTP REQ ("+w+") [attempt "+B+"]: "+y+`
`+E+`
`+lt})}function Ed(f,y,E,w,B,K,lt){f.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+B+"]: "+y+`
`+E+`
`+K+" "+lt})}function As(f,y,E,w){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+Pr(f,E)+(w?" "+w:"")})}function gu(f,y){f.info(function(){return"TIMEOUT: "+y})}On.prototype.info=function(){};function Pr(f,y){if(!f.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(f=0;f<E.length;f++)if(Array.isArray(E[f])){var w=E[f];if(!(2>w.length)){var B=w[1];if(Array.isArray(B)&&!(1>B.length)){var K=B[0];if(K!="noop"&&K!="stop"&&K!="close")for(var lt=1;lt<B.length;lt++)B[lt]=""}}}}return Kn(E)}catch{return y}}var ws={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ui={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ci;function ui(){}I(ui,al),ui.prototype.g=function(){return new XMLHttpRequest},ui.prototype.i=function(){return{}},ci=new ui;function an(f,y,E,w){this.j=f,this.i=y,this.l=E,this.R=w||1,this.U=new Or(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pe}function pe(){this.i=null,this.g="",this.h=!1}var fl={},Na={};function Qn(f,y,E){f.L=1,f.v=Br(bn(y)),f.m=E,f.P=!0,zi(f,null)}function zi(f,y){f.F=Date.now(),Vr(f),f.A=bn(f.v);var E=f.A,w=f.R;Array.isArray(w)||(w=[String(w)]),yl(E.i,"t",w),f.C=0,E=f.j.J,f.h=new pe,f.g=Du(f.j,E?y:null,!f.m),0<f.O&&(f.M=new bd(b(f.Y,f,f.g),f.O)),y=f.U,E=f.g,w=f.ca;var B="readystatechange";Array.isArray(B)||(B&&(Mr[0]=B.toString()),B=Mr);for(var K=0;K<B.length;K++){var lt=uu(E,B[K],w||y.handleEvent,!1,y.h||y);if(!lt)break;y.g[lt.key]=lt}y=f.H?x(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),Ss(),hl(f.i,f.u,f.A,f.l,f.R,f.m)}an.prototype.ca=function(f){f=f.target;const y=this.M;y&&Pn(f)==3?y.j():this.Y(f)},an.prototype.Y=function(f){try{if(f==this.g)t:{const Oe=Pn(this.g);var y=this.g.Ba();const Ki=this.g.Z();if(!(3>Oe)&&(Oe!=3||this.g&&(this.h.h||this.g.oa()||Tu(this.g)))){this.J||Oe!=4||y==7||(y==8||0>=Ki?Ss(3):Ss(2)),xs(this);var E=this.g.Z();this.X=E;e:if(mu(this)){var w=Tu(this.g);f="";var B=w.length,K=Pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qe(this),hi(this);var lt="";break e}this.h.i=new h.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,f+=this.h.i.decode(w[y],{stream:!(K&&y==B-1)});w.length=0,this.h.g+=f,this.C=0,lt=this.h.g}else lt=this.g.oa();if(this.o=E==200,Ed(this.i,this.u,this.A,this.l,this.R,Oe,E),this.o){if(this.T&&!this.K){e:{if(this.g){var Vt,De=this.g;if((Vt=De.g?De.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(Vt)){var Lt=Vt;break e}}Lt=null}if(E=Lt)As(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Lr(this,E);else{this.o=!1,this.s=3,ce(12),qe(this),hi(this);break t}}if(this.P){E=!0;let Ge;for(;!this.J&&this.C<lt.length;)if(Ge=pu(this,lt),Ge==Na){Oe==4&&(this.s=4,ce(14),E=!1),As(this.i,this.l,null,"[Incomplete Response]");break}else if(Ge==fl){this.s=4,ce(15),As(this.i,this.l,lt,"[Invalid Chunk]"),E=!1;break}else As(this.i,this.l,Ge,null),Lr(this,Ge);if(mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||lt.length!=0||this.h.h||(this.s=1,ce(16),E=!1),this.o=this.o&&E,!E)As(this.i,this.l,lt,"[Invalid Chunked Response]"),qe(this),hi(this);else if(0<lt.length&&!this.W){this.W=!0;var Ue=this.j;Ue.g==this&&Ue.ba&&!Ue.M&&(Ue.j.info("Great, no buffering proxy detected. Bytes received: "+lt.length),Qr(Ue),Ue.M=!0,ce(11))}}else As(this.i,this.l,lt,null),Lr(this,lt);Oe==4&&qe(this),this.o&&!this.J&&(Oe==4?Ru(this.j,this):(this.o=!1,Vr(this)))}else xd(this.g),E==400&&0<lt.indexOf("Unknown SID")?(this.s=3,ce(12)):(this.s=0,ce(13)),qe(this),hi(this)}}}catch{}finally{}};function mu(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function pu(f,y){var E=f.C,w=y.indexOf(`
`,E);return w==-1?Na:(E=Number(y.substring(E,w)),isNaN(E)?fl:(w+=1,w+E>y.length?Na:(y=y.slice(w,w+E),f.C=w+E,y)))}an.prototype.cancel=function(){this.J=!0,qe(this)};function Vr(f){f.S=Date.now()+f.I,_u(f,f.I)}function _u(f,y){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Te(b(f.ba,f),y)}function xs(f){f.B&&(h.clearTimeout(f.B),f.B=null)}an.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(gu(this.i,this.A),this.L!=2&&(Ss(),ce(17)),qe(this),this.s=2,hi(this)):_u(this,this.S-f)};function hi(f){f.j.G==0||f.J||Ru(f.j,f)}function qe(f){xs(f);var y=f.M;y&&typeof y.ma=="function"&&y.ma(),f.M=null,kr(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function Lr(f,y){try{var E=f.j;if(E.G!=0&&(E.g==f||dl(E.h,f))){if(!f.K&&dl(E.h,f)&&E.G==3){try{var w=E.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var B=w;if(B[0]==0){t:if(!E.u){if(E.g)if(E.g.F+3e3<f.F)Ya(E),qa(E);else break t;Sl(E),ce(18)}}else E.za=B[1],0<E.za-E.T&&37500>B[2]&&E.F&&E.v==0&&!E.C&&(E.C=Te(b(E.Za,E),6e3));if(1>=Va(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Yi(E,11)}else if((f.K||E.g==f)&&Ya(E),!X(y))for(B=E.Da.g.parse(y),y=0;y<B.length;y++){let Lt=B[y];if(E.T=Lt[0],Lt=Lt[1],E.G==2)if(Lt[0]=="c"){E.K=Lt[1],E.ia=Lt[2];const Ue=Lt[3];Ue!=null&&(E.la=Ue,E.j.info("VER="+E.la));const Oe=Lt[4];Oe!=null&&(E.Aa=Oe,E.j.info("SVER="+E.Aa));const Ki=Lt[5];Ki!=null&&typeof Ki=="number"&&0<Ki&&(w=1.5*Ki,E.L=w,E.j.info("backChannelRequestTimeoutMs_="+w)),w=E;const Ge=f.g;if(Ge){const yi=Ge.g?Ge.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yi){var K=w.h;K.g||yi.indexOf("spdy")==-1&&yi.indexOf("quic")==-1&&yi.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(La(K,K.h),K.h=null))}if(w.D){const wl=Ge.g?Ge.g.getResponseHeader("X-HTTP-Session-Id"):null;wl&&(w.ya=wl,Zt(w.I,w.D,wl))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-f.F,E.j.info("Handshake RTT: "+E.R+"ms")),w=E;var lt=f;if(w.qa=Cu(w,w.J?w.ia:null,w.W),lt.K){on(w.h,lt);var Vt=lt,De=w.L;De&&(Vt.I=De),Vt.B&&(xs(Vt),Vr(Vt)),w.g=lt}else wu(w);0<E.i.length&&Ga(E)}else Lt[0]!="stop"&&Lt[0]!="close"||Yi(E,7);else E.G==3&&(Lt[0]=="stop"||Lt[0]=="close"?Lt[0]=="stop"?Yi(E,7):El(E):Lt[0]!="noop"&&E.l&&E.l.ta(Lt),E.v=0)}}Ss(4)}catch{}}var yu=class{constructor(f,y){this.g=f,this.map=y}};function Bi(f){this.l=f||10,h.PerformanceNavigationTiming?(f=h.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Pa(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Va(f){return f.h?1:f.g?f.g.size:0}function dl(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function La(f,y){f.g?f.g.add(y):f.h=y}function on(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}Bi.prototype.cancel=function(){if(this.i=gl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function gl(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const E of f.g.values())y=y.concat(E.D);return y}return k(f.i)}function Td(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var y=[],E=f.length,w=0;w<E;w++)y.push(f[w]);return y}y=[],E=0;for(w in f)y[E++]=f[w];return y}function Ua(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var y=[];f=f.length;for(var E=0;E<f;E++)y.push(E);return y}y=[],E=0;for(const w in f)y[E++]=w;return y}}}function ml(f,y){if(f.forEach&&typeof f.forEach=="function")f.forEach(y,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,y,void 0);else for(var E=Ua(f),w=Td(f),B=w.length,K=0;K<B;K++)y.call(void 0,w[K],E&&E[K],f)}var Ur=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sd(f,y){if(f){f=f.split("&");for(var E=0;E<f.length;E++){var w=f[E].indexOf("="),B=null;if(0<=w){var K=f[E].substring(0,w);B=f[E].substring(w+1)}else K=f[E];y(K,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Se(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Se){this.h=f.h,zr(this,f.j),this.o=f.o,this.g=f.g,Rs(this,f.s),this.l=f.l;var y=f.i,E=new Fi;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),ji(this,E),this.m=f.m}else f&&(y=String(f).match(Ur))?(this.h=!1,zr(this,y[1]||"",!0),this.o=Mn(y[2]||""),this.g=Mn(y[3]||"",!0),Rs(this,y[4]),this.l=Mn(y[5]||"",!0),ji(this,y[6]||"",!0),this.m=Mn(y[7]||"")):(this.h=!1,this.i=new Fi(null,this.h))}Se.prototype.toString=function(){var f=[],y=this.j;y&&f.push(jr(y,pl,!0),":");var E=this.g;return(E||y=="file")&&(f.push("//"),(y=this.o)&&f.push(jr(y,pl,!0),"@"),f.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&f.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(jr(E,E.charAt(0)=="/"?Ad:_l,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",jr(E,za)),f.join("")};function bn(f){return new Se(f)}function zr(f,y,E){f.j=E?Mn(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function Rs(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function ji(f,y,E){y instanceof Fi?(f.i=y,bu(f.i,f.h)):(E||(y=jr(y,wd)),f.i=new Fi(y,f.h))}function Zt(f,y,E){f.i.set(y,E)}function Br(f){return Zt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Mn(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function jr(f,y,E){return typeof f=="string"?(f=encodeURI(f).replace(y,vu),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function vu(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var pl=/[#\/\?@]/g,_l=/[#\?:]/g,Ad=/[#\?]/g,wd=/[#\?@]/g,za=/#/g;function Fi(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function kn(f){f.g||(f.g=new Map,f.h=0,f.i&&Sd(f.i,function(y,E){f.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}n=Fi.prototype,n.add=function(f,y){kn(this),this.i=null,f=fi(this,f);var E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(y),this.h+=1,this};function Hi(f,y){kn(f),y=fi(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function qi(f,y){return kn(f),y=fi(f,y),f.g.has(y)}n.forEach=function(f,y){kn(this),this.g.forEach(function(E,w){E.forEach(function(B){f.call(y,B,w,this)},this)},this)},n.na=function(){kn(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let w=0;w<y.length;w++){const B=f[w];for(let K=0;K<B.length;K++)E.push(y[w])}return E},n.V=function(f){kn(this);let y=[];if(typeof f=="string")qi(this,f)&&(y=y.concat(this.g.get(fi(this,f))));else{f=Array.from(this.g.values());for(let E=0;E<f.length;E++)y=y.concat(f[E])}return y},n.set=function(f,y){return kn(this),this.i=null,f=fi(this,f),qi(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},n.get=function(f,y){return f?(f=this.V(f),0<f.length?String(f[0]):y):y};function yl(f,y,E){Hi(f,y),0<E.length&&(f.i=null,f.g.set(fi(f,y),k(E)),f.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var w=y[E];const K=encodeURIComponent(String(w)),lt=this.V(w);for(w=0;w<lt.length;w++){var B=K;lt[w]!==""&&(B+="="+encodeURIComponent(String(lt[w]))),f.push(B)}}return this.i=f.join("&")};function fi(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function bu(f,y){y&&!f.j&&(kn(f),f.i=null,f.g.forEach(function(E,w){var B=w.toLowerCase();w!=B&&(Hi(this,w),yl(this,B,E))},f)),f.j=y}function Fr(f,y){const E=new On;if(h.Image){const w=new Image;w.onload=A(Nn,E,"TestLoadImage: loaded",!0,y,w),w.onerror=A(Nn,E,"TestLoadImage: error",!1,y,w),w.onabort=A(Nn,E,"TestLoadImage: abort",!1,y,w),w.ontimeout=A(Nn,E,"TestLoadImage: timeout",!1,y,w),h.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=f}else y(!1)}function Xn(f,y){const E=new On,w=new AbortController,B=setTimeout(()=>{w.abort(),Nn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:w.signal}).then(K=>{clearTimeout(B),K.ok?Nn(E,"TestPingServer: ok",!0,y):Nn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Nn(E,"TestPingServer: error",!1,y)})}function Nn(f,y,E,w,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),w(E)}catch{}}function Hr(){this.g=new Nr}function di(f,y,E){const w=E||"";try{ml(f,function(B,K){let lt=B;m(B)&&(lt=Kn(B)),y.push(w+K+"="+encodeURIComponent(lt))})}catch(B){throw y.push(w+"type="+encodeURIComponent("_badmap")),B}}function Is(f){this.l=f.Ub||null,this.j=f.eb||!1}I(Is,al),Is.prototype.g=function(){return new Gi(this.l,this.j)},Is.prototype.i=function(f){return function(){return f}}({});function Gi(f,y){de.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Gi,de),n=Gi.prototype,n.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,mi(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||h).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gi(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,mi(this)),this.g&&(this.readyState=3,mi(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vl(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function vl(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?gi(this):mi(this),this.readyState==3&&vl(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,gi(this))},n.Qa=function(f){this.g&&(this.response=f,gi(this))},n.ga=function(){this.g&&gi(this)};function gi(f){f.readyState=4,f.l=null,f.j=null,f.v=null,mi(f)}n.setRequestHeader=function(f,y){this.u.append(f,y)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=y.next();return f.join(`\r
`)};function mi(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function bl(f){let y="";return ot(f,function(E,w){y+=w,y+=":",y+=E,y+=`\r
`}),y}function Le(f,y,E){t:{for(w in E){var w=!1;break t}w=!0}w||(E=bl(E),typeof f=="string"?E!=null&&encodeURIComponent(String(E)):Zt(f,y,E))}function Gt(f){de.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Gt,de);var Ba=/^https?$/i,qr=["POST","PUT"];n=Gt.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,y,E,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ci.g(),this.v=this.o?ol(this.o):ol(ci),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(K){Eu(this,K);return}if(f=E||"",E=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var B in w)E.set(B,w[B]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const K of w.keys())E.set(K,w.get(K));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(E.keys()).find(K=>K.toLowerCase()=="content-type"),B=h.FormData&&f instanceof h.FormData,!(0<=Array.prototype.indexOf.call(qr,y,void 0))||w||B||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,lt]of E)this.g.setRequestHeader(K,lt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gr(this),this.u=!0,this.g.send(f),this.u=!1}catch(K){Eu(this,K)}};function Eu(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,ja(f),pi(f)}function ja(f){f.A||(f.A=!0,Kt(f,"complete"),Kt(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Kt(this,"complete"),Kt(this,"abort"),pi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pi(this,!0)),Gt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Fa(this):this.bb())},n.bb=function(){Fa(this)};function Fa(f){if(f.h&&typeof c<"u"&&(!f.v[1]||Pn(f)!=4||f.Z()!=2)){if(f.u&&Pn(f)==4)Ze(f.Ea,0,f);else if(Kt(f,"readystatechange"),Pn(f)==4){f.h=!1;try{const lt=f.Z();t:switch(lt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var E;if(!(E=y)){var w;if(w=lt===0){var B=String(f.D).match(Ur)[1]||null;!B&&h.self&&h.self.location&&(B=h.self.location.protocol.slice(0,-1)),w=!Ba.test(B?B.toLowerCase():"")}E=w}if(E)Kt(f,"complete"),Kt(f,"success");else{f.m=6;try{var K=2<Pn(f)?f.g.statusText:""}catch{K=""}f.l=K+" ["+f.Z()+"]",ja(f)}}finally{pi(f)}}}}function pi(f,y){if(f.g){Gr(f);const E=f.g,w=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||Kt(f,"ready");try{E.onreadystatechange=w}catch{}}}function Gr(f){f.I&&(h.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function Pn(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<Pn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),Ma(y)}};function Tu(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function xd(f){const y={};f=(f.g&&2<=Pn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<f.length;w++){if(X(f[w]))continue;var E=P(f[w]);const B=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const K=y[B]||[];y[B]=K,K.push(E)}C(y,function(w){return w.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yr(f,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||y}function Ha(f){this.Aa=0,this.i=[],this.j=new On,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yr("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yr("baseRetryDelayMs",5e3,f),this.cb=Yr("retryDelaySeedMs",1e4,f),this.Wa=Yr("forwardChannelMaxRetries",2,f),this.wa=Yr("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Bi(f&&f.concurrentRequestLimit),this.Da=new Hr,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ha.prototype,n.la=8,n.G=1,n.connect=function(f,y,E,w){ce(0),this.W=f,this.H=y||{},E&&w!==void 0&&(this.H.OSID=E,this.H.OAID=w),this.F=this.X,this.I=Cu(this,null,this.W),Ga(this)};function El(f){if(Su(f),f.G==3){var y=f.U++,E=bn(f.I);if(Zt(E,"SID",f.K),Zt(E,"RID",y),Zt(E,"TYPE","terminate"),Kr(f,E),y=new an(f,f.j,y),y.L=2,y.v=Br(bn(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&h.Image&&(new Image().src=y.v,E=!0),E||(y.g=Du(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Vr(y)}Iu(f)}function qa(f){f.g&&(Qr(f),f.g.cancel(),f.g=null)}function Su(f){qa(f),f.u&&(h.clearTimeout(f.u),f.u=null),Ya(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&h.clearTimeout(f.s),f.s=null)}function Ga(f){if(!Pa(f.h)&&!f.s){f.s=!0;var y=f.Ga;at||V(),gt||(at(),gt=!0),kt.add(y,f),f.B=0}}function Rd(f,y){return Va(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=y.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Te(b(f.Ga,f,y),Al(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const B=new an(this,this.j,f);let K=this.o;if(this.S&&(K?(K=x(K),N(K,this.S)):K=this.S),this.m!==null||this.O||(B.H=K,K=null),this.P)t:{for(var y=0,E=0;E<this.i.length;E++){e:{var w=this.i[E];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=E;break t}if(y===4096||E===this.i.length-1){y=E+1;break t}}y=1e3}else y=1e3;y=Au(this,B,y),E=bn(this.I),Zt(E,"RID",f),Zt(E,"CVER",22),this.D&&Zt(E,"X-HTTP-Session-Id",this.D),Kr(this,E),K&&(this.O?y="headers="+encodeURIComponent(String(bl(K)))+"&"+y:this.m&&Le(E,this.m,K)),La(this.h,B),this.Ua&&Zt(E,"TYPE","init"),this.P?(Zt(E,"$req",y),Zt(E,"SID","null"),B.T=!0,Qn(B,E,null)):Qn(B,E,y),this.G=2}}else this.G==3&&(f?Tl(this,f):this.i.length==0||Pa(this.h)||Tl(this))};function Tl(f,y){var E;y?E=y.l:E=f.U++;const w=bn(f.I);Zt(w,"SID",f.K),Zt(w,"RID",E),Zt(w,"AID",f.T),Kr(f,w),f.m&&f.o&&Le(w,f.m,f.o),E=new an(f,f.j,E,f.B+1),f.m===null&&(E.H=f.o),y&&(f.i=y.D.concat(f.i)),y=Au(f,E,1e3),E.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),La(f.h,E),Qn(E,w,y)}function Kr(f,y){f.H&&ot(f.H,function(E,w){Zt(y,w,E)}),f.l&&ml({},function(E,w){Zt(y,w,E)})}function Au(f,y,E){E=Math.min(f.i.length,E);var w=f.l?b(f.l.Na,f.l,f):null;t:{var B=f.i;let K=-1;for(;;){const lt=["count="+E];K==-1?0<E?(K=B[0].g,lt.push("ofs="+K)):K=0:lt.push("ofs="+K);let Vt=!0;for(let De=0;De<E;De++){let Lt=B[De].g;const Ue=B[De].map;if(Lt-=K,0>Lt)K=Math.max(0,B[De].g-100),Vt=!1;else try{di(Ue,lt,"req"+Lt+"_")}catch{w&&w(Ue)}}if(Vt){w=lt.join("&");break t}}}return f=f.i.splice(0,E),y.D=f,w}function wu(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;at||V(),gt||(at(),gt=!0),kt.add(y,f),f.v=0}}function Sl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Te(b(f.Fa,f),Al(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,xu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Te(b(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ce(10),qa(this),xu(this))};function Qr(f){f.A!=null&&(h.clearTimeout(f.A),f.A=null)}function xu(f){f.g=new an(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var y=bn(f.qa);Zt(y,"RID","rpc"),Zt(y,"SID",f.K),Zt(y,"AID",f.T),Zt(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&Zt(y,"TO",f.ja),Zt(y,"TYPE","xmlhttp"),Kr(f,y),f.m&&f.o&&Le(y,f.m,f.o),f.L&&(f.g.I=f.L);var E=f.g;f=f.ia,E.L=1,E.v=Br(bn(y)),E.m=null,E.P=!0,zi(E,f)}n.Za=function(){this.C!=null&&(this.C=null,qa(this),Sl(this),ce(19))};function Ya(f){f.C!=null&&(h.clearTimeout(f.C),f.C=null)}function Ru(f,y){var E=null;if(f.g==y){Ya(f),Qr(f),f.g=null;var w=2}else if(dl(f.h,y))E=y.D,on(f.h,y),w=1;else return;if(f.G!=0){if(y.o)if(w==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var B=f.B;w=Ts(),Kt(w,new Ce(w,E)),Ga(f)}else wu(f);else if(B=y.s,B==3||B==0&&0<y.X||!(w==1&&Rd(f,y)||w==2&&Sl(f)))switch(E&&0<E.length&&(y=f.h,y.i=y.i.concat(E)),B){case 1:Yi(f,5);break;case 4:Yi(f,10);break;case 3:Yi(f,6);break;default:Yi(f,2)}}}function Al(f,y){let E=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(E*=2),E*y}function Yi(f,y){if(f.j.info("Error code "+y),y==2){var E=b(f.fb,f),w=f.Xa;const B=!w;w=new Se(w||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||zr(w,"https"),Br(w),B?Fr(w.toString(),E):Xn(w.toString(),E)}else ce(2);f.G=0,f.l&&f.l.sa(y),Iu(f),Su(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),ce(2)):(this.j.info("Failed to ping google.com"),ce(1))};function Iu(f){if(f.G=0,f.ka=[],f.l){const y=gl(f.h);(y.length!=0||f.i.length!=0)&&(M(f.ka,y),M(f.ka,f.i),f.h.i.length=0,k(f.i),f.i.length=0),f.l.ra()}}function Cu(f,y,E){var w=E instanceof Se?bn(E):new Se(E);if(w.g!="")y&&(w.g=y+"."+w.g),Rs(w,w.s);else{var B=h.location;w=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var K=new Se(null);w&&zr(K,w),y&&(K.g=y),B&&Rs(K,B),E&&(K.l=E),w=K}return E=f.D,y=f.ya,E&&y&&Zt(w,E,y),Zt(w,"VER",f.la),Kr(f,w),w}function Du(f,y,E){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Ca&&!f.pa?new Gt(new Is({eb:E})):new Gt(f.pa),y.Ha(f.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ou(){}n=Ou.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ka(){}Ka.prototype.g=function(f,y){return new ln(f,y)};function ln(f,y){de.call(this),this.g=new Ha(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!X(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!X(y)&&(this.g.D=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new _i(this)}I(ln,de),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){El(this.g)},ln.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.u&&(E={},E.__data__=Kn(f),f=E);y.i.push(new yu(y.Ya++,f)),y.G==3&&Ga(y)},ln.prototype.N=function(){this.g.l=null,delete this.j,El(this.g),delete this.g,ln.aa.N.call(this)};function Mu(f){Li.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){t:{for(const E in y){f=E;break t}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}I(Mu,Li);function ku(){cl.call(this),this.status=1}I(ku,cl);function _i(f){this.g=f}I(_i,Ou),_i.prototype.ua=function(){Kt(this.g,"a")},_i.prototype.ta=function(f){Kt(this.g,new Mu(f))},_i.prototype.sa=function(f){Kt(this.g,new ku)},_i.prototype.ra=function(){Kt(this.g,"b")},Ka.prototype.createWebChannel=Ka.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,tA=function(){return new Ka},JS=function(){return Ts()},ZS=li,np={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ws.NO_ERROR=0,ws.TIMEOUT=8,ws.HTTP_ERROR=6,sf=ws,Ui.COMPLETE="complete",$S=Ui,ll.EventType=Vi,Vi.OPEN="a",Vi.CLOSE="b",Vi.ERROR="c",Vi.MESSAGE="d",de.prototype.listen=de.prototype.K,bc=ll,Gt.prototype.listenOnce=Gt.prototype.L,Gt.prototype.getLastError=Gt.prototype.Ka,Gt.prototype.getLastErrorCode=Gt.prototype.Ba,Gt.prototype.getStatus=Gt.prototype.Z,Gt.prototype.getResponseJson=Gt.prototype.Oa,Gt.prototype.getResponseText=Gt.prototype.oa,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Ha,WS=Gt}).apply(typeof Ph<"u"?Ph:typeof self<"u"?self:typeof window<"u"?window:{});const zb="@firebase/firestore",Bb="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=new Ip("@firebase/firestore");function Ao(){return Aa.logLevel}function ht(n,...t){if(Aa.logLevel<=Nt.DEBUG){const e=t.map(Bp);Aa.debug(`Firestore (${Wo}): ${n}`,...e)}}function _s(n,...t){if(Aa.logLevel<=Nt.ERROR){const e=t.map(Bp);Aa.error(`Firestore (${Wo}): ${n}`,...e)}}function mr(n,...t){if(Aa.logLevel<=Nt.WARN){const e=t.map(Bp);Aa.warn(`Firestore (${Wo}): ${n}`,...e)}}function Bp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,eA(n,i,e)}function eA(n,t,e){let i=`FIRESTORE (${Wo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw _s(i),new Error(i)}function Yt(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||eA(t,r,i)}function xt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends vs{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class sD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(nn.UNAUTHENTICATED))}shutdown(){}}class rD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class aD{constructor(t){this.t=t,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Yt(this.o===void 0,42304);let i=this.i;const r=d=>this.i!==i?(i=this.i,e(d)):Promise.resolve();let o=new gs;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new gs,t.enqueueRetryable(()=>r(this.currentUser))};const c=()=>{const d=o;t.enqueueRetryable(async()=>{await d.promise,await r(this.currentUser)})},h=d=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new gs)}},0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Yt(typeof i.accessToken=="string",31837,{l:i}),new nA(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new nn(t)}}class oD{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class lD{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new oD(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jb{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cD{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Yt(this.o===void 0,3512);const i=o=>{o.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,ht("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new jb(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Yt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new jb(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=uD(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%62))}return i}}function Ct(n,t){return n<t?-1:n>t?1:0}function ip(n,t){let e=0;for(;e<n.length&&e<t.length;){const i=n.codePointAt(e),r=t.codePointAt(e);if(i!==r){if(i<128&&r<128)return Ct(i,r);{const o=iA(),c=hD(o.encode(Fb(n,e)),o.encode(Fb(t,e)));return c!==0?c:Ct(i,r)}}e+=i>65535?2:1}return Ct(n.length,t.length)}function Fb(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function hD(n,t){for(let e=0;e<n.length&&e<t.length;++e)if(n[e]!==t[e])return Ct(n[e],t[e]);return Ct(n.length,t.length)}function zo(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="__name__";class Ri{constructor(t,e,i){e===void 0?e=0:e>t.length&&Et(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&Et(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Ri.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Ri?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=Ri.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return Ct(t.length,e.length)}static compareSegments(t,e){const i=Ri.isNumericId(t),r=Ri.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?Ri.extractNumericId(t).compare(Ri.extractNumericId(e)):ip(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return cr.fromString(t.substring(4,t.length-2))}}class ae extends Ri{construct(t,e,i){return new ae(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ut(Z.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new ae(e)}static emptyPath(){return new ae([])}}const fD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class We extends Ri{construct(t,e,i){return new We(t,e,i)}static isValidIdentifier(t){return fD.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),We.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Hb}static keyField(){return new We([Hb])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(i.length===0)throw new ut(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const h=t[r];if(h==="\\"){if(r+1===t.length)throw new ut(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const d=t[r+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ut(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=d,r+=2}else h==="`"?(c=!c,r++):h!=="."||c?(i+=h,r++):(o(),r++)}if(o(),c)throw new ut(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new We(e)}static emptyPath(){return new We([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(t){this.path=t}static fromPath(t){return new pt(ae.fromString(t))}static fromName(t){return new pt(ae.fromString(t).popFirst(5))}static empty(){return new pt(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ae.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ae.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new ae(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(n,t,e){if(!e)throw new ut(Z.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function dD(n,t,e,i){if(t===!0&&i===!0)throw new ut(Z.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function qb(n){if(!pt.isDocumentKey(n))throw new ut(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Gb(n){if(pt.isDocumentKey(n))throw new ut(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function rA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Wf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Et(12329,{type:typeof n})}function Gn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ut(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Wf(n);throw new ut(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(n,t){const e={typeString:n};return t&&(e.value=t),e}function eu(n,t){if(!rA(n))throw new ut(Z.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const r=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const c=n[i];if(r&&typeof c!==r){e=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&c!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new ut(Z.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb=-62135596800,Kb=1e6;class le{static now(){return le.fromMillis(Date.now())}static fromDate(t){return le.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*Kb);return new le(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ut(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ut(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Yb)throw new ut(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Kb}_compareTo(t){return this.seconds===t.seconds?Ct(this.nanoseconds,t.nanoseconds):Ct(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(eu(t,le._jsonSchema))return new le(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Yb;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}le._jsonSchemaVersion="firestore/timestamp/1.0",le._jsonSchema={type:Ie("string",le._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new le(0,0))}static max(){return new St(new le(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=-1;function gD(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=St.fromTimestamp(i===1e9?new le(e+1,0):new le(e,i));return new pr(r,pt.empty(),t)}function mD(n){return new pr(n.readTime,n.key,zc)}class pr{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new pr(St.min(),pt.empty(),zc)}static max(){return new pr(St.max(),pt.empty(),zc)}}function pD(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=pt.comparator(n.documentKey,t.documentKey),e!==0?e:Ct(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(n){if(n.code!==Z.FAILED_PRECONDITION||n.message!==_D)throw n;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new tt((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof tt?e:tt.resolve(e)}catch(e){return tt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):tt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):tt.reject(e)}static resolve(t){return new tt((e,i)=>{e(t)})}static reject(t){return new tt((e,i)=>{i(t)})}static waitFor(t){return new tt((e,i)=>{let r=0,o=0,c=!1;t.forEach(h=>{++r,h.next(()=>{++o,c&&o===r&&e()},d=>i(d))}),c=!0,o===r&&e()})}static or(t){let e=tt.resolve(!1);for(const i of t)e=e.next(r=>r?tt.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new tt((i,r)=>{const o=t.length,c=new Array(o);let h=0;for(let d=0;d<o;d++){const m=d;e(t[m]).next(_=>{c[m]=_,++h,h===o&&i(c)},_=>r(_))}})}static doWhile(t,e){return new tt((i,r)=>{const o=()=>{t()===!0?e().next(()=>{o()},r):i()};o()})}}function vD(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Zo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this._e(i),this.ae=i=>e.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}$f.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp=-1;function Zf(n){return n==null}function Ef(n){return n===0&&1/n==-1/0}function bD(n){return typeof n=="number"&&Number.isInteger(n)&&!Ef(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="";function ED(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=Qb(t)),t=TD(n.get(e),t);return Qb(t)}function TD(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="";break;case aA:e+="";break;default:e+=o}}return e}function Qb(n){return n+aA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function wr(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function oA(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(t,e){this.comparator=t,this.root=e||Xe.EMPTY}insert(t,e){return new fe(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Xe.BLACK,null,null))}remove(t){return new fe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xe.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Vh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Vh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Vh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Vh(this.root,t,this.comparator,!0)}}class Vh{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Xe{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??Xe.RED,this.left=r??Xe.EMPTY,this.right=o??Xe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new Xe(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Xe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return Xe.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}Xe.EMPTY=null,Xe.RED=!0,Xe.BLACK=!1;Xe.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,e,i,r,o){return this}insert(t,e,i){return new Xe(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(t){this.comparator=t,this.data=new fe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Wb(this.data.getIterator())}getIteratorFrom(t){return new Wb(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Ne)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Ne(this.comparator);return e.data=t,e}}class Wb{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(t){this.fields=t,t.sort(We.comparator)}static empty(){return new Cn([])}unionWith(t){let e=new Ne(We.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Cn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return zo(this.fields,t.fields,(e,i)=>e.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new lA("Invalid base64 string: "+o):o}}(t);return new $e(e)}static fromUint8Array(t){const e=function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o}(t);return new $e(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ct(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}$e.EMPTY_BYTE_STRING=new $e("");const SD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _r(n){if(Yt(!!n,39018),typeof n=="string"){let t=0;const e=SD.exec(n);if(Yt(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ve(n.seconds),nanos:ve(n.nanos)}}function ve(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function yr(n){return typeof n=="string"?$e.fromBase64String(n):$e.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="server_timestamp",uA="__type__",hA="__previous_value__",fA="__local_write_time__";function Hp(n){var t,e;return((e=(((t=n?.mapValue)===null||t===void 0?void 0:t.fields)||{})[uA])===null||e===void 0?void 0:e.stringValue)===cA}function Jf(n){const t=n.mapValue.fields[hA];return Hp(t)?Jf(t):t}function Bc(n){const t=_r(n.mapValue.fields[fA].timestampValue);return new le(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(t,e,i,r,o,c,h,d,m,_){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=_}}const Tf="(default)";class jc{constructor(t,e){this.projectId=t,this.database=e||Tf}static empty(){return new jc("","")}get isDefaultDatabase(){return this.database===Tf}isEqual(t){return t instanceof jc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA="__type__",wD="__max__",Lh={mapValue:{}},gA="__vector__",Sf="value";function vr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Hp(n)?4:RD(n)?9007199254740991:xD(n)?10:11:Et(28295,{value:n})}function Ni(n,t){if(n===t)return!0;const e=vr(n);if(e!==vr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Bc(n).isEqual(Bc(t));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=_r(r.timestampValue),h=_r(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(r,o){return yr(r.bytesValue).isEqual(yr(o.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,o){return ve(r.geoPointValue.latitude)===ve(o.geoPointValue.latitude)&&ve(r.geoPointValue.longitude)===ve(o.geoPointValue.longitude)}(n,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return ve(r.integerValue)===ve(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=ve(r.doubleValue),h=ve(o.doubleValue);return c===h?Ef(c)===Ef(h):isNaN(c)&&isNaN(h)}return!1}(n,t);case 9:return zo(n.arrayValue.values||[],t.arrayValue.values||[],Ni);case 10:case 11:return function(r,o){const c=r.mapValue.fields||{},h=o.mapValue.fields||{};if(Xb(c)!==Xb(h))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(h[d]===void 0||!Ni(c[d],h[d])))return!1;return!0}(n,t);default:return Et(52216,{left:n})}}function Fc(n,t){return(n.values||[]).find(e=>Ni(e,t))!==void 0}function Bo(n,t){if(n===t)return 0;const e=vr(n),i=vr(t);if(e!==i)return Ct(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Ct(n.booleanValue,t.booleanValue);case 2:return function(o,c){const h=ve(o.integerValue||o.doubleValue),d=ve(c.integerValue||c.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1}(n,t);case 3:return $b(n.timestampValue,t.timestampValue);case 4:return $b(Bc(n),Bc(t));case 5:return ip(n.stringValue,t.stringValue);case 6:return function(o,c){const h=yr(o),d=yr(c);return h.compareTo(d)}(n.bytesValue,t.bytesValue);case 7:return function(o,c){const h=o.split("/"),d=c.split("/");for(let m=0;m<h.length&&m<d.length;m++){const _=Ct(h[m],d[m]);if(_!==0)return _}return Ct(h.length,d.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,c){const h=Ct(ve(o.latitude),ve(c.latitude));return h!==0?h:Ct(ve(o.longitude),ve(c.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return Zb(n.arrayValue,t.arrayValue);case 10:return function(o,c){var h,d,m,_;const v=o.fields||{},b=c.fields||{},A=(h=v[Sf])===null||h===void 0?void 0:h.arrayValue,I=(d=b[Sf])===null||d===void 0?void 0:d.arrayValue,k=Ct(((m=A?.values)===null||m===void 0?void 0:m.length)||0,((_=I?.values)===null||_===void 0?void 0:_.length)||0);return k!==0?k:Zb(A,I)}(n.mapValue,t.mapValue);case 11:return function(o,c){if(o===Lh.mapValue&&c===Lh.mapValue)return 0;if(o===Lh.mapValue)return 1;if(c===Lh.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),m=c.fields||{},_=Object.keys(m);d.sort(),_.sort();for(let v=0;v<d.length&&v<_.length;++v){const b=ip(d[v],_[v]);if(b!==0)return b;const A=Bo(h[d[v]],m[_[v]]);if(A!==0)return A}return Ct(d.length,_.length)}(n.mapValue,t.mapValue);default:throw Et(23264,{le:e})}}function $b(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Ct(n,t);const e=_r(n),i=_r(t),r=Ct(e.seconds,i.seconds);return r!==0?r:Ct(e.nanos,i.nanos)}function Zb(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const o=Bo(e[r],i[r]);if(o)return o}return Ct(e.length,i.length)}function jo(n){return sp(n)}function sp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=_r(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return yr(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return pt.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=sp(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const c of i)o?o=!1:r+=",",r+=`${c}:${sp(e.fields[c])}`;return r+"}"}(n.mapValue):Et(61005,{value:n})}function rf(n){switch(vr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Jf(n);return t?16+rf(t):16;case 5:return 2*n.stringValue.length;case 6:return yr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,o)=>r+rf(o),0)}(n.arrayValue);case 10:case 11:return function(i){let r=0;return wr(i.fields,(o,c)=>{r+=o.length+rf(c)}),r}(n.mapValue);default:throw Et(13486,{value:n})}}function Jb(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function rp(n){return!!n&&"integerValue"in n}function qp(n){return!!n&&"arrayValue"in n}function tE(n){return!!n&&"nullValue"in n}function eE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function af(n){return!!n&&"mapValue"in n}function xD(n){var t,e;return((e=(((t=n?.mapValue)===null||t===void 0?void 0:t.fields)||{})[dA])===null||e===void 0?void 0:e.stringValue)===gA}function Cc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return wr(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Cc(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Cc(n.arrayValue.values[e]);return t}return Object.assign({},n)}function RD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===wD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(t){this.value=t}static empty(){return new mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!af(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Cc(e)}setAll(t){let e=We.emptyPath(),i={},r=[];t.forEach((c,h)=>{if(!e.isImmediateParentOf(h)){const d=this.getFieldsMap(e);this.applyChanges(d,i,r),i={},r=[],e=h.popLast()}c?i[h.lastSegment()]=Cc(c):r.push(h.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());af(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ni(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];af(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){wr(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new mn(Cc(this.value))}}function mA(n){const t=[];return wr(n.fields,(e,i)=>{const r=new We([e]);if(af(i)){const o=mA(i.mapValue).fields;if(o.length===0)t.push(r);else for(const c of o)t.push(r.child(c))}else t.push(r)}),new Cn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t,e,i,r,o,c,h){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(t){return new sn(t,0,St.min(),St.min(),St.min(),mn.empty(),0)}static newFoundDocument(t,e,i,r){return new sn(t,1,e,St.min(),i,r,0)}static newNoDocument(t,e){return new sn(t,2,e,St.min(),St.min(),mn.empty(),0)}static newUnknownDocument(t,e){return new sn(t,3,e,St.min(),St.min(),mn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(t,e){this.position=t,this.inclusive=e}}function nE(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],c=n.position[r];if(o.field.isKeyField()?i=pt.comparator(pt.fromName(c.referenceValue),e.key):i=Bo(c,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function iE(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Ni(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(t,e="asc"){this.field=t,this.dir=e}}function ID(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{}class Re extends pA{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new DD(t,e,i):e==="array-contains"?new kD(t,i):e==="in"?new ND(t,i):e==="not-in"?new PD(t,i):e==="array-contains-any"?new VD(t,i):new Re(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new OD(t,i):new MD(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Bo(e,this.value)):e!==null&&vr(this.value)===vr(e)&&this.matchesComparison(Bo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends pA{constructor(t,e){super(),this.filters=t,this.op=e,this.he=null}static create(t,e){return new ri(t,e)}matches(t){return _A(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function _A(n){return n.op==="and"}function yA(n){return CD(n)&&_A(n)}function CD(n){for(const t of n.filters)if(t instanceof ri)return!1;return!0}function ap(n){if(n instanceof Re)return n.field.canonicalString()+n.op.toString()+jo(n.value);if(yA(n))return n.filters.map(t=>ap(t)).join(",");{const t=n.filters.map(e=>ap(e)).join(",");return`${n.op}(${t})`}}function vA(n,t){return n instanceof Re?function(i,r){return r instanceof Re&&i.op===r.op&&i.field.isEqual(r.field)&&Ni(i.value,r.value)}(n,t):n instanceof ri?function(i,r){return r instanceof ri&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,c,h)=>o&&vA(c,r.filters[h]),!0):!1}(n,t):void Et(19439)}function bA(n){return n instanceof Re?function(e){return`${e.field.canonicalString()} ${e.op} ${jo(e.value)}`}(n):n instanceof ri?function(e){return e.op.toString()+" {"+e.getFilters().map(bA).join(" ,")+"}"}(n):"Filter"}class DD extends Re{constructor(t,e,i){super(t,e,i),this.key=pt.fromName(i.referenceValue)}matches(t){const e=pt.comparator(t.key,this.key);return this.matchesComparison(e)}}class OD extends Re{constructor(t,e){super(t,"in",e),this.keys=EA("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class MD extends Re{constructor(t,e){super(t,"not-in",e),this.keys=EA("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function EA(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(i=>pt.fromName(i.referenceValue))}class kD extends Re{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return qp(e)&&Fc(e.arrayValue,this.value)}}class ND extends Re{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Fc(this.value.arrayValue,e)}}class PD extends Re{constructor(t,e){super(t,"not-in",e)}matches(t){if(Fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Fc(this.value.arrayValue,e)}}class VD extends Re{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!qp(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Fc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(t,e=null,i=[],r=[],o=null,c=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=c,this.endAt=h,this.Pe=null}}function sE(n,t=null,e=[],i=[],r=null,o=null,c=null){return new LD(n,t,e,i,r,o,c)}function Gp(n){const t=xt(n);if(t.Pe===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>ap(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),Zf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>jo(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>jo(i)).join(",")),t.Pe=e}return t.Pe}function Yp(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!ID(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!vA(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!iE(n.startAt,t.startAt)&&iE(n.endAt,t.endAt)}function op(n){return pt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(t,e=null,i=[],r=[],o=null,c="F",h=null,d=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=d,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function UD(n,t,e,i,r,o,c,h){return new Jo(n,t,e,i,r,o,c,h)}function td(n){return new Jo(n)}function rE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function TA(n){return n.collectionGroup!==null}function Dc(n){const t=xt(n);if(t.Te===null){t.Te=[];const e=new Set;for(const o of t.explicitOrderBy)t.Te.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Ne(We.comparator);return c.filters.forEach(d=>{d.getFlattenedFilters().forEach(m=>{m.isInequality()&&(h=h.add(m.field))})}),h})(t).forEach(o=>{e.has(o.canonicalString())||o.isKeyField()||t.Te.push(new Hc(o,i))}),e.has(We.keyField().canonicalString())||t.Te.push(new Hc(We.keyField(),i))}return t.Te}function Di(n){const t=xt(n);return t.Ie||(t.Ie=zD(t,Dc(n))),t.Ie}function zD(n,t){if(n.limitType==="F")return sE(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>{const o=r.dir==="desc"?"asc":"desc";return new Hc(r.field,o)});const e=n.endAt?new Af(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Af(n.startAt.position,n.startAt.inclusive):null;return sE(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function lp(n,t){const e=n.filters.concat([t]);return new Jo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function wf(n,t,e){return new Jo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function ed(n,t){return Yp(Di(n),Di(t))&&n.limitType===t.limitType}function SA(n){return`${Gp(Di(n))}|lt:${n.limitType}`}function wo(n){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>bA(r)).join(", ")}]`),Zf(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(r)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>jo(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>jo(r)).join(",")),`Target(${i})`}(Di(n))}; limitType=${n.limitType})`}function nd(n,t){return t.isFoundDocument()&&function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):pt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,t)&&function(i,r){for(const o of Dc(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(n,t)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,t)&&function(i,r){return!(i.startAt&&!function(c,h,d){const m=nE(c,h,d);return c.inclusive?m<=0:m<0}(i.startAt,Dc(i),r)||i.endAt&&!function(c,h,d){const m=nE(c,h,d);return c.inclusive?m>=0:m>0}(i.endAt,Dc(i),r))}(n,t)}function BD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function AA(n){return(t,e)=>{let i=!1;for(const r of Dc(n)){const o=jD(r,t,e);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function jD(n,t,e){const i=n.field.isKeyField()?pt.comparator(t.key,e.key):function(o,c,h){const d=c.data.field(o),m=h.data.field(o);return d!==null&&m!==null?Bo(d,m):Et(42886)}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Et(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){wr(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return oA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=new fe(pt.comparator);function ys(){return FD}const wA=new fe(pt.comparator);function Ec(...n){let t=wA;for(const e of n)t=t.insert(e.key,e);return t}function xA(n){let t=wA;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function pa(){return Oc()}function RA(){return Oc()}function Oc(){return new Ia(n=>n.toString(),(n,t)=>n.isEqual(t))}const HD=new fe(pt.comparator),qD=new Ne(pt.comparator);function Pt(...n){let t=qD;for(const e of n)t=t.add(e);return t}const GD=new Ne(Ct);function YD(){return GD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ef(t)?"-0":t}}function IA(n){return{integerValue:""+n}}function KD(n,t){return bD(t)?IA(t):Kp(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(){this._=void 0}}function QD(n,t,e){return n instanceof xf?function(r,o){const c={fields:{[uA]:{stringValue:cA},[fA]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Hp(o)&&(o=Jf(o)),o&&(c.fields[hA]=o),{mapValue:c}}(e,t):n instanceof qc?DA(n,t):n instanceof Gc?OA(n,t):function(r,o){const c=CA(r,o),h=aE(c)+aE(r.Ee);return rp(c)&&rp(r.Ee)?IA(h):Kp(r.serializer,h)}(n,t)}function XD(n,t,e){return n instanceof qc?DA(n,t):n instanceof Gc?OA(n,t):e}function CA(n,t){return n instanceof Rf?function(i){return rp(i)||function(o){return!!o&&"doubleValue"in o}(i)}(t)?t:{integerValue:0}:null}class xf extends id{}class qc extends id{constructor(t){super(),this.elements=t}}function DA(n,t){const e=MA(t);for(const i of n.elements)e.some(r=>Ni(r,i))||e.push(i);return{arrayValue:{values:e}}}class Gc extends id{constructor(t){super(),this.elements=t}}function OA(n,t){let e=MA(t);for(const i of n.elements)e=e.filter(r=>!Ni(r,i));return{arrayValue:{values:e}}}class Rf extends id{constructor(t,e){super(),this.serializer=t,this.Ee=e}}function aE(n){return ve(n.integerValue||n.doubleValue)}function MA(n){return qp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function WD(n,t){return n.field.isEqual(t.field)&&function(i,r){return i instanceof qc&&r instanceof qc||i instanceof Gc&&r instanceof Gc?zo(i.elements,r.elements,Ni):i instanceof Rf&&r instanceof Rf?Ni(i.Ee,r.Ee):i instanceof xf&&r instanceof xf}(n.transform,t.transform)}class $D{constructor(t,e){this.version=t,this.transformResults=e}}class ii{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ii}static exists(t){return new ii(void 0,t)}static updateTime(t){return new ii(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function of(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class sd{}function kA(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Qp(n.key,ii.none()):new nu(n.key,n.data,ii.none());{const e=n.data,i=mn.empty();let r=new Ne(We.comparator);for(let o of t.fields)if(!r.has(o)){let c=e.field(o);c===null&&o.length>1&&(o=o.popLast(),c=e.field(o)),c===null?i.delete(o):i.set(o,c),r=r.add(o)}return new xr(n.key,i,new Cn(r.toArray()),ii.none())}}function ZD(n,t,e){n instanceof nu?function(r,o,c){const h=r.value.clone(),d=lE(r.fieldTransforms,o,c.transformResults);h.setAll(d),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,t,e):n instanceof xr?function(r,o,c){if(!of(r.precondition,o))return void o.convertToUnknownDocument(c.version);const h=lE(r.fieldTransforms,o,c.transformResults),d=o.data;d.setAll(NA(r)),d.setAll(h),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,t,e):function(r,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,e)}function Mc(n,t,e,i){return n instanceof nu?function(o,c,h,d){if(!of(o.precondition,c))return h;const m=o.value.clone(),_=cE(o.fieldTransforms,d,c);return m.setAll(_),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(n,t,e,i):n instanceof xr?function(o,c,h,d){if(!of(o.precondition,c))return h;const m=cE(o.fieldTransforms,d,c),_=c.data;return _.setAll(NA(o)),_.setAll(m),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(n,t,e,i):function(o,c,h){return of(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h}(n,t,e)}function JD(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=CA(i.transform,r||null);o!=null&&(e===null&&(e=mn.empty()),e.set(i.field,o))}return e||null}function oE(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&zo(i,r,(o,c)=>WD(o,c))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class nu extends sd{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class xr extends sd{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function NA(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function lE(n,t,e){const i=new Map;Yt(n.length===e.length,32656,{Ae:e.length,Re:n.length});for(let r=0;r<e.length;r++){const o=n[r],c=o.transform,h=t.data.field(o.field);i.set(o.field,XD(c,h,e[r]))}return i}function cE(n,t,e){const i=new Map;for(const r of n){const o=r.transform,c=e.data.field(r.field);i.set(r.field,QD(o,c,t))}return i}class Qp extends sd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tO extends sd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&ZD(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Mc(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Mc(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=RA();return this.mutations.forEach(r=>{const o=t.get(r.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=e.has(r.key)?null:h;const d=kA(c,h);d!==null&&i.set(r.key,d),c.isValidDocument()||c.convertToNoDocument(St.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Pt())}isEqual(t){return this.batchId===t.batchId&&zo(this.mutations,t.mutations,(e,i)=>oE(e,i))&&zo(this.baseMutations,t.baseMutations,(e,i)=>oE(e,i))}}class Xp{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Yt(t.mutations.length===i.length,58842,{Ve:t.mutations.length,me:i.length});let r=function(){return HD}();const o=t.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,i[c].version);return new Xp(t,e,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe,zt;function sO(n){switch(n){case Z.OK:return Et(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Et(15467,{code:n})}}function PA(n){if(n===void 0)return _s("GRPC error has no .code"),Z.UNKNOWN;switch(n){case xe.OK:return Z.OK;case xe.CANCELLED:return Z.CANCELLED;case xe.UNKNOWN:return Z.UNKNOWN;case xe.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case xe.INTERNAL:return Z.INTERNAL;case xe.UNAVAILABLE:return Z.UNAVAILABLE;case xe.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case xe.NOT_FOUND:return Z.NOT_FOUND;case xe.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case xe.ABORTED:return Z.ABORTED;case xe.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case xe.DATA_LOSS:return Z.DATA_LOSS;default:return Et(39323,{code:n})}}(zt=xe||(xe={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=new cr([4294967295,4294967295],0);function uE(n){const t=iA().encode(n),e=new XS;return e.update(t),new Uint8Array(e.digest())}function hE(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new cr([e,i],0),new cr([r,o],0)]}class Wp{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Tc(`Invalid padding: ${e}`);if(i<0)throw new Tc(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Tc(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Tc(`Invalid padding when bitmap length is 0: ${e}`);this.fe=8*t.length-e,this.ge=cr.fromNumber(this.fe)}pe(t,e,i){let r=t.add(e.multiply(cr.fromNumber(i)));return r.compare(rO)===1&&(r=new cr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const e=uE(t),[i,r]=hE(e);for(let o=0;o<this.hashCount;o++){const c=this.pe(i,r,o);if(!this.ye(c))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),c=new Wp(o,r,e);return i.forEach(h=>c.insert(h)),c}insert(t){if(this.fe===0)return;const e=uE(t),[i,r]=hE(e);for(let o=0;o<this.hashCount;o++){const c=this.pe(i,r,o);this.we(c)}}we(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Tc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,iu.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new rd(St.min(),r,new fe(Ct),ys(),Pt())}}class iu{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new iu(i,e,Pt(),Pt(),Pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(t,e,i,r){this.Se=t,this.removedTargetIds=e,this.key=i,this.be=r}}class VA{constructor(t,e){this.targetId=t,this.De=e}}class LA{constructor(t,e,i=$e.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class fE{constructor(){this.ve=0,this.Ce=dE(),this.Fe=$e.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=Pt(),e=Pt(),i=Pt();return this.Ce.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Et(38017,{changeType:o})}}),new iu(this.Fe,this.Me,t,e,i)}ke(){this.xe=!1,this.Ce=dE()}qe(t,e){this.xe=!0,this.Ce=this.Ce.insert(t,e)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class aO{constructor(t){this.We=t,this.Ge=new Map,this.ze=ys(),this.je=Uh(),this.Je=Uh(),this.He=new fe(Ct)}Ye(t){for(const e of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(e,t.be):this.Xe(e,t.key,t.be);for(const e of t.removedTargetIds)this.Xe(e,t.key,t.be)}et(t){this.forEachTarget(t,e=>{const i=this.tt(e);switch(t.state){case 0:this.nt(e)&&i.Be(t.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(t.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(e);break;case 3:this.nt(e)&&(i.Ke(),i.Be(t.resumeToken));break;case 4:this.nt(e)&&(this.rt(e),i.Be(t.resumeToken));break;default:Et(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Ge.forEach((i,r)=>{this.nt(r)&&e(r)})}it(t){const e=t.targetId,i=t.De.count,r=this.st(e);if(r){const o=r.target;if(op(o))if(i===0){const c=new pt(o.path);this.Xe(e,c,sn.newNoDocument(c,St.min()))}else Yt(i===1,20013,{expectedCount:i});else{const c=this.ot(e);if(c!==i){const h=this._t(t),d=h?this.ut(h,t,c):1;if(d!==0){this.rt(e);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(e,m)}}}}}_t(t){const e=t.De.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let c,h;try{c=yr(i).toUint8Array()}catch(d){if(d instanceof lA)return mr("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new Wp(c,r,o)}catch(d){return mr(d instanceof Tc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.fe===0?null:h}ut(t,e,i){return e.De.count===i-this.ht(t,e.targetId)?0:2}ht(t,e){const i=this.We.getRemoteKeysForTarget(e);let r=0;return i.forEach(o=>{const c=this.We.lt(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.Xe(e,o,null),r++)}),r}Pt(t){const e=new Map;this.Ge.forEach((o,c)=>{const h=this.st(c);if(h){if(o.current&&op(h.target)){const d=new pt(h.target.path);this.Tt(d).has(c)||this.It(c,d)||this.Xe(c,d,sn.newNoDocument(d,t))}o.Ne&&(e.set(c,o.Le()),o.ke())}});let i=Pt();this.Je.forEach((o,c)=>{let h=!0;c.forEachWhile(d=>{const m=this.st(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(o))}),this.ze.forEach((o,c)=>c.setReadTime(t));const r=new rd(t,e,this.He,this.ze,i);return this.ze=ys(),this.je=Uh(),this.Je=Uh(),this.He=new fe(Ct),r}Ze(t,e){if(!this.nt(t))return;const i=this.It(t,e.key)?2:0;this.tt(t).qe(e.key,i),this.ze=this.ze.insert(e.key,e),this.je=this.je.insert(e.key,this.Tt(e.key).add(t)),this.Je=this.Je.insert(e.key,this.dt(e.key).add(t))}Xe(t,e,i){if(!this.nt(t))return;const r=this.tt(t);this.It(t,e)?r.qe(e,1):r.Qe(e),this.Je=this.Je.insert(e,this.dt(e).delete(t)),this.Je=this.Je.insert(e,this.dt(e).add(t)),i&&(this.ze=this.ze.insert(e,i))}removeTarget(t){this.Ge.delete(t)}ot(t){const e=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let e=this.Ge.get(t);return e||(e=new fE,this.Ge.set(t,e)),e}dt(t){let e=this.Je.get(t);return e||(e=new Ne(Ct),this.Je=this.Je.insert(t,e)),e}Tt(t){let e=this.je.get(t);return e||(e=new Ne(Ct),this.je=this.je.insert(t,e)),e}nt(t){const e=this.st(t)!==null;return e||ht("WatchChangeAggregator","Detected inactive target",t),e}st(t){const e=this.Ge.get(t);return e&&e.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new fE),this.We.getRemoteKeysForTarget(t).forEach(e=>{this.Xe(t,e,null)})}It(t,e){return this.We.getRemoteKeysForTarget(t).has(e)}}function Uh(){return new fe(pt.comparator)}function dE(){return new fe(pt.comparator)}const oO={asc:"ASCENDING",desc:"DESCENDING"},lO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cO={and:"AND",or:"OR"};class uO{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function cp(n,t){return n.useProto3Json||Zf(t)?t:{value:t}}function If(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function UA(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function hO(n,t){return If(n,t.toTimestamp())}function Oi(n){return Yt(!!n,49232),St.fromTimestamp(function(e){const i=_r(e);return new le(i.seconds,i.nanos)}(n))}function $p(n,t){return up(n,t).canonicalString()}function up(n,t){const e=function(r){return new ae(["projects",r.projectId,"databases",r.database])}(n).child("documents");return t===void 0?e:e.child(t)}function zA(n){const t=ae.fromString(n);return Yt(qA(t),10190,{key:t.toString()}),t}function hp(n,t){return $p(n.databaseId,t.path)}function Om(n,t){const e=zA(t);if(e.get(1)!==n.databaseId.projectId)throw new ut(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ut(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new pt(jA(e))}function BA(n,t){return $p(n.databaseId,t)}function fO(n){const t=zA(n);return t.length===4?ae.emptyPath():jA(t)}function fp(n){return new ae(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function jA(n){return Yt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function gE(n,t,e){return{name:hp(n,t),fields:e.value.mapValue.fields}}function dO(n,t){let e;if("targetChange"in t){t.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Et(39313,{state:m})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=function(m,_){return m.useProto3Json?(Yt(_===void 0||typeof _=="string",58123),$e.fromBase64String(_||"")):(Yt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),$e.fromUint8Array(_||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,h=c&&function(m){const _=m.code===void 0?Z.UNKNOWN:PA(m.code);return new ut(_,m.message||"")}(c);e=new LA(i,r,o,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Om(n,i.document.name),o=Oi(i.document.updateTime),c=i.document.createTime?Oi(i.document.createTime):St.min(),h=new mn({mapValue:{fields:i.document.fields}}),d=sn.newFoundDocument(r,o,c,h),m=i.targetIds||[],_=i.removedTargetIds||[];e=new lf(m,_,d.key,d)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Om(n,i.document),o=i.readTime?Oi(i.readTime):St.min(),c=sn.newNoDocument(r,o),h=i.removedTargetIds||[];e=new lf([],h,c.key,c)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Om(n,i.document),o=i.removedTargetIds||[];e=new lf([],o,r,null)}else{if(!("filter"in t))return Et(11601,{At:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,c=new iO(r,o),h=i.targetId;e=new VA(h,c)}}return e}function gO(n,t){let e;if(t instanceof nu)e={update:gE(n,t.key,t.value)};else if(t instanceof Qp)e={delete:hp(n,t.key)};else if(t instanceof xr)e={update:gE(n,t.key,t.data),updateMask:SO(t.fieldMask)};else{if(!(t instanceof tO))return Et(16599,{Rt:t.type});e={verify:hp(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(o,c){const h=c.transform;if(h instanceof xf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof qc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Gc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Rf)return{fieldPath:c.field.canonicalString(),increment:h.Ee};throw Et(20930,{transform:c.transform})}(0,i))),t.precondition.isNone||(e.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:hO(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Et(27497)}(n,t.precondition)),e}function mO(n,t){return n&&n.length>0?(Yt(t!==void 0,14353),n.map(e=>function(r,o){let c=r.updateTime?Oi(r.updateTime):Oi(o);return c.isEqual(St.min())&&(c=Oi(o)),new $D(c,r.transformResults||[])}(e,t))):[]}function pO(n,t){return{documents:[BA(n,t.path)]}}function _O(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=BA(n,r);const o=function(m){if(m.length!==0)return HA(ri.create(m,"and"))}(t.filters);o&&(e.structuredQuery.where=o);const c=function(m){if(m.length!==0)return m.map(_=>function(b){return{field:xo(b.field),direction:bO(b.dir)}}(_))}(t.orderBy);c&&(e.structuredQuery.orderBy=c);const h=cp(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(t.endAt)),{Vt:e,parent:r}}function yO(n){let t=fO(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Yt(i===1,65062);const _=e.from[0];_.allDescendants?r=_.collectionId:t=t.child(_.collectionId)}let o=[];e.where&&(o=function(v){const b=FA(v);return b instanceof ri&&yA(b)?b.getFilters():[b]}(e.where));let c=[];e.orderBy&&(c=function(v){return v.map(b=>function(I){return new Hc(Ro(I.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(b))}(e.orderBy));let h=null;e.limit&&(h=function(v){let b;return b=typeof v=="object"?v.value:v,Zf(b)?null:b}(e.limit));let d=null;e.startAt&&(d=function(v){const b=!!v.before,A=v.values||[];return new Af(A,b)}(e.startAt));let m=null;return e.endAt&&(m=function(v){const b=!v.before,A=v.values||[];return new Af(A,b)}(e.endAt)),UD(t,r,c,o,h,"F",d,m)}function vO(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:r})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function FA(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Ro(e.unaryFilter.field);return Re.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Ro(e.unaryFilter.field);return Re.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ro(e.unaryFilter.field);return Re.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ro(e.unaryFilter.field);return Re.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}}(n):n.fieldFilter!==void 0?function(e){return Re.create(Ro(e.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return ri.create(e.compositeFilter.filters.map(i=>FA(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Et(1026)}}(e.compositeFilter.op))}(n):Et(30097,{filter:n})}function bO(n){return oO[n]}function EO(n){return lO[n]}function TO(n){return cO[n]}function xo(n){return{fieldPath:n.canonicalString()}}function Ro(n){return We.fromServerFormat(n.fieldPath)}function HA(n){return n instanceof Re?function(e){if(e.op==="=="){if(eE(e.value))return{unaryFilter:{field:xo(e.field),op:"IS_NAN"}};if(tE(e.value))return{unaryFilter:{field:xo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(eE(e.value))return{unaryFilter:{field:xo(e.field),op:"IS_NOT_NAN"}};if(tE(e.value))return{unaryFilter:{field:xo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xo(e.field),op:EO(e.op),value:e.value}}}(n):n instanceof ri?function(e){const i=e.getFilters().map(r=>HA(r));return i.length===1?i[0]:{compositeFilter:{op:TO(e.op),filters:i}}}(n):Et(54877,{filter:n})}function SO(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function qA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(t,e,i,r,o=St.min(),c=St.min(),h=$e.EMPTY_BYTE_STRING,d=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(t){return new er(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(t){this.gt=t}}function wO(n){const t=yO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?wf(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(){this.Dn=new RO}addToCollectionParentIndex(t,e){return this.Dn.add(e),tt.resolve()}getCollectionParents(t,e){return tt.resolve(this.Dn.getEntries(e))}addFieldIndex(t,e){return tt.resolve()}deleteFieldIndex(t,e){return tt.resolve()}deleteAllFieldIndexes(t){return tt.resolve()}createTargetIndexes(t,e){return tt.resolve()}getDocumentsMatchingTarget(t,e){return tt.resolve(null)}getIndexType(t,e){return tt.resolve(0)}getFieldIndexes(t,e){return tt.resolve([])}getNextCollectionGroupToUpdate(t){return tt.resolve(null)}getMinOffset(t,e){return tt.resolve(pr.min())}getMinOffsetFromCollectionGroup(t,e){return tt.resolve(pr.min())}updateCollectionGroup(t,e,i){return tt.resolve()}updateIndexEntries(t,e){return tt.resolve()}}class RO{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Ne(ae.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Ne(ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GA=41943040;class gn{static withCacheSize(t){return new gn(t,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(GA,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new Fo(0)}static ur(){return new Fo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="LruGarbageCollector",IO=1048576;function _E([n,t],[e,i]){const r=Ct(n,e);return r===0?Ct(t,i):r}class CO{constructor(t){this.Tr=t,this.buffer=new Ne(_E),this.Ir=0}dr(){return++this.Ir}Er(t){const e=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();_E(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class DO{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){ht(pE,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Zo(e)?ht(pE,"Ignoring IndexedDB error during garbage collection: ",e):await $o(e)}await this.Rr(3e5)})}}class OO{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.mr(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(e===0)return tt.resolve($f.ue);const i=new CO(e);return this.Vr.forEachTarget(t,r=>i.Er(r.sequenceNumber)).next(()=>this.Vr.gr(t,r=>i.Er(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Vr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(mE)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mE):this.pr(t,e))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,e){let i,r,o,c,h,d,m;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),r=this.params.maximumSequenceNumbersToCollect):r=v,c=Date.now(),this.nthSequenceNumber(t,r))).next(v=>(i=v,h=Date.now(),this.removeTargets(t,i,e))).next(v=>(o=v,d=Date.now(),this.removeOrphanedDocuments(t,i))).next(v=>(m=Date.now(),Ao()<=Nt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${r} in `+(h-c)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${v} documents in `+(m-d)+`ms
Total Duration: ${m-_}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:v})))}}function MO(n,t){return new OO(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(){this.changes=new Ia(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,sn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?tt.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(i!==null&&Mc(i.mutation,r,Cn.empty(),le.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Pt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Pt()){const r=pa();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let c=Ec();return o.forEach((h,d)=>{c=c.insert(h,d.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const i=pa();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Pt()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((c,h)=>{e.set(c,h)})})}computeViews(t,e,i,r){let o=ys();const c=Oc(),h=function(){return Oc()}();return e.forEach((d,m)=>{const _=i.get(m.key);r.has(m.key)&&(_===void 0||_.mutation instanceof xr)?o=o.insert(m.key,m):_!==void 0?(c.set(m.key,_.mutation.getFieldMask()),Mc(_.mutation,m,_.mutation.getFieldMask(),le.now())):c.set(m.key,Cn.empty())}),this.recalculateAndSaveOverlays(t,o).next(d=>(d.forEach((m,_)=>c.set(m,_)),e.forEach((m,_)=>{var v;return h.set(m,new NO(_,(v=c.get(m))!==null&&v!==void 0?v:null))}),h))}recalculateAndSaveOverlays(t,e){const i=Oc();let r=new fe((c,h)=>c-h),o=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const h of c)h.keys().forEach(d=>{const m=e.get(d);if(m===null)return;let _=i.get(d)||Cn.empty();_=h.applyToLocalView(m,_),i.set(d,_);const v=(r.get(h.batchId)||Pt()).add(d);r=r.insert(h.batchId,v)})}).next(()=>{const c=[],h=r.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),m=d.key,_=d.value,v=RA();_.forEach(b=>{if(!o.has(b)){const A=kA(e.get(b),i.get(b));A!==null&&v.set(b,A),o=o.add(b)}}),c.push(this.documentOverlayCache.saveOverlays(t,m,v))}return tt.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return function(c){return pt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):TA(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):tt.resolve(pa());let h=zc,d=o;return c.next(m=>tt.forEach(m,(_,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),o.get(_)?tt.resolve():this.remoteDocumentCache.getEntry(t,_).next(b=>{d=d.insert(_,b)}))).next(()=>this.populateOverlays(t,m,o)).next(()=>this.computeViews(t,d,m,Pt())).next(_=>({batchId:h,changes:xA(_)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new pt(e)).next(i=>{let r=Ec();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let c=Ec();return this.indexManager.getCollectionParents(t,o).next(h=>tt.forEach(h,d=>{const m=function(v,b){return new Jo(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(e,d.child(o));return this.getDocumentsMatchingCollectionQuery(t,m,i,r).next(_=>{_.forEach((v,b)=>{c=c.insert(v,b)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r))).next(c=>{o.forEach((d,m)=>{const _=m.getKey();c.get(_)===null&&(c=c.insert(_,sn.newInvalidDocument(_)))});let h=Ec();return c.forEach((d,m)=>{const _=o.get(d);_!==void 0&&Mc(_.mutation,m,Cn.empty(),le.now()),nd(e,m)&&(h=h.insert(d,m))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,e){return tt.resolve(this.Br.get(e))}saveBundleMetadata(t,e){return this.Br.set(e.id,function(r){return{id:r.id,version:r.version,createTime:Oi(r.createTime)}}(e)),tt.resolve()}getNamedQuery(t,e){return tt.resolve(this.Lr.get(e))}saveNamedQuery(t,e){return this.Lr.set(e.name,function(r){return{name:r.name,query:wO(r.bundledQuery),readTime:Oi(r.readTime)}}(e)),tt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(){this.overlays=new fe(pt.comparator),this.kr=new Map}getOverlay(t,e){return tt.resolve(this.overlays.get(e))}getOverlays(t,e){const i=pa();return tt.forEach(e,r=>this.getOverlay(t,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.wt(t,e,o)}),tt.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.kr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(i)),tt.resolve()}getOverlaysForCollection(t,e,i){const r=pa(),o=e.length+1,c=new pt(e.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const d=h.getNext().value,m=d.getKey();if(!e.isPrefixOf(m.path))break;m.path.length===o&&d.largestBatchId>i&&r.set(d.getKey(),d)}return tt.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new fe((m,_)=>m-_);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===e&&m.largestBatchId>i){let _=o.get(m.largestBatchId);_===null&&(_=pa(),o=o.insert(m.largestBatchId,_)),_.set(m.getKey(),m)}}const h=pa(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((m,_)=>h.set(m,_)),!(h.size()>=r)););return tt.resolve(h)}wt(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const c=this.kr.get(r.largestBatchId).delete(i.key);this.kr.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new nO(e,i));let o=this.kr.get(e);o===void 0&&(o=Pt(),this.kr.set(e,o)),this.kr.set(e,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(){this.sessionToken=$e.EMPTY_BYTE_STRING}getSessionToken(t){return tt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,tt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(){this.qr=new Ne(Fe.Qr),this.$r=new Ne(Fe.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,e){const i=new Fe(t,e);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Wr(new Fe(t,e))}Gr(t,e){t.forEach(i=>this.removeReference(i,e))}zr(t){const e=new pt(new ae([])),i=new Fe(e,t),r=new Fe(e,t+1),o=[];return this.$r.forEachInRange([i,r],c=>{this.Wr(c),o.push(c.key)}),o}jr(){this.qr.forEach(t=>this.Wr(t))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const e=new pt(new ae([])),i=new Fe(e,t),r=new Fe(e,t+1);let o=Pt();return this.$r.forEachInRange([i,r],c=>{o=o.add(c.key)}),o}containsKey(t){const e=new Fe(t,0),i=this.qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class Fe{constructor(t,e){this.key=t,this.Hr=e}static Qr(t,e){return pt.comparator(t.key,e.key)||Ct(t.Hr,e.Hr)}static Ur(t,e){return Ct(t.Hr,e.Hr)||pt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.er=1,this.Yr=new Ne(Fe.Qr)}checkEmpty(t){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new eO(o,e,i,r);this.mutationQueue.push(c);for(const h of r)this.Yr=this.Yr.add(new Fe(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return tt.resolve(c)}lookupMutationBatch(t,e){return tt.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.Xr(i),o=r<0?0:r;return tt.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?Fp:this.er-1)}getAllMutationBatches(t){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Fe(e,0),r=new Fe(e,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([i,r],c=>{const h=this.Zr(c.Hr);o.push(h)}),tt.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ne(Ct);return e.forEach(r=>{const o=new Fe(r,0),c=new Fe(r,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,c],h=>{i=i.add(h.Hr)})}),tt.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;pt.isDocumentKey(o)||(o=o.child(""));const c=new Fe(new pt(o),0);let h=new Ne(Ct);return this.Yr.forEachWhile(d=>{const m=d.key.path;return!!i.isPrefixOf(m)&&(m.length===r&&(h=h.add(d.Hr)),!0)},c),tt.resolve(this.ei(h))}ei(t){const e=[];return t.forEach(i=>{const r=this.Zr(i);r!==null&&e.push(r)}),e}removeMutationBatch(t,e){Yt(this.ti(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return tt.forEach(e.mutations,r=>{const o=new Fe(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Yr=i})}rr(t){}containsKey(t,e){const i=new Fe(e,0),r=this.Yr.firstAfterOrEqual(i);return tt.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,tt.resolve()}ti(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(t){this.ni=t,this.docs=function(){return new fe(pt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,c=this.ni(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return tt.resolve(i?i.document.mutableCopy():sn.newInvalidDocument(e))}getEntries(t,e){let i=ys();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():sn.newInvalidDocument(r))}),tt.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=ys();const c=e.path,h=new pt(c.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:m,value:{document:_}}=d.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||pD(mD(_),i)<=0||(r.has(_.key)||nd(e,_))&&(o=o.insert(_.key,_.mutableCopy()))}return tt.resolve(o)}getAllFromCollectionGroup(t,e,i,r){Et(9500)}ri(t,e){return tt.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new jO(this)}getSize(t){return tt.resolve(this.size)}}class jO extends kO{constructor(t){super(),this.Or=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Or.addEntry(t,r)):this.Or.removeEntry(i)}),tt.waitFor(e)}getFromCache(t,e){return this.Or.getEntry(t,e)}getAllFromCache(t,e){return this.Or.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(t){this.persistence=t,this.ii=new Ia(e=>Gp(e),Yp),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.si=0,this.oi=new Zp,this.targetCount=0,this._i=Fo.ar()}forEachTarget(t,e){return this.ii.forEach((i,r)=>e(r)),tt.resolve()}getLastRemoteSnapshotVersion(t){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return tt.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.si&&(this.si=e),tt.resolve()}hr(t){this.ii.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this._i=new Fo(e),this.highestTargetId=e),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,e){return this.hr(e),this.targetCount+=1,tt.resolve()}updateTargetData(t,e){return this.hr(e),tt.resolve()}removeTargetData(t,e){return this.ii.delete(e.target),this.oi.zr(e.targetId),this.targetCount-=1,tt.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.ii.forEach((c,h)=>{h.sequenceNumber<=e&&i.get(h.targetId)===null&&(this.ii.delete(c),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),tt.waitFor(o).next(()=>r)}getTargetCount(t){return tt.resolve(this.targetCount)}getTargetData(t,e){const i=this.ii.get(e)||null;return tt.resolve(i)}addMatchingKeys(t,e,i){return this.oi.Kr(e,i),tt.resolve()}removeMatchingKeys(t,e,i){this.oi.Gr(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(c=>{o.push(r.markPotentiallyOrphaned(t,c))}),tt.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.oi.zr(e),tt.resolve()}getMatchingKeysForTargetId(t,e){const i=this.oi.Jr(e);return tt.resolve(i)}containsKey(t,e){return tt.resolve(this.oi.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(t,e){this.ai={},this.overlays={},this.ui=new $f(0),this.ci=!1,this.ci=!0,this.li=new UO,this.referenceDelegate=t(this),this.hi=new FO(this),this.indexManager=new xO,this.remoteDocumentCache=function(r){return new BO(r)}(i=>this.referenceDelegate.Pi(i)),this.serializer=new AO(e),this.Ti=new VO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new LO,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ai[t.toKey()];return i||(i=new zO(e,this.referenceDelegate),this.ai[t.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,e,i){ht("MemoryPersistence","Starting transaction:",t);const r=new HO(this.ui.next());return this.referenceDelegate.Ii(),i(r).next(o=>this.referenceDelegate.di(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ei(t,e){return tt.or(Object.values(this.ai).map(i=>()=>i.containsKey(t,e)))}}class HO extends yD{constructor(t){super(),this.currentSequenceNumber=t}}class Jp{constructor(t){this.persistence=t,this.Ai=new Zp,this.Ri=null}static Vi(t){return new Jp(t)}get mi(){if(this.Ri)return this.Ri;throw Et(60996)}addReference(t,e,i){return this.Ai.addReference(i,e),this.mi.delete(i.toString()),tt.resolve()}removeReference(t,e,i){return this.Ai.removeReference(i,e),this.mi.add(i.toString()),tt.resolve()}markPotentiallyOrphaned(t,e){return this.mi.add(e.toString()),tt.resolve()}removeTarget(t,e){this.Ai.zr(e.targetId).forEach(r=>this.mi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.mi.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}Ii(){this.Ri=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.mi,i=>{const r=pt.fromPath(i);return this.fi(t,r).next(o=>{o||e.removeEntry(r,St.min())})}).next(()=>(this.Ri=null,e.apply(t)))}updateLimboDocument(t,e){return this.fi(t,e).next(i=>{i?this.mi.delete(e.toString()):this.mi.add(e.toString())})}Pi(t){return 0}fi(t,e){return tt.or([()=>tt.resolve(this.Ai.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class Cf{constructor(t,e){this.persistence=t,this.gi=new Ia(i=>ED(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=MO(this,e)}static Vi(t,e){return new Cf(t,e)}Ii(){}di(t){return tt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}mr(t){const e=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}yr(t){let e=0;return this.gr(t,i=>{e++}).next(()=>e)}gr(t,e){return tt.forEach(this.gi,(i,r)=>this.Sr(t,i,r).next(o=>o?tt.resolve():e(r)))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ri(t,c=>this.Sr(t,c,e).next(h=>{h||(i++,o.removeEntry(c,St.min()))})).next(()=>o.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,e){return this.gi.set(e,t.currentSequenceNumber),tt.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.gi.set(i,t.currentSequenceNumber),tt.resolve()}removeReference(t,e,i){return this.gi.set(i,t.currentSequenceNumber),tt.resolve()}updateLimboDocument(t,e){return this.gi.set(e,t.currentSequenceNumber),tt.resolve()}Pi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=rf(t.data.value)),e}Sr(t,e,i){return tt.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.gi.get(e);return tt.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Is=i,this.ds=r}static Es(t,e){let i=Pt(),r=Pt();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new t_(t,e.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return AR()?8:vD(rn())>0?6:4}()}initialize(t,e){this.gs=t,this.indexManager=e,this.As=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.ps(t,e).next(c=>{o.result=c}).next(()=>{if(!o.result)return this.ys(t,e,r,i).next(c=>{o.result=c})}).next(()=>{if(o.result)return;const c=new qO;return this.ws(t,e,c).next(h=>{if(o.result=h,this.Rs)return this.Ss(t,e,c,h.size)})}).next(()=>o.result)}Ss(t,e,i,r){return i.documentReadCount<this.Vs?(Ao()<=Nt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",wo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),tt.resolve()):(Ao()<=Nt.DEBUG&&ht("QueryEngine","Query:",wo(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.fs*r?(Ao()<=Nt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",wo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Di(e))):tt.resolve())}ps(t,e){if(rE(e))return tt.resolve(null);let i=Di(e);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(e.limit!==null&&r===1&&(e=wf(e,null,"F"),i=Di(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const c=Pt(...o);return this.gs.getDocuments(t,c).next(h=>this.indexManager.getMinOffset(t,i).next(d=>{const m=this.bs(e,h);return this.Ds(e,m,c,d.readTime)?this.ps(t,wf(e,null,"F")):this.vs(t,m,e,d)}))})))}ys(t,e,i,r){return rE(e)||r.isEqual(St.min())?tt.resolve(null):this.gs.getDocuments(t,i).next(o=>{const c=this.bs(e,o);return this.Ds(e,c,i,r)?tt.resolve(null):(Ao()<=Nt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),wo(e)),this.vs(t,c,e,gD(r,zc)).next(h=>h))})}bs(t,e){let i=new Ne(AA(t));return e.forEach((r,o)=>{nd(t,o)&&(i=i.add(o))}),i}Ds(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}ws(t,e,i){return Ao()<=Nt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",wo(e)),this.gs.getDocumentsMatchingQuery(t,e,pr.min(),i)}vs(t,e,i,r){return this.gs.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(c=>{o=o.insert(c.key,c)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_="LocalStore",YO=3e8;class KO{constructor(t,e,i,r){this.persistence=t,this.Cs=e,this.serializer=r,this.Fs=new fe(Ct),this.Ms=new Ia(o=>Gp(o),Yp),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(i)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new PO(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Fs))}}function QO(n,t,e,i){return new KO(n,t,e,i)}async function KA(n,t){const e=xt(n);return await e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.Ns(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const c=[],h=[];let d=Pt();for(const m of r){c.push(m.batchId);for(const _ of m.mutations)d=d.add(_.key)}for(const m of o){h.push(m.batchId);for(const _ of m.mutations)d=d.add(_.key)}return e.localDocuments.getDocuments(i,d).next(m=>({Bs:m,removedBatchIds:c,addedBatchIds:h}))})})}function XO(n,t){const e=xt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Os.newChangeBuffer({trackRemovals:!0});return function(h,d,m,_){const v=m.batch,b=v.keys();let A=tt.resolve();return b.forEach(I=>{A=A.next(()=>_.getEntry(d,I)).next(k=>{const M=m.docVersions.get(I);Yt(M!==null,48541),k.version.compareTo(M)<0&&(v.applyToRemoteDocument(k,m),k.isValidDocument()&&(k.setReadTime(m.commitVersion),_.addEntry(k)))})}),A.next(()=>h.mutationQueue.removeMutationBatch(d,v))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let d=Pt();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(d=d.add(h.batch.mutations[m].key));return d}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function QA(n){const t=xt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.hi.getLastRemoteSnapshotVersion(e))}function WO(n,t){const e=xt(n),i=t.snapshotVersion;let r=e.Fs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=e.Os.newChangeBuffer({trackRemovals:!0});r=e.Fs;const h=[];t.targetChanges.forEach((_,v)=>{const b=r.get(v);if(!b)return;h.push(e.hi.removeMatchingKeys(o,_.removedDocuments,v).next(()=>e.hi.addMatchingKeys(o,_.addedDocuments,v)));let A=b.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(v)!==null?A=A.withResumeToken($e.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):_.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(_.resumeToken,i)),r=r.insert(v,A),function(k,M,G){return k.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=YO?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(b,A,_)&&h.push(e.hi.updateTargetData(o,A))});let d=ys(),m=Pt();if(t.documentUpdates.forEach(_=>{t.resolvedLimboDocuments.has(_)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,_))}),h.push($O(o,c,t.documentUpdates).next(_=>{d=_.Ls,m=_.ks})),!i.isEqual(St.min())){const _=e.hi.getLastRemoteSnapshotVersion(o).next(v=>e.hi.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(_)}return tt.waitFor(h).next(()=>c.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,d,m)).next(()=>d)}).then(o=>(e.Fs=r,o))}function $O(n,t,e){let i=Pt(),r=Pt();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let c=ys();return e.forEach((h,d)=>{const m=o.get(h);d.isFoundDocument()!==m.isFoundDocument()&&(r=r.add(h)),d.isNoDocument()&&d.version.isEqual(St.min())?(t.removeEntry(h,d.readTime),c=c.insert(h,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(d),c=c.insert(h,d)):ht(e_,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",d.version)}),{Ls:c,ks:r}})}function ZO(n,t){const e=xt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=Fp),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function JO(n,t){const e=xt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.hi.getTargetData(i,t).next(o=>o?(r=o,tt.resolve(r)):e.hi.allocateTargetId(i).next(c=>(r=new er(t,c,"TargetPurposeListen",i.currentSequenceNumber),e.hi.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Fs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Fs=e.Fs.insert(i.targetId,i),e.Ms.set(t,i.targetId)),i})}async function dp(n,t,e){const i=xt(n),r=i.Fs.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,c=>i.persistence.referenceDelegate.removeTarget(c,r))}catch(c){if(!Zo(c))throw c;ht(e_,`Failed to update sequence numbers for target ${t}: ${c}`)}i.Fs=i.Fs.remove(t),i.Ms.delete(r.target)}function yE(n,t,e){const i=xt(n);let r=St.min(),o=Pt();return i.persistence.runTransaction("Execute query","readwrite",c=>function(d,m,_){const v=xt(d),b=v.Ms.get(_);return b!==void 0?tt.resolve(v.Fs.get(b)):v.hi.getTargetData(m,_)}(i,c,Di(t)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(c,h.targetId).next(d=>{o=d})}).next(()=>i.Cs.getDocumentsMatchingQuery(c,t,e?r:St.min(),e?o:Pt())).next(h=>(tM(i,BD(t),h),{documents:h,qs:o})))}function tM(n,t,e){let i=n.xs.get(t)||St.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.xs.set(t,i)}class vE{constructor(){this.activeTargetIds=YD()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class eM{constructor(){this.Fo=new vE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,e,i){this.Mo[t]=e}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new vE,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="ConnectivityMonitor";class EE{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ht(bE,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){ht(bE,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zh=null;function gp(){return zh===null?zh=function(){return 268435456+Math.round(2147483648*Math.random())}():zh++,"0x"+zh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm="RestConnection",iM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sM{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.$o=e+"://"+t.host,this.Uo=`projects/${i}/databases/${r}`,this.Ko=this.databaseId.database===Tf?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Wo(t,e,i,r,o){const c=gp(),h=this.Go(t,e.toUriEncodedString());ht(Mm,`Sending RPC '${t}' ${c}:`,h,i);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(d,r,o);const{host:m}=new URL(h),_=Yo(m);return this.jo(t,h,d,i,_).then(v=>(ht(Mm,`Received RPC '${t}' ${c}: `,v),v),v=>{throw mr(Mm,`RPC '${t}' ${c} failed with error: `,v,"url: ",h,"request:",i),v})}Jo(t,e,i,r,o,c){return this.Wo(t,e,i,r,o)}zo(t,e,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Wo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}Go(t,e){const i=iM[t];return`${this.$o}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class aM extends sM{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,e,i,r,o){const c=gp();return new Promise((h,d)=>{const m=new WS;m.setWithCredentials(!0),m.listenOnce($S.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case sf.NO_ERROR:const v=m.getResponseJson();ht(en,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(v)),h(v);break;case sf.TIMEOUT:ht(en,`RPC '${t}' ${c} timed out`),d(new ut(Z.DEADLINE_EXCEEDED,"Request time out"));break;case sf.HTTP_ERROR:const b=m.getStatus();if(ht(en,`RPC '${t}' ${c} failed with status:`,b,"response text:",m.getResponseText()),b>0){let A=m.getResponseJson();Array.isArray(A)&&(A=A[0]);const I=A?.error;if(I&&I.status&&I.message){const k=function(G){const X=G.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(X)>=0?X:Z.UNKNOWN}(I.status);d(new ut(k,I.message))}else d(new ut(Z.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new ut(Z.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{c_:t,streamId:c,l_:m.getLastErrorCode(),h_:m.getLastError()})}}finally{ht(en,`RPC '${t}' ${c} completed.`)}});const _=JSON.stringify(r);ht(en,`RPC '${t}' ${c} sending request:`,r),m.send(e,"POST",_,i,15)})}P_(t,e,i){const r=gp(),o=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=tA(),h=JS(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.zo(d.initMessageHeaders,e,i),d.encodeInitMessageHeaders=!0;const _=o.join("");ht(en,`Creating RPC '${t}' stream ${r}: ${_}`,d);const v=c.createWebChannel(_,d);this.T_(v);let b=!1,A=!1;const I=new rM({Ho:M=>{A?ht(en,`Not sending because RPC '${t}' stream ${r} is closed:`,M):(b||(ht(en,`Opening RPC '${t}' stream ${r} transport.`),v.open(),b=!0),ht(en,`RPC '${t}' stream ${r} sending:`,M),v.send(M))},Yo:()=>v.close()}),k=(M,G,X)=>{M.listen(G,et=>{try{X(et)}catch(it){setTimeout(()=>{throw it},0)}})};return k(v,bc.EventType.OPEN,()=>{A||(ht(en,`RPC '${t}' stream ${r} transport opened.`),I.s_())}),k(v,bc.EventType.CLOSE,()=>{A||(A=!0,ht(en,`RPC '${t}' stream ${r} transport closed`),I.__(),this.I_(v))}),k(v,bc.EventType.ERROR,M=>{A||(A=!0,mr(en,`RPC '${t}' stream ${r} transport errored. Name:`,M.name,"Message:",M.message),I.__(new ut(Z.UNAVAILABLE,"The operation could not be completed")))}),k(v,bc.EventType.MESSAGE,M=>{var G;if(!A){const X=M.data[0];Yt(!!X,16349);const et=X,it=et?.error||((G=et[0])===null||G===void 0?void 0:G.error);if(it){ht(en,`RPC '${t}' stream ${r} received error:`,it);const W=it.status;let ot=function(R){const N=xe[R];if(N!==void 0)return PA(N)}(W),C=it.message;ot===void 0&&(ot=Z.INTERNAL,C="Unknown error status: "+W+" with message "+it.message),A=!0,I.__(new ut(ot,C)),v.close()}else ht(en,`RPC '${t}' stream ${r} received:`,X),I.a_(X)}}),k(h,ZS.STAT_EVENT,M=>{M.stat===np.PROXY?ht(en,`RPC '${t}' stream ${r} detected buffering proxy`):M.stat===np.NOPROXY&&ht(en,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{I.o_()},0),I}terminate(){this.u_.forEach(t=>t.close()),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter(e=>e===t)}}function km(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(n){return new uO(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Fi=t,this.timerId=e,this.d_=i,this.E_=r,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const e=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),r=Math.max(0,e-i);r>0&&ht("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,()=>(this.m_=Date.now(),t())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="PersistentStream";class WA{constructor(t,e,i,r,o,c,h,d){this.Fi=t,this.w_=i,this.S_=r,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new XA(t,e)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():e&&e.code===Z.RESOURCE_EXHAUSTED?(_s(e.toString()),_s("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):e&&e.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(e)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),e=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.b_===e&&this.W_(i,r)},i=>{t(()=>{const r=new ut(Z.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(r)})})}W_(t,e){const i=this.K_(this.b_);this.stream=this.z_(t,e),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.e_(()=>{i(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(r=>{i(()=>this.G_(r))}),this.stream.onMessage(r=>{i(()=>++this.C_==1?this.j_(r):this.onNext(r))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(t){return ht(TE,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return e=>{this.Fi.enqueueAndForget(()=>this.b_===t?e():(ht(TE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oM extends WA{constructor(t,e,i,r,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}z_(t,e){return this.connection.P_("Listen",t,e)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const e=dO(this.serializer,t),i=function(o){if(!("targetChange"in o))return St.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?St.min():c.readTime?Oi(c.readTime):St.min()}(t);return this.listener.J_(e,i)}H_(t){const e={};e.database=fp(this.serializer),e.addTarget=function(o,c){let h;const d=c.target;if(h=op(d)?{documents:pO(o,d)}:{query:_O(o,d).Vt},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=UA(o,c.resumeToken);const m=cp(o,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(St.min())>0){h.readTime=If(o,c.snapshotVersion.toTimestamp());const m=cp(o,c.expectedCount);m!==null&&(h.expectedCount=m)}return h}(this.serializer,t);const i=vO(this.serializer,t);i&&(e.labels=i),this.k_(e)}Y_(t){const e={};e.database=fp(this.serializer),e.removeTarget=t,this.k_(e)}}class lM extends WA{constructor(t,e,i,r,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,e){return this.connection.P_("Write",t,e)}j_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const e=mO(t.writeResults,t.commitTime),i=Oi(t.commitTime);return this.listener.ta(i,e)}na(){const t={};t.database=fp(this.serializer),this.k_(t)}X_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>gO(this.serializer,i))};this.k_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{}class uM extends cM{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.ra=!1}ia(){if(this.ra)throw new ut(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,i,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Wo(t,up(e,i),r,o,c)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ut(Z.UNKNOWN,o.toString())})}Jo(t,e,i,r,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.Jo(t,up(e,i),r,c,h,o)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ut(Z.UNKNOWN,c.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class hM{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(_s(e),this._a=!1):ht("OnlineStateTracker",e)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa="RemoteStore";class fM{constructor(t,e,i,r,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(c=>{i.enqueueAndForget(async()=>{Ca(this)&&(ht(wa,"Restarting streams for network reachability change."),await async function(d){const m=xt(d);m.Ia.add(4),await su(m),m.Aa.set("Unknown"),m.Ia.delete(4),await od(m)}(this))})}),this.Aa=new hM(i,r)}}async function od(n){if(Ca(n))for(const t of n.da)await t(!0)}async function su(n){for(const t of n.da)await t(!1)}function $A(n,t){const e=xt(n);e.Ta.has(t.targetId)||(e.Ta.set(t.targetId,t),r_(e)?s_(e):tl(e).x_()&&i_(e,t))}function n_(n,t){const e=xt(n),i=tl(e);e.Ta.delete(t),i.x_()&&ZA(e,t),e.Ta.size===0&&(i.x_()?i.B_():Ca(e)&&e.Aa.set("Unknown"))}function i_(n,t){if(n.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}tl(n).H_(t)}function ZA(n,t){n.Ra.$e(t),tl(n).Y_(t)}function s_(n){n.Ra=new aO({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>n.Ta.get(t)||null,lt:()=>n.datastore.serializer.databaseId}),tl(n).start(),n.Aa.aa()}function r_(n){return Ca(n)&&!tl(n).M_()&&n.Ta.size>0}function Ca(n){return xt(n).Ia.size===0}function JA(n){n.Ra=void 0}async function dM(n){n.Aa.set("Online")}async function gM(n){n.Ta.forEach((t,e)=>{i_(n,t)})}async function mM(n,t){JA(n),r_(n)?(n.Aa.la(t),s_(n)):n.Aa.set("Unknown")}async function pM(n,t,e){if(n.Aa.set("Online"),t instanceof LA&&t.state===2&&t.cause)try{await async function(r,o){const c=o.cause;for(const h of o.targetIds)r.Ta.has(h)&&(await r.remoteSyncer.rejectListen(h,c),r.Ta.delete(h),r.Ra.removeTarget(h))}(n,t)}catch(i){ht(wa,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Df(n,i)}else if(t instanceof lf?n.Ra.Ye(t):t instanceof VA?n.Ra.it(t):n.Ra.et(t),!e.isEqual(St.min()))try{const i=await QA(n.localStore);e.compareTo(i)>=0&&await function(o,c){const h=o.Ra.Pt(c);return h.targetChanges.forEach((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const _=o.Ta.get(m);_&&o.Ta.set(m,_.withResumeToken(d.resumeToken,c))}}),h.targetMismatches.forEach((d,m)=>{const _=o.Ta.get(d);if(!_)return;o.Ta.set(d,_.withResumeToken($e.EMPTY_BYTE_STRING,_.snapshotVersion)),ZA(o,d);const v=new er(_.target,d,m,_.sequenceNumber);i_(o,v)}),o.remoteSyncer.applyRemoteEvent(h)}(n,e)}catch(i){ht(wa,"Failed to raise snapshot:",i),await Df(n,i)}}async function Df(n,t,e){if(!Zo(t))throw t;n.Ia.add(1),await su(n),n.Aa.set("Offline"),e||(e=()=>QA(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ht(wa,"Retrying IndexedDB access"),await e(),n.Ia.delete(1),await od(n)})}function tw(n,t){return t().catch(e=>Df(n,e,t))}async function ld(n){const t=xt(n),e=br(t);let i=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:Fp;for(;_M(t);)try{const r=await ZO(t.localStore,i);if(r===null){t.Pa.length===0&&e.B_();break}i=r.batchId,yM(t,r)}catch(r){await Df(t,r)}ew(t)&&nw(t)}function _M(n){return Ca(n)&&n.Pa.length<10}function yM(n,t){n.Pa.push(t);const e=br(n);e.x_()&&e.Z_&&e.X_(t.mutations)}function ew(n){return Ca(n)&&!br(n).M_()&&n.Pa.length>0}function nw(n){br(n).start()}async function vM(n){br(n).na()}async function bM(n){const t=br(n);for(const e of n.Pa)t.X_(e.mutations)}async function EM(n,t,e){const i=n.Pa.shift(),r=Xp.from(i,t,e);await tw(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),await ld(n)}async function TM(n,t){t&&br(n).Z_&&await async function(i,r){if(function(c){return sO(c)&&c!==Z.ABORTED}(r.code)){const o=i.Pa.shift();br(i).N_(),await tw(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),await ld(i)}}(n,t),ew(n)&&nw(n)}async function SE(n,t){const e=xt(n);e.asyncQueue.verifyOperationInProgress(),ht(wa,"RemoteStore received new credentials");const i=Ca(e);e.Ia.add(3),await su(e),i&&e.Aa.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ia.delete(3),await od(e)}async function SM(n,t){const e=xt(n);t?(e.Ia.delete(2),await od(e)):t||(e.Ia.add(2),await su(e),e.Aa.set("Unknown"))}function tl(n){return n.Va||(n.Va=function(e,i,r){const o=xt(e);return o.ia(),new oM(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Zo:dM.bind(null,n),e_:gM.bind(null,n),n_:mM.bind(null,n),J_:pM.bind(null,n)}),n.da.push(async t=>{t?(n.Va.N_(),r_(n)?s_(n):n.Aa.set("Unknown")):(await n.Va.stop(),JA(n))})),n.Va}function br(n){return n.ma||(n.ma=function(e,i,r){const o=xt(e);return o.ia(),new lM(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:vM.bind(null,n),n_:TM.bind(null,n),ea:bM.bind(null,n),ta:EM.bind(null,n)}),n.da.push(async t=>{t?(n.ma.N_(),await ld(n)):(await n.ma.stop(),n.Pa.length>0&&(ht(wa,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const c=Date.now()+i,h=new a_(t,e,c,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function o_(n,t){if(_s("AsyncQueue",`${t}: ${n}`),Zo(n))return new ut(Z.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{static emptySet(t){return new ko(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||pt.comparator(e.key,i.key):(e,i)=>pt.comparator(e.key,i.key),this.keyedMap=Ec(),this.sortedSet=new fe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof ko)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new ko;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(){this.fa=new fe(pt.comparator)}track(t){const e=t.doc.key,i=this.fa.get(e);i?t.type!==0&&i.type===3?this.fa=this.fa.insert(e,t):t.type===3&&i.type!==1?this.fa=this.fa.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.fa=this.fa.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.fa=this.fa.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.fa=this.fa.remove(e):t.type===1&&i.type===2?this.fa=this.fa.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.fa=this.fa.insert(e,{type:2,doc:t.doc}):Et(63341,{At:t,ga:i}):this.fa=this.fa.insert(e,t)}pa(){const t=[];return this.fa.inorderTraversal((e,i)=>{t.push(i)}),t}}class Ho{constructor(t,e,i,r,o,c,h,d,m){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(t,e,i,r,o){const c=[];return e.forEach(h=>{c.push({type:0,doc:h})}),new Ho(t,e,ko.emptySet(e),c,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ed(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(t=>t.ba())}}class wM{constructor(){this.queries=wE(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(e,i){const r=xt(e),o=r.queries;r.queries=wE(),o.forEach((c,h)=>{for(const d of h.wa)d.onError(i)})})(this,new ut(Z.ABORTED,"Firestore shutting down"))}}function wE(){return new Ia(n=>SA(n),ed)}async function l_(n,t){const e=xt(n);let i=3;const r=t.query;let o=e.queries.get(r);o?!o.Sa()&&t.ba()&&(i=2):(o=new AM,i=t.ba()?0:1);try{switch(i){case 0:o.ya=await e.onListen(r,!0);break;case 1:o.ya=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(c){const h=o_(c,`Initialization of query '${wo(t.query)}' failed`);return void t.onError(h)}e.queries.set(r,o),o.wa.push(t),t.va(e.onlineState),o.ya&&t.Ca(o.ya)&&u_(e)}async function c_(n,t){const e=xt(n),i=t.query;let r=3;const o=e.queries.get(i);if(o){const c=o.wa.indexOf(t);c>=0&&(o.wa.splice(c,1),o.wa.length===0?r=t.ba()?0:1:!o.Sa()&&t.ba()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function xM(n,t){const e=xt(n);let i=!1;for(const r of t){const o=r.query,c=e.queries.get(o);if(c){for(const h of c.wa)h.Ca(r)&&(i=!0);c.ya=r}}i&&u_(e)}function RM(n,t,e){const i=xt(n),r=i.queries.get(t);if(r)for(const o of r.wa)o.onError(e);i.queries.delete(t)}function u_(n){n.Da.forEach(t=>{t.next()})}var mp,xE;(xE=mp||(mp={})).Fa="default",xE.Cache="cache";class h_{constructor(t,e,i){this.query=t,this.Ma=e,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new Ho(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),e=!0):this.Ba(t,this.onlineState)&&(this.La(t),e=!0),this.Oa=t,e}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let e=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),e=!0),e}Ba(t,e){if(!t.fromCache||!this.ba())return!0;const i=e!=="Offline";return(!this.options.ka||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const e=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}La(t){t=Ho.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==mp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(t){this.key=t}}class sw{constructor(t){this.key=t}}class IM{constructor(t,e){this.query=t,this.Ha=e,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Pt(),this.mutatedKeys=Pt(),this.Xa=AA(t),this.eu=new ko(this.Xa)}get tu(){return this.Ha}nu(t,e){const i=e?e.ru:new AE,r=e?e.eu:this.eu;let o=e?e.mutatedKeys:this.mutatedKeys,c=r,h=!1;const d=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,m=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((_,v)=>{const b=r.get(_),A=nd(this.query,v)?v:null,I=!!b&&this.mutatedKeys.has(b.key),k=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let M=!1;b&&A?b.data.isEqual(A.data)?I!==k&&(i.track({type:3,doc:A}),M=!0):this.iu(b,A)||(i.track({type:2,doc:A}),M=!0,(d&&this.Xa(A,d)>0||m&&this.Xa(A,m)<0)&&(h=!0)):!b&&A?(i.track({type:0,doc:A}),M=!0):b&&!A&&(i.track({type:1,doc:b}),M=!0,(d||m)&&(h=!0)),M&&(A?(c=c.add(A),o=k?o.add(_):o.delete(_)):(c=c.delete(_),o=o.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),o=o.delete(_.key),i.track({type:1,doc:_})}return{eu:c,ru:i,Ds:h,mutatedKeys:o}}iu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const o=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const c=t.ru.pa();c.sort((_,v)=>function(A,I){const k=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{At:M})}};return k(A)-k(I)}(_.type,v.type)||this.Xa(_.doc,v.doc)),this.su(i),r=r!=null&&r;const h=e&&!r?this.ou():[],d=this.Za.size===0&&this.current&&!r?1:0,m=d!==this.Ya;return this.Ya=d,c.length!==0||m?{snapshot:new Ho(this.query,t.eu,o,c,t.mutatedKeys,d===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:h}:{_u:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new AE,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=Pt(),this.eu.forEach(i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))});const e=[];return t.forEach(i=>{this.Za.has(i)||e.push(new sw(i))}),this.Za.forEach(i=>{t.has(i)||e.push(new iw(i))}),e}uu(t){this.Ha=t.qs,this.Za=Pt();const e=this.nu(t.documents);return this.applyChanges(e,!0)}cu(){return Ho.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const f_="SyncEngine";class CM{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class DM{constructor(t){this.key=t,this.lu=!1}}class OM{constructor(t,e,i,r,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.hu={},this.Pu=new Ia(h=>SA(h),ed),this.Tu=new Map,this.Iu=new Set,this.du=new fe(pt.comparator),this.Eu=new Map,this.Au=new Zp,this.Ru={},this.Vu=new Map,this.mu=Fo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function MM(n,t,e=!0){const i=uw(n);let r;const o=i.Pu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.cu()):r=await rw(i,t,e,!0),r}async function kM(n,t){const e=uw(n);await rw(e,t,!0,!1)}async function rw(n,t,e,i){const r=await JO(n.localStore,Di(t)),o=r.targetId,c=n.sharedClientState.addLocalQueryTarget(o,e);let h;return i&&(h=await NM(n,t,o,c==="current",r.resumeToken)),n.isPrimaryClient&&e&&$A(n.remoteStore,r),h}async function NM(n,t,e,i,r){n.gu=(v,b,A)=>async function(k,M,G,X){let et=M.view.nu(G);et.Ds&&(et=await yE(k.localStore,M.query,!1).then(({documents:C})=>M.view.nu(C,et)));const it=X&&X.targetChanges.get(M.targetId),W=X&&X.targetMismatches.get(M.targetId)!=null,ot=M.view.applyChanges(et,k.isPrimaryClient,it,W);return IE(k,M.targetId,ot._u),ot.snapshot}(n,v,b,A);const o=await yE(n.localStore,t,!0),c=new IM(t,o.qs),h=c.nu(o.documents),d=iu.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),m=c.applyChanges(h,n.isPrimaryClient,d);IE(n,e,m._u);const _=new CM(t,e,c);return n.Pu.set(t,_),n.Tu.has(e)?n.Tu.get(e).push(t):n.Tu.set(e,[t]),m.snapshot}async function PM(n,t,e){const i=xt(n),r=i.Pu.get(t),o=i.Tu.get(r.targetId);if(o.length>1)return i.Tu.set(r.targetId,o.filter(c=>!ed(c,t))),void i.Pu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await dp(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),e&&n_(i.remoteStore,r.targetId),pp(i,r.targetId)}).catch($o)):(pp(i,r.targetId),await dp(i.localStore,r.targetId,!0))}async function VM(n,t){const e=xt(n),i=e.Pu.get(t),r=e.Tu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),n_(e.remoteStore,i.targetId))}async function LM(n,t,e){const i=qM(n);try{const r=await function(c,h){const d=xt(c),m=le.now(),_=h.reduce((A,I)=>A.add(I.key),Pt());let v,b;return d.persistence.runTransaction("Locally write mutations","readwrite",A=>{let I=ys(),k=Pt();return d.Os.getEntries(A,_).next(M=>{I=M,I.forEach((G,X)=>{X.isValidDocument()||(k=k.add(G))})}).next(()=>d.localDocuments.getOverlayedDocuments(A,I)).next(M=>{v=M;const G=[];for(const X of h){const et=JD(X,v.get(X.key).overlayedDocument);et!=null&&G.push(new xr(X.key,et,mA(et.value.mapValue),ii.exists(!0)))}return d.mutationQueue.addMutationBatch(A,m,G,h)}).next(M=>{b=M;const G=M.applyToLocalDocumentSet(v,k);return d.documentOverlayCache.saveOverlays(A,M.batchId,G)})}).then(()=>({batchId:b.batchId,changes:xA(v)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(c,h,d){let m=c.Ru[c.currentUser.toKey()];m||(m=new fe(Ct)),m=m.insert(h,d),c.Ru[c.currentUser.toKey()]=m}(i,r.batchId,e),await ru(i,r.changes),await ld(i.remoteStore)}catch(r){const o=o_(r,"Failed to persist write");e.reject(o)}}async function aw(n,t){const e=xt(n);try{const i=await WO(e.localStore,t);t.targetChanges.forEach((r,o)=>{const c=e.Eu.get(o);c&&(Yt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?c.lu=!0:r.modifiedDocuments.size>0?Yt(c.lu,14607):r.removedDocuments.size>0&&(Yt(c.lu,42227),c.lu=!1))}),await ru(e,i,t)}catch(i){await $o(i)}}function RE(n,t,e){const i=xt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.Pu.forEach((o,c)=>{const h=c.view.va(t);h.snapshot&&r.push(h.snapshot)}),function(c,h){const d=xt(c);d.onlineState=h;let m=!1;d.queries.forEach((_,v)=>{for(const b of v.wa)b.va(h)&&(m=!0)}),m&&u_(d)}(i.eventManager,t),r.length&&i.hu.J_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function UM(n,t,e){const i=xt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Eu.get(t),o=r&&r.key;if(o){let c=new fe(pt.comparator);c=c.insert(o,sn.newNoDocument(o,St.min()));const h=Pt().add(o),d=new rd(St.min(),new Map,new fe(Ct),c,h);await aw(i,d),i.du=i.du.remove(o),i.Eu.delete(t),d_(i)}else await dp(i.localStore,t,!1).then(()=>pp(i,t,e)).catch($o)}async function zM(n,t){const e=xt(n),i=t.batch.batchId;try{const r=await XO(e.localStore,t);lw(e,i,null),ow(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await ru(e,r)}catch(r){await $o(r)}}async function BM(n,t,e){const i=xt(n);try{const r=await function(c,h){const d=xt(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let _;return d.mutationQueue.lookupMutationBatch(m,h).next(v=>(Yt(v!==null,37113),_=v.keys(),d.mutationQueue.removeMutationBatch(m,v))).next(()=>d.mutationQueue.performConsistencyCheck(m)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(m,_,h)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_)).next(()=>d.localDocuments.getDocuments(m,_))})}(i.localStore,t);lw(i,t,e),ow(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await ru(i,r)}catch(r){await $o(r)}}function ow(n,t){(n.Vu.get(t)||[]).forEach(e=>{e.resolve()}),n.Vu.delete(t)}function lw(n,t,e){const i=xt(n);let r=i.Ru[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Ru[i.currentUser.toKey()]=r}}function pp(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Tu.get(t))n.Pu.delete(i),e&&n.hu.pu(i,e);n.Tu.delete(t),n.isPrimaryClient&&n.Au.zr(t).forEach(i=>{n.Au.containsKey(i)||cw(n,i)})}function cw(n,t){n.Iu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(n_(n.remoteStore,e),n.du=n.du.remove(t),n.Eu.delete(e),d_(n))}function IE(n,t,e){for(const i of e)i instanceof iw?(n.Au.addReference(i.key,t),jM(n,i)):i instanceof sw?(ht(f_,"Document no longer in limbo: "+i.key),n.Au.removeReference(i.key,t),n.Au.containsKey(i.key)||cw(n,i.key)):Et(19791,{yu:i})}function jM(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Iu.has(i)||(ht(f_,"New document in limbo: "+e),n.Iu.add(i),d_(n))}function d_(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Iu.values().next().value;n.Iu.delete(t);const e=new pt(ae.fromString(t)),i=n.mu.next();n.Eu.set(i,new DM(e)),n.du=n.du.insert(e,i),$A(n.remoteStore,new er(Di(td(e.path)),i,"TargetPurposeLimboResolution",$f.ue))}}async function ru(n,t,e){const i=xt(n),r=[],o=[],c=[];i.Pu.isEmpty()||(i.Pu.forEach((h,d)=>{c.push(i.gu(d,t,e).then(m=>{var _;if((m||e)&&i.isPrimaryClient){const v=m?!m.fromCache:(_=e?.targetChanges.get(d.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(d.targetId,v?"current":"not-current")}if(m){r.push(m);const v=t_.Es(d.targetId,m);o.push(v)}}))}),await Promise.all(c),i.hu.J_(r),await async function(d,m){const _=xt(d);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>tt.forEach(m,b=>tt.forEach(b.Is,A=>_.persistence.referenceDelegate.addReference(v,b.targetId,A)).next(()=>tt.forEach(b.ds,A=>_.persistence.referenceDelegate.removeReference(v,b.targetId,A)))))}catch(v){if(!Zo(v))throw v;ht(e_,"Failed to update sequence numbers: "+v)}for(const v of m){const b=v.targetId;if(!v.fromCache){const A=_.Fs.get(b),I=A.snapshotVersion,k=A.withLastLimboFreeSnapshotVersion(I);_.Fs=_.Fs.insert(b,k)}}}(i.localStore,o))}async function FM(n,t){const e=xt(n);if(!e.currentUser.isEqual(t)){ht(f_,"User change. New user:",t.toKey());const i=await KA(e.localStore,t);e.currentUser=t,function(o,c){o.Vu.forEach(h=>{h.forEach(d=>{d.reject(new ut(Z.CANCELLED,c))})}),o.Vu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await ru(e,i.Bs)}}function HM(n,t){const e=xt(n),i=e.Eu.get(t);if(i&&i.lu)return Pt().add(i.key);{let r=Pt();const o=e.Tu.get(t);if(!o)return r;for(const c of o){const h=e.Pu.get(c);r=r.unionWith(h.view.tu)}return r}}function uw(n){const t=xt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=aw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=HM.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=UM.bind(null,t),t.hu.J_=xM.bind(null,t.eventManager),t.hu.pu=RM.bind(null,t.eventManager),t}function qM(n){const t=xt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=zM.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=BM.bind(null,t),t}class Of{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ad(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,e){return null}Fu(t,e){return null}vu(t){return QO(this.persistence,new GO,t.initialUser,this.serializer)}Du(t){return new YA(Jp.Vi,this.serializer)}bu(t){return new eM}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Of.provider={build:()=>new Of};class GM extends Of{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,e){Yt(this.persistence.referenceDelegate instanceof Cf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new DO(i,t.asyncQueue,e)}Du(t){const e=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new YA(i=>Cf.Vi(i,e),this.serializer)}}class _p{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>RE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=FM.bind(null,this.syncEngine),await SM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new wM}()}createDatastore(t){const e=ad(t.databaseInfo.databaseId),i=function(o){return new aM(o)}(t.databaseInfo);return function(o,c,h,d){return new uM(o,c,h,d)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return function(i,r,o,c,h){return new fM(i,r,o,c,h)}(this.localStore,this.datastore,t.asyncQueue,e=>RE(this.syncEngine,e,0),function(){return EE.C()?new EE:new nM}())}createSyncEngine(t,e){return function(r,o,c,h,d,m,_){const v=new OM(r,o,c,h,d,m);return _&&(v.fu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(r){const o=xt(r);ht(wa,"RemoteStore shutting down."),o.Ia.add(5),await su(o),o.Ea.shutdown(),o.Aa.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}_p.provider={build:()=>new _p};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):_s("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er="FirestoreClient";class YM{constructor(t,e,i,r,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=nn.UNAUTHENTICATED,this.clientId=jp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async c=>{ht(Er,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(ht(Er,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=o_(e,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Nm(n,t){n.asyncQueue.verifyOperationInProgress(),ht(Er,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(async r=>{i.isEqual(r)||(await KA(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>{mr("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{ht("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(r=>{mr("Terminating Firestore due to IndexedDb database deletion failed",r)})}),n._offlineComponents=t}async function CE(n,t){n.asyncQueue.verifyOperationInProgress();const e=await KM(n);ht(Er,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>SE(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>SE(t.remoteStore,r)),n._onlineComponents=t}async function KM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ht(Er,"Using user provided OfflineComponentProvider");try{await Nm(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(r){return r.name==="FirebaseError"?r.code===Z.FAILED_PRECONDITION||r.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(e))throw e;mr("Error using user provided cache. Falling back to memory cache: "+e),await Nm(n,new Of)}}else ht(Er,"Using default OfflineComponentProvider"),await Nm(n,new GM(void 0));return n._offlineComponents}async function hw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ht(Er,"Using user provided OnlineComponentProvider"),await CE(n,n._uninitializedComponentsProvider._online)):(ht(Er,"Using default OnlineComponentProvider"),await CE(n,new _p))),n._onlineComponents}function QM(n){return hw(n).then(t=>t.syncEngine)}async function Mf(n){const t=await hw(n),e=t.eventManager;return e.onListen=MM.bind(null,t.syncEngine),e.onUnlisten=PM.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=kM.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=VM.bind(null,t.syncEngine),e}function XM(n,t,e={}){const i=new gs;return n.asyncQueue.enqueueAndForget(async()=>function(o,c,h,d,m){const _=new g_({next:b=>{_.Ou(),c.enqueueAndForget(()=>c_(o,v));const A=b.docs.has(h);!A&&b.fromCache?m.reject(new ut(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&b.fromCache&&d&&d.source==="server"?m.reject(new ut(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(b)},error:b=>m.reject(b)}),v=new h_(td(h.path),_,{includeMetadataChanges:!0,ka:!0});return l_(o,v)}(await Mf(n),n.asyncQueue,t,e,i)),i.promise}function WM(n,t,e={}){const i=new gs;return n.asyncQueue.enqueueAndForget(async()=>function(o,c,h,d,m){const _=new g_({next:b=>{_.Ou(),c.enqueueAndForget(()=>c_(o,v)),b.fromCache&&d.source==="server"?m.reject(new ut(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(b)},error:b=>m.reject(b)}),v=new h_(h,_,{includeMetadataChanges:!0,ka:!0});return l_(o,v)}(await Mf(n),n.asyncQueue,t,e,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="firestore.googleapis.com",OE=!0;class ME{constructor(t){var e,i;if(t.host===void 0){if(t.ssl!==void 0)throw new ut(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dw,this.ssl=OE}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:OE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=GA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<IO)throw new ut(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}dD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fw((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class cd{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ME({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ME(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new sD;switch(i.type){case"firstParty":return new lD(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ut(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=DE.get(e);i&&(ht("ComponentProvider","Removing Datastore"),DE.delete(e),i.terminate())}(this),Promise.resolve()}}function $M(n,t,e,i={}){var r;n=Gn(n,cd);const o=Yo(t),c=n._getSettings(),h=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),d=`${t}:${e}`;o&&(lS(`https://${d}`),cS("Firestore",!0)),c.host!==dw&&c.host!==d&&mr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},c),{host:d,ssl:o,emulatorOptions:i});if(!Ea(m,h)&&(n._setSettings(m),i.mockUserToken)){let _,v;if(typeof i.mockUserToken=="string")_=i.mockUserToken,v=nn.MOCK_USER;else{_=mR(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new ut(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new nn(b)}n._authCredentials=new rD(new nA(_,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new bs(this.firestore,t,this._query)}}class be{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ur(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new be(this.firestore,t,this._key)}toJSON(){return{type:be._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(eu(e,be._jsonSchema))return new be(t,i||null,new pt(ae.fromString(e.referencePath)))}}be._jsonSchemaVersion="firestore/documentReference/1.0",be._jsonSchema={type:Ie("string",be._jsonSchemaVersion),referencePath:Ie("string")};class ur extends bs{constructor(t,e,i){super(t,e,td(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new be(this.firestore,null,new pt(t))}withConverter(t){return new ur(this.firestore,t,this._path)}}function No(n,t,...e){if(n=Pe(n),sA("collection","path",t),n instanceof cd){const i=ae.fromString(t,...e);return Gb(i),new ur(n,null,i)}{if(!(n instanceof be||n instanceof ur))throw new ut(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ae.fromString(t,...e));return Gb(i),new ur(n.firestore,null,i)}}function kf(n,t,...e){if(n=Pe(n),arguments.length===1&&(t=jp.newId()),sA("doc","path",t),n instanceof cd){const i=ae.fromString(t,...e);return qb(i),new be(n,null,new pt(i))}{if(!(n instanceof be||n instanceof ur))throw new ut(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ae.fromString(t,...e));return qb(i),new be(n.firestore,n instanceof ur?n.converter:null,new pt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="AsyncQueue";class NE{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new XA(this,"async_queue_retry"),this.oc=()=>{const i=km();i&&ht(kE,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=t;const e=km();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const e=km();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise(()=>{});const e=new gs;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Zu.push(t),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!Zo(t))throw t;ht(kE,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(t){const e=this._c.then(()=>(this.nc=!0,t().catch(i=>{throw this.tc=i,this.nc=!1,_s("INTERNAL UNHANDLED ERROR: ",PE(i)),i}).then(i=>(this.nc=!1,i))));return this._c=e,e}enqueueAfterDelay(t,e,i){this.ac(),this.sc.indexOf(t)>-1&&(e=0);const r=a_.createAndSchedule(this,t,e,i,o=>this.lc(o));return this.ec.push(r),r}ac(){this.tc&&Et(47125,{hc:PE(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const e of this.ec)if(e.timerId===t)return!0;return!1}Ic(t){return this.Pc().then(()=>{this.ec.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.ec)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Pc()})}dc(t){this.sc.push(t)}lc(t){const e=this.ec.indexOf(t);this.ec.splice(e,1)}}function PE(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(n){return function(e,i){if(typeof e!="object"||e===null)return!1;const r=e;for(const o of i)if(o in r&&typeof r[o]=="function")return!0;return!1}(n,["next","error","complete"])}class Tr extends cd{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new NE,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new NE(t),this._firestoreClient=void 0,await t}}}function gw(n,t){const e=typeof n=="object"?n:dS(),i=typeof n=="string"?n:Tf,r=Dp(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=dR("firestore");o&&$M(r,...o)}return r}function ud(n){if(n._terminated)throw new ut(Z.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||ZM(n),n._firestoreClient}function ZM(n){var t,e,i;const r=n._freezeSettings(),o=function(h,d,m,_){return new AD(h,d,m,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,fw(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((e=r.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new YM(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(h){const d=h?._online.build();return{_offline:h?._offline.build(d),_online:d}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new qn($e.fromBase64String(t))}catch(e){throw new ut(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new qn($e.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(eu(t,qn._jsonSchema))return qn.fromBase64String(t.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:Ie("string",qn._jsonSchemaVersion),bytes:Ie("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ut(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new We(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ut(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ut(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ct(this._lat,t._lat)||Ct(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mi._jsonSchemaVersion}}static fromJSON(t){if(eu(t,Mi._jsonSchema))return new Mi(t.latitude,t.longitude)}}Mi._jsonSchemaVersion="firestore/geoPoint/1.0",Mi._jsonSchema={type:Ie("string",Mi._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,t._values)}toJSON(){return{type:ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(eu(t,ki._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(e=>typeof e=="number"))return new ki(t.vectorValues);throw new ut(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ki._jsonSchemaVersion="firestore/vectorValue/1.0",ki._jsonSchema={type:Ie("string",ki._jsonSchemaVersion),vectorValues:Ie("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM=/^__.*__$/;class tk{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new xr(t,this.data,this.fieldMask,e,this.fieldTransforms):new nu(t,this.data,e,this.fieldTransforms)}}class mw{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new xr(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function pw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ec:n})}}class p_{constructor(t,e,i,r,o,c){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new p_(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.Rc({path:i,mc:!1});return r.fc(t),r}gc(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.Rc({path:i,mc:!1});return r.Ac(),r}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return Nf(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(pw(this.Ec)&&JM.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class ek{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||ad(t)}Dc(t,e,i,r=!1){return new p_({Ec:t,methodName:e,bc:i,path:We.emptyPath(),mc:!1,Sc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function __(n){const t=n._freezeSettings(),e=ad(n._databaseId);return new ek(n._databaseId,!!t.ignoreUndefinedProperties,e)}function nk(n,t,e,i,r,o={}){const c=n.Dc(o.merge||o.mergeFields?2:0,t,e,r);y_("Data must be an object, but it was:",c,i);const h=_w(i,c);let d,m;if(o.merge)d=new Cn(c.fieldMask),m=c.fieldTransforms;else if(o.mergeFields){const _=[];for(const v of o.mergeFields){const b=yp(t,v,e);if(!c.contains(b))throw new ut(Z.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);vw(_,b)||_.push(b)}d=new Cn(_),m=c.fieldTransforms.filter(v=>d.covers(v.field))}else d=null,m=c.fieldTransforms;return new tk(new mn(h),d,m)}class fd extends m_{_toFieldTransform(t){if(t.Ec!==2)throw t.Ec===1?t.wc(`${this._methodName}() can only appear at the top level of your update data`):t.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof fd}}function ik(n,t,e,i){const r=n.Dc(1,t,e);y_("Data must be an object, but it was:",r,i);const o=[],c=mn.empty();wr(i,(d,m)=>{const _=v_(t,d,e);m=Pe(m);const v=r.gc(_);if(m instanceof fd)o.push(_);else{const b=au(m,v);b!=null&&(o.push(_),c.set(_,b))}});const h=new Cn(o);return new mw(c,h,r.fieldTransforms)}function sk(n,t,e,i,r,o){const c=n.Dc(1,t,e),h=[yp(t,i,e)],d=[r];if(o.length%2!=0)throw new ut(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<o.length;b+=2)h.push(yp(t,o[b])),d.push(o[b+1]);const m=[],_=mn.empty();for(let b=h.length-1;b>=0;--b)if(!vw(m,h[b])){const A=h[b];let I=d[b];I=Pe(I);const k=c.gc(A);if(I instanceof fd)m.push(A);else{const M=au(I,k);M!=null&&(m.push(A),_.set(A,M))}}const v=new Cn(m);return new mw(_,v,c.fieldTransforms)}function rk(n,t,e,i=!1){return au(e,n.Dc(i?4:3,t))}function au(n,t){if(yw(n=Pe(n)))return y_("Unsupported field value:",t,n),_w(n,t);if(n instanceof m_)return function(i,r){if(!pw(r.Ec))throw r.wc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.wc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return function(i,r){const o=[];let c=0;for(const h of i){let d=au(h,r.yc(c));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),c++}return{arrayValue:{values:o}}}(n,t)}return function(i,r){if((i=Pe(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return KD(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=le.fromDate(i);return{timestampValue:If(r.serializer,o)}}if(i instanceof le){const o=new le(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:If(r.serializer,o)}}if(i instanceof Mi)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof qn)return{bytesValue:UA(r.serializer,i._byteString)};if(i instanceof be){const o=r.databaseId,c=i.firestore._databaseId;if(!c.isEqual(o))throw r.wc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:$p(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof ki)return function(c,h){return{mapValue:{fields:{[dA]:{stringValue:gA},[Sf]:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw h.wc("VectorValues must only contain numeric values.");return Kp(h.serializer,m)})}}}}}}(i,r);throw r.wc(`Unsupported field value: ${Wf(i)}`)}(n,t)}function _w(n,t){const e={};return oA(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):wr(n,(i,r)=>{const o=au(r,t.Vc(i));o!=null&&(e[i]=o)}),{mapValue:{fields:e}}}function yw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof le||n instanceof Mi||n instanceof qn||n instanceof be||n instanceof m_||n instanceof ki)}function y_(n,t,e){if(!yw(e)||!rA(e)){const i=Wf(e);throw i==="an object"?t.wc(n+" a custom object"):t.wc(n+" "+i)}}function yp(n,t,e){if((t=Pe(t))instanceof hd)return t._internalPath;if(typeof t=="string")return v_(n,t);throw Nf("Field path arguments must be of type string or ",n,!1,void 0,e)}const ak=new RegExp("[~\\*/\\[\\]]");function v_(n,t,e){if(t.search(ak)>=0)throw Nf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new hd(...t.split("."))._internalPath}catch{throw Nf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Nf(n,t,e,i,r){const o=i&&!i.isEmpty(),c=r!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||c)&&(d+=" (found",o&&(d+=` in field ${i}`),c&&(d+=` in document ${r}`),d+=")"),new ut(Z.INVALID_ARGUMENT,h+n+d)}function vw(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new ok(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(dd("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class ok extends bw{data(){return super.data()}}function dd(n,t){return typeof t=="string"?v_(n,t):t instanceof hd?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ut(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class b_{}class E_ extends b_{}function vp(n,t,...e){let i=[];t instanceof b_&&i.push(t),i=i.concat(e),function(o){const c=o.filter(d=>d instanceof T_).length,h=o.filter(d=>d instanceof gd).length;if(c>1||c>0&&h>0)throw new ut(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class gd extends E_{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new gd(t,e,i)}_apply(t){const e=this._parse(t);return Sw(t._query,e),new bs(t.firestore,t.converter,lp(t._query,e))}_parse(t){const e=__(t.firestore);return function(o,c,h,d,m,_,v){let b;if(m.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ut(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){zE(v,_);const I=[];for(const k of v)I.push(UE(d,o,k));b={arrayValue:{values:I}}}else b=UE(d,o,v)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||zE(v,_),b=rk(h,c,v,_==="in"||_==="not-in");return Re.create(m,_,b)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function LE(n,t,e){const i=t,r=dd("where",n);return gd._create(r,i,e)}class T_ extends b_{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new T_(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return e.length===1?e[0]:ri.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(r,o){let c=r;const h=o.getFlattenedFilters();for(const d of h)Sw(c,d),c=lp(c,d)}(t._query,e),new bs(t.firestore,t.converter,lp(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class S_ extends E_{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new S_(t,e)}_apply(t){const e=function(r,o,c){if(r.startAt!==null)throw new ut(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new ut(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Hc(o,c)}(t._query,this._field,this._direction);return new bs(t.firestore,t.converter,function(r,o){const c=r.explicitOrderBy.concat([o]);return new Jo(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}function Tw(n,t="asc"){const e=t,i=dd("orderBy",n);return S_._create(i,e)}class A_ extends E_{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new A_(t,e,i)}_apply(t){return new bs(t.firestore,t.converter,wf(t._query,this._limit,this._limitType))}}function lk(n){return A_._create("limit",n,"F")}function UE(n,t,e){if(typeof(e=Pe(e))=="string"){if(e==="")throw new ut(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!TA(t)&&e.indexOf("/")!==-1)throw new ut(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(ae.fromString(e));if(!pt.isDocumentKey(i))throw new ut(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Jb(n,new pt(i))}if(e instanceof be)return Jb(n,e._key);throw new ut(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wf(e)}.`)}function zE(n,t){if(!Array.isArray(n)||n.length===0)throw new ut(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Sw(n,t){const e=function(r,o){for(const c of r)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new ut(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ut(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class ck{convertValue(t,e="none"){switch(vr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ve(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(yr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return wr(t,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertVectorValue(t){var e,i,r;const o=(r=(i=(e=t.fields)===null||e===void 0?void 0:e[Sf].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(c=>ve(c.doubleValue));return new ki(o)}convertGeoPoint(t){return new Mi(ve(t.latitude),ve(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Jf(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Bc(t));default:return null}}convertTimestamp(t){const e=_r(t);return new le(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=ae.fromString(t);Yt(qA(i),9688,{name:t});const r=new jc(i.get(1),i.get(3)),o=new pt(i.popFirst(5));return r.isEqual(e)||_s(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(n,t,e){let i;return i=n?n.toFirestore(t):t,i}class Sc{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ya extends bw{constructor(t,e,i,r,o,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new cf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(dd("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=ya._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}ya._jsonSchemaVersion="firestore/documentSnapshot/1.0",ya._jsonSchema={type:Ie("string",ya._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class cf extends ya{data(t={}){return super.data(t)}}class va{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Sc(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new cf(this._firestore,this._userDataWriter,i.key,i,new Sc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ut(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(h=>{const d=new cf(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Sc(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}})}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const d=new cf(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Sc(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let m=-1,_=-1;return h.type!==0&&(m=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),_=c.indexOf(h.doc.key)),{type:hk(h.type),doc:d,oldIndex:m,newIndex:_}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=va._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=jp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],r=[];return this.docs.forEach(o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function hk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(n){n=Gn(n,be);const t=Gn(n.firestore,Tr);return XM(ud(t),n._key).then(e=>xw(t,n,e))}va._jsonSchemaVersion="firestore/querySnapshot/1.0",va._jsonSchema={type:Ie("string",va._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class w_ extends ck{constructor(t){super(),this.firestore=t}convertBytes(t){return new qn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new be(this.firestore,null,e)}}function Aw(n){n=Gn(n,bs);const t=Gn(n.firestore,Tr),e=ud(t),i=new w_(t);return Ew(n._query),WM(e,n._query).then(r=>new va(t,i,n,r))}function BE(n,t,e,...i){n=Gn(n,be);const r=Gn(n.firestore,Tr),o=__(r);let c;return c=typeof(t=Pe(t))=="string"||t instanceof hd?sk(o,"updateDoc",n._key,t,e,i):ik(o,"updateDoc",n._key,t),x_(r,[c.toMutation(n._key,ii.exists(!0))])}function dk(n){return x_(Gn(n.firestore,Tr),[new Qp(n._key,ii.none())])}function ww(n,t){const e=Gn(n.firestore,Tr),i=kf(n),r=uk(n.converter,t);return x_(e,[nk(__(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,ii.exists(!1))]).then(()=>i)}function jE(n,...t){var e,i,r;n=Pe(n);let o={includeMetadataChanges:!1,source:"default"},c=0;typeof t[c]!="object"||VE(t[c])||(o=t[c++]);const h={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(VE(t[c])){const v=t[c];t[c]=(e=v.next)===null||e===void 0?void 0:e.bind(v),t[c+1]=(i=v.error)===null||i===void 0?void 0:i.bind(v),t[c+2]=(r=v.complete)===null||r===void 0?void 0:r.bind(v)}let d,m,_;if(n instanceof be)m=Gn(n.firestore,Tr),_=td(n._key.path),d={next:v=>{t[c]&&t[c](xw(m,n,v))},error:t[c+1],complete:t[c+2]};else{const v=Gn(n,bs);m=Gn(v.firestore,Tr),_=v._query;const b=new w_(m);d={next:A=>{t[c]&&t[c](new va(m,b,v,A))},error:t[c+1],complete:t[c+2]},Ew(n._query)}return function(b,A,I,k){const M=new g_(k),G=new h_(A,M,I);return b.asyncQueue.enqueueAndForget(async()=>l_(await Mf(b),G)),()=>{M.Ou(),b.asyncQueue.enqueueAndForget(async()=>c_(await Mf(b),G))}}(ud(m),_,h,d)}function x_(n,t){return function(i,r){const o=new gs;return i.asyncQueue.enqueueAndForget(async()=>LM(await QM(i),r,o)),o.promise}(ud(n),t)}function xw(n,t,e){const i=e.docs.get(t._key),r=new w_(n);return new ya(n,r,t._key,i,new Sc(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(r){Wo=r})(Ko),Lo(new Ta("firestore",(i,{instanceIdentifier:r,options:o})=>{const c=i.getProvider("app").getImmediate(),h=new Tr(new aD(i.getProvider("auth-internal")),new cD(c,i.getProvider("app-check-internal")),function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ut(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jc(m.options.projectId,_)}(c,r),c);return o=Object.assign({useFetchStreams:e},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),or(zb,Bb,t),or(zb,Bb,"esm2017")})();const gk={apiKey:"AIzaSyBCquZbrEGg9CHUhbzrFhFwDejhc0Mw-aQ",authDomain:"pruebas-c80da.firebaseapp.com",projectId:"pruebas-c80da",storageBucket:"pruebas-c80da.firebasestorage.app",messagingSenderId:"168916926366",appId:"1:168916926366:web:a3b7e882356f6d0cb8a08f",measurementId:"G-XMVGNQ24XY"},Rw=fS(gk),bp=tD(Rw),hr=gw(Rw);function mk({onLogin:n}){const[t,e]=Ht.useState(""),[i,r]=Ht.useState(""),[o,c]=Ht.useState(""),h=async d=>{d.preventDefault();try{await zC(bp,t,i),n()}catch{c("Credenciales incorrectas o usuario no autorizado")}};return st.jsxs("div",{className:"max-w-sm mx-auto mt-10 p-4 border rounded shadow",children:[st.jsx("h2",{className:"text-xl font-bold mb-4 text-center",children:"Inicia sesin"}),st.jsxs("form",{onSubmit:h,className:"flex flex-col gap-4",children:[st.jsx("input",{type:"email",placeholder:"Correo",value:t,onChange:d=>e(d.target.value),className:"p-2 border rounded",required:!0}),st.jsx("input",{type:"password",placeholder:"Contrasea",value:i,onChange:d=>r(d.target.value),className:"p-2 border rounded",required:!0}),o&&st.jsx("p",{className:"text-red-500 text-sm",children:o}),st.jsx("button",{type:"submit",className:"bg-blue-500 text-white py-2 rounded hover:bg-blue-600",children:"Entrar"})]})]})}var Iw={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},FE=ds.createContext&&ds.createContext(Iw),pk=["attr","size","title"];function _k(n,t){if(n==null)return{};var e=yk(n,t),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)i=o[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function yk(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function Pf(){return Pf=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Pf.apply(this,arguments)}function HE(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Vf(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?HE(Object(e),!0).forEach(function(i){vk(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):HE(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function vk(n,t,e){return t=bk(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function bk(n){var t=Ek(n,"string");return typeof t=="symbol"?t:t+""}function Ek(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Cw(n){return n&&n.map((t,e)=>ds.createElement(t.tag,Vf({key:e},t.attr),Cw(t.child)))}function Dw(n){return t=>ds.createElement(Tk,Pf({attr:Vf({},n.attr)},t),Cw(n.child))}function Tk(n){var t=e=>{var{attr:i,size:r,title:o}=n,c=_k(n,pk),h=r||e.size||"1em",d;return e.className&&(d=e.className),n.className&&(d=(d?d+" ":"")+n.className),ds.createElement("svg",Pf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,i,c,{className:d,style:Vf(Vf({color:n.color||e.color},e.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&ds.createElement("title",null,o),n.children)};return FE!==void 0?ds.createElement(FE.Consumer,null,e=>t(e)):t(Iw)}function Sk(n){return Dw({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(n)}function Ak(n){return Dw({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"},child:[]}]})(n)}const Pm=[{id:"chupito",nombre:"Chupito"},{id:"cerveza",nombre:"Cerveza"},{id:"ron-cola",nombre:"Ron-cola"},{id:"ron-naranja",nombre:"Ron-naranja"},{id:"calimocho",nombre:"Calimocho"},{id:"bacardi-limon",nombre:"Bacard Limn"}];function wk({onAdd:n,uid:t}){const[e,i]=Ht.useState(null),[r,o]=Ht.useState(!1),[c,h]=Ht.useState(null),d=Ht.useRef(null);Ht.useEffect(()=>{function b(A){d.current&&!d.current.contains(A.target)&&o(!1)}return r?document.addEventListener("mousedown",b):document.removeEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[r]);const m=async b=>{if(!t)return;const A=kf(hr,"usuarios",t);c===b?(await BE(A,{bebidaFav:null}),h(null)):(await BE(A,{bebidaFav:b}),h(b))},_=async()=>{if(!t)return;const b=kf(hr,"usuarios",t),A=await fk(b);A.exists()&&h(A.data().bebidaFav||null)};Ht.useEffect(()=>{_()},[t]);const v=()=>{e&&(n(e),i(null))};return st.jsxs("div",{className:"flex flex-col items-center gap-4 relative",ref:d,children:[st.jsx("button",{onClick:()=>o(!r),className:"border border-gray-300 rounded px-4 py-2 w-64 bg-white text-left",children:e?Pm.find(b=>b.id===e)?.nombre:"Selecciona una bebida"}),r&&st.jsx("div",{className:"absolute top-12 w-64 border border-gray-300 rounded bg-white z-10 shadow",children:Pm.map(b=>st.jsxs("div",{className:"flex justify-between items-center px-4 py-2 hover:bg-gray-100 cursor-pointer",onClick:()=>{i(b.id),o(!1)},children:[st.jsx("span",{children:b.nombre}),st.jsx("button",{onClick:A=>{A.stopPropagation(),m(b.id)},className:"text-yellow-500",children:c===b.id?st.jsx(Sk,{}):st.jsx(Ak,{})})]},b.id))}),st.jsx("button",{onClick:v,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded disabled:opacity-50",disabled:!e,children:"Aadir bebida"}),c&&st.jsxs("button",{onClick:()=>n(c),className:"bg-yellow-400 hover:bg-yellow-500 text-yellow-900 font-semibold px-4 py-2 rounded disabled:opacity-50 transition-colors duration-200",disabled:!c,children:["Aadir favorita (",Pm.find(b=>b.id===c)?.nombre,")"]})]})}const xk={"vilari.ser@gmail.com":"Sergio","iriasanchezgarcia@gmail.com":"Iria","antonlopezleal2@gmail.com":"Toni","pablorodriguezlopez190@gmail.com":"Pablo","markusweber192@gmail.com":"Marco","rubensanchezgarcia10@gmail.com":"Rubn","hugoby888@gmail.com":"Hugo"};function R_({email:n}){const t=xk[n]||"Usuario Desconocido";return st.jsx("span",{className:"text-gray-700 font-semibold",children:t})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function ou(n){return n+.5|0}const nr=(n,t,e)=>Math.max(Math.min(n,e),t);function Ac(n){return nr(ou(n*2.55),0,255)}function fr(n){return nr(ou(n*255),0,255)}function us(n){return nr(ou(n/2.55)/100,0,1)}function qE(n){return nr(ou(n*100),0,100)}const Hn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ep=[..."0123456789ABCDEF"],Rk=n=>Ep[n&15],Ik=n=>Ep[(n&240)>>4]+Ep[n&15],Bh=n=>(n&240)>>4===(n&15),Ck=n=>Bh(n.r)&&Bh(n.g)&&Bh(n.b)&&Bh(n.a);function Dk(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Hn[n[1]]*17,g:255&Hn[n[2]]*17,b:255&Hn[n[3]]*17,a:t===5?Hn[n[4]]*17:255}:(t===7||t===9)&&(e={r:Hn[n[1]]<<4|Hn[n[2]],g:Hn[n[3]]<<4|Hn[n[4]],b:Hn[n[5]]<<4|Hn[n[6]],a:t===9?Hn[n[7]]<<4|Hn[n[8]]:255})),e}const Ok=(n,t)=>n<255?t(n):"";function Mk(n){var t=Ck(n)?Rk:Ik;return n?"#"+t(n.r)+t(n.g)+t(n.b)+Ok(n.a,t):void 0}const kk=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Ow(n,t,e){const i=t*Math.min(e,1-e),r=(o,c=(o+n/30)%12)=>e-i*Math.max(Math.min(c-3,9-c,1),-1);return[r(0),r(8),r(4)]}function Nk(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function Pk(n,t,e){const i=Ow(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function Vk(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function I_(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),c=Math.min(e,i,r),h=(o+c)/2;let d,m,_;return o!==c&&(_=o-c,m=h>.5?_/(2-o-c):_/(o+c),d=Vk(e,i,r,_,o),d=d*60+.5),[d|0,m||0,h]}function C_(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(fr)}function D_(n,t,e){return C_(Ow,n,t,e)}function Lk(n,t,e){return C_(Pk,n,t,e)}function Uk(n,t,e){return C_(Nk,n,t,e)}function Mw(n){return(n%360+360)%360}function zk(n){const t=kk.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Ac(+t[5]):fr(+t[5]));const r=Mw(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?i=Lk(r,o,c):t[1]==="hsv"?i=Uk(r,o,c):i=D_(r,o,c),{r:i[0],g:i[1],b:i[2],a:e}}function Bk(n,t){var e=I_(n);e[0]=Mw(e[0]+t),e=D_(e),n.r=e[0],n.g=e[1],n.b=e[2]}function jk(n){if(!n)return;const t=I_(n),e=t[0],i=qE(t[1]),r=qE(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${us(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const GE={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},YE={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Fk(){const n={},t=Object.keys(YE),e=Object.keys(GE);let i,r,o,c,h;for(i=0;i<t.length;i++){for(c=h=t[i],r=0;r<e.length;r++)o=e[r],h=h.replace(o,GE[o]);o=parseInt(YE[c],16),n[h]=[o>>16&255,o>>8&255,o&255]}return n}let jh;function Hk(n){jh||(jh=Fk(),jh.transparent=[0,0,0,0]);const t=jh[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const qk=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Gk(n){const t=qk.exec(n);let e=255,i,r,o;if(t){if(t[7]!==i){const c=+t[7];e=t[8]?Ac(c):nr(c*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?Ac(i):nr(i,0,255)),r=255&(t[4]?Ac(r):nr(r,0,255)),o=255&(t[6]?Ac(o):nr(o,0,255)),{r:i,g:r,b:o,a:e}}}function Yk(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${us(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Vm=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,So=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function Kk(n,t,e){const i=So(us(n.r)),r=So(us(n.g)),o=So(us(n.b));return{r:fr(Vm(i+e*(So(us(t.r))-i))),g:fr(Vm(r+e*(So(us(t.g))-r))),b:fr(Vm(o+e*(So(us(t.b))-o))),a:n.a+e*(t.a-n.a)}}function Fh(n,t,e){if(n){let i=I_(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=D_(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function kw(n,t){return n&&Object.assign(t||{},n)}function KE(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=fr(n[3]))):(t=kw(n,{r:0,g:0,b:0,a:1}),t.a=fr(t.a)),t}function Qk(n){return n.charAt(0)==="r"?Gk(n):zk(n)}class Yc{constructor(t){if(t instanceof Yc)return t;const e=typeof t;let i;e==="object"?i=KE(t):e==="string"&&(i=Dk(t)||Hk(t)||Qk(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=kw(this._rgb);return t&&(t.a=us(t.a)),t}set rgb(t){this._rgb=KE(t)}rgbString(){return this._valid?Yk(this._rgb):void 0}hexString(){return this._valid?Mk(this._rgb):void 0}hslString(){return this._valid?jk(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const c=e===o?.5:e,h=2*c-1,d=i.a-r.a,m=((h*d===-1?h:(h+d)/(1+h*d))+1)/2;o=1-m,i.r=255&m*i.r+o*r.r+.5,i.g=255&m*i.g+o*r.g+.5,i.b=255&m*i.b+o*r.b+.5,i.a=c*i.a+(1-c)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=Kk(this._rgb,t._rgb,e)),this}clone(){return new Yc(this.rgb)}alpha(t){return this._rgb.a=fr(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=ou(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Fh(this._rgb,2,t),this}darken(t){return Fh(this._rgb,2,-t),this}saturate(t){return Fh(this._rgb,1,t),this}desaturate(t){return Fh(this._rgb,1,-t),this}rotate(t){return Bk(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function os(){}const Xk=(()=>{let n=0;return()=>n++})();function ie(n){return n==null}function He(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function jt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Yn(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Ai(n,t){return Yn(n)?n:t}function qt(n,t){return typeof n>"u"?t:n}const Wk=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function oe(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Wt(n,t,e,i){let r,o,c;if(He(n))for(o=n.length,r=0;r<o;r++)t.call(e,n[r],r);else if(jt(n))for(c=Object.keys(n),o=c.length,r=0;r<o;r++)t.call(e,n[c[r]],c[r])}function Lf(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Uf(n){if(He(n))return n.map(Uf);if(jt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=Uf(n[e[r]]);return t}return n}function Nw(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function $k(n,t,e,i){if(!Nw(n))return;const r=t[n],o=e[n];jt(r)&&jt(o)?Kc(r,o,i):t[n]=Uf(o)}function Kc(n,t,e){const i=He(t)?t:[t],r=i.length;if(!jt(n))return n;e=e||{};const o=e.merger||$k;let c;for(let h=0;h<r;++h){if(c=i[h],!jt(c))continue;const d=Object.keys(c);for(let m=0,_=d.length;m<_;++m)o(d[m],n,c,e)}return n}function kc(n,t){return Kc(n,t,{merger:Zk})}function Zk(n,t,e){if(!Nw(n))return;const i=t[n],r=e[n];jt(i)&&jt(r)?kc(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Uf(r))}const QE={"":n=>n,x:n=>n.x,y:n=>n.y};function Jk(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function tN(n){const t=Jk(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function qo(n,t){return(QE[t]||(QE[t]=tN(t)))(n)}function O_(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Qc=n=>typeof n<"u",Sr=n=>typeof n=="function",XE=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function eN(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const yn=Math.PI,dr=2*yn,zf=Number.POSITIVE_INFINITY,nN=yn/180,ei=yn/2,ua=yn/4,WE=yn*2/3,Pw=Math.log10,gr=Math.sign;function uf(n,t,e){return Math.abs(n-t)<e}function $E(n){const t=Math.round(n);n=uf(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(Pw(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function iN(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function sN(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Bf(n){return!sN(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function rN(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function aN(n,t,e){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function _a(n){return n*(yn/180)}function oN(n){return n*(180/yn)}function ZE(n){if(!Yn(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function lN(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*yn&&(o+=dr),{angle:o,distance:r}}function cN(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function ha(n){return(n%dr+dr)%dr}function uN(n,t,e,i){const r=ha(n),o=ha(t),c=ha(e),h=ha(o-r),d=ha(c-r),m=ha(r-o),_=ha(r-c);return r===o||r===c||i||h>d&&m<_}function ni(n,t,e){return Math.max(t,Math.min(e,n))}function hN(n){return ni(n,-32768,32767)}function Co(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function M_(n,t,e){e=e||(c=>n[c]<t);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const Tp=(n,t,e,i)=>M_(n,e,i?r=>{const o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),fN=(n,t,e)=>M_(n,e,i=>n[i][t]>=e);function dN(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const Vw=["push","pop","shift","splice","unshift"];function gN(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Vw.forEach(e=>{const i="_onData"+O_(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const c=r.apply(this,o);return n._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...o)}),c}})})}function JE(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(Vw.forEach(o=>{delete n[o]}),delete n._chartjs)}function Lw(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const Uw=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function zw(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,Uw.call(window,()=>{i=!1,n.apply(t,e)}))}}function mN(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const Bw=n=>n==="start"?"left":n==="end"?"right":"center",In=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,pN=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t,Hh=n=>n===0||n===1,tT=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*dr/e)),eT=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*dr/e)+1,Nc={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*ei)+1,easeOutSine:n=>Math.sin(n*ei),easeInOutSine:n=>-.5*(Math.cos(yn*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Hh(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Hh(n)?n:tT(n,.075,.3),easeOutElastic:n=>Hh(n)?n:eT(n,.075,.3),easeInOutElastic(n){return Hh(n)?n:n<.5?.5*tT(n*2,.1125,.45):.5+.5*eT(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Nc.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Nc.easeInBounce(n*2)*.5:Nc.easeOutBounce(n*2-1)*.5+.5};function jw(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function nT(n){return jw(n)?n:new Yc(n)}function Lm(n){return jw(n)?n:new Yc(n).saturate(.5).darken(.1).hexString()}const _N=["x","y","borderWidth","radius","tension"],yN=["color","borderColor","backgroundColor"];function vN(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:yN},numbers:{type:"number",properties:_N}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function bN(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const iT=new Map;function EN(n,t){t=t||{};const e=n+JSON.stringify(t);let i=iT.get(e);return i||(i=new Intl.NumberFormat(n,t),iT.set(e,i)),i}function Fw(n,t,e){return EN(t,e).format(n)}const TN={values(n){return He(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(e.length>1){const m=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(m<1e-4||m>1e15)&&(r="scientific"),o=SN(n,e)}const c=Pw(Math.abs(o)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),d={notation:r,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(d,this.options.ticks.format),Fw(n,i,d)}};function SN(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var Hw={formatters:TN};function AN(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Hw.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const xa=Object.create(null),Sp=Object.create(null);function Pc(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function Um(n,t,e){return typeof t=="string"?Kc(Pc(n,t),e):Kc(Pc(n,""),t)}class wN{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Lm(r.backgroundColor),this.hoverBorderColor=(i,r)=>Lm(r.borderColor),this.hoverColor=(i,r)=>Lm(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Um(this,t,e)}get(t){return Pc(this,t)}describe(t,e){return Um(Sp,t,e)}override(t,e){return Um(xa,t,e)}route(t,e,i,r){const o=Pc(this,t),c=Pc(this,i),h="_"+e;Object.defineProperties(o,{[h]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const d=this[h],m=c[r];return jt(d)?Object.assign({},m,d):qt(d,m)},set(d){this[h]=d}}})}apply(t){t.forEach(e=>e(this))}}var Ee=new wN({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[vN,bN,AN]);function xN(n){return!n||ie(n.size)||ie(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function sT(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function fa(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function rT(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function aT(n,t,e,i){qw(n,t,e,i,null)}function qw(n,t,e,i,r){let o,c,h,d,m,_,v,b;const A=t.pointStyle,I=t.rotation,k=t.radius;let M=(I||0)*nN;if(A&&typeof A=="object"&&(o=A.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(M),n.drawImage(A,-A.width/2,-A.height/2,A.width,A.height),n.restore();return}if(!(isNaN(k)||k<=0)){switch(n.beginPath(),A){default:r?n.ellipse(e,i,r/2,k,0,0,dr):n.arc(e,i,k,0,dr),n.closePath();break;case"triangle":_=r?r/2:k,n.moveTo(e+Math.sin(M)*_,i-Math.cos(M)*k),M+=WE,n.lineTo(e+Math.sin(M)*_,i-Math.cos(M)*k),M+=WE,n.lineTo(e+Math.sin(M)*_,i-Math.cos(M)*k),n.closePath();break;case"rectRounded":m=k*.516,d=k-m,c=Math.cos(M+ua)*d,v=Math.cos(M+ua)*(r?r/2-m:d),h=Math.sin(M+ua)*d,b=Math.sin(M+ua)*(r?r/2-m:d),n.arc(e-v,i-h,m,M-yn,M-ei),n.arc(e+b,i-c,m,M-ei,M),n.arc(e+v,i+h,m,M,M+ei),n.arc(e-b,i+c,m,M+ei,M+yn),n.closePath();break;case"rect":if(!I){d=Math.SQRT1_2*k,_=r?r/2:d,n.rect(e-_,i-d,2*_,2*d);break}M+=ua;case"rectRot":v=Math.cos(M)*(r?r/2:k),c=Math.cos(M)*k,h=Math.sin(M)*k,b=Math.sin(M)*(r?r/2:k),n.moveTo(e-v,i-h),n.lineTo(e+b,i-c),n.lineTo(e+v,i+h),n.lineTo(e-b,i+c),n.closePath();break;case"crossRot":M+=ua;case"cross":v=Math.cos(M)*(r?r/2:k),c=Math.cos(M)*k,h=Math.sin(M)*k,b=Math.sin(M)*(r?r/2:k),n.moveTo(e-v,i-h),n.lineTo(e+v,i+h),n.moveTo(e+b,i-c),n.lineTo(e-b,i+c);break;case"star":v=Math.cos(M)*(r?r/2:k),c=Math.cos(M)*k,h=Math.sin(M)*k,b=Math.sin(M)*(r?r/2:k),n.moveTo(e-v,i-h),n.lineTo(e+v,i+h),n.moveTo(e+b,i-c),n.lineTo(e-b,i+c),M+=ua,v=Math.cos(M)*(r?r/2:k),c=Math.cos(M)*k,h=Math.sin(M)*k,b=Math.sin(M)*(r?r/2:k),n.moveTo(e-v,i-h),n.lineTo(e+v,i+h),n.moveTo(e+b,i-c),n.lineTo(e-b,i+c);break;case"line":c=r?r/2:Math.cos(M)*k,h=Math.sin(M)*k,n.moveTo(e-c,i-h),n.lineTo(e+c,i+h);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(M)*(r?r/2:k),i+Math.sin(M)*k);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function Gw(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function k_(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function N_(n){n.restore()}function RN(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),ie(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function IN(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),c=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,d=e-o.actualBoundingBoxAscent,m=e+o.actualBoundingBoxDescent,_=r.strikethrough?(d+m)/2:m;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(c,_),n.lineTo(h,_),n.stroke()}}function CN(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function jf(n,t,e,i,r,o={}){const c=He(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let d,m;for(n.save(),n.font=r.string,RN(n,o),d=0;d<c.length;++d)m=c[d],o.backdrop&&CN(n,o.backdrop),h&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),ie(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(m,e,i,o.maxWidth)),n.fillText(m,e,i,o.maxWidth),IN(n,e,i,m,o),i+=Number(r.lineHeight);n.restore()}function Ff(n,t){const{x:e,y:i,w:r,h:o,radius:c}=t;n.arc(e+c.topLeft,i+c.topLeft,c.topLeft,1.5*yn,yn,!0),n.lineTo(e,i+o-c.bottomLeft),n.arc(e+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,yn,ei,!0),n.lineTo(e+r-c.bottomRight,i+o),n.arc(e+r-c.bottomRight,i+o-c.bottomRight,c.bottomRight,ei,0,!0),n.lineTo(e+r,i+c.topRight),n.arc(e+r-c.topRight,i+c.topRight,c.topRight,0,-ei,!0),n.lineTo(e+c.topLeft,i)}const DN=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,ON=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function MN(n,t){const e=(""+n).match(DN);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const kN=n=>+n||0;function Yw(n,t){const e={},i=jt(t),r=i?Object.keys(t):t,o=jt(n)?i?c=>qt(n[c],n[t[c]]):c=>n[c]:()=>n;for(const c of r)e[c]=kN(o(c));return e}function Kw(n){return Yw(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Po(n){return Yw(n,["topLeft","topRight","bottomLeft","bottomRight"])}function ai(n){const t=Kw(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function _n(n,t){n=n||{},t=t||Ee.font;let e=qt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=qt(n.style,t.style);i&&!(""+i).match(ON)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:qt(n.family,t.family),lineHeight:MN(qt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:qt(n.weight,t.weight),string:""};return r.string=xN(r),r}function qh(n,t,e,i){let r,o,c;for(r=0,o=n.length;r<o;++r)if(c=n[r],c!==void 0&&c!==void 0)return c}function NN(n,t,e){const{min:i,max:r}=n,o=Wk(t,(r-i)/2),c=(h,d)=>e&&h===0?0:h+d;return{min:c(i,-Math.abs(o)),max:c(r,o)}}function el(n,t){return Object.assign(Object.create(n),t)}function P_(n,t=[""],e,i,r=()=>n[0]){const o=e||n;typeof i>"u"&&(i=$w("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:h=>P_([h,...n],t,o,i)};return new Proxy(c,{deleteProperty(h,d){return delete h[d],delete h._keys,delete n[0][d],!0},get(h,d){return Xw(h,d,()=>FN(d,t,n,h))},getOwnPropertyDescriptor(h,d){return Reflect.getOwnPropertyDescriptor(h._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,d){return lT(h).includes(d)},ownKeys(h){return lT(h)},set(h,d,m){const _=h._storage||(h._storage=r());return h[d]=_[d]=m,delete h._keys,!0}})}function Go(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:Qw(n,i),setContext:o=>Go(n,o,e,i),override:o=>Go(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty(o,c){return delete o[c],delete n[c],!0},get(o,c,h){return Xw(o,c,()=>VN(o,c,h))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(o,c,h){return n[c]=h,delete o[c],!0}})}function Qw(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:Sr(e)?e:()=>e,isIndexable:Sr(i)?i:()=>i}}const PN=(n,t)=>n?n+O_(t):t,V_=(n,t)=>jt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Xw(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function VN(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:c}=n;let h=i[t];return Sr(h)&&c.isScriptable(t)&&(h=LN(t,h,n,e)),He(h)&&h.length&&(h=UN(t,h,n,c.isIndexable)),V_(t,h)&&(h=Go(h,r,o&&o[t],c)),h}function LN(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let d=t(o,c||i);return h.delete(n),V_(n,d)&&(d=L_(r._scopes,r,n,d)),d}function UN(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_descriptors:h}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(jt(t[0])){const d=t,m=r._scopes.filter(_=>_!==d);t=[];for(const _ of d){const v=L_(m,r,n,_);t.push(Go(v,o,c&&c[n],h))}}return t}function Ww(n,t,e){return Sr(n)?n(t,e):n}const zN=(n,t)=>n===!0?t:typeof n=="string"?qo(t,n):void 0;function BN(n,t,e,i,r){for(const o of t){const c=zN(e,o);if(c){n.add(c);const h=Ww(c._fallback,e,r);if(typeof h<"u"&&h!==e&&h!==i)return h}else if(c===!1&&typeof i<"u"&&e!==i)return null}return!1}function L_(n,t,e,i){const r=t._rootScopes,o=Ww(t._fallback,e,i),c=[...n,...r],h=new Set;h.add(i);let d=oT(h,c,e,o||e,i);return d===null||typeof o<"u"&&o!==e&&(d=oT(h,c,o,d,i),d===null)?!1:P_(Array.from(h),[""],r,o,()=>jN(t,e,i))}function oT(n,t,e,i,r){for(;e;)e=BN(n,t,e,i,r);return e}function jN(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return He(r)&&jt(e)?e:r||{}}function FN(n,t,e,i){let r;for(const o of t)if(r=$w(PN(o,n),e),typeof r<"u")return V_(n,r)?L_(e,i,n,r):r}function $w(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function lT(n){let t=n._keys;return t||(t=n._keys=HN(n._scopes)),t}function HN(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}function U_(){return typeof window<"u"&&typeof document<"u"}function z_(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Hf(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const md=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function qN(n,t){return md(n).getPropertyValue(t)}const GN=["top","right","bottom","left"];function ba(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=GN[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const YN=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function KN(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let c=!1,h,d;if(YN(r,o,n.target))h=r,d=o;else{const m=t.getBoundingClientRect();h=i.clientX-m.left,d=i.clientY-m.top,c=!0}return{x:h,y:d,box:c}}function ma(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=md(e),o=r.boxSizing==="border-box",c=ba(r,"padding"),h=ba(r,"border","width"),{x:d,y:m,box:_}=KN(n,e),v=c.left+(_&&h.left),b=c.top+(_&&h.top);let{width:A,height:I}=t;return o&&(A-=c.width+h.width,I-=c.height+h.height),{x:Math.round((d-v)/A*e.width/i),y:Math.round((m-b)/I*e.height/i)}}function QN(n,t,e){let i,r;if(t===void 0||e===void 0){const o=n&&z_(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const c=o.getBoundingClientRect(),h=md(o),d=ba(h,"border","width"),m=ba(h,"padding");t=c.width-m.width-d.width,e=c.height-m.height-d.height,i=Hf(h.maxWidth,o,"clientWidth"),r=Hf(h.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||zf,maxHeight:r||zf}}const Gh=n=>Math.round(n*10)/10;function XN(n,t,e,i){const r=md(n),o=ba(r,"margin"),c=Hf(r.maxWidth,n,"clientWidth")||zf,h=Hf(r.maxHeight,n,"clientHeight")||zf,d=QN(n,t,e);let{width:m,height:_}=d;if(r.boxSizing==="content-box"){const b=ba(r,"border","width"),A=ba(r,"padding");m-=A.width+b.width,_-=A.height+b.height}return m=Math.max(0,m-o.width),_=Math.max(0,i?m/i:_-o.height),m=Gh(Math.min(m,c,d.maxWidth)),_=Gh(Math.min(_,h,d.maxHeight)),m&&!_&&(_=Gh(m/2)),(t!==void 0||e!==void 0)&&i&&d.height&&_>d.height&&(_=d.height,m=Gh(Math.floor(_*i))),{width:m,height:_}}function cT(n,t,e){const i=t||1,r=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const c=n.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==r||c.width!==o?(n.currentDevicePixelRatio=i,c.height=r,c.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const WN=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};U_()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function uT(n,t){const e=qN(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const $N=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},ZN=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Vo(n,t,e){return n?$N(t,e):ZN()}function Zw(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function Jw(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function Yh(n,t,e){return n.options.clip?n[e]:t[e]}function JN(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:Yh(e,t,"left"),right:Yh(e,t,"right"),top:Yh(i,t,"top"),bottom:Yh(i,t,"bottom")}:t}function tP(n,t){const e=t._clip;if(e.disabled)return!1;const i=JN(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class eP{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const o=e.listeners[r],c=e.duration;o.forEach(h=>h({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(i-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=Uw.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,h=!1,d;for(;c>=0;--c)d=o[c],d._active?(d._total>i.duration&&(i.duration=d._total),d.tick(t),h=!0):(o[c]=o[o.length-1],o.pop());h&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var ls=new eP;const hT="transparent",nP={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=nT(n||hT),r=i.valid&&nT(t||hT);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class iP{constructor(t,e,i,r){const o=e[i];r=qh([t.to,r,o,t.from]);const c=qh([t.from,o,r]);this._active=!0,this._fn=t.fn||nP[t.type||typeof c],this._easing=Nc[t.easing]||Nc.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=c,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=qh([t.to,e,r,t.from]),this._from=qh([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,c=this._loop,h=this._to;let d;if(this._active=o!==h&&(c||e<i),!this._active){this._target[r]=h,this._notify(!0);return}if(e<0){this._target[r]=o;return}d=e/i%2,d=c&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[r]=this._fn(o,h,d)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class t1{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!jt(t))return;const e=Object.keys(Ee.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!jt(o))return;const c={};for(const h of e)c[h]=o[h];(He(o.properties)&&o.properties||[r]).forEach(h=>{(h===r||!i.has(h))&&i.set(h,c)})})}_animateOptions(t,e){const i=e.options,r=rP(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&sP(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),c=Object.keys(e),h=Date.now();let d;for(d=c.length-1;d>=0;--d){const m=c[d];if(m.charAt(0)==="$")continue;if(m==="options"){r.push(...this._animateOptions(t,e));continue}const _=e[m];let v=o[m];const b=i.get(m);if(v)if(b&&v.active()){v.update(b,_,h);continue}else v.cancel();if(!b||!b.duration){t[m]=_;continue}o[m]=v=new iP(b,t,m,_),r.push(v)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return ls.add(this._chart,i),!0}}function sP(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function rP(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function fT(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function aP(n,t,e){if(e===!1)return!1;const i=fT(n,e),r=fT(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function oP(n){let t,e,i,r;return jt(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function e1(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function dT(n,t,e,i={}){const r=n.keys,o=i.mode==="single";let c,h,d,m;if(t===null)return;let _=!1;for(c=0,h=r.length;c<h;++c){if(d=+r[c],d===e){if(_=!0,i.all)continue;break}m=n.values[d],Yn(m)&&(o||t===0||gr(t)===gr(m))&&(t+=m)}return!_&&!i.all?0:t}function lP(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(n),h=new Array(c.length);let d,m,_;for(d=0,m=c.length;d<m;++d)_=c[d],h[d]={[r]:_,[o]:n[_]};return h}function zm(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function cP(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function uP(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function hP(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function gT(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function mT(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:c,index:h}=i,d=o.axis,m=c.axis,_=cP(o,c,i),v=t.length;let b;for(let A=0;A<v;++A){const I=t[A],{[d]:k,[m]:M}=I,G=I._stacks||(I._stacks={});b=G[m]=hP(r,_,k),b[h]=M,b._top=gT(b,c,!0,i.type),b._bottom=gT(b,c,!1,i.type);const X=b._visualValues||(b._visualValues={});X[h]=M}}function Bm(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function fP(n,t){return el(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function dP(n,t,e){return el(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function dc(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const jm=n=>n==="reset"||n==="none",pT=(n,t)=>t?n:Object.assign({},n),gP=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:e1(e,!0),values:null};class n1{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=zm(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&dc(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(v,b,A,I)=>v==="x"?b:v==="r"?I:A,o=e.xAxisID=qt(i.xAxisID,Bm(t,"x")),c=e.yAxisID=qt(i.yAxisID,Bm(t,"y")),h=e.rAxisID=qt(i.rAxisID,Bm(t,"r")),d=e.indexAxis,m=e.iAxisID=r(d,o,c,h),_=e.vAxisID=r(d,c,o,h);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(c),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(m),e.vScale=this.getScaleForId(_)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&JE(this._data,this),t._stacked&&dc(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(jt(e)){const r=this._cachedMeta;this._data=lP(e,r)}else if(i!==e){if(i){JE(i,this);const r=this._cachedMeta;dc(r),r._parsed=[]}e&&Object.isExtensible(e)&&gN(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=e._stacked;e._stacked=zm(e.vScale,e),e.stack!==i.stack&&(r=!0,dc(e),e.stack=i.stack),this._resyncElements(t),(r||o!==e._stacked)&&(mT(this,e._parsed),e._stacked=zm(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:c}=i,h=o.axis;let d=t===0&&e===r.length?!0:i._sorted,m=t>0&&i._parsed[t-1],_,v,b;if(this._parsing===!1)i._parsed=r,i._sorted=!0,b=r;else{He(r[t])?b=this.parseArrayData(i,r,t,e):jt(r[t])?b=this.parseObjectData(i,r,t,e):b=this.parsePrimitiveData(i,r,t,e);const A=()=>v[h]===null||m&&v[h]<m[h];for(_=0;_<e;++_)i._parsed[_+t]=v=b[_],d&&(A()&&(d=!1),m=v);i._sorted=d}c&&mT(this,b)}parsePrimitiveData(t,e,i,r){const{iScale:o,vScale:c}=t,h=o.axis,d=c.axis,m=o.getLabels(),_=o===c,v=new Array(r);let b,A,I;for(b=0,A=r;b<A;++b)I=b+i,v[b]={[h]:_||o.parse(m[I],I),[d]:c.parse(e[I],I)};return v}parseArrayData(t,e,i,r){const{xScale:o,yScale:c}=t,h=new Array(r);let d,m,_,v;for(d=0,m=r;d<m;++d)_=d+i,v=e[_],h[d]={x:o.parse(v[0],_),y:c.parse(v[1],_)};return h}parseObjectData(t,e,i,r){const{xScale:o,yScale:c}=t,{xAxisKey:h="x",yAxisKey:d="y"}=this._parsing,m=new Array(r);let _,v,b,A;for(_=0,v=r;_<v;++_)b=_+i,A=e[b],m[_]={x:o.parse(qo(A,h),b),y:c.parse(qo(A,d),b)};return m}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,o=this._cachedMeta,c=e[t.axis],h={keys:e1(r,!0),values:e._stacks[t.axis]._visualValues};return dT(h,c,o.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const o=i[e.axis];let c=o===null?NaN:o;const h=r&&i._stacks[e.axis];r&&h&&(r.values=h,c=dT(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,c=r.length,h=this._getOtherScale(t),d=gP(e,i,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:_,max:v}=uP(h);let b,A;function I(){A=r[b];const k=A[h.axis];return!Yn(A[t.axis])||_>k||v<k}for(b=0;b<c&&!(!I()&&(this.updateRangeFromParsed(m,t,A,d),o));++b);if(o){for(b=c-1;b>=0;--b)if(!I()){this.updateRangeFromParsed(m,t,A,d);break}}return m}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,o,c;for(r=0,o=e.length;r<o;++r)c=e[r][t.axis],Yn(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=oP(qt(this.options.clip,aP(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],o=e.chartArea,c=[],h=this._drawStart||0,d=this._drawCount||r.length-h,m=this.options.drawActiveElementsOnTop;let _;for(i.dataset&&i.dataset.draw(t,o,h,d),_=h;_<h+d;++_){const v=r[_];v.hidden||(v.active&&m?c.push(v):v.draw(t,o))}for(_=0;_<c.length;++_)c[_].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=dP(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=fP(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",o=this._cachedDataOpts,c=t+"-"+e,h=o[c],d=this.enableOptionSharing&&Qc(i);if(h)return pT(h,d);const m=this.chart.config,_=m.datasetElementScopeKeys(this._type,t),v=r?[`${t}Hover`,"hover",t,""]:[t,""],b=m.getOptionScopes(this.getDataset(),_),A=Object.keys(Ee.elements[t]),I=()=>this.getContext(i,r,e),k=m.resolveNamedOptions(b,A,I,v);return k.$shared&&(k.$shared=d,o[c]=Object.freeze(pT(k,d))),k}_resolveAnimations(t,e,i){const r=this.chart,o=this._cachedDataOpts,c=`animation-${e}`,h=o[c];if(h)return h;let d;if(r.options.animation!==!1){const _=this.chart.config,v=_.datasetAnimationScopeKeys(this._type,e),b=_.getOptionScopes(this.getDataset(),v);d=_.createResolver(b,this.getContext(t,i,e))}const m=new t1(r,d&&d.animations);return d&&d._cacheable&&(o[c]=Object.freeze(m)),m}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||jm(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(e,o)||o!==r;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:c}}updateElement(t,e,i,r){jm(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!jm(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const o=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[h,d,m]of this._syncList)this[h](d,m);this._syncList=[];const r=i.length,o=e.length,c=Math.min(o,r);c&&this.parse(0,c),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,e,i=!0){const r=this._cachedMeta,o=r.data,c=t+e;let h;const d=m=>{for(m.length+=e,h=m.length-1;h>=c;h--)m[h]=m[h-e]};for(d(o),h=t;h<c;++h)o[h]=new this.dataElementType;this._parsing&&d(r._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&dc(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function mP(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,o=e.length;r<o;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=Lw(i.sort((r,o)=>r-o))}return n._cache.$bar}function pP(n){const t=n.iScale,e=mP(t,n.type);let i=t._length,r,o,c,h;const d=()=>{c===32767||c===-32768||(Qc(h)&&(i=Math.min(i,Math.abs(c-h)||i)),h=c)};for(r=0,o=e.length;r<o;++r)c=t.getPixelForValue(e[r]),d();for(h=void 0,r=0,o=t.ticks.length;r<o;++r)c=t.getPixelForTick(r),d();return i}function _P(n,t,e,i){const r=e.barThickness;let o,c;return ie(r)?(o=t.min*e.categoryPercentage,c=e.barPercentage):(o=r*i,c=1),{chunk:o/i,ratio:c,start:t.pixels[n]-o/2}}function yP(n,t,e,i){const r=t.pixels,o=r[n];let c=n>0?r[n-1]:null,h=n<r.length-1?r[n+1]:null;const d=e.categoryPercentage;c===null&&(c=o-(h===null?t.end-t.start:h-o)),h===null&&(h=o+o-c);const m=o-(o-Math.min(c,h))/2*d;return{chunk:Math.abs(h-c)/2*d/i,ratio:e.barPercentage,start:m}}function vP(n,t,e,i){const r=e.parse(n[0],i),o=e.parse(n[1],i),c=Math.min(r,o),h=Math.max(r,o);let d=c,m=h;Math.abs(c)>Math.abs(h)&&(d=h,m=c),t[e.axis]=m,t._custom={barStart:d,barEnd:m,start:r,end:o,min:c,max:h}}function i1(n,t,e,i){return He(n)?vP(n,t,e,i):t[e.axis]=e.parse(n,i),t}function _T(n,t,e,i){const r=n.iScale,o=n.vScale,c=r.getLabels(),h=r===o,d=[];let m,_,v,b;for(m=e,_=e+i;m<_;++m)b=t[m],v={},v[r.axis]=h||r.parse(c[m],m),d.push(i1(b,v,o,m));return d}function Fm(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function bP(n,t,e){return n!==0?gr(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function EP(n){let t,e,i,r,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",o="start"):(r="start",o="end"),{start:e,end:i,reverse:t,top:r,bottom:o}}function TP(n,t,e,i){let r=t.borderSkipped;const o={};if(!r){n.borderSkipped=o;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:h,reverse:d,top:m,bottom:_}=EP(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=m:(e._bottom||0)===i?r=_:(o[yT(_,c,h,d)]=!0,r=m)),o[yT(r,c,h,d)]=!0,n.borderSkipped=o}function yT(n,t,e,i){return i?(n=SP(n,t,e),n=vT(n,e,t)):n=vT(n,t,e),n}function SP(n,t,e){return n===t?e:n===e?t:n}function vT(n,t,e){return n==="start"?t:n==="end"?e:n}function AP(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class wP extends n1{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,r){return _T(t,e,i,r)}parseArrayData(t,e,i,r){return _T(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:o,vScale:c}=t,{xAxisKey:h="x",yAxisKey:d="y"}=this._parsing,m=o.axis==="x"?h:d,_=c.axis==="x"?h:d,v=[];let b,A,I,k;for(b=i,A=i+r;b<A;++b)k=e[b],I={},I[o.axis]=o.parse(qo(k,m),b),v.push(i1(qo(k,_),I,c,b));return v}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const o=i._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,o=this.getParsed(t),c=o._custom,h=Fm(c)?"["+c.start+", "+c.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const o=r==="reset",{index:c,_cachedMeta:{vScale:h}}=this,d=h.getBasePixel(),m=h.isHorizontal(),_=this._getRuler(),{sharedOptions:v,includeOptions:b}=this._getSharedOptions(e,r);for(let A=e;A<e+i;A++){const I=this.getParsed(A),k=o||ie(I[h.axis])?{base:d,head:d}:this._calculateBarValuePixels(A),M=this._calculateBarIndexPixels(A,_),G=(I._stacks||{})[h.axis],X={horizontal:m,base:k.base,enableBorderRadius:!G||Fm(I._custom)||c===G._top||c===G._bottom,x:m?k.head:M.center,y:m?M.center:k.head,height:m?M.size:Math.abs(k.size),width:m?Math.abs(k.size):M.size};b&&(X.options=v||this.resolveDataElementOptions(A,t[A].active?"active":r));const et=X.options||t[A].options;TP(X,et,G,c),AP(X,et,_.ratio),this.updateElement(t[A],A,X,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(_=>_.controller.options.grouped),o=i.options.stacked,c=[],h=this._cachedMeta.controller.getParsed(e),d=h&&h[i.axis],m=_=>{const v=_._parsed.find(A=>A[i.axis]===d),b=v&&v[_.vScale.axis];if(ie(b)||isNaN(b))return!0};for(const _ of r)if(!(e!==void 0&&m(_))&&((o===!1||c.indexOf(_.stack)===-1||o===void 0&&_.stack===void 0)&&c.push(_.stack),_.index===t))break;return c.length||c.push(void 0),c}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[qt(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const r=this._getStacks(t,i),o=e!==void 0?r.indexOf(e):-1;return o===-1?r.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let o,c;for(o=0,c=e.data.length;o<c;++o)r.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const h=t.barThickness;return{min:h||pP(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:h?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:o,minBarLength:c}}=this,h=o||0,d=this.getParsed(t),m=d._custom,_=Fm(m);let v=d[e.axis],b=0,A=i?this.applyStack(e,d,i):v,I,k;A!==v&&(b=A-v,A=v),_&&(v=m.barStart,A=m.barEnd-m.barStart,v!==0&&gr(v)!==gr(m.barEnd)&&(b=0),b+=v);const M=!ie(o)&&!_?o:b;let G=e.getPixelForValue(M);if(this.chart.getDataVisibility(t)?I=e.getPixelForValue(b+A):I=G,k=I-G,Math.abs(k)<c){k=bP(k,e,h)*c,v===h&&(G-=k/2);const X=e.getPixelForDecimal(0),et=e.getPixelForDecimal(1),it=Math.min(X,et),W=Math.max(X,et);G=Math.max(Math.min(G,W),it),I=G+k,i&&!_&&(d._stacks[e.axis]._visualValues[r]=e.getValueForPixel(I)-e.getValueForPixel(G))}if(G===e.getPixelForValue(h)){const X=gr(k)*e.getLineWidthForValue(h)/2;G+=X,k-=X}return{size:k,base:G,head:I,center:I+k/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,o=r.skipNull,c=qt(r.maxBarThickness,1/0);let h,d;const m=this._getAxisCount();if(e.grouped){const _=o?this._getStackCount(t):e.stackCount,v=r.barThickness==="flex"?yP(t,e,r,_*m):_P(t,e,r,_*m),b=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,A=this._getAxis().indexOf(qt(b,this.getFirstScaleIdForIndexAxis())),I=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+A;h=v.start+v.chunk*I+v.chunk/2,d=Math.min(c,v.chunk*v.ratio)}else h=i.getPixelForValue(this.getParsed(t)[i.axis],t),d=Math.min(c,e.min*e.ratio);return{base:h-d/2,head:h+d/2,center:h,size:d}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let o=0;for(;o<r;++o)this.getParsed(o)[e.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}function da(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class B_{static override(t){Object.assign(B_.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return da()}parse(){return da()}format(){return da()}add(){return da()}diff(){return da()}startOf(){return da()}endOf(){return da()}}var xP={_date:B_};function RP(n,t,e,i){const{controller:r,data:o,_sorted:c}=n,h=r._cachedMeta.iScale,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&c&&o.length){const m=h._reversePixels?fN:Tp;if(i){if(r._sharedOptions){const _=o[0],v=typeof _.getRange=="function"&&_.getRange(t);if(v){const b=m(o,t,e-v),A=m(o,t,e+v);return{lo:b.lo,hi:A.hi}}}}else{const _=m(o,t,e);if(d){const{vScale:v}=r._cachedMeta,{_parsed:b}=n,A=b.slice(0,_.lo+1).reverse().findIndex(k=>!ie(k[v.axis]));_.lo-=Math.max(0,A);const I=b.slice(_.hi).findIndex(k=>!ie(k[v.axis]));_.hi+=Math.max(0,I)}return _}}return{lo:0,hi:o.length-1}}function pd(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),c=e[t];for(let h=0,d=o.length;h<d;++h){const{index:m,data:_}=o[h],{lo:v,hi:b}=RP(o[h],t,c,r);for(let A=v;A<=b;++A){const I=_[A];I.skip||i(I,m,A)}}}function IP(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const o=t?Math.abs(i.x-r.x):0,c=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function Hm(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||pd(n,e,t,function(h,d,m){!r&&!Gw(h,n.chartArea,0)||h.inRange(t.x,t.y,i)&&o.push({element:h,datasetIndex:d,index:m})},!0),o}function CP(n,t,e,i){let r=[];function o(c,h,d){const{startAngle:m,endAngle:_}=c.getProps(["startAngle","endAngle"],i),{angle:v}=lN(c,{x:t.x,y:t.y});uN(v,m,_)&&r.push({element:c,datasetIndex:h,index:d})}return pd(n,e,t,o),r}function DP(n,t,e,i,r,o){let c=[];const h=IP(e);let d=Number.POSITIVE_INFINITY;function m(_,v,b){const A=_.inRange(t.x,t.y,r);if(i&&!A)return;const I=_.getCenterPoint(r);if(!(!!o||n.isPointInArea(I))&&!A)return;const M=h(t,I);M<d?(c=[{element:_,datasetIndex:v,index:b}],d=M):M===d&&c.push({element:_,datasetIndex:v,index:b})}return pd(n,e,t,m),c}function qm(n,t,e,i,r,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?CP(n,t,e,r):DP(n,t,e,i,r,o)}function bT(n,t,e,i,r){const o=[],c=e==="x"?"inXRange":"inYRange";let h=!1;return pd(n,e,t,(d,m,_)=>{d[c]&&d[c](t[e],r)&&(o.push({element:d,datasetIndex:m,index:_}),h=h||d.inRange(t.x,t.y,r))}),i&&!h?[]:o}var OP={modes:{index(n,t,e,i){const r=ma(t,n),o=e.axis||"x",c=e.includeInvisible||!1,h=e.intersect?Hm(n,r,o,i,c):qm(n,r,o,!1,i,c),d=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(m=>{const _=h[0].index,v=m.data[_];v&&!v.skip&&d.push({element:v,datasetIndex:m.index,index:_})}),d):[]},dataset(n,t,e,i){const r=ma(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;let h=e.intersect?Hm(n,r,o,i,c):qm(n,r,o,!1,i,c);if(h.length>0){const d=h[0].datasetIndex,m=n.getDatasetMeta(d).data;h=[];for(let _=0;_<m.length;++_)h.push({element:m[_],datasetIndex:d,index:_})}return h},point(n,t,e,i){const r=ma(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return Hm(n,r,o,i,c)},nearest(n,t,e,i){const r=ma(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return qm(n,r,o,e.intersect,i,c)},x(n,t,e,i){const r=ma(t,n);return bT(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=ma(t,n);return bT(n,r,"y",e.intersect,i)}}};const s1=["left","top","right","bottom"];function gc(n,t){return n.filter(e=>e.pos===t)}function ET(n,t){return n.filter(e=>s1.indexOf(e.pos)===-1&&e.box.axis===t)}function mc(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function MP(n){const t=[];let e,i,r,o,c,h;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:o,options:{stack:c,stackWeight:h=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:c&&o+c,stackWeight:h});return t}function kP(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!s1.includes(r))continue;const c=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function NP(n,t){const e=kP(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,c,h;for(o=0,c=n.length;o<c;++o){h=n[o];const{fullSize:d}=h.box,m=e[h.stack],_=m&&h.stackWeight/m.weight;h.horizontal?(h.width=_?_*i:d&&t.availableWidth,h.height=r):(h.width=i,h.height=_?_*r:d&&t.availableHeight)}return e}function PP(n){const t=MP(n),e=mc(t.filter(m=>m.box.fullSize),!0),i=mc(gc(t,"left"),!0),r=mc(gc(t,"right")),o=mc(gc(t,"top"),!0),c=mc(gc(t,"bottom")),h=ET(t,"x"),d=ET(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(d).concat(c).concat(h),chartArea:gc(t,"chartArea"),vertical:i.concat(r).concat(d),horizontal:o.concat(c).concat(h)}}function TT(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function r1(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function VP(n,t,e,i){const{pos:r,box:o}=e,c=n.maxPadding;if(!jt(r)){e.size&&(n[r]-=e.size);const v=i[e.stack]||{size:0,count:1};v.size=Math.max(v.size,e.horizontal?o.height:o.width),e.size=v.size/v.count,n[r]+=e.size}o.getPadding&&r1(c,o.getPadding());const h=Math.max(0,t.outerWidth-TT(c,n,"left","right")),d=Math.max(0,t.outerHeight-TT(c,n,"top","bottom")),m=h!==n.w,_=d!==n.h;return n.w=h,n.h=d,e.horizontal?{same:m,other:_}:{same:_,other:m}}function LP(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function UP(n,t){const e=t.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(c=>{o[c]=Math.max(t[c],e[c])}),o}return i(n?["left","right"]:["top","bottom"])}function wc(n,t,e,i){const r=[];let o,c,h,d,m,_;for(o=0,c=n.length,m=0;o<c;++o){h=n[o],d=h.box,d.update(h.width||t.w,h.height||t.h,UP(h.horizontal,t));const{same:v,other:b}=VP(t,e,h,i);m|=v&&r.length,_=_||b,d.fullSize||r.push(h)}return m&&wc(r,t,e,i)||_}function Kh(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function ST(n,t,e,i){const r=e.padding;let{x:o,y:c}=t;for(const h of n){const d=h.box,m=i[h.stack]||{placed:0,weight:1},_=h.stackWeight/m.weight||1;if(h.horizontal){const v=t.w*_,b=m.size||d.height;Qc(m.start)&&(c=m.start),d.fullSize?Kh(d,r.left,c,e.outerWidth-r.right-r.left,b):Kh(d,t.left+m.placed,c,v,b),m.start=c,m.placed+=v,c=d.bottom}else{const v=t.h*_,b=m.size||d.width;Qc(m.start)&&(o=m.start),d.fullSize?Kh(d,o,r.top,b,e.outerHeight-r.bottom-r.top):Kh(d,o,t.top+m.placed,b,v),m.start=o,m.placed+=v,o=d.right}}t.x=o,t.y=c}var ir={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=ai(n.options.layout.padding),o=Math.max(t-r.width,0),c=Math.max(e-r.height,0),h=PP(n.boxes),d=h.vertical,m=h.horizontal;Wt(n.boxes,k=>{typeof k.beforeLayout=="function"&&k.beforeLayout()});const _=d.reduce((k,M)=>M.box.options&&M.box.options.display===!1?k:k+1,0)||1,v=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/_,hBoxMaxHeight:c/2}),b=Object.assign({},r);r1(b,ai(i));const A=Object.assign({maxPadding:b,w:o,h:c,x:r.left,y:r.top},r),I=NP(d.concat(m),v);wc(h.fullSize,A,v,I),wc(d,A,v,I),wc(m,A,v,I)&&wc(d,A,v,I),LP(A),ST(h.leftAndTop,A,v,I),A.x+=A.w,A.y+=A.h,ST(h.rightAndBottom,A,v,I),n.chartArea={left:A.left,top:A.top,right:A.left+A.w,bottom:A.top+A.h,height:A.h,width:A.w},Wt(h.chartArea,k=>{const M=k.box;Object.assign(M,n.chartArea),M.update(A.w,A.h,{left:0,top:0,right:0,bottom:0})})}};class a1{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class zP extends a1{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const hf="$chartjs",BP={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},AT=n=>n===null||n==="";function jP(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[hf]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",AT(r)){const o=uT(n,"width");o!==void 0&&(n.width=o)}if(AT(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=uT(n,"height");o!==void 0&&(n.height=o)}return n}const o1=WN?{passive:!0}:!1;function FP(n,t,e){n&&n.addEventListener(t,e,o1)}function HP(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,o1)}function qP(n,t){const e=BP[n.type]||n.type,{x:i,y:r}=ma(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function qf(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function GP(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||qf(h.addedNodes,i),c=c&&!qf(h.removedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function YP(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||qf(h.removedNodes,i),c=c&&!qf(h.addedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const Xc=new Map;let wT=0;function l1(){const n=window.devicePixelRatio;n!==wT&&(wT=n,Xc.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function KP(n,t){Xc.size||window.addEventListener("resize",l1),Xc.set(n,t)}function QP(n){Xc.delete(n),Xc.size||window.removeEventListener("resize",l1)}function XP(n,t,e){const i=n.canvas,r=i&&z_(i);if(!r)return;const o=zw((h,d)=>{const m=r.clientWidth;e(h,d),m<r.clientWidth&&e()},window),c=new ResizeObserver(h=>{const d=h[0],m=d.contentRect.width,_=d.contentRect.height;m===0&&_===0||o(m,_)});return c.observe(r),KP(n,o),c}function Gm(n,t,e){e&&e.disconnect(),t==="resize"&&QP(n)}function WP(n,t,e){const i=n.canvas,r=zw(o=>{n.ctx!==null&&e(qP(o,n))},n);return FP(i,t,r),r}class $P extends a1{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(jP(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[hf])return!1;const i=e[hf].initial;["height","width"].forEach(o=>{const c=i[o];ie(c)?e.removeAttribute(o):e.setAttribute(o,c)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[hf],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),c={attach:GP,detach:YP,resize:XP}[e]||WP;r[e]=c(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:Gm,detach:Gm,resize:Gm}[e]||HP)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return XN(t,e,i,r)}isAttached(t){const e=t&&z_(t);return!!(e&&e.isConnected)}}function ZP(n){return!U_()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?zP:$P}class lu{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Bf(this.x)&&Bf(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}function JP(n,t){const e=n.options.ticks,i=tV(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?nV(t):[],c=o.length,h=o[0],d=o[c-1],m=[];if(c>r)return iV(t,m,o,c/r),m;const _=eV(o,t,r);if(c>0){let v,b;const A=c>1?Math.round((d-h)/(c-1)):null;for(Qh(t,m,_,ie(A)?0:h-A,h),v=0,b=c-1;v<b;v++)Qh(t,m,_,o[v],o[v+1]);return Qh(t,m,_,d,ie(A)?t.length:d+A),m}return Qh(t,m,_),m}function tV(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function eV(n,t,e){const i=sV(n),r=t.length/e;if(!i)return Math.max(r,1);const o=iN(i);for(let c=0,h=o.length-1;c<h;c++){const d=o[c];if(d>r)return d}return Math.max(r,1)}function nV(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function iV(n,t,e,i){let r=0,o=e[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===o&&(t.push(n[c]),r++,o=e[r*i])}function Qh(n,t,e,i,r){const o=qt(i,0),c=Math.min(qt(r,n.length),n.length);let h=0,d,m,_;for(e=Math.ceil(e),r&&(d=r-i,e=d/Math.floor(d/e)),_=o;_<0;)h++,_=Math.round(o+h*e);for(m=Math.max(o,0);m<c;m++)m===_&&(t.push(n[m]),h++,_=Math.round(o+h*e))}function sV(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const rV=n=>n==="left"?"right":n==="right"?"left":n,xT=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,RT=(n,t)=>Math.min(t||n,n);function IT(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function aV(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,c=n._endPixel,h=1e-6;let d=n.getPixelForTick(r),m;if(!(e&&(i===1?m=Math.max(d-o,c-d):t===0?m=(n.getPixelForTick(1)-d)/2:m=(d-n.getPixelForTick(r-1))/2,d+=r<t?m:-m,d<o-h||d>c+h)))return d}function oV(n,t){Wt(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}function pc(n){return n.drawTicks?n.tickLength:0}function CT(n,t){if(!n.display)return 0;const e=_n(n.font,t),i=ai(n.padding);return(He(n.text)?n.text.length:1)*e.lineHeight+i.height}function lV(n,t){return el(n,{scale:t,type:"scale"})}function cV(n,t,e){return el(n,{tick:e,index:t,type:"tick"})}function uV(n,t,e){let i=Bw(n);return(e&&t!=="right"||!e&&t==="right")&&(i=rV(i)),i}function hV(n,t,e,i){const{top:r,left:o,bottom:c,right:h,chart:d}=n,{chartArea:m,scales:_}=d;let v=0,b,A,I;const k=c-r,M=h-o;if(n.isHorizontal()){if(A=In(i,o,h),jt(e)){const G=Object.keys(e)[0],X=e[G];I=_[G].getPixelForValue(X)+k-t}else e==="center"?I=(m.bottom+m.top)/2+k-t:I=xT(n,e,t);b=h-o}else{if(jt(e)){const G=Object.keys(e)[0],X=e[G];A=_[G].getPixelForValue(X)-M+t}else e==="center"?A=(m.left+m.right)/2-M+t:A=xT(n,e,t);I=In(i,c,r),v=e==="left"?-ei:ei}return{titleX:A,titleY:I,maxWidth:b,rotation:v}}class nl extends lu{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=Ai(t,Number.POSITIVE_INFINITY),e=Ai(e,Number.NEGATIVE_INFINITY),i=Ai(i,Number.POSITIVE_INFINITY),r=Ai(r,Number.NEGATIVE_INFINITY),{min:Ai(t,i),max:Ai(e,r),minDefined:Yn(t),maxDefined:Yn(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),c;if(r&&o)return{min:e,max:i};const h=this.getMatchingVisibleMetas();for(let d=0,m=h.length;d<m;++d)c=h[d].controller.getMinMax(this,t),r||(e=Math.min(e,c.min)),o||(i=Math.max(i,c.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:Ai(e,Ai(i,e)),max:Ai(i,Ai(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){oe(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=NN(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=h<this.ticks.length;this._convertTicksToLabels(d?IT(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=JP(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){oe(this.options.afterUpdate,[this])}beforeSetDimensions(){oe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){oe(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),oe(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){oe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=oe(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){oe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){oe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=RT(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let c=r,h,d,m;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const _=this._getLabelSizes(),v=_.widest.width,b=_.highest.height,A=ni(this.chart.width-v,0,this.maxWidth);h=t.offset?this.maxWidth/i:A/(i-1),v+6>h&&(h=A/(i-(t.offset?.5:1)),d=this.maxHeight-pc(t.grid)-e.padding-CT(t.title,this.chart.options.font),m=Math.sqrt(v*v+b*b),c=oN(Math.min(Math.asin(ni((_.highest.height+6)/h,-1,1)),Math.asin(ni(d/m,-1,1))-Math.asin(ni(b/m,-1,1)))),c=Math.max(r,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){oe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){oe(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const d=CT(r,e.options.font);if(h?(t.width=this.maxWidth,t.height=pc(o)+d):(t.height=this.maxHeight,t.width=pc(o)+d),i.display&&this.ticks.length){const{first:m,last:_,widest:v,highest:b}=this._getLabelSizes(),A=i.padding*2,I=_a(this.labelRotation),k=Math.cos(I),M=Math.sin(I);if(h){const G=i.mirror?0:M*v.width+k*b.height;t.height=Math.min(this.maxHeight,t.height+G+A)}else{const G=i.mirror?0:k*v.width+M*b.height;t.width=Math.min(this.maxWidth,t.width+G+A)}this._calculatePadding(m,_,M,k)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:c},position:h}=this.options,d=this.labelRotation!==0,m=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const _=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,A=0;d?m?(b=r*t.width,A=i*e.height):(b=i*t.height,A=r*e.width):o==="start"?A=e.width:o==="end"?b=t.width:o!=="inner"&&(b=t.width/2,A=e.width/2),this.paddingLeft=Math.max((b-_+c)*this.width/(this.width-_),0),this.paddingRight=Math.max((A-v+c)*this.width/(this.width-v),0)}else{let _=e.height/2,v=t.height/2;o==="start"?(_=0,v=t.height):o==="end"&&(_=e.height,v=0),this.paddingTop=_+c,this.paddingBottom=v+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){oe(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)ie(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=IT(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:o}=this,c=[],h=[],d=Math.floor(e/RT(e,i));let m=0,_=0,v,b,A,I,k,M,G,X,et,it,W;for(v=0;v<e;v+=d){if(I=t[v].label,k=this._resolveTickFontOptions(v),r.font=M=k.string,G=o[M]=o[M]||{data:{},gc:[]},X=k.lineHeight,et=it=0,!ie(I)&&!He(I))et=sT(r,G.data,G.gc,et,I),it=X;else if(He(I))for(b=0,A=I.length;b<A;++b)W=I[b],!ie(W)&&!He(W)&&(et=sT(r,G.data,G.gc,et,W),it+=X);c.push(et),h.push(it),m=Math.max(et,m),_=Math.max(it,_)}oV(o,e);const ot=c.indexOf(m),C=h.indexOf(_),x=R=>({width:c[R]||0,height:h[R]||0});return{first:x(0),last:x(e-1),widest:x(ot),highest:x(C),widths:c,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return hN(this._alignToPixels?fa(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=cV(this.getContext(),t,i))}return this.$context||(this.$context=lV(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=_a(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,h=o?o.widest.width+c:0,d=o?o.highest.height+c:0;return this.isHorizontal()?d*i>h*r?h/i:d/r:d*r<h*i?d/i:h/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:c,border:h}=r,d=o.offset,m=this.isHorizontal(),v=this.ticks.length+(d?1:0),b=pc(o),A=[],I=h.setContext(this.getContext()),k=I.display?I.width:0,M=k/2,G=function(Y){return fa(i,Y,k)};let X,et,it,W,ot,C,x,R,N,P,L,D;if(c==="top")X=G(this.bottom),C=this.bottom-b,R=X-M,P=G(t.top)+M,D=t.bottom;else if(c==="bottom")X=G(this.top),P=t.top,D=G(t.bottom)-M,C=X+M,R=this.top+b;else if(c==="left")X=G(this.right),ot=this.right-b,x=X-M,N=G(t.left)+M,L=t.right;else if(c==="right")X=G(this.left),N=t.left,L=G(t.right)-M,ot=X+M,x=this.left+b;else if(e==="x"){if(c==="center")X=G((t.top+t.bottom)/2+.5);else if(jt(c)){const Y=Object.keys(c)[0],at=c[Y];X=G(this.chart.scales[Y].getPixelForValue(at))}P=t.top,D=t.bottom,C=X+M,R=C+b}else if(e==="y"){if(c==="center")X=G((t.left+t.right)/2);else if(jt(c)){const Y=Object.keys(c)[0],at=c[Y];X=G(this.chart.scales[Y].getPixelForValue(at))}ot=X-M,x=ot-b,N=t.left,L=t.right}const $t=qt(r.ticks.maxTicksLimit,v),At=Math.max(1,Math.ceil(v/$t));for(et=0;et<v;et+=At){const Y=this.getContext(et),at=o.setContext(Y),gt=h.setContext(Y),kt=at.lineWidth,V=at.color,nt=gt.dash||[],ct=gt.dashOffset,rt=at.tickWidth,dt=at.tickColor,wt=at.tickBorderDash||[],_t=at.tickBorderDashOffset;it=aV(this,et,d),it!==void 0&&(W=fa(i,it,kt),m?ot=x=N=L=W:C=R=P=D=W,A.push({tx1:ot,ty1:C,tx2:x,ty2:R,x1:N,y1:P,x2:L,y2:D,width:kt,color:V,borderDash:nt,borderDashOffset:ct,tickWidth:rt,tickColor:dt,tickBorderDash:wt,tickBorderDashOffset:_t}))}return this._ticksLength=v,this._borderValue=X,A}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,c=this.isHorizontal(),h=this.ticks,{align:d,crossAlign:m,padding:_,mirror:v}=o,b=pc(i.grid),A=b+_,I=v?-_:A,k=-_a(this.labelRotation),M=[];let G,X,et,it,W,ot,C,x,R,N,P,L,D="middle";if(r==="top")ot=this.bottom-I,C=this._getXAxisLabelAlignment();else if(r==="bottom")ot=this.top+I,C=this._getXAxisLabelAlignment();else if(r==="left"){const At=this._getYAxisLabelAlignment(b);C=At.textAlign,W=At.x}else if(r==="right"){const At=this._getYAxisLabelAlignment(b);C=At.textAlign,W=At.x}else if(e==="x"){if(r==="center")ot=(t.top+t.bottom)/2+A;else if(jt(r)){const At=Object.keys(r)[0],Y=r[At];ot=this.chart.scales[At].getPixelForValue(Y)+A}C=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")W=(t.left+t.right)/2-A;else if(jt(r)){const At=Object.keys(r)[0],Y=r[At];W=this.chart.scales[At].getPixelForValue(Y)}C=this._getYAxisLabelAlignment(b).textAlign}e==="y"&&(d==="start"?D="top":d==="end"&&(D="bottom"));const $t=this._getLabelSizes();for(G=0,X=h.length;G<X;++G){et=h[G],it=et.label;const At=o.setContext(this.getContext(G));x=this.getPixelForTick(G)+o.labelOffset,R=this._resolveTickFontOptions(G),N=R.lineHeight,P=He(it)?it.length:1;const Y=P/2,at=At.color,gt=At.textStrokeColor,kt=At.textStrokeWidth;let V=C;c?(W=x,C==="inner"&&(G===X-1?V=this.options.reverse?"left":"right":G===0?V=this.options.reverse?"right":"left":V="center"),r==="top"?m==="near"||k!==0?L=-P*N+N/2:m==="center"?L=-$t.highest.height/2-Y*N+N:L=-$t.highest.height+N/2:m==="near"||k!==0?L=N/2:m==="center"?L=$t.highest.height/2-Y*N:L=$t.highest.height-P*N,v&&(L*=-1),k!==0&&!At.showLabelBackdrop&&(W+=N/2*Math.sin(k))):(ot=x,L=(1-P)*N/2);let nt;if(At.showLabelBackdrop){const ct=ai(At.backdropPadding),rt=$t.heights[G],dt=$t.widths[G];let wt=L-ct.top,_t=0-ct.left;switch(D){case"middle":wt-=rt/2;break;case"bottom":wt-=rt;break}switch(C){case"center":_t-=dt/2;break;case"right":_t-=dt;break;case"inner":G===X-1?_t-=dt:G>0&&(_t-=dt/2);break}nt={left:_t,top:wt,width:dt+ct.width,height:rt+ct.height,color:At.backdropColor}}M.push({label:it,font:R,textOffset:L,options:{rotation:k,color:at,strokeColor:gt,strokeWidth:kt,textAlign:V,textBaseline:D,translation:[W,ot],backdrop:nt}})}return M}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-_a(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,c=this._getLabelSizes(),h=t+o,d=c.widest.width;let m,_;return e==="left"?r?(_=this.right+o,i==="near"?m="left":i==="center"?(m="center",_+=d/2):(m="right",_+=d)):(_=this.right-h,i==="near"?m="right":i==="center"?(m="center",_-=d/2):(m="left",_=this.left)):e==="right"?r?(_=this.left+o,i==="near"?m="right":i==="center"?(m="center",_-=d/2):(m="left",_-=d)):(_=this.left+h,i==="near"?m="left":i==="center"?(m="center",_+=d/2):(m="right",_=this.right)):m="right",{textAlign:m,x:_}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const h=(d,m,_)=>{!_.width||!_.color||(i.save(),i.lineWidth=_.width,i.strokeStyle=_.color,i.setLineDash(_.borderDash||[]),i.lineDashOffset=_.borderDashOffset,i.beginPath(),i.moveTo(d.x,d.y),i.lineTo(m.x,m.y),i.stroke(),i.restore())};if(e.display)for(o=0,c=r.length;o<c;++o){const d=r[o];e.drawOnChartArea&&h({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),e.drawTicks&&h({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const h=r.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let m,_,v,b;this.isHorizontal()?(m=fa(t,this.left,c)-c/2,_=fa(t,this.right,h)+h/2,v=b=d):(v=fa(t,this.top,c)-c/2,b=fa(t,this.bottom,h)+h/2,m=_=d),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(m,v),e.lineTo(_,b),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&k_(i,r);const o=this.getLabelItems(t);for(const c of o){const h=c.options,d=c.font,m=c.label,_=c.textOffset;jf(i,m,0,_,d,h)}r&&N_(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=_n(i.font),c=ai(i.padding),h=i.align;let d=o.lineHeight/2;e==="bottom"||e==="center"||jt(e)?(d+=c.bottom,He(i.text)&&(d+=o.lineHeight*(i.text.length-1))):d+=c.top;const{titleX:m,titleY:_,maxWidth:v,rotation:b}=hV(this,d,e,h);jf(t,i.text,0,0,o,{color:i.color,maxWidth:v,rotation:b,textAlign:uV(h,e,r),textBaseline:"middle",translation:[m,_]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=qt(t.grid&&t.grid.z,-1),r=qt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==nl.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,c;for(o=0,c=e.length;o<c;++o){const h=e[o];h[i]===this.id&&(!t||h.type===t)&&r.push(h)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return _n(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Xh{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;gV(e)&&(i=this.register(e));const r=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,fV(t,c,i),this.override&&Ee.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in Ee[r]&&(delete Ee[r][i],this.override&&delete xa[i])}}function fV(n,t,e){const i=Kc(Object.create(null),[e?Ee.get(e):{},Ee.get(t),n.defaults]);Ee.set(t,i),n.defaultRoutes&&dV(t,n.defaultRoutes),n.descriptors&&Ee.describe(t,n.descriptors)}function dV(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),c=t[e].split("."),h=c.pop(),d=c.join(".");Ee.route(o,r,d,h)})}function gV(n){return"id"in n&&"defaults"in n}class mV{constructor(){this.controllers=new Xh(n1,"datasets",!0),this.elements=new Xh(lu,"elements"),this.plugins=new Xh(Object,"plugins"),this.scales=new Xh(nl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):Wt(r,c=>{const h=i||this._getRegistryForType(c);this._exec(t,h,c)})})}_exec(t,e,i){const r=O_(t);oe(i["before"+r],[],i),e[t](i),oe(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var xi=new mV;class pV{constructor(){this._init=[]}notify(t,e,i,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=r?this._descriptors(t).filter(r):this._descriptors(t),c=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),c}_notify(t,e,i,r){r=r||{};for(const o of t){const c=o.plugin,h=c[i],d=[e,r,o.options];if(oe(h,d,c)===!1&&r.cancelable)return!1}return!0}invalidate(){ie(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=qt(i.options&&i.options.plugins,{}),o=_V(i);return r===!1&&!e?[]:vV(t,o,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,c)=>o.filter(h=>!c.some(d=>h.plugin.id===d.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function _V(n){const t={},e=[],i=Object.keys(xi.plugins.items);for(let o=0;o<i.length;o++)e.push(xi.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const c=r[o];e.indexOf(c)===-1&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}function yV(n,t){return!t&&n===!1?null:n===!0?{}:n}function vV(n,{plugins:t,localIds:e},i,r){const o=[],c=n.getContext();for(const h of t){const d=h.id,m=yV(i[d],r);m!==null&&o.push({plugin:h,options:bV(n.config,{plugin:h,local:e[d]},m,c)})}return o}function bV(n,{plugin:t,local:e},i,r){const o=n.pluginScopeKeys(t),c=n.getOptionScopes(i,o);return e&&t.defaults&&c.push(t.defaults),n.createResolver(c,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ap(n,t){const e=Ee.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function EV(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function TV(n,t){return n===t?"_index_":"_value_"}function DT(n){if(n==="x"||n==="y"||n==="r")return n}function SV(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function wp(n,...t){if(DT(n))return n;for(const e of t){const i=e.axis||SV(e.position)||n.length>1&&DT(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function OT(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function AV(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return OT(n,"x",e[0])||OT(n,"y",e[0])}return{}}function wV(n,t){const e=xa[n.type]||{scales:{}},i=t.scales||{},r=Ap(n.type,t),o=Object.create(null);return Object.keys(i).forEach(c=>{const h=i[c];if(!jt(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const d=wp(c,h,AV(c,n),Ee.scales[h.type]),m=TV(d,r),_=e.scales||{};o[c]=kc(Object.create(null),[{axis:d},h,_[d],_[m]])}),n.data.datasets.forEach(c=>{const h=c.type||n.type,d=c.indexAxis||Ap(h,t),_=(xa[h]||{}).scales||{};Object.keys(_).forEach(v=>{const b=EV(v,d),A=c[b+"AxisID"]||b;o[A]=o[A]||Object.create(null),kc(o[A],[{axis:b},i[A],_[v]])})}),Object.keys(o).forEach(c=>{const h=o[c];kc(h,[Ee.scales[h.type],Ee.scale])}),o}function c1(n){const t=n.options||(n.options={});t.plugins=qt(t.plugins,{}),t.scales=wV(n,t)}function u1(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function xV(n){return n=n||{},n.data=u1(n.data),c1(n),n}const MT=new Map,h1=new Set;function Wh(n,t){let e=MT.get(n);return e||(e=t(),MT.set(n,e),h1.add(e)),e}const _c=(n,t,e)=>{const i=qo(t,e);i!==void 0&&n.add(i)};class RV{constructor(t){this._config=xV(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=u1(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),c1(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Wh(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Wh(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Wh(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return Wh(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,c=this._cachedScopes(t,i),h=c.get(e);if(h)return h;const d=new Set;e.forEach(_=>{t&&(d.add(t),_.forEach(v=>_c(d,t,v))),_.forEach(v=>_c(d,r,v)),_.forEach(v=>_c(d,xa[o]||{},v)),_.forEach(v=>_c(d,Ee,v)),_.forEach(v=>_c(d,Sp,v))});const m=Array.from(d);return m.length===0&&m.push(Object.create(null)),h1.has(e)&&c.set(e,m),m}chartOptionScopes(){const{options:t,type:e}=this;return[t,xa[e]||{},Ee.datasets[e]||{},{type:e},Ee,Sp]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:c,subPrefixes:h}=kT(this._resolverCache,t,r);let d=c;if(CV(c,e)){o.$shared=!1,i=Sr(i)?i():i;const m=this.createResolver(t,i,h);d=Go(c,i,m)}for(const m of e)o[m]=d[m];return o}createResolver(t,e,i=[""],r){const{resolver:o}=kT(this._resolverCache,t,i);return jt(e)?Go(o,e,void 0,r):o}}function kT(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:P_(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},i.set(r,o)),o}const IV=n=>jt(n)&&Object.getOwnPropertyNames(n).some(t=>Sr(n[t]));function CV(n,t){const{isScriptable:e,isIndexable:i}=Qw(n);for(const r of t){const o=e(r),c=i(r),h=(c||o)&&n[r];if(o&&(Sr(h)||IV(h))||c&&He(h))return!0}return!1}var DV="4.5.0";const OV=["top","bottom","left","right","chartArea"];function NT(n,t){return n==="top"||n==="bottom"||OV.indexOf(n)===-1&&t==="x"}function PT(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function VT(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),oe(e&&e.onComplete,[n],t)}function MV(n){const t=n.chart,e=t.options.animation;oe(e&&e.onProgress,[n],t)}function f1(n){return U_()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const ff={},LT=n=>{const t=f1(n);return Object.values(ff).filter(e=>e.canvas===t).pop()};function kV(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const c=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=c)}}}function NV(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let cu=class{static defaults=Ee;static instances=ff;static overrides=xa;static registry=xi;static version=DV;static getChart=LT;static register(...t){xi.add(...t),UT()}static unregister(...t){xi.remove(...t),UT()}constructor(t,e){const i=this.config=new RV(e),r=f1(t),o=LT(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||ZP(r)),this.platform.updateConfig(i);const h=this.platform.acquireContext(r,c.aspectRatio),d=h&&h.canvas,m=d&&d.height,_=d&&d.width;if(this.id=Xk(),this.ctx=h,this.canvas=d,this.width=_,this.height=m,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new pV,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=mN(v=>this.update(v),c.resizeDelay||0),this._dataChanges=[],ff[this.id]=this,!h||!d){console.error("Failed to create chart: can't acquire context from the given item");return}ls.listen(this,"complete",VT),ls.listen(this,"progress",MV),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:o}=this;return ie(t)?e&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return xi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():cT(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return rT(this.canvas,this.ctx),this}stop(){return ls.stop(this),this}resize(t,e){ls.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(r,t,e,o),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,cT(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),oe(i.onResize,[this,c],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Wt(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((c,h)=>(c[h]=!1,c),{});let o=[];e&&(o=o.concat(Object.keys(e).map(c=>{const h=e[c],d=wp(c,h),m=d==="r",_=d==="x";return{options:h,dposition:m?"chartArea":_?"bottom":"left",dtype:m?"radialLinear":_?"category":"linear"}}))),Wt(o,c=>{const h=c.options,d=h.id,m=wp(d,h),_=qt(h.type,c.dtype);(h.position===void 0||NT(h.position,m)!==NT(c.dposition))&&(h.position=c.dposition),r[d]=!0;let v=null;if(d in i&&i[d].type===_)v=i[d];else{const b=xi.getScale(_);v=new b({id:d,type:_,ctx:this.ctx,chart:this}),i[v.id]=v}v.init(h,t)}),Wt(r,(c,h)=>{c||delete i[h]}),Wt(i,c=>{ir.configure(this,c,c.options),ir.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(PT("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const o=e[i];let c=this.getDatasetMeta(i);const h=o.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=h,c.indexAxis=o.indexAxis||Ap(h,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const d=xi.getController(h),{datasetElementType:m,dataElementType:_}=Ee.datasets[h];Object.assign(d,{dataElementType:xi.getElement(_),datasetElementType:m&&xi.getElement(m)}),c.controller=new d(this,i),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){Wt(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let m=0,_=this.data.datasets.length;m<_;m++){const{controller:v}=this.getDatasetMeta(m),b=!r&&o.indexOf(v)===-1;v.buildOrUpdateElements(b),c=Math.max(+v.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),r||Wt(o,m=>{m.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(PT("z","_idx"));const{_active:h,_lastEvent:d}=this;d?this._eventHandler(d,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){Wt(this.scales,t=>{ir.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!XE(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of e){const c=i==="_removeElements"?-o:o;kV(t,r,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(c=>c[0]===o).map((c,h)=>h+","+c.splice(1).join(","))),r=i(0);for(let o=1;o<e;o++)if(!XE(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ir.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Wt(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Sr(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ls.has(this)?this.attached&&!ls.running(this)&&ls.start(this):(this.draw(),VT({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,o;for(r=0,o=e.length;r<o;++r){const c=e[r];(!t||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=tP(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&k_(e,r),t.controller.draw(),r&&N_(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return Gw(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const o=OP.modes[e];return typeof o=="function"?o(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=el(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,r);Qc(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),c.update(o,{visible:i}),this.update(h=>h.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),ls.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),rT(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete ff[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,c)=>{e.addEventListener(this,o,c),t[o]=c},r=(o,c,h)=>{o.offsetX=c,o.offsetY=h,this._eventHandler(o)};Wt(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(d,m)=>{e.addEventListener(this,d,m),t[d]=m},r=(d,m)=>{t[d]&&(e.removeEventListener(this,d,m),delete t[d])},o=(d,m)=>{this.canvas&&this.resize(d,m)};let c;const h=()=>{r("attach",h),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",h)},e.isAttached(this.canvas)?h():c()}unbindEvents(){Wt(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Wt(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let o,c,h,d;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),h=0,d=t.length;h<d;++h){c=t[h];const m=c&&this.getDatasetMeta(c.datasetIndex).controller;m&&m[r+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:c})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[c],index:c}});!Lf(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,o=(d,m)=>d.filter(_=>!m.some(v=>_.datasetIndex===v.datasetIndex&&_.index===v.index)),c=o(e,t),h=i?t:o(t,e);c.length&&this.updateHoverStyle(c,r.mode,!1),h.length&&r.mode&&this.updateHoverStyle(h,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:o}=this,c=e,h=this._getActiveElements(t,r,i,c),d=eN(t),m=NV(t,this._lastEvent,i,d);i&&(this._lastEvent=null,oe(o.onHover,[t,h,this],this),d&&oe(o.onClick,[t,h,this],this));const _=!Lf(h,r);return(_||e)&&(this._active=h,this._updateHoverStyles(h,r,e)),this._lastEvent=m,_}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}};function UT(){return Wt(cu.instances,n=>n._plugins.invalidate())}function d1(n,t){const{x:e,y:i,base:r,width:o,height:c}=n.getProps(["x","y","base","width","height"],t);let h,d,m,_,v;return n.horizontal?(v=c/2,h=Math.min(e,r),d=Math.max(e,r),m=i-v,_=i+v):(v=o/2,h=e-v,d=e+v,m=Math.min(i,r),_=Math.max(i,r)),{left:h,top:m,right:d,bottom:_}}function sr(n,t,e,i){return n?0:ni(t,e,i)}function PV(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,o=Kw(i);return{t:sr(r.top,o.top,0,e),r:sr(r.right,o.right,0,t),b:sr(r.bottom,o.bottom,0,e),l:sr(r.left,o.left,0,t)}}function VV(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=Po(r),c=Math.min(t,e),h=n.borderSkipped,d=i||jt(r);return{topLeft:sr(!d||h.top||h.left,o.topLeft,0,c),topRight:sr(!d||h.top||h.right,o.topRight,0,c),bottomLeft:sr(!d||h.bottom||h.left,o.bottomLeft,0,c),bottomRight:sr(!d||h.bottom||h.right,o.bottomRight,0,c)}}function LV(n){const t=d1(n),e=t.right-t.left,i=t.bottom-t.top,r=PV(n,e/2,i/2),o=VV(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function Ym(n,t,e,i){const r=t===null,o=e===null,h=n&&!(r&&o)&&d1(n,i);return h&&(r||Co(t,h.left,h.right))&&(o||Co(e,h.top,h.bottom))}function UV(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function zV(n,t){n.rect(t.x,t.y,t.w,t.h)}function Km(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,c=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+o,h:n.h+c,radius:n.radius}}class g1 extends lu{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:c}=LV(this),h=UV(c.radius)?Ff:zV;t.save(),(c.w!==o.w||c.h!==o.h)&&(t.beginPath(),h(t,Km(c,e,o)),t.clip(),h(t,Km(o,-e,c)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),h(t,Km(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return Ym(this,t,e,i)}inXRange(t,e){return Ym(this,t,null,e)}inYRange(t,e){return Ym(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}const zT=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},BV=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class BT extends lu{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=oe(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=_n(i.font),o=r.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:d}=zT(i,o);let m,_;e.font=r.string,this.isHorizontal()?(m=this.maxWidth,_=this._fitRows(c,o,h,d)+10):(_=this.maxHeight,m=this._fitCols(c,r,h,d)+10),this.width=Math.min(m,t.maxWidth||this.maxWidth),this.height=Math.min(_,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:c,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],m=this.lineWidths=[0],_=r+h;let v=t;o.textAlign="left",o.textBaseline="middle";let b=-1,A=-_;return this.legendItems.forEach((I,k)=>{const M=i+e/2+o.measureText(I.text).width;(k===0||m[m.length-1]+M+2*h>c)&&(v+=_,m[m.length-(k>0?0:1)]=0,A+=_,b++),d[k]={left:0,top:A,row:b,width:M,height:r},m[m.length-1]+=M+h}),v}_fitCols(t,e,i,r){const{ctx:o,maxHeight:c,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],m=this.columnSizes=[],_=c-t;let v=h,b=0,A=0,I=0,k=0;return this.legendItems.forEach((M,G)=>{const{itemWidth:X,itemHeight:et}=jV(i,e,o,M,r);G>0&&A+et+2*h>_&&(v+=b+h,m.push({width:b,height:A}),I+=b+h,k++,b=A=0),d[G]={left:I,top:A,col:k,width:X,height:et},b=Math.max(b,X),A+=et+h}),v+=b,m.push({width:b,height:A}),v}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,c=Vo(o,this.left,this.width);if(this.isHorizontal()){let h=0,d=In(i,this.left+r,this.right-this.lineWidths[h]);for(const m of e)h!==m.row&&(h=m.row,d=In(i,this.left+r,this.right-this.lineWidths[h])),m.top+=this.top+t+r,m.left=c.leftForLtr(c.x(d),m.width),d+=m.width+r}else{let h=0,d=In(i,this.top+t+r,this.bottom-this.columnSizes[h].height);for(const m of e)m.col!==h&&(h=m.col,d=In(i,this.top+t+r,this.bottom-this.columnSizes[h].height)),m.top=d,m.left+=this.left+r,m.left=c.leftForLtr(c.x(m.left),m.width),d+=m.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;k_(t,this),this._draw(),N_(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:c}=t,h=Ee.color,d=Vo(t.rtl,this.left,this.width),m=_n(c.font),{padding:_}=c,v=m.size,b=v/2;let A;this.drawTitle(),r.textAlign=d.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=m.string;const{boxWidth:I,boxHeight:k,itemHeight:M}=zT(c,v),G=function(ot,C,x){if(isNaN(I)||I<=0||isNaN(k)||k<0)return;r.save();const R=qt(x.lineWidth,1);if(r.fillStyle=qt(x.fillStyle,h),r.lineCap=qt(x.lineCap,"butt"),r.lineDashOffset=qt(x.lineDashOffset,0),r.lineJoin=qt(x.lineJoin,"miter"),r.lineWidth=R,r.strokeStyle=qt(x.strokeStyle,h),r.setLineDash(qt(x.lineDash,[])),c.usePointStyle){const N={radius:k*Math.SQRT2/2,pointStyle:x.pointStyle,rotation:x.rotation,borderWidth:R},P=d.xPlus(ot,I/2),L=C+b;qw(r,N,P,L,c.pointStyleWidth&&I)}else{const N=C+Math.max((v-k)/2,0),P=d.leftForLtr(ot,I),L=Po(x.borderRadius);r.beginPath(),Object.values(L).some(D=>D!==0)?Ff(r,{x:P,y:N,w:I,h:k,radius:L}):r.rect(P,N,I,k),r.fill(),R!==0&&r.stroke()}r.restore()},X=function(ot,C,x){jf(r,x.text,ot,C+M/2,m,{strikethrough:x.hidden,textAlign:d.textAlign(x.textAlign)})},et=this.isHorizontal(),it=this._computeTitleHeight();et?A={x:In(o,this.left+_,this.right-i[0]),y:this.top+_+it,line:0}:A={x:this.left+_,y:In(o,this.top+it+_,this.bottom-e[0].height),line:0},Zw(this.ctx,t.textDirection);const W=M+_;this.legendItems.forEach((ot,C)=>{r.strokeStyle=ot.fontColor,r.fillStyle=ot.fontColor;const x=r.measureText(ot.text).width,R=d.textAlign(ot.textAlign||(ot.textAlign=c.textAlign)),N=I+b+x;let P=A.x,L=A.y;d.setWidth(this.width),et?C>0&&P+N+_>this.right&&(L=A.y+=W,A.line++,P=A.x=In(o,this.left+_,this.right-i[A.line])):C>0&&L+W>this.bottom&&(P=A.x=P+e[A.line].width+_,A.line++,L=A.y=In(o,this.top+it+_,this.bottom-e[A.line].height));const D=d.x(P);if(G(D,L,ot),P=pN(R,P+I+b,et?P+N:this.right,t.rtl),X(d.x(P),L,ot),et)A.x+=N+_;else if(typeof ot.text!="string"){const $t=m.lineHeight;A.y+=m1(ot,$t)+_}else A.y+=W}),Jw(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=_n(e.font),r=ai(e.padding);if(!e.display)return;const o=Vo(t.rtl,this.left,this.width),c=this.ctx,h=e.position,d=i.size/2,m=r.top+d;let _,v=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),_=this.top+m,v=In(t.align,v,this.right-b);else{const I=this.columnSizes.reduce((k,M)=>Math.max(k,M.height),0);_=m+In(t.align,this.top,this.bottom-I-t.labels.padding-this._computeTitleHeight())}const A=In(h,v,v+b);c.textAlign=o.textAlign(Bw(h)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=i.string,jf(c,e.text,A,_,i)}_computeTitleHeight(){const t=this.options.title,e=_n(t.font),i=ai(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(Co(t,this.left,this.right)&&Co(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],Co(t,r.left,r.left+r.width)&&Co(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!qV(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=BV(r,i);r&&!o&&oe(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&oe(e.onHover,[t,i,this],this)}else i&&oe(e.onClick,[t,i,this],this)}}function jV(n,t,e,i,r){const o=FV(i,n,t,e),c=HV(r,i,t.lineHeight);return{itemWidth:o,itemHeight:c}}function FV(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,c)=>o.length>c.length?o:c)),t+e.size/2+i.measureText(r).width}function HV(n,t,e){let i=n;return typeof t.text!="string"&&(i=m1(t,e)),i}function m1(n,t){const e=n.text?n.text.length:0;return t*e}function qV(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var p1={id:"legend",_element:BT,start(n,t,e){const i=n.legend=new BT({ctx:n.ctx,options:e,chart:n});ir.configure(n,i,e),ir.addBox(n,i)},stop(n){ir.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;ir.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:c,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(d=>{const m=d.controller.getStyle(e?0:void 0),_=ai(m.borderWidth);return{text:t[d.index].label,fillStyle:m.backgroundColor,fontColor:o,hidden:!d.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(_.width+_.height)/4,strokeStyle:m.borderColor,pointStyle:i||m.pointStyle,rotation:m.rotation,textAlign:r||m.textAlign,borderRadius:c&&(h||m.borderRadius),datasetIndex:d.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};const xc={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const d=h.tooltipPosition();i.add(d.x),r+=d.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((h,d)=>h+d)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,c,h;for(o=0,c=n.length;o<c;++o){const d=n[o].element;if(d&&d.hasValue()){const m=d.getCenterPoint(),_=cN(t,m);_<r&&(r=_,h=d)}}if(h){const d=h.tooltipPosition();e=d.x,i=d.y}return{x:e,y:i}}};function wi(n,t){return t&&(He(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function cs(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function GV(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:c,value:h}=o.getLabelAndValue(r);return{chart:n,label:c,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:h,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function jT(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:c,boxHeight:h}=t,d=_n(t.bodyFont),m=_n(t.titleFont),_=_n(t.footerFont),v=o.length,b=r.length,A=i.length,I=ai(t.padding);let k=I.height,M=0,G=i.reduce((it,W)=>it+W.before.length+W.lines.length+W.after.length,0);if(G+=n.beforeBody.length+n.afterBody.length,v&&(k+=v*m.lineHeight+(v-1)*t.titleSpacing+t.titleMarginBottom),G){const it=t.displayColors?Math.max(h,d.lineHeight):d.lineHeight;k+=A*it+(G-A)*d.lineHeight+(G-1)*t.bodySpacing}b&&(k+=t.footerMarginTop+b*_.lineHeight+(b-1)*t.footerSpacing);let X=0;const et=function(it){M=Math.max(M,e.measureText(it).width+X)};return e.save(),e.font=m.string,Wt(n.title,et),e.font=d.string,Wt(n.beforeBody.concat(n.afterBody),et),X=t.displayColors?c+2+t.boxPadding:0,Wt(i,it=>{Wt(it.before,et),Wt(it.lines,et),Wt(it.after,et)}),X=0,e.font=_.string,Wt(n.footer,et),e.restore(),M+=I.width,{width:M,height:k}}function YV(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function KV(n,t,e,i){const{x:r,width:o}=i,c=e.caretSize+e.caretPadding;if(n==="left"&&r+o+c>t.width||n==="right"&&r-o-c<0)return!0}function QV(n,t,e,i){const{x:r,width:o}=e,{width:c,chartArea:{left:h,right:d}}=n;let m="center";return i==="center"?m=r<=(h+d)/2?"left":"right":r<=o/2?m="left":r>=c-o/2&&(m="right"),KV(m,n,t,e)&&(m="center"),m}function FT(n,t,e){const i=e.yAlign||t.yAlign||YV(n,e);return{xAlign:e.xAlign||t.xAlign||QV(n,t,e,i),yAlign:i}}function XV(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function WV(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function HT(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:c}=n,{xAlign:h,yAlign:d}=e,m=r+o,{topLeft:_,topRight:v,bottomLeft:b,bottomRight:A}=Po(c);let I=XV(t,h);const k=WV(t,d,m);return d==="center"?h==="left"?I+=m:h==="right"&&(I-=m):h==="left"?I-=Math.max(_,b)+r:h==="right"&&(I+=Math.max(v,A)+r),{x:ni(I,0,i.width-t.width),y:ni(k,0,i.height-t.height)}}function $h(n,t,e){const i=ai(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function qT(n){return wi([],cs(n))}function $V(n,t,e){return el(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function GT(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const _1={beforeTitle:os,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:os,beforeBody:os,beforeLabel:os,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return ie(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:os,afterBody:os,beforeFooter:os,footer:os,afterFooter:os};function dn(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?_1[t].call(e,i):r}class YT extends lu{static positioners=xc;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,o=new t1(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=$V(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=dn(i,"beforeTitle",this,t),o=dn(i,"title",this,t),c=dn(i,"afterTitle",this,t);let h=[];return h=wi(h,cs(r)),h=wi(h,cs(o)),h=wi(h,cs(c)),h}getBeforeBody(t,e){return qT(dn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return Wt(t,o=>{const c={before:[],lines:[],after:[]},h=GT(i,o);wi(c.before,cs(dn(h,"beforeLabel",this,o))),wi(c.lines,dn(h,"label",this,o)),wi(c.after,cs(dn(h,"afterLabel",this,o))),r.push(c)}),r}getAfterBody(t,e){return qT(dn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=dn(i,"beforeFooter",this,t),o=dn(i,"footer",this,t),c=dn(i,"afterFooter",this,t);let h=[];return h=wi(h,cs(r)),h=wi(h,cs(o)),h=wi(h,cs(c)),h}_createItems(t){const e=this._active,i=this.chart.data,r=[],o=[],c=[];let h=[],d,m;for(d=0,m=e.length;d<m;++d)h.push(GV(this.chart,e[d]));return t.filter&&(h=h.filter((_,v,b)=>t.filter(_,v,b,i))),t.itemSort&&(h=h.sort((_,v)=>t.itemSort(_,v,i))),Wt(h,_=>{const v=GT(t.callbacks,_);r.push(dn(v,"labelColor",this,_)),o.push(dn(v,"labelPointStyle",this,_)),c.push(dn(v,"labelTextColor",this,_))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=h,h}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let o,c=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const h=xc[i.position].call(this,r,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const d=this._size=jT(this,i),m=Object.assign({},h,d),_=FT(this.chart,i,m),v=HT(i,m,_,this.chart);this.xAlign=_.xAlign,this.yAlign=_.yAlign,o={opacity:1,x:v.x,y:v.y,width:d.width,height:d.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const o=this.getCaretPosition(t,i,r);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:o}=this,{caretSize:c,cornerRadius:h}=i,{topLeft:d,topRight:m,bottomLeft:_,bottomRight:v}=Po(h),{x:b,y:A}=t,{width:I,height:k}=e;let M,G,X,et,it,W;return o==="center"?(it=A+k/2,r==="left"?(M=b,G=M-c,et=it+c,W=it-c):(M=b+I,G=M+c,et=it-c,W=it+c),X=M):(r==="left"?G=b+Math.max(d,_)+c:r==="right"?G=b+I-Math.max(m,v)-c:G=this.caretX,o==="top"?(et=A,it=et-c,M=G-c,X=G+c):(et=A+k,it=et+c,M=G+c,X=G-c),W=et),{x1:M,x2:G,x3:X,y1:et,y2:it,y3:W}}drawTitle(t,e,i){const r=this.title,o=r.length;let c,h,d;if(o){const m=Vo(i.rtl,this.x,this.width);for(t.x=$h(this,i.titleAlign,i),e.textAlign=m.textAlign(i.titleAlign),e.textBaseline="middle",c=_n(i.titleFont),h=i.titleSpacing,e.fillStyle=i.titleColor,e.font=c.string,d=0;d<o;++d)e.fillText(r[d],m.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+h,d+1===o&&(t.y+=i.titleMarginBottom-h)}}_drawColorBox(t,e,i,r,o){const c=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:d,boxWidth:m}=o,_=_n(o.bodyFont),v=$h(this,"left",o),b=r.x(v),A=d<_.lineHeight?(_.lineHeight-d)/2:0,I=e.y+A;if(o.usePointStyle){const k={radius:Math.min(m,d)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},M=r.leftForLtr(b,m)+m/2,G=I+d/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,aT(t,k,M,G),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,aT(t,k,M,G)}else{t.lineWidth=jt(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const k=r.leftForLtr(b,m),M=r.leftForLtr(r.xPlus(b,1),m-2),G=Po(c.borderRadius);Object.values(G).some(X=>X!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Ff(t,{x:k,y:I,w:m,h:d,radius:G}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),Ff(t,{x:M,y:I+1,w:m-2,h:d-2,radius:G}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(k,I,m,d),t.strokeRect(k,I,m,d),t.fillStyle=c.backgroundColor,t.fillRect(M,I+1,m-2,d-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:o,bodyAlign:c,displayColors:h,boxHeight:d,boxWidth:m,boxPadding:_}=i,v=_n(i.bodyFont);let b=v.lineHeight,A=0;const I=Vo(i.rtl,this.x,this.width),k=function(x){e.fillText(x,I.x(t.x+A),t.y+b/2),t.y+=b+o},M=I.textAlign(c);let G,X,et,it,W,ot,C;for(e.textAlign=c,e.textBaseline="middle",e.font=v.string,t.x=$h(this,M,i),e.fillStyle=i.bodyColor,Wt(this.beforeBody,k),A=h&&M!=="right"?c==="center"?m/2+_:m+2+_:0,it=0,ot=r.length;it<ot;++it){for(G=r[it],X=this.labelTextColors[it],e.fillStyle=X,Wt(G.before,k),et=G.lines,h&&et.length&&(this._drawColorBox(e,t,it,I,i),b=Math.max(v.lineHeight,d)),W=0,C=et.length;W<C;++W)k(et[W]),b=v.lineHeight;Wt(G.after,k)}A=0,b=v.lineHeight,Wt(this.afterBody,k),t.y-=o}drawFooter(t,e,i){const r=this.footer,o=r.length;let c,h;if(o){const d=Vo(i.rtl,this.x,this.width);for(t.x=$h(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=d.textAlign(i.footerAlign),e.textBaseline="middle",c=_n(i.footerFont),e.fillStyle=i.footerColor,e.font=c.string,h=0;h<o;++h)e.fillText(r[h],d.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:o,yAlign:c}=this,{x:h,y:d}=t,{width:m,height:_}=i,{topLeft:v,topRight:b,bottomLeft:A,bottomRight:I}=Po(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(h+v,d),c==="top"&&this.drawCaret(t,e,i,r),e.lineTo(h+m-b,d),e.quadraticCurveTo(h+m,d,h+m,d+b),c==="center"&&o==="right"&&this.drawCaret(t,e,i,r),e.lineTo(h+m,d+_-I),e.quadraticCurveTo(h+m,d+_,h+m-I,d+_),c==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(h+A,d+_),e.quadraticCurveTo(h,d+_,h,d+_-A),c==="center"&&o==="left"&&this.drawCaret(t,e,i,r),e.lineTo(h,d+v),e.quadraticCurveTo(h,d,h+v,d),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const c=xc[t.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=jT(this,t),d=Object.assign({},c,this._size),m=FT(e,t,d),_=HT(t,d,m,e);(r._to!==_.x||o._to!==_.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,_))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=ai(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,r,e),Zw(t,e.textDirection),o.y+=c.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),Jw(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:h,index:d})=>{const m=this.chart.getDatasetMeta(h);if(!m)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:m.data[d],index:d}}),o=!Lf(i,r),c=this._positionChanged(r,e);(o||c)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],c=this._getActiveElements(t,o,e,i),h=this._positionChanged(c,t),d=e||!Lf(c,o)||h;return d&&(this._active=c,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),d}_getActiveElements(t,e,i,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(t,e){const{caretX:i,caretY:r,options:o}=this,c=xc[o.position].call(this,t,e);return c!==!1&&(i!==c.x||r!==c.y)}}var y1={id:"tooltip",_element:YT,positioners:xc,afterInit(n,t,e){e&&(n.tooltip=new YT({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:_1},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const ZV=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function JV(n,t,e,i){const r=n.indexOf(t);if(r===-1)return ZV(n,t,e,i);const o=n.lastIndexOf(t);return r!==o?e:r}const t4=(n,t)=>n===null?null:ni(Math.round(n),0,t);function KT(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class v1 extends nl{static id="category";static defaults={ticks:{callback:KT}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:o}of e)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(ie(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:JV(i,t,qt(e,t),this._addedLabels),t4(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=t;c<=e;c++)r.push({value:c});return r}getLabelForValue(t){return KT.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function e4(n,t){const e=[],{bounds:r,step:o,min:c,max:h,precision:d,count:m,maxTicks:_,maxDigits:v,includeBounds:b}=n,A=o||1,I=_-1,{min:k,max:M}=t,G=!ie(c),X=!ie(h),et=!ie(m),it=(M-k)/(v+1);let W=$E((M-k)/I/A)*A,ot,C,x,R;if(W<1e-14&&!G&&!X)return[{value:k},{value:M}];R=Math.ceil(M/W)-Math.floor(k/W),R>I&&(W=$E(R*W/I/A)*A),ie(d)||(ot=Math.pow(10,d),W=Math.ceil(W*ot)/ot),r==="ticks"?(C=Math.floor(k/W)*W,x=Math.ceil(M/W)*W):(C=k,x=M),G&&X&&o&&rN((h-c)/o,W/1e3)?(R=Math.round(Math.min((h-c)/W,_)),W=(h-c)/R,C=c,x=h):et?(C=G?c:C,x=X?h:x,R=m-1,W=(x-C)/R):(R=(x-C)/W,uf(R,Math.round(R),W/1e3)?R=Math.round(R):R=Math.ceil(R));const N=Math.max(ZE(W),ZE(C));ot=Math.pow(10,ie(d)?N:d),C=Math.round(C*ot)/ot,x=Math.round(x*ot)/ot;let P=0;for(G&&(b&&C!==c?(e.push({value:c}),C<c&&P++,uf(Math.round((C+P*W)*ot)/ot,c,QT(c,it,n))&&P++):C<c&&P++);P<R;++P){const L=Math.round((C+P*W)*ot)/ot;if(X&&L>h)break;e.push({value:L})}return X&&b&&x!==h?e.length&&uf(e[e.length-1].value,h,QT(h,it,n))?e[e.length-1].value=h:e.push({value:h}):(!X||x===h)&&e.push({value:x}),e}function QT(n,t,{horizontal:e,minRotation:i}){const r=_a(i),o=(e?Math.sin(r):Math.cos(r))||.001,c=.75*t*(""+n).length;return Math.min(t/o,c)}class n4 extends nl{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return ie(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const c=d=>r=e?r:d,h=d=>o=i?o:d;if(t){const d=gr(r),m=gr(o);d<0&&m<0?h(0):d>0&&m>0&&c(0)}if(r===o){let d=o===0?1:Math.abs(o*.05);h(o+d),t||c(r-d)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,c=e4(r,o);return t.bounds==="ticks"&&aN(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return Fw(t,this.chart.options.locale,this.options.ticks.format)}}class b1 extends n4{static id="linear";static defaults={ticks:{callback:Hw.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Yn(t)?t:0,this.max=Yn(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=_a(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const _d={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},pn=Object.keys(_d);function XT(n,t){return n-t}function WT(n,t){if(ie(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let c=t;return typeof i=="function"&&(c=i(c)),Yn(c)||(c=typeof i=="string"?e.parse(c,i):e.parse(c)),c===null?null:(r&&(c=r==="week"&&(Bf(o)||o===!0)?e.startOf(c,"isoWeek",o):e.startOf(c,r)),+c)}function $T(n,t,e,i){const r=pn.length;for(let o=pn.indexOf(n);o<r-1;++o){const c=_d[pn[o]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(h*c.size))<=i)return pn[o]}return pn[r-1]}function i4(n,t,e,i,r){for(let o=pn.length-1;o>=pn.indexOf(e);o--){const c=pn[o];if(_d[c].common&&n._adapter.diff(r,i,c)>=t-1)return c}return pn[e?pn.indexOf(e):0]}function s4(n){for(let t=pn.indexOf(n)+1,e=pn.length;t<e;++t)if(_d[pn[t]].common)return pn[t]}function ZT(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=M_(e,t),o=e[i]>=t?e[i]:e[r];n[o]=!0}}function r4(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),c=t[t.length-1].value;let h,d;for(h=o;h<=c;h=+r.add(h,1,i))d=e[h],d>=0&&(t[d].major=!0);return t}function JT(n,t,e){const i=[],r={},o=t.length;let c,h;for(c=0;c<o;++c)h=t[c],r[h]=c,i.push({value:h,major:!1});return o===0||!e?i:r4(n,i,r,e)}class tS extends nl{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new xP._date(t.adapters.date);r.init(e),kc(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:WT(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:c,maxDefined:h}=this.getUserBounds();function d(m){!c&&!isNaN(m.min)&&(r=Math.min(r,m.min)),!h&&!isNaN(m.max)&&(o=Math.max(o,m.max))}(!c||!h)&&(d(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&d(this.getMinMax(!1))),r=Yn(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),o=Yn(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,c=this.max,h=dN(r,o,c);return this._unit=e.unit||(i.autoSkip?$T(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):i4(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:s4(this._unit),this.initOffsets(r),t.reverse&&h.reverse(),JT(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;e=ni(e,0,c),i=ni(i,0,c),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,o=r.time,c=o.unit||$T(o.minUnit,e,i,this._getLabelCapacity(e)),h=qt(r.ticks.stepSize,1),d=c==="week"?o.isoWeekday:!1,m=Bf(d)||d===!0,_={};let v=e,b,A;if(m&&(v=+t.startOf(v,"isoWeek",d)),v=+t.startOf(v,m?"day":c),t.diff(i,e,c)>1e5*h)throw new Error(e+" and "+i+" are too far apart with stepSize of "+h+" "+c);const I=r.ticks.source==="data"&&this.getDataTimestamps();for(b=v,A=0;b<i;b=+t.add(b,h,c),A++)ZT(_,b,I);return(b===i||r.bounds==="ticks"||A===1)&&ZT(_,b,I),Object.keys(_).sort(XT).map(k=>+k)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,o=this._unit,c=e||r[o];return this._adapter.format(t,c)}_tickFormatFunction(t,e,i,r){const o=this.options,c=o.ticks.callback;if(c)return oe(c,[t,e,i],this);const h=o.time.displayFormats,d=this._unit,m=this._majorUnit,_=d&&h[d],v=m&&h[m],b=i[e],A=m&&v&&b&&b.major;return this._adapter.format(t,r||(A?v:_))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=_a(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(r),c=Math.sin(r),h=this._resolveTickFontOptions(0).size;return{w:i*o+h*c,h:i*c+h*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,JT(this,[t],this._majorUnit),r),c=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(WT(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Lw(t.sort(XT))}}function Zh(n,t,e){let i=0,r=n.length-1,o,c,h,d;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=Tp(n,"pos",t)),{pos:o,time:h}=n[i],{pos:c,time:d}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=Tp(n,"time",t)),{time:o,pos:h}=n[i],{time:c,pos:d}=n[r]);const m=c-o;return m?h+(d-h)*(t-o)/m:h}class E4 extends tS{static id="timeseries";static defaults=tS.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Zh(e,this.min),this._tableRange=Zh(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let c,h,d,m,_;for(c=0,h=t.length;c<h;++c)m=t[c],m>=e&&m<=i&&r.push(m);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(c=0,h=r.length;c<h;++c)_=r[c+1],d=r[c-1],m=r[c],Math.round((_+d)/2)!==m&&o.push({time:m,pos:c/(h-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Zh(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Zh(this._table,i*this._tableRange+this._minPos,!0)}}const E1="label";function eS(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function a4(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function T1(n,t){n.labels=t}function S1(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:E1;const i=[];n.datasets=t.map(r=>{const o=n.datasets.find(c=>c[e]===r[e]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function o4(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:E1;const e={labels:[],datasets:[]};return T1(e,n.labels),S1(e,n.datasets,t),e}function l4(n,t){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:c,data:h,options:d,plugins:m=[],fallbackContent:_,updateMode:v,...b}=n,A=Ht.useRef(null),I=Ht.useRef(null),k=()=>{A.current&&(I.current=new cu(A.current,{type:c,data:o4(h,o),options:d&&{...d},plugins:m}),eS(t,I.current))},M=()=>{eS(t,null),I.current&&(I.current.destroy(),I.current=null)};return Ht.useEffect(()=>{!r&&I.current&&d&&a4(I.current,d)},[r,d]),Ht.useEffect(()=>{!r&&I.current&&T1(I.current.config.data,h.labels)},[r,h.labels]),Ht.useEffect(()=>{!r&&I.current&&h.datasets&&S1(I.current.config.data,h.datasets,o)},[r,h.datasets]),Ht.useEffect(()=>{I.current&&(r?(M(),setTimeout(k)):I.current.update(v))},[r,d,h.labels,h.datasets,v]),Ht.useEffect(()=>{I.current&&(M(),setTimeout(k))},[c]),Ht.useEffect(()=>(k(),()=>M()),[]),ds.createElement("canvas",{ref:A,role:"img",height:e,width:i,...b},_)}const c4=Ht.forwardRef(l4);function u4(n,t){return cu.register(t),Ht.forwardRef((e,i)=>ds.createElement(c4,{...e,ref:i,type:n}))}const xp=u4("bar",wP);cu.register(g1,v1,b1,y1,p1);function h4({bebidas:n}){if(!n.length)return st.jsx("p",{className:"text-sm italic",children:"Sin datos."});const t=n.reduce((c,h)=>(c[h.tipo]=(c[h.tipo]||0)+1,c),{}),e=Object.keys(t),i=Object.values(t),r={labels:e,datasets:[{label:"Cantidad",data:i,backgroundColor:"rgba(59, 130, 246, 0.6)",borderRadius:4}]},o={indexAxis:"y",scales:{x:{beginAtZero:!0,ticks:{stepSize:1}}},plugins:{legend:{display:!1}}};return st.jsx("div",{className:"bg-white rounded p-2 mt-2",children:st.jsx(xp,{data:r,options:o})})}function f4({bebidas:n,usuarios:t}){const e=new Date,i=24;return st.jsxs("div",{className:"mt-6",children:[st.jsx("h2",{className:"text-center text-lg font-bold mb-2",children:" Estadsticas Globales"}),t.map(r=>{const o=r.email,c=n.filter(v=>v.email===o),h=c.filter(v=>{const b=new Date(v.timestamp);return(e-b)/(1e3*60*60)<i}),d=c[0],m=h.reduce((v,b)=>(v[b.tipo]=(v[b.tipo]||0)+1,v),{}),_=Object.entries(m).map(([v,b])=>`${b} ${v}${b>1?"s":""}`).join(", ");return st.jsxs("div",{className:"mb-4 border-b pb-2",children:[st.jsx("p",{className:"font-semibold text-xl",children:st.jsx(R_,{email:o})}),d?st.jsxs(st.Fragment,{children:[st.jsxs("p",{className:"text-sm text-gray-600",children:["ltima bebida: ",d.tipo,"  ",new Date(d.timestamp).toLocaleTimeString()]}),st.jsx("p",{className:"text-sm mt-1",children:h.length>0?`ltimas ${i}h: ${_}`:st.jsx("span",{className:"italic text-gray-500",children:"Sin datos recientes"})}),st.jsx(h4,{bebidas:h})]}):st.jsx("p",{className:"text-sm italic text-gray-500",children:"Este usuario an no ha registrado bebidas."})]},o)})]})}cu.register(g1,v1,b1,y1,p1);function d4({bebidas:n}){if(!n.length)return st.jsx("p",{className:"text-center mt-4 text-sm",children:"No has aadido bebidas an."});const t=new Date,e=6,i=24,r=n[0],c=n.filter(it=>{const W=new Date(it.timestamp);return(t-W)/(1e3*60*60)<e}).reduce((it,W)=>(it[W.tipo]=(it[W.tipo]||0)+1,it),{}),d=n.filter(it=>{const W=new Date(it.timestamp);return(t-W)/(1e3*60*60)<i}).reduce((it,W)=>(it[W.tipo]=(it[W.tipo]||0)+1,it),{}),m=Object.keys(d),_=Object.values(d),v={labels:m,datasets:[{label:"Cantidad",data:_,backgroundColor:"rgba(59, 130, 246, 0.6)",borderRadius:4}]},b={indexAxis:"y",scales:{x:{beginAtZero:!0,ticks:{stepSize:1}}},plugins:{legend:{display:!1}}},A=new Date,I=new Date(A);I.setMinutes(0,0,0),I.setHours(I.getHours()+1);const k=Array.from({length:24},(it,W)=>{const ot=new Date(I.getTime()-W*60*60*1e3);return{tInicio:new Date(ot.getTime()-60*60*1e3),tFin:ot}}).reverse(),M=k.map(({tInicio:it,tFin:W})=>n.filter(ot=>{const C=new Date(ot.timestamp);return C>=it&&C<W}).length),X={labels:k.map(({tInicio:it})=>`${it.getHours()}:00`),datasets:[{label:"Bebidas por hora",data:M,backgroundColor:"rgba(59, 130, 246, 0.6)",borderRadius:4}]},et={scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}}};return st.jsxs("div",{className:"mt-6",children:[st.jsx("h2",{className:" text-center text-lg font-bold mb-2",children:" Tus estadsticas"}),st.jsxs("p",{children:["ltima bebida: ",r.tipo,"  ",new Date(r.timestamp).toLocaleTimeString()]}),st.jsxs("p",{children:["Bebidas en las ltimas ",e,"h:"]}),st.jsx("ul",{className:"list-disc pl-4 text-sm text-gray-700 mb-2",children:Object.entries(c).map(([it,W])=>st.jsxs("li",{children:[it,"s: ",W]},it))}),st.jsx("p",{className:"text-center text-sm mt-4 font-semibold",children:"Bebidas en las ltimas 24h (por tipo):"}),st.jsx("div",{className:"bg-white rounded p-2 mt-2",children:st.jsx(xp,{data:v,options:b})}),st.jsx("p",{className:"text-center text-sm mt-4 font-semibold",children:"Bebidas en las ltimas 24h (por hora):"}),st.jsx("div",{className:"bg-white rounded p-2 mt-2",children:st.jsx(xp,{data:X,options:et})})]})}function g4({bebidas:n,uid:t,email:e}){const i=new Date,r=new Date(i.getTime()-24*60*60*1e3),o=n.filter(_=>{const v=new Date(_.timestamp);return _.uid===t&&v>r}),c=o.reduce((_,v)=>(_[v.tipo]=_[v.tipo]?[..._[v.tipo],v]:[v],_),{}),h=["cerveza","chupito","bacardi-limon","ron-cola","ron-naranja","calimocho"],d=async _=>{try{await ww(No(hr,"bebidas"),{uid:t,tipo:_,email:e,timestamp:new Date().toISOString()})}catch(v){console.error("Error aadiendo bebida:",v)}},m=async _=>{try{const v=vp(No(hr,"bebidas"),LE("uid","==",t),LE("tipo","==",_),Tw("timestamp","desc"),lk(1)),b=await Aw(v);if(!b.empty){const A=b.docs[0];await dk(kf(hr,"bebidas",A.id))}}catch(v){console.error("Error eliminando bebida:",v)}};return st.jsxs("div",{className:"mt-6",children:[st.jsx("h2",{className:"text-lg font-bold mb-2",children:" Editar Mis Bebidas (ltimas 24h)"}),h.map(_=>{const v=c[_]?.length||0;return st.jsxs("div",{className:"flex items-center justify-between border rounded p-2 my-1",children:[st.jsxs("span",{className:"font-semibold",children:[_,"s"]}),st.jsxs("div",{className:"flex items-center space-x-3",children:[st.jsx("button",{onClick:()=>m(_),className:"bg-red-500 text-white px-3 py-1 rounded disabled:opacity-50",disabled:v===0,"aria-label":`Eliminar una bebida de tipo ${_}`,children:"-"}),st.jsx("span",{className:"w-6 text-center",children:v}),st.jsx("button",{onClick:()=>d(_),className:"bg-green-500 text-white px-3 py-1 rounded","aria-label":`Aadir una bebida de tipo ${_}`,children:"+"})]})]},_)}),o.length===0&&st.jsx("p",{className:"text-center text-sm text-gray-600 mt-4",children:"No tienes bebidas registradas."})]})}function m4({resumenUsuarios:n}){const t=[...n].sort((i,r)=>r.total-i.total).slice(0,3),e=["","",""];return st.jsxs("div",{className:"mt-6",children:[st.jsx("h2",{className:"text-xl font-bold mb-4",children:" Top 3 Borrachos (24h)"}),st.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:t.map((i,r)=>st.jsxs("div",{className:`p-4 rounded shadow text-center ${r===0?"bg-yellow-200":r===1?"bg-gray-300":"bg-orange-300"}`,children:[st.jsx("div",{className:"text-3xl",children:e[r]}),st.jsx("div",{className:"text-lg font-semibold mt-2",children:st.jsx(R_,{email:i.email})}),st.jsxs("div",{className:"text-sm text-gray-700 mt-1",children:[i.total," bebidas"]})]},i.uid))})]})}function p4({usuarios:n,bebidas:t}){const e=new Date,i=new Date(e.getTime()-24*60*60*1e3),r=n.map(o=>{const c=t.filter(h=>h.uid===o.id&&new Date(h.timestamp)>i);return{uid:o.id,email:o.email,total:c.length}});return st.jsxs("div",{className:"text-center mt-6 text-gray-700",children:[st.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Ranking"}),r.length===0?st.jsx("p",{className:"text-lg italic",children:"Sin datos recientes "}):st.jsx(m4,{resumenUsuarios:r})]})}function _4({bebidas:n}){const[t,e]=Ht.useState([]),[i,r]=Ht.useState("");return Ht.useEffect(()=>{async function o(){const c=gw(),h=await Aw(No(c,"usuarios")),d=[];h.forEach(m=>{const _=m.data();d.push({uid:m.id,email:_.email,Nombre:_.Nombre||"Annimo"})}),e(d)}o()},[]),st.jsxs("div",{className:"mt-6",children:[st.jsx("h2",{className:"text-center text-lg font-bold mb-4",children:" Editar Bebidas (ltimas 24h)"}),st.jsxs("div",{className:"mb-4",children:[st.jsx("label",{className:"block text-sm font-medium mb-1",children:"Seleccionar usuario:"}),st.jsxs("select",{className:"border p-2 rounded w-full",onChange:o=>r(o.target.value),value:i,children:[st.jsx("option",{value:"",disabled:!0,children:"-- Selecciona un usuario --"}),t.map(({uid:o,Nombre:c,email:h})=>st.jsx("option",{value:o,children:`${c}`},o))]})]}),i&&st.jsx("div",{className:"mt-4 border-t pt-4",children:st.jsx(g4,{bebidas:n,uid:i,email:t.find(o=>o.uid===i)?.email||"Annimo"})})]})}function y4(){const[n,t]=Ht.useState(null),[e,i]=Ht.useState([]),[r,o]=Ht.useState("inicio"),[c,h]=Ht.useState([]);Ht.useEffect(()=>{const _=vp(No(hr,"usuarios")),v=jE(_,b=>{const A=b.docs.map(I=>({id:I.id,...I.data()}));h(A)});return()=>v()},[]),Ht.useEffect(()=>{const _=FC(bp,v=>{t(v)});return()=>_()},[]),Ht.useEffect(()=>{const _=vp(No(hr,"bebidas"),Tw("timestamp","desc")),v=jE(_,b=>{const A=b.docs.map(I=>({id:I.id,...I.data()}));i(A)});return()=>v()},[]);const d=async _=>{const v={tipo:_,timestamp:new Date().toISOString(),uid:n.uid,email:n.email};await ww(No(hr,"bebidas"),v)};if(!n)return st.jsx(mk,{onLogin:()=>{}});const m=e.filter(_=>_.uid===n.uid);return st.jsxs("div",{className:`max-w-md w-full mx-auto mt-6 p-4 border rounded shadow
                md:max-w-md md:p-4`,children:[st.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-4 gap-2",children:[st.jsx("h1",{className:"text-xl font-bold text-center md:text-left",children:" Contador de Bebidas"}),st.jsx("button",{onClick:()=>HC(bp),className:"text-sm text-red-600 underline md:self-center",children:"Cerrar sesin"})]}),st.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:[st.jsx("button",{onClick:()=>o("inicio"),className:`px-3 py-1 rounded min-w-[80px] text-center ${r==="inicio"?"bg-blue-500 text-white":"bg-gray-200"}`,children:"Inicio"}),st.jsx("button",{onClick:()=>o("global"),className:`px-3 py-1 rounded min-w-[80px] text-center ${r==="global"?"bg-blue-500 text-white":"bg-gray-200"}`,children:"Global"}),st.jsx("button",{onClick:()=>o("editar"),className:`px-3 py-1 rounded min-w-[80px] text-center ${r==="editar"?"bg-blue-500 text-white":"bg-gray-200"}`,children:"Editar Bebidas"}),st.jsx("button",{onClick:()=>o("ranking"),className:`px-3 py-1 rounded min-w-[80px] text-center ${r==="ranking"?"bg-blue-500 text-white":"bg-gray-200"}`,children:"Ranking"})]}),r==="inicio"&&st.jsxs(st.Fragment,{children:[st.jsxs("p",{className:"text-sm text-gray-600 mb-2 text-center",children:["Bienvenido: ",st.jsx(R_,{email:n.email})]}),st.jsx(wk,{onAdd:d,uid:n.uid}),st.jsx(d4,{bebidas:m})]}),r==="global"&&st.jsx(f4,{bebidas:e,usuarios:c}),r==="editar"&&st.jsx(_4,{bebidas:e}),r==="ranking"&&st.jsx(p4,{usuarios:c,bebidas:e})]})}sR.createRoot(document.getElementById("root")).render(st.jsx(Ht.StrictMode,{children:st.jsx(y4,{})}));

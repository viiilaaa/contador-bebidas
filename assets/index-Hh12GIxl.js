(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function iR(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Em={exports:{}},dc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rb;function sR(){if(rb)return dc;rb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:c,ref:r!==void 0?r:null,props:o}}return dc.Fragment=t,dc.jsx=e,dc.jsxs=e,dc}var ab;function rR(){return ab||(ab=1,Em.exports=sR()),Em.exports}var st=rR(),Tm={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ob;function aR(){if(ob)return Rt;ob=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.iterator;function b(V){return V===null||typeof V!="object"?null:(V=v&&V[v]||V["@@iterator"],typeof V=="function"?V:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,k={};function C(V,nt,ct){this.props=V,this.context=nt,this.refs=k,this.updater=ct||S}C.prototype.isReactComponent={},C.prototype.setState=function(V,nt){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,nt,"setState")},C.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function H(){}H.prototype=C.prototype;function Q(V,nt,ct){this.props=V,this.context=nt,this.refs=k,this.updater=ct||S}var J=Q.prototype=new H;J.constructor=Q,R(J,C.prototype),J.isPureReactComponent=!0;var it=Array.isArray,W={H:null,A:null,T:null,S:null,V:null},ot=Object.prototype.hasOwnProperty;function O(V,nt,ct,rt,dt,At){return ct=At.ref,{$$typeof:n,type:V,key:nt,ref:ct!==void 0?ct:null,props:At}}function x(V,nt){return O(V.type,nt,void 0,void 0,void 0,V.props)}function I(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function N(V){var nt={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ct){return nt[ct]})}var P=/\/+/g;function L(V,nt){return typeof V=="object"&&V!==null&&V.key!=null?N(""+V.key):nt.toString(36)}function D(){}function $t(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(D,D):(V.status="pending",V.then(function(nt){V.status==="pending"&&(V.status="fulfilled",V.value=nt)},function(nt){V.status==="pending"&&(V.status="rejected",V.reason=nt)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function wt(V,nt,ct,rt,dt){var At=typeof V;(At==="undefined"||At==="boolean")&&(V=null);var _t=!1;if(V===null)_t=!0;else switch(At){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(V.$$typeof){case n:case t:_t=!0;break;case _:return _t=V._init,wt(_t(V._payload),nt,ct,rt,dt)}}if(_t)return dt=dt(V),_t=rt===""?"."+L(V,0):rt,it(dt)?(ct="",_t!=null&&(ct=_t.replace(P,"$&/")+"/"),wt(dt,nt,ct,"",function(ci){return ci})):dt!=null&&(I(dt)&&(dt=x(dt,ct+(dt.key==null||V&&V.key===dt.key?"":(""+dt.key).replace(P,"$&/")+"/")+_t)),nt.push(dt)),1;_t=0;var Ve=rt===""?".":rt+":";if(it(V))for(var se=0;se<V.length;se++)rt=V[se],At=Ve+L(rt,se),_t+=wt(rt,nt,ct,At,dt);else if(se=b(V),typeof se=="function")for(V=se.call(V),se=0;!(rt=V.next()).done;)rt=rt.value,At=Ve+L(rt,se++),_t+=wt(rt,nt,ct,At,dt);else if(At==="object"){if(typeof V.then=="function")return wt($t(V),nt,ct,rt,dt);throw nt=String(V),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return _t}function Y(V,nt,ct){if(V==null)return V;var rt=[],dt=0;return wt(V,rt,"","",function(At){return nt.call(ct,At,dt++)}),rt}function at(V){if(V._status===-1){var nt=V._result;nt=nt(),nt.then(function(ct){(V._status===0||V._status===-1)&&(V._status=1,V._result=ct)},function(ct){(V._status===0||V._status===-1)&&(V._status=2,V._result=ct)}),V._status===-1&&(V._status=0,V._result=nt)}if(V._status===1)return V._result.default;throw V._result}var gt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Nt(){}return Rt.Children={map:Y,forEach:function(V,nt,ct){Y(V,function(){nt.apply(this,arguments)},ct)},count:function(V){var nt=0;return Y(V,function(){nt++}),nt},toArray:function(V){return Y(V,function(nt){return nt})||[]},only:function(V){if(!I(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Rt.Component=C,Rt.Fragment=e,Rt.Profiler=r,Rt.PureComponent=Q,Rt.StrictMode=i,Rt.Suspense=d,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return W.H.useMemoCache(V)}},Rt.cache=function(V){return function(){return V.apply(null,arguments)}},Rt.cloneElement=function(V,nt,ct){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var rt=R({},V.props),dt=V.key,At=void 0;if(nt!=null)for(_t in nt.ref!==void 0&&(At=void 0),nt.key!==void 0&&(dt=""+nt.key),nt)!ot.call(nt,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&nt.ref===void 0||(rt[_t]=nt[_t]);var _t=arguments.length-2;if(_t===1)rt.children=ct;else if(1<_t){for(var Ve=Array(_t),se=0;se<_t;se++)Ve[se]=arguments[se+2];rt.children=Ve}return O(V.type,dt,void 0,void 0,At,rt)},Rt.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:o,_context:V},V},Rt.createElement=function(V,nt,ct){var rt,dt={},At=null;if(nt!=null)for(rt in nt.key!==void 0&&(At=""+nt.key),nt)ot.call(nt,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(dt[rt]=nt[rt]);var _t=arguments.length-2;if(_t===1)dt.children=ct;else if(1<_t){for(var Ve=Array(_t),se=0;se<_t;se++)Ve[se]=arguments[se+2];dt.children=Ve}if(V&&V.defaultProps)for(rt in _t=V.defaultProps,_t)dt[rt]===void 0&&(dt[rt]=_t[rt]);return O(V,At,void 0,void 0,null,dt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(V){return{$$typeof:h,render:V}},Rt.isValidElement=I,Rt.lazy=function(V){return{$$typeof:_,_payload:{_status:-1,_result:V},_init:at}},Rt.memo=function(V,nt){return{$$typeof:m,type:V,compare:nt===void 0?null:nt}},Rt.startTransition=function(V){var nt=W.T,ct={};W.T=ct;try{var rt=V(),dt=W.S;dt!==null&&dt(ct,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Nt,gt)}catch(At){gt(At)}finally{W.T=nt}},Rt.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},Rt.use=function(V){return W.H.use(V)},Rt.useActionState=function(V,nt,ct){return W.H.useActionState(V,nt,ct)},Rt.useCallback=function(V,nt){return W.H.useCallback(V,nt)},Rt.useContext=function(V){return W.H.useContext(V)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(V,nt){return W.H.useDeferredValue(V,nt)},Rt.useEffect=function(V,nt,ct){var rt=W.H;if(typeof ct=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return rt.useEffect(V,nt)},Rt.useId=function(){return W.H.useId()},Rt.useImperativeHandle=function(V,nt,ct){return W.H.useImperativeHandle(V,nt,ct)},Rt.useInsertionEffect=function(V,nt){return W.H.useInsertionEffect(V,nt)},Rt.useLayoutEffect=function(V,nt){return W.H.useLayoutEffect(V,nt)},Rt.useMemo=function(V,nt){return W.H.useMemo(V,nt)},Rt.useOptimistic=function(V,nt){return W.H.useOptimistic(V,nt)},Rt.useReducer=function(V,nt,ct){return W.H.useReducer(V,nt,ct)},Rt.useRef=function(V){return W.H.useRef(V)},Rt.useState=function(V){return W.H.useState(V)},Rt.useSyncExternalStore=function(V,nt,ct){return W.H.useSyncExternalStore(V,nt,ct)},Rt.useTransition=function(){return W.H.useTransition()},Rt.version="19.1.0",Rt}var lb;function kp(){return lb||(lb=1,Tm.exports=aR()),Tm.exports}var It=kp();const Dn=iR(It);var Sm={exports:{}},gc={},wm={exports:{}},Am={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cb;function oR(){return cb||(cb=1,function(n){function t(Y,at){var gt=Y.length;Y.push(at);t:for(;0<gt;){var Nt=gt-1>>>1,V=Y[Nt];if(0<r(V,at))Y[Nt]=at,Y[gt]=V,gt=Nt;else break t}}function e(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var at=Y[0],gt=Y.pop();if(gt!==at){Y[0]=gt;t:for(var Nt=0,V=Y.length,nt=V>>>1;Nt<nt;){var ct=2*(Nt+1)-1,rt=Y[ct],dt=ct+1,At=Y[dt];if(0>r(rt,gt))dt<V&&0>r(At,rt)?(Y[Nt]=At,Y[dt]=gt,Nt=dt):(Y[Nt]=rt,Y[ct]=gt,Nt=ct);else if(dt<V&&0>r(At,gt))Y[Nt]=At,Y[dt]=gt,Nt=dt;else break t}}return at}function r(Y,at){var gt=Y.sortIndex-at.sortIndex;return gt!==0?gt:Y.id-at.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var d=[],m=[],_=1,v=null,b=3,S=!1,R=!1,k=!1,C=!1,H=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function it(Y){for(var at=e(m);at!==null;){if(at.callback===null)i(m);else if(at.startTime<=Y)i(m),at.sortIndex=at.expirationTime,t(d,at);else break;at=e(m)}}function W(Y){if(k=!1,it(Y),!R)if(e(d)!==null)R=!0,ot||(ot=!0,L());else{var at=e(m);at!==null&&wt(W,at.startTime-Y)}}var ot=!1,O=-1,x=5,I=-1;function N(){return C?!0:!(n.unstable_now()-I<x)}function P(){if(C=!1,ot){var Y=n.unstable_now();I=Y;var at=!0;try{t:{R=!1,k&&(k=!1,Q(O),O=-1),S=!0;var gt=b;try{e:{for(it(Y),v=e(d);v!==null&&!(v.expirationTime>Y&&N());){var Nt=v.callback;if(typeof Nt=="function"){v.callback=null,b=v.priorityLevel;var V=Nt(v.expirationTime<=Y);if(Y=n.unstable_now(),typeof V=="function"){v.callback=V,it(Y),at=!0;break e}v===e(d)&&i(d),it(Y)}else i(d);v=e(d)}if(v!==null)at=!0;else{var nt=e(m);nt!==null&&wt(W,nt.startTime-Y),at=!1}}break t}finally{v=null,b=gt,S=!1}at=void 0}}finally{at?L():ot=!1}}}var L;if(typeof J=="function")L=function(){J(P)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,$t=D.port2;D.port1.onmessage=P,L=function(){$t.postMessage(null)}}else L=function(){H(P,0)};function wt(Y,at){O=H(function(){Y(n.unstable_now())},at)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(Y){switch(b){case 1:case 2:case 3:var at=3;break;default:at=b}var gt=b;b=at;try{return Y()}finally{b=gt}},n.unstable_requestPaint=function(){C=!0},n.unstable_runWithPriority=function(Y,at){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var gt=b;b=Y;try{return at()}finally{b=gt}},n.unstable_scheduleCallback=function(Y,at,gt){var Nt=n.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?Nt+gt:Nt):gt=Nt,Y){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=gt+V,Y={id:_++,callback:at,priorityLevel:Y,startTime:gt,expirationTime:V,sortIndex:-1},gt>Nt?(Y.sortIndex=gt,t(m,Y),e(d)===null&&Y===e(m)&&(k?(Q(O),O=-1):k=!0,wt(W,gt-Nt))):(Y.sortIndex=V,t(d,Y),R||S||(R=!0,ot||(ot=!0,L()))),Y},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(Y){var at=b;return function(){var gt=b;b=at;try{return Y.apply(this,arguments)}finally{b=gt}}}}(Am)),Am}var ub;function lR(){return ub||(ub=1,wm.exports=oR()),wm.exports}var xm={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hb;function cR(){if(hb)return tn;hb=1;var n=kp();function t(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(d,m,_){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:d,containerInfo:m,implementation:_}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,tn.createPortal=function(d,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(d,m,null,_)},tn.flushSync=function(d){var m=c.T,_=i.p;try{if(c.T=null,i.p=2,d)return d()}finally{c.T=m,i.p=_,i.d.f()}},tn.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(d,m))},tn.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},tn.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var _=m.as,v=h(_,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?i.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:S}):_==="script"&&i.d.X(d,{crossOrigin:v,integrity:b,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},tn.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=h(m.as,m.crossOrigin);i.d.M(d,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(d)},tn.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,v=h(_,m.crossOrigin);i.d.L(d,_,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},tn.preloadModule=function(d,m){if(typeof d=="string")if(m){var _=h(m.as,m.crossOrigin);i.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(d)},tn.requestFormReset=function(d){i.d.r(d)},tn.unstable_batchedUpdates=function(d,m){return d(m)},tn.useFormState=function(d,m,_){return c.H.useFormState(d,m,_)},tn.useFormStatus=function(){return c.H.useHostTransitionStatus()},tn.version="19.1.0",tn}var fb;function uR(){if(fb)return xm.exports;fb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),xm.exports=cR(),xm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var db;function hR(){if(db)return gc;db=1;var n=lR(),t=kp(),e=uR();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function c(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(i(188))}function d(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var l=s,u=a;;){var g=l.return;if(g===null)break;var p=g.alternate;if(p===null){if(u=g.return,u!==null){l=u;continue}break}if(g.child===p.child){for(p=g.child;p;){if(p===l)return h(g),s;if(p===u)return h(g),a;p=p.sibling}throw Error(i(188))}if(l.return!==u.return)l=g,u=p;else{for(var T=!1,w=g.child;w;){if(w===l){T=!0,l=g,u=p;break}if(w===u){T=!0,u=g,l=p;break}w=w.sibling}if(!T){for(w=p.child;w;){if(w===l){T=!0,l=p,u=g;break}if(w===u){T=!0,u=p,l=g;break}w=w.sibling}if(!T)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:a}function m(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=m(s),a!==null)return a;s=s.sibling}return null}var _=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),Q=Symbol.for("react.consumer"),J=Symbol.for("react.context"),it=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function L(s){return s===null||typeof s!="object"?null:(s=P&&s[P]||s["@@iterator"],typeof s=="function"?s:null)}var D=Symbol.for("react.client.reference");function $t(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===D?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case R:return"Fragment";case C:return"Profiler";case k:return"StrictMode";case W:return"Suspense";case ot:return"SuspenseList";case I:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case S:return"Portal";case J:return(s.displayName||"Context")+".Provider";case Q:return(s._context.displayName||"Context")+".Consumer";case it:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case O:return a=s.displayName||null,a!==null?a:$t(s.type)||"Memo";case x:a=s._payload,s=s._init;try{return $t(s(a))}catch{}}return null}var wt=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},Nt=[],V=-1;function nt(s){return{current:s}}function ct(s){0>V||(s.current=Nt[V],Nt[V]=null,V--)}function rt(s,a){V++,Nt[V]=s.current,s.current=a}var dt=nt(null),At=nt(null),_t=nt(null),Ve=nt(null);function se(s,a){switch(rt(_t,a),rt(At,s),rt(dt,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?k0(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=k0(a),s=N0(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ct(dt),rt(dt,s)}function ci(){ct(dt),ct(At),ct(_t)}function Ts(s){s.memoizedState!==null&&rt(Ve,s);var a=dt.current,l=N0(a,s.type);a!==l&&(rt(At,s),rt(dt,l))}function Li(s){At.current===s&&(ct(dt),ct(At)),Ve.current===s&&(ct(Ve),lc._currentValue=gt)}var Cr=Object.prototype.hasOwnProperty,Or=n.unstable_scheduleCallback,Dr=n.unstable_cancelCallback,rl=n.unstable_shouldYield,du=n.unstable_requestPaint,Mn=n.unstable_now,Ed=n.unstable_getCurrentPriorityLevel,al=n.unstable_ImmediatePriority,Ma=n.unstable_UserBlockingPriority,Mr=n.unstable_NormalPriority,Td=n.unstable_LowPriority,ka=n.unstable_IdlePriority,ol=n.log,gu=n.unstable_setDisableYieldValue,de=null,Kt=null;function vn(s){if(typeof ol=="function"&&gu(s),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(de,s)}catch{}}var Ze=Math.clz32?Math.clz32:kr,mu=Math.log,Sd=Math.LN2;function kr(s){return s>>>=0,s===0?32:31-(mu(s)/Sd|0)|0}var Nr=256,Pr=4194304;function Xn(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Na(s,a,l){var u=s.pendingLanes;if(u===0)return 0;var g=0,p=s.suspendedLanes,T=s.pingedLanes;s=s.warmLanes;var w=u&134217727;return w!==0?(u=w&~p,u!==0?g=Xn(u):(T&=w,T!==0?g=Xn(T):l||(l=w&~s,l!==0&&(g=Xn(l))))):(w=u&~p,w!==0?g=Xn(w):T!==0?g=Xn(T):l||(l=u&~s,l!==0&&(g=Xn(l)))),g===0?0:a!==0&&a!==g&&(a&p)===0&&(p=g&-g,l=a&-a,p>=l||p===32&&(l&4194048)!==0)?a:g}function Vr(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function ll(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cl(){var s=Nr;return Nr<<=1,(Nr&4194048)===0&&(Nr=256),s}function ul(){var s=Pr;return Pr<<=1,(Pr&62914560)===0&&(Pr=4194304),s}function Ui(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function zi(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function hl(s,a,l,u,g,p){var T=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var w=s.entanglements,M=s.expirationTimes,F=s.hiddenUpdates;for(l=T&~l;0<l;){var X=31-Ze(l),tt=1<<X;w[X]=0,M[X]=-1;var q=F[X];if(q!==null)for(F[X]=null,X=0;X<q.length;X++){var G=q[X];G!==null&&(G.lane&=-536870913)}l&=~tt}u!==0&&ui(s,u,0),p!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=p&~(T&~a))}function ui(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var u=31-Ze(a);s.entangledLanes|=a,s.entanglements[u]=s.entanglements[u]|1073741824|l&4194090}function fl(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var u=31-Ze(l),g=1<<u;g&a|s[u]&a&&(s[u]|=a),l&=~g}}function Ss(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Pa(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function ws(){var s=at.p;return s!==0?s:(s=window.event,s===void 0?32:J0(s.type))}function pu(s,a){var l=at.p;try{return at.p=s,a()}finally{at.p=l}}var ce=Math.random().toString(36).slice(2),Ce="__reactFiber$"+ce,Te="__reactProps$"+ce,kn="__reactContainer$"+ce,dl="__reactEvents$"+ce,wd="__reactListeners$"+ce,As="__reactHandles$"+ce,_u="__reactResources$"+ce,Lr="__reactMarker$"+ce;function xs(s){delete s[Ce],delete s[Te],delete s[dl],delete s[wd],delete s[As]}function Bi(s){var a=s[Ce];if(a)return a;for(var l=s.parentNode;l;){if(a=l[kn]||l[Ce]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=U0(s);s!==null;){if(l=s[Ce])return l;s=U0(s)}return a}s=l,l=s.parentNode}return null}function hi(s){if(s=s[Ce]||s[kn]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function fi(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function an(s){var a=s[_u];return a||(a=s[_u]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function pe(s){s[Lr]=!0}var gl=new Set,Va={};function Wn(s,a){ji(s,a),ji(s+"Capture",a)}function ji(s,a){for(Va[s]=a,s=0;s<a.length;s++)gl.add(a[s])}var yu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vu={},Ur={};function bu(s){return Cr.call(Ur,s)?!0:Cr.call(vu,s)?!1:yu.test(s)?Ur[s]=!0:(vu[s]=!0,!1)}function Rs(s,a,l){if(bu(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function di(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function qe(s,a,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+u)}}var zr,Eu;function Fi(s){if(zr===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);zr=a&&a[1]||"",Eu=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zr+s+Eu}var La=!1;function Ua(s,a){if(!s||La)return"";La=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(G){var q=G}Reflect.construct(s,[],tt)}else{try{tt.call()}catch(G){q=G}s.call(tt.prototype)}}else{try{throw Error()}catch(G){q=G}(tt=s())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),T=p[0],w=p[1];if(T&&w){var M=T.split(`
`),F=w.split(`
`);for(g=u=0;u<M.length&&!M[u].includes("DetermineComponentFrameRoot");)u++;for(;g<F.length&&!F[g].includes("DetermineComponentFrameRoot");)g++;if(u===M.length||g===F.length)for(u=M.length-1,g=F.length-1;1<=u&&0<=g&&M[u]!==F[g];)g--;for(;1<=u&&0<=g;u--,g--)if(M[u]!==F[g]){if(u!==1||g!==1)do if(u--,g--,0>g||M[u]!==F[g]){var X=`
`+M[u].replace(" at new "," at ");return s.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",s.displayName)),X}while(1<=u&&0<=g);break}}}finally{La=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?Fi(l):""}function ml(s){switch(s.tag){case 26:case 27:case 5:return Fi(s.type);case 16:return Fi("Lazy");case 13:return Fi("Suspense");case 19:return Fi("SuspenseList");case 0:case 15:return Ua(s.type,!1);case 11:return Ua(s.type.render,!1);case 1:return Ua(s.type,!0);case 31:return Fi("Activity");default:return""}}function za(s){try{var a="";do a+=ml(s),s=s.return;while(s);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function on(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function pl(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ad(s){var a=pl(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),u=""+s[a];if(!s.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,p=l.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(T){u=""+T,p.call(this,T)}}),Object.defineProperty(s,a,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Ba(s){s._valueTracker||(s._valueTracker=Ad(s))}function _l(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return s&&(u=pl(s)?s.checked?"true":"false":s.value),s=u,s!==l?(a.setValue(s),!0):!1}function Br(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var xd=/[\n"\\]/g;function Se(s){return s.replace(xd,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function bn(s,a,l,u,g,p,T,w){s.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?s.type=T:s.removeAttribute("type"),a!=null?T==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+on(a)):s.value!==""+on(a)&&(s.value=""+on(a)):T!=="submit"&&T!=="reset"||s.removeAttribute("value"),a!=null?Is(s,T,on(a)):l!=null?Is(s,T,on(l)):u!=null&&s.removeAttribute("value"),g==null&&p!=null&&(s.defaultChecked=!!p),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?s.name=""+on(w):s.removeAttribute("name")}function jr(s,a,l,u,g,p,T,w){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(s.type=p),a!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||a!=null))return;l=l!=null?""+on(l):"",a=a!=null?""+on(a):l,w||a===s.value||(s.value=a),s.defaultValue=a}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=w?s.checked:!!u,s.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(s.name=T)}function Is(s,a,l){a==="number"&&Br(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Hi(s,a,l,u){if(s=s.options,a){a={};for(var g=0;g<l.length;g++)a["$"+l[g]]=!0;for(l=0;l<s.length;l++)g=a.hasOwnProperty("$"+s[l].value),s[l].selected!==g&&(s[l].selected=g),g&&u&&(s[l].defaultSelected=!0)}else{for(l=""+on(l),a=null,g=0;g<s.length;g++){if(s[g].value===l){s[g].selected=!0,u&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function Zt(s,a,l){if(a!=null&&(a=""+on(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+on(l):""}function Fr(s,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(i(92));if(wt(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=on(a),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u)}function Nn(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var Hr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tu(s,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":u?s.setProperty(a,l):typeof l!="number"||l===0||Hr.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function yl(s,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var g in a)u=a[g],a.hasOwnProperty(g)&&l[g]!==u&&Tu(s,g,u)}else for(var p in a)a.hasOwnProperty(p)&&Tu(s,p,a[p])}function vl(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Id=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ja(s){return Id.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var qi=null;function Pn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Gi=null,Yi=null;function bl(s){var a=hi(s);if(a&&(s=a.stateNode)){var l=s[Te]||null;t:switch(s=a.stateNode,a.type){case"input":if(bn(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Se(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==s&&u.form===s.form){var g=u[Te]||null;if(!g)throw Error(i(90));bn(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===s.form&&_l(u)}break t;case"textarea":Zt(s,l.value,l.defaultValue);break t;case"select":a=l.value,a!=null&&Hi(s,!!l.multiple,a,!1)}}}var gi=!1;function Su(s,a,l){if(gi)return s(a,l);gi=!0;try{var u=s(a);return u}finally{if(gi=!1,(Gi!==null||Yi!==null)&&(ph(),Gi&&(a=Gi,s=Yi,Yi=Gi=null,bl(a),s)))for(a=0;a<s.length;a++)bl(s[a])}}function qr(s,a){var l=s.stateNode;if(l===null)return null;var u=l[Te]||null;if(u===null)return null;l=u[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vn=!1;if($n)try{var Gr={};Object.defineProperty(Gr,"passive",{get:function(){Vn=!0}}),window.addEventListener("test",Gr,Gr),window.removeEventListener("test",Gr,Gr)}catch{Vn=!1}var mi=null,Cs=null,Ki=null;function El(){if(Ki)return Ki;var s,a=Cs,l=a.length,u,g="value"in mi?mi.value:mi.textContent,p=g.length;for(s=0;s<l&&a[s]===g[s];s++);var T=l-s;for(u=1;u<=T&&a[l-u]===g[p-u];u++);return Ki=g.slice(s,1<u?1-u:void 0)}function pi(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function _i(){return!0}function Tl(){return!1}function Le(s){function a(l,u,g,p,T){this._reactName=l,this._targetInst=g,this.type=u,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var w in s)s.hasOwnProperty(w)&&(l=s[w],this[w]=l?l(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?_i:Tl,this.isPropagationStopped=Tl,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=_i)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=_i)},persist:function(){},isPersistent:_i}),a}var Gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fa=Le(Gt),Yr=_({},Gt,{view:0,detail:0}),wu=Le(Yr),Ha,qa,yi,Kr=_({},Yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==yi&&(yi&&s.type==="mousemove"?(Ha=s.screenX-yi.screenX,qa=s.screenY-yi.screenY):qa=Ha=0,yi=s),Ha)},movementY:function(s){return"movementY"in s?s.movementY:qa}}),Ln=Le(Kr),Au=_({},Kr,{dataTransfer:0}),Cd=Le(Au),Qr=_({},Yr,{relatedTarget:0}),Ga=Le(Qr),Sl=_({},Gt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ya=Le(Sl),xu=_({},Gt,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ka=Le(xu),Od=_({},Gt,{data:0}),wl=Le(Od),Xr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ru={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Al(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Iu[s])?!!a[s]:!1}function Wr(){return Al}var Cu=_({},Yr,{key:function(s){if(s.key){var a=Xr[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=pi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Ru[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wr,charCode:function(s){return s.type==="keypress"?pi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?pi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Qa=Le(Cu),Ou=_({},Kr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xl=Le(Ou),Qi=_({},Yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wr}),Du=Le(Qi),Mu=_({},Gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),ku=Le(Mu),Nu=_({},Kr,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Xa=Le(Nu),ln=_({},Gt,{newState:0,oldState:0}),Pu=Le(ln),Vu=[9,13,27,32],vi=$n&&"CompositionEvent"in window,f=null;$n&&"documentMode"in document&&(f=document.documentMode);var y=$n&&"TextEvent"in window&&!f,E=$n&&(!vi||f&&8<f&&11>=f),A=" ",B=!1;function K(s,a){switch(s){case"keyup":return Vu.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lt(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Lt=!1;function Oe(s,a){switch(s){case"compositionend":return lt(a);case"keypress":return a.which!==32?null:(B=!0,A);case"textInput":return s=a.data,s===A&&B?null:s;default:return null}}function Ut(s,a){if(Lt)return s==="compositionend"||!vi&&K(s,a)?(s=El(),Ki=Cs=mi=null,Lt=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return E&&a.locale!=="ko"?null:a.data;default:return null}}var Ue={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function De(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!Ue[s.type]:a==="textarea"}function Xi(s,a,l,u){Gi?Yi?Yi.push(u):Yi=[u]:Gi=u,a=Th(a,"onChange"),0<a.length&&(l=new Fa("onChange","change",null,l,u),s.push({event:l,listeners:a}))}var Ge=null,bi=null;function Rl(s){I0(s,0)}function Lu(s){var a=fi(s);if(_l(a))return s}function X_(s,a){if(s==="change")return a}var W_=!1;if($n){var Dd;if($n){var Md="oninput"in document;if(!Md){var $_=document.createElement("div");$_.setAttribute("oninput","return;"),Md=typeof $_.oninput=="function"}Dd=Md}else Dd=!1;W_=Dd&&(!document.documentMode||9<document.documentMode)}function Z_(){Ge&&(Ge.detachEvent("onpropertychange",J_),bi=Ge=null)}function J_(s){if(s.propertyName==="value"&&Lu(bi)){var a=[];Xi(a,bi,s,Pn(s)),Su(Rl,a)}}function kA(s,a,l){s==="focusin"?(Z_(),Ge=a,bi=l,Ge.attachEvent("onpropertychange",J_)):s==="focusout"&&Z_()}function NA(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Lu(bi)}function PA(s,a){if(s==="click")return Lu(a)}function VA(s,a){if(s==="input"||s==="change")return Lu(a)}function LA(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var En=typeof Object.is=="function"?Object.is:LA;function Il(s,a){if(En(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var g=l[u];if(!Cr.call(a,g)||!En(s[g],a[g]))return!1}return!0}function ty(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function ey(s,a){var l=ty(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=a&&u>=a)return{node:l,offset:a-s};s=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=ty(l)}}function ny(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?ny(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function iy(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=Br(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=Br(s.document)}return a}function kd(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var UA=$n&&"documentMode"in document&&11>=document.documentMode,Wa=null,Nd=null,Cl=null,Pd=!1;function sy(s,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Pd||Wa==null||Wa!==Br(u)||(u=Wa,"selectionStart"in u&&kd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Cl&&Il(Cl,u)||(Cl=u,u=Th(Nd,"onSelect"),0<u.length&&(a=new Fa("onSelect","select",null,a,l),s.push({event:a,listeners:u}),a.target=Wa)))}function $r(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var $a={animationend:$r("Animation","AnimationEnd"),animationiteration:$r("Animation","AnimationIteration"),animationstart:$r("Animation","AnimationStart"),transitionrun:$r("Transition","TransitionRun"),transitionstart:$r("Transition","TransitionStart"),transitioncancel:$r("Transition","TransitionCancel"),transitionend:$r("Transition","TransitionEnd")},Vd={},ry={};$n&&(ry=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function Zr(s){if(Vd[s])return Vd[s];if(!$a[s])return s;var a=$a[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in ry)return Vd[s]=a[l];return s}var ay=Zr("animationend"),oy=Zr("animationiteration"),ly=Zr("animationstart"),zA=Zr("transitionrun"),BA=Zr("transitionstart"),jA=Zr("transitioncancel"),cy=Zr("transitionend"),uy=new Map,Ld="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ld.push("scrollEnd");function Zn(s,a){uy.set(s,a),Wn(a,[s])}var hy=new WeakMap;function Un(s,a){if(typeof s=="object"&&s!==null){var l=hy.get(s);return l!==void 0?l:(a={value:s,source:a,stack:za(a)},hy.set(s,a),a)}return{value:s,source:a,stack:za(a)}}var zn=[],Za=0,Ud=0;function Uu(){for(var s=Za,a=Ud=Za=0;a<s;){var l=zn[a];zn[a++]=null;var u=zn[a];zn[a++]=null;var g=zn[a];zn[a++]=null;var p=zn[a];if(zn[a++]=null,u!==null&&g!==null){var T=u.pending;T===null?g.next=g:(g.next=T.next,T.next=g),u.pending=g}p!==0&&fy(l,g,p)}}function zu(s,a,l,u){zn[Za++]=s,zn[Za++]=a,zn[Za++]=l,zn[Za++]=u,Ud|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function zd(s,a,l,u){return zu(s,a,l,u),Bu(s)}function Ja(s,a){return zu(s,null,null,a),Bu(s)}function fy(s,a,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var g=!1,p=s.return;p!==null;)p.childLanes|=l,u=p.alternate,u!==null&&(u.childLanes|=l),p.tag===22&&(s=p.stateNode,s===null||s._visibility&1||(g=!0)),s=p,p=p.return;return s.tag===3?(p=s.stateNode,g&&a!==null&&(g=31-Ze(l),s=p.hiddenUpdates,u=s[g],u===null?s[g]=[a]:u.push(a),a.lane=l|536870912),p):null}function Bu(s){if(50<tc)throw tc=0,Gg=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var to={};function FA(s,a,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(s,a,l,u){return new FA(s,a,l,u)}function Bd(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Wi(s,a){var l=s.alternate;return l===null?(l=Tn(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function dy(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function ju(s,a,l,u,g,p){var T=0;if(u=s,typeof s=="function")Bd(s)&&(T=1);else if(typeof s=="string")T=qx(s,l,dt.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case I:return s=Tn(31,l,a,g),s.elementType=I,s.lanes=p,s;case R:return Jr(l.children,g,p,a);case k:T=8,g|=24;break;case C:return s=Tn(12,l,a,g|2),s.elementType=C,s.lanes=p,s;case W:return s=Tn(13,l,a,g),s.elementType=W,s.lanes=p,s;case ot:return s=Tn(19,l,a,g),s.elementType=ot,s.lanes=p,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case H:case J:T=10;break t;case Q:T=9;break t;case it:T=11;break t;case O:T=14;break t;case x:T=16,u=null;break t}T=29,l=Error(i(130,s===null?"null":typeof s,"")),u=null}return a=Tn(T,l,a,g),a.elementType=s,a.type=u,a.lanes=p,a}function Jr(s,a,l,u){return s=Tn(7,s,u,a),s.lanes=l,s}function jd(s,a,l){return s=Tn(6,s,null,a),s.lanes=l,s}function Fd(s,a,l){return a=Tn(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var eo=[],no=0,Fu=null,Hu=0,Bn=[],jn=0,ta=null,$i=1,Zi="";function ea(s,a){eo[no++]=Hu,eo[no++]=Fu,Fu=s,Hu=a}function gy(s,a,l){Bn[jn++]=$i,Bn[jn++]=Zi,Bn[jn++]=ta,ta=s;var u=$i;s=Zi;var g=32-Ze(u)-1;u&=~(1<<g),l+=1;var p=32-Ze(a)+g;if(30<p){var T=g-g%5;p=(u&(1<<T)-1).toString(32),u>>=T,g-=T,$i=1<<32-Ze(a)+g|l<<g|u,Zi=p+s}else $i=1<<p|l<<g|u,Zi=s}function Hd(s){s.return!==null&&(ea(s,1),gy(s,1,0))}function qd(s){for(;s===Fu;)Fu=eo[--no],eo[no]=null,Hu=eo[--no],eo[no]=null;for(;s===ta;)ta=Bn[--jn],Bn[jn]=null,Zi=Bn[--jn],Bn[jn]=null,$i=Bn[--jn],Bn[jn]=null}var cn=null,ge=null,Ht=!1,na=null,Ei=!1,Gd=Error(i(519));function ia(s){var a=Error(i(418,""));throw Ml(Un(a,s)),Gd}function my(s){var a=s.stateNode,l=s.type,u=s.memoizedProps;switch(a[Ce]=s,a[Te]=u,l){case"dialog":kt("cancel",a),kt("close",a);break;case"iframe":case"object":case"embed":kt("load",a);break;case"video":case"audio":for(l=0;l<nc.length;l++)kt(nc[l],a);break;case"source":kt("error",a);break;case"img":case"image":case"link":kt("error",a),kt("load",a);break;case"details":kt("toggle",a);break;case"input":kt("invalid",a),jr(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ba(a);break;case"select":kt("invalid",a);break;case"textarea":kt("invalid",a),Fr(a,u.value,u.defaultValue,u.children),Ba(a)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||M0(a.textContent,l)?(u.popover!=null&&(kt("beforetoggle",a),kt("toggle",a)),u.onScroll!=null&&kt("scroll",a),u.onScrollEnd!=null&&kt("scrollend",a),u.onClick!=null&&(a.onclick=Sh),a=!0):a=!1,a||ia(s)}function py(s){for(cn=s.return;cn;)switch(cn.tag){case 5:case 13:Ei=!1;return;case 27:case 3:Ei=!0;return;default:cn=cn.return}}function Ol(s){if(s!==cn)return!1;if(!Ht)return py(s),Ht=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||om(s.type,s.memoizedProps)),l=!l),l&&ge&&ia(s),py(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));t:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(a===0){ge=ti(s.nextSibling);break t}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;s=s.nextSibling}ge=null}}else a===27?(a=ge,Gs(s.type)?(s=hm,hm=null,ge=s):ge=a):ge=cn?ti(s.stateNode.nextSibling):null;return!0}function Dl(){ge=cn=null,Ht=!1}function _y(){var s=na;return s!==null&&(fn===null?fn=s:fn.push.apply(fn,s),na=null),s}function Ml(s){na===null?na=[s]:na.push(s)}var Yd=nt(null),sa=null,Ji=null;function Os(s,a,l){rt(Yd,a._currentValue),a._currentValue=l}function ts(s){s._currentValue=Yd.current,ct(Yd)}function Kd(s,a,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),s===l)break;s=s.return}}function Qd(s,a,l,u){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var p=g.dependencies;if(p!==null){var T=g.child;p=p.firstContext;t:for(;p!==null;){var w=p;p=g;for(var M=0;M<a.length;M++)if(w.context===a[M]){p.lanes|=l,w=p.alternate,w!==null&&(w.lanes|=l),Kd(p.return,l,s),u||(T=null);break t}p=w.next}}else if(g.tag===18){if(T=g.return,T===null)throw Error(i(341));T.lanes|=l,p=T.alternate,p!==null&&(p.lanes|=l),Kd(T,l,s),T=null}else T=g.child;if(T!==null)T.return=g;else for(T=g;T!==null;){if(T===s){T=null;break}if(g=T.sibling,g!==null){g.return=T.return,T=g;break}T=T.return}g=T}}function kl(s,a,l,u){s=null;for(var g=a,p=!1;g!==null;){if(!p){if((g.flags&524288)!==0)p=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var T=g.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var w=g.type;En(g.pendingProps.value,T.value)||(s!==null?s.push(w):s=[w])}}else if(g===Ve.current){if(T=g.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(lc):s=[lc])}g=g.return}s!==null&&Qd(a,s,l,u),a.flags|=262144}function qu(s){for(s=s.firstContext;s!==null;){if(!En(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ra(s){sa=s,Ji=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Je(s){return yy(sa,s)}function Gu(s,a){return sa===null&&ra(s),yy(s,a)}function yy(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Ji===null){if(s===null)throw Error(i(308));Ji=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else Ji=Ji.next=a;return l}var HA=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},qA=n.unstable_scheduleCallback,GA=n.unstable_NormalPriority,Me={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xd(){return{controller:new HA,data:new Map,refCount:0}}function Nl(s){s.refCount--,s.refCount===0&&qA(GA,function(){s.controller.abort()})}var Pl=null,Wd=0,io=0,so=null;function YA(s,a){if(Pl===null){var l=Pl=[];Wd=0,io=Zg(),so={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Wd++,a.then(vy,vy),a}function vy(){if(--Wd===0&&Pl!==null){so!==null&&(so.status="fulfilled");var s=Pl;Pl=null,io=0,so=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function KA(s,a){var l=[],u={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return s.then(function(){u.status="fulfilled",u.value=a;for(var g=0;g<l.length;g++)(0,l[g])(a)},function(g){for(u.status="rejected",u.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),u}var by=Y.S;Y.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&YA(s,a),by!==null&&by(s,a)};var aa=nt(null);function $d(){var s=aa.current;return s!==null?s:re.pooledCache}function Yu(s,a){a===null?rt(aa,aa.current):rt(aa,a.pool)}function Ey(){var s=$d();return s===null?null:{parent:Me._currentValue,pool:s}}var Vl=Error(i(460)),Ty=Error(i(474)),Ku=Error(i(542)),Zd={then:function(){}};function Sy(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Qu(){}function wy(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(Qu,Qu),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,xy(s),s;default:if(typeof a.status=="string")a.then(Qu,Qu);else{if(s=re,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(u){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=u}},function(u){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,xy(s),s}throw Ll=a,Vl}}var Ll=null;function Ay(){if(Ll===null)throw Error(i(459));var s=Ll;return Ll=null,s}function xy(s){if(s===Vl||s===Ku)throw Error(i(483))}var Ds=!1;function Jd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tg(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ms(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ks(s,a,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(Qt&2)!==0){var g=u.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),u.pending=a,a=Bu(s),fy(s,null,l),a}return zu(s,u,a,l),Bu(s)}function Ul(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,fl(s,l)}}function eg(s,a){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var g=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?g=p=T:p=p.next=T,l=l.next}while(l!==null);p===null?g=p=a:p=p.next=a}else g=p=a;l={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var ng=!1;function zl(){if(ng){var s=so;if(s!==null)throw s}}function Bl(s,a,l,u){ng=!1;var g=s.updateQueue;Ds=!1;var p=g.firstBaseUpdate,T=g.lastBaseUpdate,w=g.shared.pending;if(w!==null){g.shared.pending=null;var M=w,F=M.next;M.next=null,T===null?p=F:T.next=F,T=M;var X=s.alternate;X!==null&&(X=X.updateQueue,w=X.lastBaseUpdate,w!==T&&(w===null?X.firstBaseUpdate=F:w.next=F,X.lastBaseUpdate=M))}if(p!==null){var tt=g.baseState;T=0,X=F=M=null,w=p;do{var q=w.lane&-536870913,G=q!==w.lane;if(G?(zt&q)===q:(u&q)===q){q!==0&&q===io&&(ng=!0),X!==null&&(X=X.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var Tt=s,yt=w;q=a;var ee=l;switch(yt.tag){case 1:if(Tt=yt.payload,typeof Tt=="function"){tt=Tt.call(ee,tt,q);break t}tt=Tt;break t;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=yt.payload,q=typeof Tt=="function"?Tt.call(ee,tt,q):Tt,q==null)break t;tt=_({},tt,q);break t;case 2:Ds=!0}}q=w.callback,q!==null&&(s.flags|=64,G&&(s.flags|=8192),G=g.callbacks,G===null?g.callbacks=[q]:G.push(q))}else G={lane:q,tag:w.tag,payload:w.payload,callback:w.callback,next:null},X===null?(F=X=G,M=tt):X=X.next=G,T|=q;if(w=w.next,w===null){if(w=g.shared.pending,w===null)break;G=w,w=G.next,G.next=null,g.lastBaseUpdate=G,g.shared.pending=null}}while(!0);X===null&&(M=tt),g.baseState=M,g.firstBaseUpdate=F,g.lastBaseUpdate=X,p===null&&(g.shared.lanes=0),js|=T,s.lanes=T,s.memoizedState=tt}}function Ry(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function Iy(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)Ry(l[s],a)}var ro=nt(null),Xu=nt(0);function Cy(s,a){s=os,rt(Xu,s),rt(ro,a),os=s|a.baseLanes}function ig(){rt(Xu,os),rt(ro,ro.current)}function sg(){os=Xu.current,ct(ro),ct(Xu)}var Ns=0,Ct=null,Jt=null,we=null,Wu=!1,ao=!1,oa=!1,$u=0,jl=0,oo=null,QA=0;function _e(){throw Error(i(321))}function rg(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!En(s[l],a[l]))return!1;return!0}function ag(s,a,l,u,g,p){return Ns=p,Ct=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Y.H=s===null||s.memoizedState===null?fv:dv,oa=!1,p=l(u,g),oa=!1,ao&&(p=Dy(a,l,u,g)),Oy(s),p}function Oy(s){Y.H=ih;var a=Jt!==null&&Jt.next!==null;if(Ns=0,we=Jt=Ct=null,Wu=!1,jl=0,oo=null,a)throw Error(i(300));s===null||ze||(s=s.dependencies,s!==null&&qu(s)&&(ze=!0))}function Dy(s,a,l,u){Ct=s;var g=0;do{if(ao&&(oo=null),jl=0,ao=!1,25<=g)throw Error(i(301));if(g+=1,we=Jt=null,s.updateQueue!=null){var p=s.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}Y.H=ex,p=a(l,u)}while(ao);return p}function XA(){var s=Y.H,a=s.useState()[0];return a=typeof a.then=="function"?Fl(a):a,s=s.useState()[0],(Jt!==null?Jt.memoizedState:null)!==s&&(Ct.flags|=1024),a}function og(){var s=$u!==0;return $u=0,s}function lg(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function cg(s){if(Wu){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Wu=!1}Ns=0,we=Jt=Ct=null,ao=!1,jl=$u=0,oo=null}function un(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?Ct.memoizedState=we=s:we=we.next=s,we}function Ae(){if(Jt===null){var s=Ct.alternate;s=s!==null?s.memoizedState:null}else s=Jt.next;var a=we===null?Ct.memoizedState:we.next;if(a!==null)we=a,Jt=s;else{if(s===null)throw Ct.alternate===null?Error(i(467)):Error(i(310));Jt=s,s={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},we===null?Ct.memoizedState=we=s:we=we.next=s}return we}function ug(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fl(s){var a=jl;return jl+=1,oo===null&&(oo=[]),s=wy(oo,s,a),a=Ct,(we===null?a.memoizedState:we.next)===null&&(a=a.alternate,Y.H=a===null||a.memoizedState===null?fv:dv),s}function Zu(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Fl(s);if(s.$$typeof===J)return Je(s)}throw Error(i(438,String(s)))}function hg(s){var a=null,l=Ct.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=Ct.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=ug(),Ct.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),u=0;u<s;u++)l[u]=N;return a.index++,l}function es(s,a){return typeof a=="function"?a(s):a}function Ju(s){var a=Ae();return fg(a,Jt,s)}function fg(s,a,l){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var g=s.baseQueue,p=u.pending;if(p!==null){if(g!==null){var T=g.next;g.next=p.next,p.next=T}a.baseQueue=g=p,u.pending=null}if(p=s.baseState,g===null)s.memoizedState=p;else{a=g.next;var w=T=null,M=null,F=a,X=!1;do{var tt=F.lane&-536870913;if(tt!==F.lane?(zt&tt)===tt:(Ns&tt)===tt){var q=F.revertLane;if(q===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),tt===io&&(X=!0);else if((Ns&q)===q){F=F.next,q===io&&(X=!0);continue}else tt={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},M===null?(w=M=tt,T=p):M=M.next=tt,Ct.lanes|=q,js|=q;tt=F.action,oa&&l(p,tt),p=F.hasEagerState?F.eagerState:l(p,tt)}else q={lane:tt,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},M===null?(w=M=q,T=p):M=M.next=q,Ct.lanes|=tt,js|=tt;F=F.next}while(F!==null&&F!==a);if(M===null?T=p:M.next=w,!En(p,s.memoizedState)&&(ze=!0,X&&(l=so,l!==null)))throw l;s.memoizedState=p,s.baseState=T,s.baseQueue=M,u.lastRenderedState=p}return g===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function dg(s){var a=Ae(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var u=l.dispatch,g=l.pending,p=a.memoizedState;if(g!==null){l.pending=null;var T=g=g.next;do p=s(p,T.action),T=T.next;while(T!==g);En(p,a.memoizedState)||(ze=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),l.lastRenderedState=p}return[p,u]}function My(s,a,l){var u=Ct,g=Ae(),p=Ht;if(p){if(l===void 0)throw Error(i(407));l=l()}else l=a();var T=!En((Jt||g).memoizedState,l);T&&(g.memoizedState=l,ze=!0),g=g.queue;var w=Py.bind(null,u,g,s);if(Hl(2048,8,w,[s]),g.getSnapshot!==a||T||we!==null&&we.memoizedState.tag&1){if(u.flags|=2048,lo(9,th(),Ny.bind(null,u,g,l,a),null),re===null)throw Error(i(349));p||(Ns&124)!==0||ky(u,a,l)}return l}function ky(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=Ct.updateQueue,a===null?(a=ug(),Ct.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function Ny(s,a,l,u){a.value=l,a.getSnapshot=u,Vy(a)&&Ly(s)}function Py(s,a,l){return l(function(){Vy(a)&&Ly(s)})}function Vy(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!En(s,l)}catch{return!0}}function Ly(s){var a=Ja(s,2);a!==null&&Rn(a,s,2)}function gg(s){var a=un();if(typeof s=="function"){var l=s;if(s=l(),oa){vn(!0);try{l()}finally{vn(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:s},a}function Uy(s,a,l,u){return s.baseState=l,fg(s,Jt,typeof u=="function"?u:es)}function WA(s,a,l,u,g){if(nh(s))throw Error(i(485));if(s=a.action,s!==null){var p={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};Y.T!==null?l(!0):p.isTransition=!1,u(p),l=a.pending,l===null?(p.next=a.pending=p,zy(a,p)):(p.next=l.next,a.pending=l.next=p)}}function zy(s,a){var l=a.action,u=a.payload,g=s.state;if(a.isTransition){var p=Y.T,T={};Y.T=T;try{var w=l(g,u),M=Y.S;M!==null&&M(T,w),By(s,a,w)}catch(F){mg(s,a,F)}finally{Y.T=p}}else try{p=l(g,u),By(s,a,p)}catch(F){mg(s,a,F)}}function By(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){jy(s,a,u)},function(u){return mg(s,a,u)}):jy(s,a,l)}function jy(s,a,l){a.status="fulfilled",a.value=l,Fy(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,zy(s,l)))}function mg(s,a,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,Fy(a),a=a.next;while(a!==u)}s.action=null}function Fy(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function Hy(s,a){return a}function qy(s,a){if(Ht){var l=re.formState;if(l!==null){t:{var u=Ct;if(Ht){if(ge){e:{for(var g=ge,p=Ei;g.nodeType!==8;){if(!p){g=null;break e}if(g=ti(g.nextSibling),g===null){g=null;break e}}p=g.data,g=p==="F!"||p==="F"?g:null}if(g){ge=ti(g.nextSibling),u=g.data==="F!";break t}}ia(u)}u=!1}u&&(a=l[0])}}return l=un(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hy,lastRenderedState:a},l.queue=u,l=cv.bind(null,Ct,u),u.dispatch=l,u=gg(!1),p=bg.bind(null,Ct,!1,u.queue),u=un(),g={state:a,dispatch:null,action:s,pending:null},u.queue=g,l=WA.bind(null,Ct,g,p,l),g.dispatch=l,u.memoizedState=s,[a,l,!1]}function Gy(s){var a=Ae();return Yy(a,Jt,s)}function Yy(s,a,l){if(a=fg(s,a,Hy)[0],s=Ju(es)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=Fl(a)}catch(T){throw T===Vl?Ku:T}else u=a;a=Ae();var g=a.queue,p=g.dispatch;return l!==a.memoizedState&&(Ct.flags|=2048,lo(9,th(),$A.bind(null,g,l),null)),[u,p,s]}function $A(s,a){s.action=a}function Ky(s){var a=Ae(),l=Jt;if(l!==null)return Yy(a,l,s);Ae(),a=a.memoizedState,l=Ae();var u=l.queue.dispatch;return l.memoizedState=s,[a,u,!1]}function lo(s,a,l,u){return s={tag:s,create:l,deps:u,inst:a,next:null},a=Ct.updateQueue,a===null&&(a=ug(),Ct.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,a.lastEffect=s),s}function th(){return{destroy:void 0,resource:void 0}}function Qy(){return Ae().memoizedState}function eh(s,a,l,u){var g=un();u=u===void 0?null:u,Ct.flags|=s,g.memoizedState=lo(1|a,th(),l,u)}function Hl(s,a,l,u){var g=Ae();u=u===void 0?null:u;var p=g.memoizedState.inst;Jt!==null&&u!==null&&rg(u,Jt.memoizedState.deps)?g.memoizedState=lo(a,p,l,u):(Ct.flags|=s,g.memoizedState=lo(1|a,p,l,u))}function Xy(s,a){eh(8390656,8,s,a)}function Wy(s,a){Hl(2048,8,s,a)}function $y(s,a){return Hl(4,2,s,a)}function Zy(s,a){return Hl(4,4,s,a)}function Jy(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function tv(s,a,l){l=l!=null?l.concat([s]):null,Hl(4,4,Jy.bind(null,a,s),l)}function pg(){}function ev(s,a){var l=Ae();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&rg(a,u[1])?u[0]:(l.memoizedState=[s,a],s)}function nv(s,a){var l=Ae();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&rg(a,u[1]))return u[0];if(u=s(),oa){vn(!0);try{s()}finally{vn(!1)}}return l.memoizedState=[u,a],u}function _g(s,a,l){return l===void 0||(Ns&1073741824)!==0?s.memoizedState=a:(s.memoizedState=l,s=r0(),Ct.lanes|=s,js|=s,l)}function iv(s,a,l,u){return En(l,a)?l:ro.current!==null?(s=_g(s,l,u),En(s,a)||(ze=!0),s):(Ns&42)===0?(ze=!0,s.memoizedState=l):(s=r0(),Ct.lanes|=s,js|=s,a)}function sv(s,a,l,u,g){var p=at.p;at.p=p!==0&&8>p?p:8;var T=Y.T,w={};Y.T=w,bg(s,!1,a,l);try{var M=g(),F=Y.S;if(F!==null&&F(w,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var X=KA(M,u);ql(s,a,X,xn(s))}else ql(s,a,u,xn(s))}catch(tt){ql(s,a,{then:function(){},status:"rejected",reason:tt},xn())}finally{at.p=p,Y.T=T}}function ZA(){}function yg(s,a,l,u){if(s.tag!==5)throw Error(i(476));var g=rv(s).queue;sv(s,g,a,gt,l===null?ZA:function(){return av(s),l(u)})}function rv(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:gt},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function av(s){var a=rv(s).next.queue;ql(s,a,{},xn())}function vg(){return Je(lc)}function ov(){return Ae().memoizedState}function lv(){return Ae().memoizedState}function JA(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=xn();s=Ms(l);var u=ks(a,s,l);u!==null&&(Rn(u,a,l),Ul(u,a,l)),a={cache:Xd()},s.payload=a;return}a=a.return}}function tx(s,a,l){var u=xn();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},nh(s)?uv(a,l):(l=zd(s,a,l,u),l!==null&&(Rn(l,s,u),hv(l,a,u)))}function cv(s,a,l){var u=xn();ql(s,a,l,u)}function ql(s,a,l,u){var g={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(nh(s))uv(a,g);else{var p=s.alternate;if(s.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var T=a.lastRenderedState,w=p(T,l);if(g.hasEagerState=!0,g.eagerState=w,En(w,T))return zu(s,a,g,0),re===null&&Uu(),!1}catch{}finally{}if(l=zd(s,a,g,u),l!==null)return Rn(l,s,u),hv(l,a,u),!0}return!1}function bg(s,a,l,u){if(u={lane:2,revertLane:Zg(),action:u,hasEagerState:!1,eagerState:null,next:null},nh(s)){if(a)throw Error(i(479))}else a=zd(s,l,u,2),a!==null&&Rn(a,s,2)}function nh(s){var a=s.alternate;return s===Ct||a!==null&&a===Ct}function uv(s,a){ao=Wu=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function hv(s,a,l){if((l&4194048)!==0){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,fl(s,l)}}var ih={readContext:Je,use:Zu,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useLayoutEffect:_e,useInsertionEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useSyncExternalStore:_e,useId:_e,useHostTransitionStatus:_e,useFormState:_e,useActionState:_e,useOptimistic:_e,useMemoCache:_e,useCacheRefresh:_e},fv={readContext:Je,use:Zu,useCallback:function(s,a){return un().memoizedState=[s,a===void 0?null:a],s},useContext:Je,useEffect:Xy,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,eh(4194308,4,Jy.bind(null,a,s),l)},useLayoutEffect:function(s,a){return eh(4194308,4,s,a)},useInsertionEffect:function(s,a){eh(4,2,s,a)},useMemo:function(s,a){var l=un();a=a===void 0?null:a;var u=s();if(oa){vn(!0);try{s()}finally{vn(!1)}}return l.memoizedState=[u,a],u},useReducer:function(s,a,l){var u=un();if(l!==void 0){var g=l(a);if(oa){vn(!0);try{l(a)}finally{vn(!1)}}}else g=a;return u.memoizedState=u.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},u.queue=s,s=s.dispatch=tx.bind(null,Ct,s),[u.memoizedState,s]},useRef:function(s){var a=un();return s={current:s},a.memoizedState=s},useState:function(s){s=gg(s);var a=s.queue,l=cv.bind(null,Ct,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:pg,useDeferredValue:function(s,a){var l=un();return _g(l,s,a)},useTransition:function(){var s=gg(!1);return s=sv.bind(null,Ct,s.queue,!0,!1),un().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var u=Ct,g=un();if(Ht){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),re===null)throw Error(i(349));(zt&124)!==0||ky(u,a,l)}g.memoizedState=l;var p={value:l,getSnapshot:a};return g.queue=p,Xy(Py.bind(null,u,p,s),[s]),u.flags|=2048,lo(9,th(),Ny.bind(null,u,p,l,a),null),l},useId:function(){var s=un(),a=re.identifierPrefix;if(Ht){var l=Zi,u=$i;l=(u&~(1<<32-Ze(u)-1)).toString(32)+l,a=""+a+"R"+l,l=$u++,0<l&&(a+="H"+l.toString(32)),a+=""}else l=QA++,a=""+a+"r"+l.toString(32)+"";return s.memoizedState=a},useHostTransitionStatus:vg,useFormState:qy,useActionState:qy,useOptimistic:function(s){var a=un();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=bg.bind(null,Ct,!0,l),l.dispatch=a,[s,a]},useMemoCache:hg,useCacheRefresh:function(){return un().memoizedState=JA.bind(null,Ct)}},dv={readContext:Je,use:Zu,useCallback:ev,useContext:Je,useEffect:Wy,useImperativeHandle:tv,useInsertionEffect:$y,useLayoutEffect:Zy,useMemo:nv,useReducer:Ju,useRef:Qy,useState:function(){return Ju(es)},useDebugValue:pg,useDeferredValue:function(s,a){var l=Ae();return iv(l,Jt.memoizedState,s,a)},useTransition:function(){var s=Ju(es)[0],a=Ae().memoizedState;return[typeof s=="boolean"?s:Fl(s),a]},useSyncExternalStore:My,useId:ov,useHostTransitionStatus:vg,useFormState:Gy,useActionState:Gy,useOptimistic:function(s,a){var l=Ae();return Uy(l,Jt,s,a)},useMemoCache:hg,useCacheRefresh:lv},ex={readContext:Je,use:Zu,useCallback:ev,useContext:Je,useEffect:Wy,useImperativeHandle:tv,useInsertionEffect:$y,useLayoutEffect:Zy,useMemo:nv,useReducer:dg,useRef:Qy,useState:function(){return dg(es)},useDebugValue:pg,useDeferredValue:function(s,a){var l=Ae();return Jt===null?_g(l,s,a):iv(l,Jt.memoizedState,s,a)},useTransition:function(){var s=dg(es)[0],a=Ae().memoizedState;return[typeof s=="boolean"?s:Fl(s),a]},useSyncExternalStore:My,useId:ov,useHostTransitionStatus:vg,useFormState:Ky,useActionState:Ky,useOptimistic:function(s,a){var l=Ae();return Jt!==null?Uy(l,Jt,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:hg,useCacheRefresh:lv},co=null,Gl=0;function sh(s){var a=Gl;return Gl+=1,co===null&&(co=[]),wy(co,s,a)}function Yl(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function rh(s,a){throw a.$$typeof===v?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function gv(s){var a=s._init;return a(s._payload)}function mv(s){function a(z,U){if(s){var j=z.deletions;j===null?(z.deletions=[U],z.flags|=16):j.push(U)}}function l(z,U){if(!s)return null;for(;U!==null;)a(z,U),U=U.sibling;return null}function u(z){for(var U=new Map;z!==null;)z.key!==null?U.set(z.key,z):U.set(z.index,z),z=z.sibling;return U}function g(z,U){return z=Wi(z,U),z.index=0,z.sibling=null,z}function p(z,U,j){return z.index=j,s?(j=z.alternate,j!==null?(j=j.index,j<U?(z.flags|=67108866,U):j):(z.flags|=67108866,U)):(z.flags|=1048576,U)}function T(z){return s&&z.alternate===null&&(z.flags|=67108866),z}function w(z,U,j,$){return U===null||U.tag!==6?(U=jd(j,z.mode,$),U.return=z,U):(U=g(U,j),U.return=z,U)}function M(z,U,j,$){var ft=j.type;return ft===R?X(z,U,j.props.children,$,j.key):U!==null&&(U.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===x&&gv(ft)===U.type)?(U=g(U,j.props),Yl(U,j),U.return=z,U):(U=ju(j.type,j.key,j.props,null,z.mode,$),Yl(U,j),U.return=z,U)}function F(z,U,j,$){return U===null||U.tag!==4||U.stateNode.containerInfo!==j.containerInfo||U.stateNode.implementation!==j.implementation?(U=Fd(j,z.mode,$),U.return=z,U):(U=g(U,j.children||[]),U.return=z,U)}function X(z,U,j,$,ft){return U===null||U.tag!==7?(U=Jr(j,z.mode,$,ft),U.return=z,U):(U=g(U,j),U.return=z,U)}function tt(z,U,j){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=jd(""+U,z.mode,j),U.return=z,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case b:return j=ju(U.type,U.key,U.props,null,z.mode,j),Yl(j,U),j.return=z,j;case S:return U=Fd(U,z.mode,j),U.return=z,U;case x:var $=U._init;return U=$(U._payload),tt(z,U,j)}if(wt(U)||L(U))return U=Jr(U,z.mode,j,null),U.return=z,U;if(typeof U.then=="function")return tt(z,sh(U),j);if(U.$$typeof===J)return tt(z,Gu(z,U),j);rh(z,U)}return null}function q(z,U,j,$){var ft=U!==null?U.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ft!==null?null:w(z,U,""+j,$);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case b:return j.key===ft?M(z,U,j,$):null;case S:return j.key===ft?F(z,U,j,$):null;case x:return ft=j._init,j=ft(j._payload),q(z,U,j,$)}if(wt(j)||L(j))return ft!==null?null:X(z,U,j,$,null);if(typeof j.then=="function")return q(z,U,sh(j),$);if(j.$$typeof===J)return q(z,U,Gu(z,j),$);rh(z,j)}return null}function G(z,U,j,$,ft){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return z=z.get(j)||null,w(U,z,""+$,ft);if(typeof $=="object"&&$!==null){switch($.$$typeof){case b:return z=z.get($.key===null?j:$.key)||null,M(U,z,$,ft);case S:return z=z.get($.key===null?j:$.key)||null,F(U,z,$,ft);case x:var Dt=$._init;return $=Dt($._payload),G(z,U,j,$,ft)}if(wt($)||L($))return z=z.get(j)||null,X(U,z,$,ft,null);if(typeof $.then=="function")return G(z,U,j,sh($),ft);if($.$$typeof===J)return G(z,U,j,Gu(U,$),ft);rh(U,$)}return null}function Tt(z,U,j,$){for(var ft=null,Dt=null,mt=U,vt=U=0,je=null;mt!==null&&vt<j.length;vt++){mt.index>vt?(je=mt,mt=null):je=mt.sibling;var jt=q(z,mt,j[vt],$);if(jt===null){mt===null&&(mt=je);break}s&&mt&&jt.alternate===null&&a(z,mt),U=p(jt,U,vt),Dt===null?ft=jt:Dt.sibling=jt,Dt=jt,mt=je}if(vt===j.length)return l(z,mt),Ht&&ea(z,vt),ft;if(mt===null){for(;vt<j.length;vt++)mt=tt(z,j[vt],$),mt!==null&&(U=p(mt,U,vt),Dt===null?ft=mt:Dt.sibling=mt,Dt=mt);return Ht&&ea(z,vt),ft}for(mt=u(mt);vt<j.length;vt++)je=G(mt,z,vt,j[vt],$),je!==null&&(s&&je.alternate!==null&&mt.delete(je.key===null?vt:je.key),U=p(je,U,vt),Dt===null?ft=je:Dt.sibling=je,Dt=je);return s&&mt.forEach(function(Ws){return a(z,Ws)}),Ht&&ea(z,vt),ft}function yt(z,U,j,$){if(j==null)throw Error(i(151));for(var ft=null,Dt=null,mt=U,vt=U=0,je=null,jt=j.next();mt!==null&&!jt.done;vt++,jt=j.next()){mt.index>vt?(je=mt,mt=null):je=mt.sibling;var Ws=q(z,mt,jt.value,$);if(Ws===null){mt===null&&(mt=je);break}s&&mt&&Ws.alternate===null&&a(z,mt),U=p(Ws,U,vt),Dt===null?ft=Ws:Dt.sibling=Ws,Dt=Ws,mt=je}if(jt.done)return l(z,mt),Ht&&ea(z,vt),ft;if(mt===null){for(;!jt.done;vt++,jt=j.next())jt=tt(z,jt.value,$),jt!==null&&(U=p(jt,U,vt),Dt===null?ft=jt:Dt.sibling=jt,Dt=jt);return Ht&&ea(z,vt),ft}for(mt=u(mt);!jt.done;vt++,jt=j.next())jt=G(mt,z,vt,jt.value,$),jt!==null&&(s&&jt.alternate!==null&&mt.delete(jt.key===null?vt:jt.key),U=p(jt,U,vt),Dt===null?ft=jt:Dt.sibling=jt,Dt=jt);return s&&mt.forEach(function(nR){return a(z,nR)}),Ht&&ea(z,vt),ft}function ee(z,U,j,$){if(typeof j=="object"&&j!==null&&j.type===R&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case b:t:{for(var ft=j.key;U!==null;){if(U.key===ft){if(ft=j.type,ft===R){if(U.tag===7){l(z,U.sibling),$=g(U,j.props.children),$.return=z,z=$;break t}}else if(U.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===x&&gv(ft)===U.type){l(z,U.sibling),$=g(U,j.props),Yl($,j),$.return=z,z=$;break t}l(z,U);break}else a(z,U);U=U.sibling}j.type===R?($=Jr(j.props.children,z.mode,$,j.key),$.return=z,z=$):($=ju(j.type,j.key,j.props,null,z.mode,$),Yl($,j),$.return=z,z=$)}return T(z);case S:t:{for(ft=j.key;U!==null;){if(U.key===ft)if(U.tag===4&&U.stateNode.containerInfo===j.containerInfo&&U.stateNode.implementation===j.implementation){l(z,U.sibling),$=g(U,j.children||[]),$.return=z,z=$;break t}else{l(z,U);break}else a(z,U);U=U.sibling}$=Fd(j,z.mode,$),$.return=z,z=$}return T(z);case x:return ft=j._init,j=ft(j._payload),ee(z,U,j,$)}if(wt(j))return Tt(z,U,j,$);if(L(j)){if(ft=L(j),typeof ft!="function")throw Error(i(150));return j=ft.call(j),yt(z,U,j,$)}if(typeof j.then=="function")return ee(z,U,sh(j),$);if(j.$$typeof===J)return ee(z,U,Gu(z,j),$);rh(z,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,U!==null&&U.tag===6?(l(z,U.sibling),$=g(U,j),$.return=z,z=$):(l(z,U),$=jd(j,z.mode,$),$.return=z,z=$),T(z)):l(z,U)}return function(z,U,j,$){try{Gl=0;var ft=ee(z,U,j,$);return co=null,ft}catch(mt){if(mt===Vl||mt===Ku)throw mt;var Dt=Tn(29,mt,null,z.mode);return Dt.lanes=$,Dt.return=z,Dt}finally{}}}var uo=mv(!0),pv=mv(!1),Fn=nt(null),Ti=null;function Ps(s){var a=s.alternate;rt(ke,ke.current&1),rt(Fn,s),Ti===null&&(a===null||ro.current!==null||a.memoizedState!==null)&&(Ti=s)}function _v(s){if(s.tag===22){if(rt(ke,ke.current),rt(Fn,s),Ti===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(Ti=s)}}else Vs()}function Vs(){rt(ke,ke.current),rt(Fn,Fn.current)}function ns(s){ct(Fn),Ti===s&&(Ti=null),ct(ke)}var ke=nt(0);function ah(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||um(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Eg(s,a,l,u){a=s.memoizedState,l=l(u,a),l=l==null?a:_({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Tg={enqueueSetState:function(s,a,l){s=s._reactInternals;var u=xn(),g=Ms(u);g.payload=a,l!=null&&(g.callback=l),a=ks(s,g,u),a!==null&&(Rn(a,s,u),Ul(a,s,u))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var u=xn(),g=Ms(u);g.tag=1,g.payload=a,l!=null&&(g.callback=l),a=ks(s,g,u),a!==null&&(Rn(a,s,u),Ul(a,s,u))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=xn(),u=Ms(l);u.tag=2,a!=null&&(u.callback=a),a=ks(s,u,l),a!==null&&(Rn(a,s,l),Ul(a,s,l))}};function yv(s,a,l,u,g,p,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,p,T):a.prototype&&a.prototype.isPureReactComponent?!Il(l,u)||!Il(g,p):!0}function vv(s,a,l,u){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==s&&Tg.enqueueReplaceState(a,a.state,null)}function la(s,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(s=s.defaultProps){l===a&&(l=_({},l));for(var g in s)l[g]===void 0&&(l[g]=s[g])}return l}var oh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function bv(s){oh(s)}function Ev(s){console.error(s)}function Tv(s){oh(s)}function lh(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function Sv(s,a,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Sg(s,a,l){return l=Ms(l),l.tag=3,l.payload={element:null},l.callback=function(){lh(s,a)},l}function wv(s){return s=Ms(s),s.tag=3,s}function Av(s,a,l,u){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var p=u.value;s.payload=function(){return g(p)},s.callback=function(){Sv(a,l,u)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(s.callback=function(){Sv(a,l,u),typeof g!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function nx(s,a,l,u,g){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&kl(a,l,g,!0),l=Fn.current,l!==null){switch(l.tag){case 13:return Ti===null?Kg():l.alternate===null&&me===0&&(me=3),l.flags&=-257,l.flags|=65536,l.lanes=g,u===Zd?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),Xg(s,u,g)),!1;case 22:return l.flags|=65536,u===Zd?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),Xg(s,u,g)),!1}throw Error(i(435,l.tag))}return Xg(s,u,g),Kg(),!1}if(Ht)return a=Fn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,u!==Gd&&(s=Error(i(422),{cause:u}),Ml(Un(s,l)))):(u!==Gd&&(a=Error(i(423),{cause:u}),Ml(Un(a,l))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,u=Un(u,l),g=Sg(s.stateNode,u,g),eg(s,g),me!==4&&(me=2)),!1;var p=Error(i(520),{cause:u});if(p=Un(p,l),Jl===null?Jl=[p]:Jl.push(p),me!==4&&(me=2),a===null)return!0;u=Un(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=g&-g,l.lanes|=s,s=Sg(l.stateNode,u,s),eg(l,s),!1;case 1:if(a=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Fs===null||!Fs.has(p))))return l.flags|=65536,g&=-g,l.lanes|=g,g=wv(g),Av(g,s,l,u),eg(l,g),!1}l=l.return}while(l!==null);return!1}var xv=Error(i(461)),ze=!1;function Ye(s,a,l,u){a.child=s===null?pv(a,null,l,u):uo(a,s.child,l,u)}function Rv(s,a,l,u,g){l=l.render;var p=a.ref;if("ref"in u){var T={};for(var w in u)w!=="ref"&&(T[w]=u[w])}else T=u;return ra(a),u=ag(s,a,l,T,p,g),w=og(),s!==null&&!ze?(lg(s,a,g),is(s,a,g)):(Ht&&w&&Hd(a),a.flags|=1,Ye(s,a,u,g),a.child)}function Iv(s,a,l,u,g){if(s===null){var p=l.type;return typeof p=="function"&&!Bd(p)&&p.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=p,Cv(s,a,p,u,g)):(s=ju(l.type,null,u,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(p=s.child,!Dg(s,g)){var T=p.memoizedProps;if(l=l.compare,l=l!==null?l:Il,l(T,u)&&s.ref===a.ref)return is(s,a,g)}return a.flags|=1,s=Wi(p,u),s.ref=a.ref,s.return=a,a.child=s}function Cv(s,a,l,u,g){if(s!==null){var p=s.memoizedProps;if(Il(p,u)&&s.ref===a.ref)if(ze=!1,a.pendingProps=u=p,Dg(s,g))(s.flags&131072)!==0&&(ze=!0);else return a.lanes=s.lanes,is(s,a,g)}return wg(s,a,l,u,g)}function Ov(s,a,l){var u=a.pendingProps,g=u.children,p=s!==null?s.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=p!==null?p.baseLanes|l:l,s!==null){for(g=a.child=s.child,p=0;g!==null;)p=p|g.lanes|g.childLanes,g=g.sibling;a.childLanes=p&~u}else a.childLanes=0,a.child=null;return Dv(s,a,u,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Yu(a,p!==null?p.cachePool:null),p!==null?Cy(a,p):ig(),_v(a);else return a.lanes=a.childLanes=536870912,Dv(s,a,p!==null?p.baseLanes|l:l,l)}else p!==null?(Yu(a,p.cachePool),Cy(a,p),Vs(),a.memoizedState=null):(s!==null&&Yu(a,null),ig(),Vs());return Ye(s,a,g,l),a.child}function Dv(s,a,l,u){var g=$d();return g=g===null?null:{parent:Me._currentValue,pool:g},a.memoizedState={baseLanes:l,cachePool:g},s!==null&&Yu(a,null),ig(),_v(a),s!==null&&kl(s,a,u,!0),null}function ch(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function wg(s,a,l,u,g){return ra(a),l=ag(s,a,l,u,void 0,g),u=og(),s!==null&&!ze?(lg(s,a,g),is(s,a,g)):(Ht&&u&&Hd(a),a.flags|=1,Ye(s,a,l,g),a.child)}function Mv(s,a,l,u,g,p){return ra(a),a.updateQueue=null,l=Dy(a,u,l,g),Oy(s),u=og(),s!==null&&!ze?(lg(s,a,p),is(s,a,p)):(Ht&&u&&Hd(a),a.flags|=1,Ye(s,a,l,p),a.child)}function kv(s,a,l,u,g){if(ra(a),a.stateNode===null){var p=to,T=l.contextType;typeof T=="object"&&T!==null&&(p=Je(T)),p=new l(u,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Tg,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=u,p.state=a.memoizedState,p.refs={},Jd(a),T=l.contextType,p.context=typeof T=="object"&&T!==null?Je(T):to,p.state=a.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(Eg(a,l,T,u),p.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&Tg.enqueueReplaceState(p,p.state,null),Bl(a,u,p,g),zl(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(s===null){p=a.stateNode;var w=a.memoizedProps,M=la(l,w);p.props=M;var F=p.context,X=l.contextType;T=to,typeof X=="object"&&X!==null&&(T=Je(X));var tt=l.getDerivedStateFromProps;X=typeof tt=="function"||typeof p.getSnapshotBeforeUpdate=="function",w=a.pendingProps!==w,X||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w||F!==T)&&vv(a,p,u,T),Ds=!1;var q=a.memoizedState;p.state=q,Bl(a,u,p,g),zl(),F=a.memoizedState,w||q!==F||Ds?(typeof tt=="function"&&(Eg(a,l,tt,u),F=a.memoizedState),(M=Ds||yv(a,l,M,u,q,F,T))?(X||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=F),p.props=u,p.state=F,p.context=T,u=M):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{p=a.stateNode,tg(s,a),T=a.memoizedProps,X=la(l,T),p.props=X,tt=a.pendingProps,q=p.context,F=l.contextType,M=to,typeof F=="object"&&F!==null&&(M=Je(F)),w=l.getDerivedStateFromProps,(F=typeof w=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==tt||q!==M)&&vv(a,p,u,M),Ds=!1,q=a.memoizedState,p.state=q,Bl(a,u,p,g),zl();var G=a.memoizedState;T!==tt||q!==G||Ds||s!==null&&s.dependencies!==null&&qu(s.dependencies)?(typeof w=="function"&&(Eg(a,l,w,u),G=a.memoizedState),(X=Ds||yv(a,l,X,u,q,G,M)||s!==null&&s.dependencies!==null&&qu(s.dependencies))?(F||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,G,M),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,G,M)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===s.memoizedProps&&q===s.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&q===s.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=G),p.props=u,p.state=G,p.context=M,u=X):(typeof p.componentDidUpdate!="function"||T===s.memoizedProps&&q===s.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&q===s.memoizedState||(a.flags|=1024),u=!1)}return p=u,ch(s,a),u=(a.flags&128)!==0,p||u?(p=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,s!==null&&u?(a.child=uo(a,s.child,null,g),a.child=uo(a,null,l,g)):Ye(s,a,l,g),a.memoizedState=p.state,s=a.child):s=is(s,a,g),s}function Nv(s,a,l,u){return Dl(),a.flags|=256,Ye(s,a,l,u),a.child}var Ag={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xg(s){return{baseLanes:s,cachePool:Ey()}}function Rg(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=Hn),s}function Pv(s,a,l){var u=a.pendingProps,g=!1,p=(a.flags&128)!==0,T;if((T=p)||(T=s!==null&&s.memoizedState===null?!1:(ke.current&2)!==0),T&&(g=!0,a.flags&=-129),T=(a.flags&32)!==0,a.flags&=-33,s===null){if(Ht){if(g?Ps(a):Vs(),Ht){var w=ge,M;if(M=w){t:{for(M=w,w=Ei;M.nodeType!==8;){if(!w){w=null;break t}if(M=ti(M.nextSibling),M===null){w=null;break t}}w=M}w!==null?(a.memoizedState={dehydrated:w,treeContext:ta!==null?{id:$i,overflow:Zi}:null,retryLane:536870912,hydrationErrors:null},M=Tn(18,null,null,0),M.stateNode=w,M.return=a,a.child=M,cn=a,ge=null,M=!0):M=!1}M||ia(a)}if(w=a.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return um(w)?a.lanes=32:a.lanes=536870912,null;ns(a)}return w=u.children,u=u.fallback,g?(Vs(),g=a.mode,w=uh({mode:"hidden",children:w},g),u=Jr(u,g,l,null),w.return=a,u.return=a,w.sibling=u,a.child=w,g=a.child,g.memoizedState=xg(l),g.childLanes=Rg(s,T,l),a.memoizedState=Ag,u):(Ps(a),Ig(a,w))}if(M=s.memoizedState,M!==null&&(w=M.dehydrated,w!==null)){if(p)a.flags&256?(Ps(a),a.flags&=-257,a=Cg(s,a,l)):a.memoizedState!==null?(Vs(),a.child=s.child,a.flags|=128,a=null):(Vs(),g=u.fallback,w=a.mode,u=uh({mode:"visible",children:u.children},w),g=Jr(g,w,l,null),g.flags|=2,u.return=a,g.return=a,u.sibling=g,a.child=u,uo(a,s.child,null,l),u=a.child,u.memoizedState=xg(l),u.childLanes=Rg(s,T,l),a.memoizedState=Ag,a=g);else if(Ps(a),um(w)){if(T=w.nextSibling&&w.nextSibling.dataset,T)var F=T.dgst;T=F,u=Error(i(419)),u.stack="",u.digest=T,Ml({value:u,source:null,stack:null}),a=Cg(s,a,l)}else if(ze||kl(s,a,l,!1),T=(l&s.childLanes)!==0,ze||T){if(T=re,T!==null&&(u=l&-l,u=(u&42)!==0?1:Ss(u),u=(u&(T.suspendedLanes|l))!==0?0:u,u!==0&&u!==M.retryLane))throw M.retryLane=u,Ja(s,u),Rn(T,s,u),xv;w.data==="$?"||Kg(),a=Cg(s,a,l)}else w.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=M.treeContext,ge=ti(w.nextSibling),cn=a,Ht=!0,na=null,Ei=!1,s!==null&&(Bn[jn++]=$i,Bn[jn++]=Zi,Bn[jn++]=ta,$i=s.id,Zi=s.overflow,ta=a),a=Ig(a,u.children),a.flags|=4096);return a}return g?(Vs(),g=u.fallback,w=a.mode,M=s.child,F=M.sibling,u=Wi(M,{mode:"hidden",children:u.children}),u.subtreeFlags=M.subtreeFlags&65011712,F!==null?g=Wi(F,g):(g=Jr(g,w,l,null),g.flags|=2),g.return=a,u.return=a,u.sibling=g,a.child=u,u=g,g=a.child,w=s.child.memoizedState,w===null?w=xg(l):(M=w.cachePool,M!==null?(F=Me._currentValue,M=M.parent!==F?{parent:F,pool:F}:M):M=Ey(),w={baseLanes:w.baseLanes|l,cachePool:M}),g.memoizedState=w,g.childLanes=Rg(s,T,l),a.memoizedState=Ag,u):(Ps(a),l=s.child,s=l.sibling,l=Wi(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,s!==null&&(T=a.deletions,T===null?(a.deletions=[s],a.flags|=16):T.push(s)),a.child=l,a.memoizedState=null,l)}function Ig(s,a){return a=uh({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function uh(s,a){return s=Tn(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Cg(s,a,l){return uo(a,s.child,null,l),s=Ig(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function Vv(s,a,l){s.lanes|=a;var u=s.alternate;u!==null&&(u.lanes|=a),Kd(s.return,a,l)}function Og(s,a,l,u,g){var p=s.memoizedState;p===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:g}:(p.isBackwards=a,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=l,p.tailMode=g)}function Lv(s,a,l){var u=a.pendingProps,g=u.revealOrder,p=u.tail;if(Ye(s,a,u.children,l),u=ke.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Vv(s,l,a);else if(s.tag===19)Vv(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}u&=1}switch(rt(ke,u),g){case"forwards":for(l=a.child,g=null;l!==null;)s=l.alternate,s!==null&&ah(s)===null&&(g=l),l=l.sibling;l=g,l===null?(g=a.child,a.child=null):(g=l.sibling,l.sibling=null),Og(a,!1,g,l,p);break;case"backwards":for(l=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&ah(s)===null){a.child=g;break}s=g.sibling,g.sibling=l,l=g,g=s}Og(a,!0,l,null,p);break;case"together":Og(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function is(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),js|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(kl(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,l=Wi(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=Wi(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function Dg(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&qu(s)))}function ix(s,a,l){switch(a.tag){case 3:se(a,a.stateNode.containerInfo),Os(a,Me,s.memoizedState.cache),Dl();break;case 27:case 5:Ts(a);break;case 4:se(a,a.stateNode.containerInfo);break;case 10:Os(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(Ps(a),a.flags|=128,null):(l&a.child.childLanes)!==0?Pv(s,a,l):(Ps(a),s=is(s,a,l),s!==null?s.sibling:null);Ps(a);break;case 19:var g=(s.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(kl(s,a,l,!1),u=(l&a.childLanes)!==0),g){if(u)return Lv(s,a,l);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),rt(ke,ke.current),u)break;return null;case 22:case 23:return a.lanes=0,Ov(s,a,l);case 24:Os(a,Me,s.memoizedState.cache)}return is(s,a,l)}function Uv(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)ze=!0;else{if(!Dg(s,l)&&(a.flags&128)===0)return ze=!1,ix(s,a,l);ze=(s.flags&131072)!==0}else ze=!1,Ht&&(a.flags&1048576)!==0&&gy(a,Hu,a.index);switch(a.lanes=0,a.tag){case 16:t:{s=a.pendingProps;var u=a.elementType,g=u._init;if(u=g(u._payload),a.type=u,typeof u=="function")Bd(u)?(s=la(u,s),a.tag=1,a=kv(null,a,u,s,l)):(a.tag=0,a=wg(null,a,u,s,l));else{if(u!=null){if(g=u.$$typeof,g===it){a.tag=11,a=Rv(null,a,u,s,l);break t}else if(g===O){a.tag=14,a=Iv(null,a,u,s,l);break t}}throw a=$t(u)||u,Error(i(306,a,""))}}return a;case 0:return wg(s,a,a.type,a.pendingProps,l);case 1:return u=a.type,g=la(u,a.pendingProps),kv(s,a,u,g,l);case 3:t:{if(se(a,a.stateNode.containerInfo),s===null)throw Error(i(387));u=a.pendingProps;var p=a.memoizedState;g=p.element,tg(s,a),Bl(a,u,null,l);var T=a.memoizedState;if(u=T.cache,Os(a,Me,u),u!==p.cache&&Qd(a,[Me],l,!0),zl(),u=T.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:T.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=Nv(s,a,u,l);break t}else if(u!==g){g=Un(Error(i(424)),a),Ml(g),a=Nv(s,a,u,l);break t}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(ge=ti(s.firstChild),cn=a,Ht=!0,na=null,Ei=!0,l=pv(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Dl(),u===g){a=is(s,a,l);break t}Ye(s,a,u,l)}a=a.child}return a;case 26:return ch(s,a),s===null?(l=F0(a.type,null,a.pendingProps,null))?a.memoizedState=l:Ht||(l=a.type,s=a.pendingProps,u=wh(_t.current).createElement(l),u[Ce]=a,u[Te]=s,Qe(u,l,s),pe(u),a.stateNode=u):a.memoizedState=F0(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Ts(a),s===null&&Ht&&(u=a.stateNode=z0(a.type,a.pendingProps,_t.current),cn=a,Ei=!0,g=ge,Gs(a.type)?(hm=g,ge=ti(u.firstChild)):ge=g),Ye(s,a,a.pendingProps.children,l),ch(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Ht&&((g=u=ge)&&(u=Dx(u,a.type,a.pendingProps,Ei),u!==null?(a.stateNode=u,cn=a,ge=ti(u.firstChild),Ei=!1,g=!0):g=!1),g||ia(a)),Ts(a),g=a.type,p=a.pendingProps,T=s!==null?s.memoizedProps:null,u=p.children,om(g,p)?u=null:T!==null&&om(g,T)&&(a.flags|=32),a.memoizedState!==null&&(g=ag(s,a,XA,null,null,l),lc._currentValue=g),ch(s,a),Ye(s,a,u,l),a.child;case 6:return s===null&&Ht&&((s=l=ge)&&(l=Mx(l,a.pendingProps,Ei),l!==null?(a.stateNode=l,cn=a,ge=null,s=!0):s=!1),s||ia(a)),null;case 13:return Pv(s,a,l);case 4:return se(a,a.stateNode.containerInfo),u=a.pendingProps,s===null?a.child=uo(a,null,u,l):Ye(s,a,u,l),a.child;case 11:return Rv(s,a,a.type,a.pendingProps,l);case 7:return Ye(s,a,a.pendingProps,l),a.child;case 8:return Ye(s,a,a.pendingProps.children,l),a.child;case 12:return Ye(s,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,Os(a,a.type,u.value),Ye(s,a,u.children,l),a.child;case 9:return g=a.type._context,u=a.pendingProps.children,ra(a),g=Je(g),u=u(g),a.flags|=1,Ye(s,a,u,l),a.child;case 14:return Iv(s,a,a.type,a.pendingProps,l);case 15:return Cv(s,a,a.type,a.pendingProps,l);case 19:return Lv(s,a,l);case 31:return u=a.pendingProps,l=a.mode,u={mode:u.mode,children:u.children},s===null?(l=uh(u,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=Wi(s.child,u),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return Ov(s,a,l);case 24:return ra(a),u=Je(Me),s===null?(g=$d(),g===null&&(g=re,p=Xd(),g.pooledCache=p,p.refCount++,p!==null&&(g.pooledCacheLanes|=l),g=p),a.memoizedState={parent:u,cache:g},Jd(a),Os(a,Me,g)):((s.lanes&l)!==0&&(tg(s,a),Bl(a,null,null,l),zl()),g=s.memoizedState,p=a.memoizedState,g.parent!==u?(g={parent:u,cache:u},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),Os(a,Me,u)):(u=p.cache,Os(a,Me,u),u!==g.cache&&Qd(a,[Me],l,!0))),Ye(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function ss(s){s.flags|=4}function zv(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!K0(a)){if(a=Fn.current,a!==null&&((zt&4194048)===zt?Ti!==null:(zt&62914560)!==zt&&(zt&536870912)===0||a!==Ti))throw Ll=Zd,Ty;s.flags|=8192}}function hh(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?ul():536870912,s.lanes|=a,mo|=a)}function Kl(s,a){if(!Ht)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function he(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(a)for(var g=s.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=u,s.childLanes=l,a}function sx(s,a,l){var u=a.pendingProps;switch(qd(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(a),null;case 1:return he(a),null;case 3:return l=a.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),ts(Me),ci(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Ol(a)?ss(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,_y())),he(a),null;case 26:return l=a.memoizedState,s===null?(ss(a),l!==null?(he(a),zv(a,l)):(he(a),a.flags&=-16777217)):l?l!==s.memoizedState?(ss(a),he(a),zv(a,l)):(he(a),a.flags&=-16777217):(s.memoizedProps!==u&&ss(a),he(a),a.flags&=-16777217),null;case 27:Li(a),l=_t.current;var g=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==u&&ss(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return he(a),null}s=dt.current,Ol(a)?my(a):(s=z0(g,u,l),a.stateNode=s,ss(a))}return he(a),null;case 5:if(Li(a),l=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&ss(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return he(a),null}if(s=dt.current,Ol(a))my(a);else{switch(g=wh(_t.current),s){case 1:s=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=g.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof u.is=="string"?g.createElement("select",{is:u.is}):g.createElement("select"),u.multiple?s.multiple=!0:u.size&&(s.size=u.size);break;default:s=typeof u.is=="string"?g.createElement(l,{is:u.is}):g.createElement(l)}}s[Ce]=a,s[Te]=u;t:for(g=a.child;g!==null;){if(g.tag===5||g.tag===6)s.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===a)break t;for(;g.sibling===null;){if(g.return===null||g.return===a)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}a.stateNode=s;t:switch(Qe(s,l,u),l){case"button":case"input":case"select":case"textarea":s=!!u.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&ss(a)}}return he(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==u&&ss(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(s=_t.current,Ol(a)){if(s=a.stateNode,l=a.memoizedProps,u=null,g=cn,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}s[Ce]=a,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||M0(s.nodeValue,l)),s||ia(a)}else s=wh(s).createTextNode(u),s[Ce]=a,a.stateNode=s}return he(a),null;case 13:if(u=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=Ol(a),u!==null&&u.dehydrated!==null){if(s===null){if(!g)throw Error(i(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Ce]=a}else Dl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;he(a),g=!1}else g=_y(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(ns(a),a):(ns(a),null)}if(ns(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=u!==null,s=s!==null&&s.memoizedState!==null,l){u=a.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==g&&(u.flags|=2048)}return l!==s&&l&&(a.child.flags|=8192),hh(a,a.updateQueue),he(a),null;case 4:return ci(),s===null&&nm(a.stateNode.containerInfo),he(a),null;case 10:return ts(a.type),he(a),null;case 19:if(ct(ke),g=a.memoizedState,g===null)return he(a),null;if(u=(a.flags&128)!==0,p=g.rendering,p===null)if(u)Kl(g,!1);else{if(me!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(p=ah(s),p!==null){for(a.flags|=128,Kl(g,!1),s=p.updateQueue,a.updateQueue=s,hh(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)dy(l,s),l=l.sibling;return rt(ke,ke.current&1|2),a.child}s=s.sibling}g.tail!==null&&Mn()>gh&&(a.flags|=128,u=!0,Kl(g,!1),a.lanes=4194304)}else{if(!u)if(s=ah(p),s!==null){if(a.flags|=128,u=!0,s=s.updateQueue,a.updateQueue=s,hh(a,s),Kl(g,!0),g.tail===null&&g.tailMode==="hidden"&&!p.alternate&&!Ht)return he(a),null}else 2*Mn()-g.renderingStartTime>gh&&l!==536870912&&(a.flags|=128,u=!0,Kl(g,!1),a.lanes=4194304);g.isBackwards?(p.sibling=a.child,a.child=p):(s=g.last,s!==null?s.sibling=p:a.child=p,g.last=p)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=Mn(),a.sibling=null,s=ke.current,rt(ke,u?s&1|2:s&1),a):(he(a),null);case 22:case 23:return ns(a),sg(),u=a.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(he(a),a.subtreeFlags&6&&(a.flags|=8192)):he(a),l=a.updateQueue,l!==null&&hh(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),s!==null&&ct(aa),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),ts(Me),he(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function rx(s,a){switch(qd(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return ts(Me),ci(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Li(a),null;case 13:if(ns(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Dl()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return ct(ke),null;case 4:return ci(),null;case 10:return ts(a.type),null;case 22:case 23:return ns(a),sg(),s!==null&&ct(aa),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return ts(Me),null;case 25:return null;default:return null}}function Bv(s,a){switch(qd(a),a.tag){case 3:ts(Me),ci();break;case 26:case 27:case 5:Li(a);break;case 4:ci();break;case 13:ns(a);break;case 19:ct(ke);break;case 10:ts(a.type);break;case 22:case 23:ns(a),sg(),s!==null&&ct(aa);break;case 24:ts(Me)}}function Ql(s,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var g=u.next;l=g;do{if((l.tag&s)===s){u=void 0;var p=l.create,T=l.inst;u=p(),T.destroy=u}l=l.next}while(l!==g)}}catch(w){ne(a,a.return,w)}}function Ls(s,a,l){try{var u=a.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var p=g.next;u=p;do{if((u.tag&s)===s){var T=u.inst,w=T.destroy;if(w!==void 0){T.destroy=void 0,g=a;var M=l,F=w;try{F()}catch(X){ne(g,M,X)}}}u=u.next}while(u!==p)}}catch(X){ne(a,a.return,X)}}function jv(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{Iy(a,l)}catch(u){ne(s,s.return,u)}}}function Fv(s,a,l){l.props=la(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){ne(s,a,u)}}function Xl(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(g){ne(s,a,g)}}function Si(s,a){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(g){ne(s,a,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){ne(s,a,g)}else l.current=null}function Hv(s){var a=s.type,l=s.memoizedProps,u=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(g){ne(s,s.return,g)}}function Mg(s,a,l){try{var u=s.stateNode;xx(u,s.type,l,a),u[Te]=a}catch(g){ne(s,s.return,g)}}function qv(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Gs(s.type)||s.tag===4}function kg(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||qv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Gs(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ng(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Sh));else if(u!==4&&(u===27&&Gs(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(Ng(s,a,l),s=s.sibling;s!==null;)Ng(s,a,l),s=s.sibling}function fh(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(u!==4&&(u===27&&Gs(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(fh(s,a,l),s=s.sibling;s!==null;)fh(s,a,l),s=s.sibling}function Gv(s){var a=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);Qe(a,u,l),a[Ce]=s,a[Te]=l}catch(p){ne(s,s.return,p)}}var rs=!1,ye=!1,Pg=!1,Yv=typeof WeakSet=="function"?WeakSet:Set,Be=null;function ax(s,a){if(s=s.containerInfo,rm=Oh,s=iy(s),kd(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var g=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break t}var T=0,w=-1,M=-1,F=0,X=0,tt=s,q=null;e:for(;;){for(var G;tt!==l||g!==0&&tt.nodeType!==3||(w=T+g),tt!==p||u!==0&&tt.nodeType!==3||(M=T+u),tt.nodeType===3&&(T+=tt.nodeValue.length),(G=tt.firstChild)!==null;)q=tt,tt=G;for(;;){if(tt===s)break e;if(q===l&&++F===g&&(w=T),q===p&&++X===u&&(M=T),(G=tt.nextSibling)!==null)break;tt=q,q=tt.parentNode}tt=G}l=w===-1||M===-1?null:{start:w,end:M}}else l=null}l=l||{start:0,end:0}}else l=null;for(am={focusedElem:s,selectionRange:l},Oh=!1,Be=a;Be!==null;)if(a=Be,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,Be=s;else for(;Be!==null;){switch(a=Be,p=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&p!==null){s=void 0,l=a,g=p.memoizedProps,p=p.memoizedState,u=l.stateNode;try{var Tt=la(l.type,g,l.elementType===l.type);s=u.getSnapshotBeforeUpdate(Tt,p),u.__reactInternalSnapshotBeforeUpdate=s}catch(yt){ne(l,l.return,yt)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)cm(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":cm(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,Be=s;break}Be=a.return}}function Kv(s,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Us(s,l),u&4&&Ql(5,l);break;case 1:if(Us(s,l),u&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(T){ne(l,l.return,T)}else{var g=la(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(g,a,s.__reactInternalSnapshotBeforeUpdate)}catch(T){ne(l,l.return,T)}}u&64&&jv(l),u&512&&Xl(l,l.return);break;case 3:if(Us(s,l),u&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Iy(s,a)}catch(T){ne(l,l.return,T)}}break;case 27:a===null&&u&4&&Gv(l);case 26:case 5:Us(s,l),a===null&&u&4&&Hv(l),u&512&&Xl(l,l.return);break;case 12:Us(s,l);break;case 13:Us(s,l),u&4&&Wv(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=mx.bind(null,l),kx(s,l))));break;case 22:if(u=l.memoizedState!==null||rs,!u){a=a!==null&&a.memoizedState!==null||ye,g=rs;var p=ye;rs=u,(ye=a)&&!p?zs(s,l,(l.subtreeFlags&8772)!==0):Us(s,l),rs=g,ye=p}break;case 30:break;default:Us(s,l)}}function Qv(s){var a=s.alternate;a!==null&&(s.alternate=null,Qv(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&xs(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var ue=null,hn=!1;function as(s,a,l){for(l=l.child;l!==null;)Xv(s,a,l),l=l.sibling}function Xv(s,a,l){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(de,l)}catch{}switch(l.tag){case 26:ye||Si(l,a),as(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ye||Si(l,a);var u=ue,g=hn;Gs(l.type)&&(ue=l.stateNode,hn=!1),as(s,a,l),sc(l.stateNode),ue=u,hn=g;break;case 5:ye||Si(l,a);case 6:if(u=ue,g=hn,ue=null,as(s,a,l),ue=u,hn=g,ue!==null)if(hn)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(l.stateNode)}catch(p){ne(l,a,p)}else try{ue.removeChild(l.stateNode)}catch(p){ne(l,a,p)}break;case 18:ue!==null&&(hn?(s=ue,L0(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),fc(s)):L0(ue,l.stateNode));break;case 4:u=ue,g=hn,ue=l.stateNode.containerInfo,hn=!0,as(s,a,l),ue=u,hn=g;break;case 0:case 11:case 14:case 15:ye||Ls(2,l,a),ye||Ls(4,l,a),as(s,a,l);break;case 1:ye||(Si(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Fv(l,a,u)),as(s,a,l);break;case 21:as(s,a,l);break;case 22:ye=(u=ye)||l.memoizedState!==null,as(s,a,l),ye=u;break;default:as(s,a,l)}}function Wv(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{fc(s)}catch(l){ne(a,a.return,l)}}function ox(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new Yv),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new Yv),a;default:throw Error(i(435,s.tag))}}function Vg(s,a){var l=ox(s);a.forEach(function(u){var g=px.bind(null,s,u);l.has(u)||(l.add(u),u.then(g,g))})}function Sn(s,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var g=l[u],p=s,T=a,w=T;t:for(;w!==null;){switch(w.tag){case 27:if(Gs(w.type)){ue=w.stateNode,hn=!1;break t}break;case 5:ue=w.stateNode,hn=!1;break t;case 3:case 4:ue=w.stateNode.containerInfo,hn=!0;break t}w=w.return}if(ue===null)throw Error(i(160));Xv(p,T,g),ue=null,hn=!1,p=g.alternate,p!==null&&(p.return=null),g.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)$v(a,s),a=a.sibling}var Jn=null;function $v(s,a){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Sn(a,s),wn(s),u&4&&(Ls(3,s,s.return),Ql(3,s),Ls(5,s,s.return));break;case 1:Sn(a,s),wn(s),u&512&&(ye||l===null||Si(l,l.return)),u&64&&rs&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var g=Jn;if(Sn(a,s),wn(s),u&512&&(ye||l===null||Si(l,l.return)),u&4){var p=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){t:{u=s.type,l=s.memoizedProps,g=g.ownerDocument||g;e:switch(u){case"title":p=g.getElementsByTagName("title")[0],(!p||p[Lr]||p[Ce]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=g.createElement(u),g.head.insertBefore(p,g.querySelector("head > title"))),Qe(p,u,l),p[Ce]=s,pe(p),u=p;break t;case"link":var T=G0("link","href",g).get(u+(l.href||""));if(T){for(var w=0;w<T.length;w++)if(p=T[w],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(w,1);break e}}p=g.createElement(u),Qe(p,u,l),g.head.appendChild(p);break;case"meta":if(T=G0("meta","content",g).get(u+(l.content||""))){for(w=0;w<T.length;w++)if(p=T[w],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(w,1);break e}}p=g.createElement(u),Qe(p,u,l),g.head.appendChild(p);break;default:throw Error(i(468,u))}p[Ce]=s,pe(p),u=p}s.stateNode=u}else Y0(g,s.type,s.stateNode);else s.stateNode=q0(g,u,s.memoizedProps);else p!==u?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,u===null?Y0(g,s.type,s.stateNode):q0(g,u,s.memoizedProps)):u===null&&s.stateNode!==null&&Mg(s,s.memoizedProps,l.memoizedProps)}break;case 27:Sn(a,s),wn(s),u&512&&(ye||l===null||Si(l,l.return)),l!==null&&u&4&&Mg(s,s.memoizedProps,l.memoizedProps);break;case 5:if(Sn(a,s),wn(s),u&512&&(ye||l===null||Si(l,l.return)),s.flags&32){g=s.stateNode;try{Nn(g,"")}catch(G){ne(s,s.return,G)}}u&4&&s.stateNode!=null&&(g=s.memoizedProps,Mg(s,g,l!==null?l.memoizedProps:g)),u&1024&&(Pg=!0);break;case 6:if(Sn(a,s),wn(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(G){ne(s,s.return,G)}}break;case 3:if(Rh=null,g=Jn,Jn=Ah(a.containerInfo),Sn(a,s),Jn=g,wn(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{fc(a.containerInfo)}catch(G){ne(s,s.return,G)}Pg&&(Pg=!1,Zv(s));break;case 4:u=Jn,Jn=Ah(s.stateNode.containerInfo),Sn(a,s),wn(s),Jn=u;break;case 12:Sn(a,s),wn(s);break;case 13:Sn(a,s),wn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Fg=Mn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Vg(s,u)));break;case 22:g=s.memoizedState!==null;var M=l!==null&&l.memoizedState!==null,F=rs,X=ye;if(rs=F||g,ye=X||M,Sn(a,s),ye=X,rs=F,wn(s),u&8192)t:for(a=s.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(l===null||M||rs||ye||ca(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){M=l=a;try{if(p=M.stateNode,g)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{w=M.stateNode;var tt=M.memoizedProps.style,q=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;w.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(G){ne(M,M.return,G)}}}else if(a.tag===6){if(l===null){M=a;try{M.stateNode.nodeValue=g?"":M.memoizedProps}catch(G){ne(M,M.return,G)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Vg(s,l))));break;case 19:Sn(a,s),wn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Vg(s,u)));break;case 30:break;case 21:break;default:Sn(a,s),wn(s)}}function wn(s){var a=s.flags;if(a&2){try{for(var l,u=s.return;u!==null;){if(qv(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var g=l.stateNode,p=kg(s);fh(s,p,g);break;case 5:var T=l.stateNode;l.flags&32&&(Nn(T,""),l.flags&=-33);var w=kg(s);fh(s,w,T);break;case 3:case 4:var M=l.stateNode.containerInfo,F=kg(s);Ng(s,F,M);break;default:throw Error(i(161))}}catch(X){ne(s,s.return,X)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function Zv(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;Zv(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function Us(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Kv(s,a.alternate,a),a=a.sibling}function ca(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Ls(4,a,a.return),ca(a);break;case 1:Si(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&Fv(a,a.return,l),ca(a);break;case 27:sc(a.stateNode);case 26:case 5:Si(a,a.return),ca(a);break;case 22:a.memoizedState===null&&ca(a);break;case 30:ca(a);break;default:ca(a)}s=s.sibling}}function zs(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,g=s,p=a,T=p.flags;switch(p.tag){case 0:case 11:case 15:zs(g,p,l),Ql(4,p);break;case 1:if(zs(g,p,l),u=p,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(F){ne(u,u.return,F)}if(u=p,g=u.updateQueue,g!==null){var w=u.stateNode;try{var M=g.shared.hiddenCallbacks;if(M!==null)for(g.shared.hiddenCallbacks=null,g=0;g<M.length;g++)Ry(M[g],w)}catch(F){ne(u,u.return,F)}}l&&T&64&&jv(p),Xl(p,p.return);break;case 27:Gv(p);case 26:case 5:zs(g,p,l),l&&u===null&&T&4&&Hv(p),Xl(p,p.return);break;case 12:zs(g,p,l);break;case 13:zs(g,p,l),l&&T&4&&Wv(g,p);break;case 22:p.memoizedState===null&&zs(g,p,l),Xl(p,p.return);break;case 30:break;default:zs(g,p,l)}a=a.sibling}}function Lg(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Nl(l))}function Ug(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Nl(s))}function wi(s,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Jv(s,a,l,u),a=a.sibling}function Jv(s,a,l,u){var g=a.flags;switch(a.tag){case 0:case 11:case 15:wi(s,a,l,u),g&2048&&Ql(9,a);break;case 1:wi(s,a,l,u);break;case 3:wi(s,a,l,u),g&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Nl(s)));break;case 12:if(g&2048){wi(s,a,l,u),s=a.stateNode;try{var p=a.memoizedProps,T=p.id,w=p.onPostCommit;typeof w=="function"&&w(T,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(M){ne(a,a.return,M)}}else wi(s,a,l,u);break;case 13:wi(s,a,l,u);break;case 23:break;case 22:p=a.stateNode,T=a.alternate,a.memoizedState!==null?p._visibility&2?wi(s,a,l,u):Wl(s,a):p._visibility&2?wi(s,a,l,u):(p._visibility|=2,ho(s,a,l,u,(a.subtreeFlags&10256)!==0)),g&2048&&Lg(T,a);break;case 24:wi(s,a,l,u),g&2048&&Ug(a.alternate,a);break;default:wi(s,a,l,u)}}function ho(s,a,l,u,g){for(g=g&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var p=s,T=a,w=l,M=u,F=T.flags;switch(T.tag){case 0:case 11:case 15:ho(p,T,w,M,g),Ql(8,T);break;case 23:break;case 22:var X=T.stateNode;T.memoizedState!==null?X._visibility&2?ho(p,T,w,M,g):Wl(p,T):(X._visibility|=2,ho(p,T,w,M,g)),g&&F&2048&&Lg(T.alternate,T);break;case 24:ho(p,T,w,M,g),g&&F&2048&&Ug(T.alternate,T);break;default:ho(p,T,w,M,g)}a=a.sibling}}function Wl(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,u=a,g=u.flags;switch(u.tag){case 22:Wl(l,u),g&2048&&Lg(u.alternate,u);break;case 24:Wl(l,u),g&2048&&Ug(u.alternate,u);break;default:Wl(l,u)}a=a.sibling}}var $l=8192;function fo(s){if(s.subtreeFlags&$l)for(s=s.child;s!==null;)t0(s),s=s.sibling}function t0(s){switch(s.tag){case 26:fo(s),s.flags&$l&&s.memoizedState!==null&&Yx(Jn,s.memoizedState,s.memoizedProps);break;case 5:fo(s);break;case 3:case 4:var a=Jn;Jn=Ah(s.stateNode.containerInfo),fo(s),Jn=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=$l,$l=16777216,fo(s),$l=a):fo(s));break;default:fo(s)}}function e0(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Zl(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Be=u,i0(u,s)}e0(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)n0(s),s=s.sibling}function n0(s){switch(s.tag){case 0:case 11:case 15:Zl(s),s.flags&2048&&Ls(9,s,s.return);break;case 3:Zl(s);break;case 12:Zl(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,dh(s)):Zl(s);break;default:Zl(s)}}function dh(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Be=u,i0(u,s)}e0(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Ls(8,a,a.return),dh(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,dh(a));break;default:dh(a)}s=s.sibling}}function i0(s,a){for(;Be!==null;){var l=Be;switch(l.tag){case 0:case 11:case 15:Ls(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Nl(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Be=u;else t:for(l=s;Be!==null;){u=Be;var g=u.sibling,p=u.return;if(Qv(u),u===l){Be=null;break t}if(g!==null){g.return=p,Be=g;break t}Be=p}}}var lx={getCacheForType:function(s){var a=Je(Me),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l}},cx=typeof WeakMap=="function"?WeakMap:Map,Qt=0,re=null,Mt=null,zt=0,Xt=0,An=null,Bs=!1,go=!1,zg=!1,os=0,me=0,js=0,ua=0,Bg=0,Hn=0,mo=0,Jl=null,fn=null,jg=!1,Fg=0,gh=1/0,mh=null,Fs=null,Ke=0,Hs=null,po=null,_o=0,Hg=0,qg=null,s0=null,tc=0,Gg=null;function xn(){if((Qt&2)!==0&&zt!==0)return zt&-zt;if(Y.T!==null){var s=io;return s!==0?s:Zg()}return ws()}function r0(){Hn===0&&(Hn=(zt&536870912)===0||Ht?cl():536870912);var s=Fn.current;return s!==null&&(s.flags|=32),Hn}function Rn(s,a,l){(s===re&&(Xt===2||Xt===9)||s.cancelPendingCommit!==null)&&(yo(s,0),qs(s,zt,Hn,!1)),zi(s,l),((Qt&2)===0||s!==re)&&(s===re&&((Qt&2)===0&&(ua|=l),me===4&&qs(s,zt,Hn,!1)),Ai(s))}function a0(s,a,l){if((Qt&6)!==0)throw Error(i(327));var u=!l&&(a&124)===0&&(a&s.expiredLanes)===0||Vr(s,a),g=u?fx(s,a):Qg(s,a,!0),p=u;do{if(g===0){go&&!u&&qs(s,a,0,!1);break}else{if(l=s.current.alternate,p&&!ux(l)){g=Qg(s,a,!1),p=!1;continue}if(g===2){if(p=a,s.errorRecoveryDisabledLanes&p)var T=0;else T=s.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){a=T;t:{var w=s;g=Jl;var M=w.current.memoizedState.isDehydrated;if(M&&(yo(w,T).flags|=256),T=Qg(w,T,!1),T!==2){if(zg&&!M){w.errorRecoveryDisabledLanes|=p,ua|=p,g=4;break t}p=fn,fn=g,p!==null&&(fn===null?fn=p:fn.push.apply(fn,p))}g=T}if(p=!1,g!==2)continue}}if(g===1){yo(s,0),qs(s,a,0,!0);break}t:{switch(u=s,p=g,p){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:qs(u,a,Hn,!Bs);break t;case 2:fn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(g=Fg+300-Mn(),10<g)){if(qs(u,a,Hn,!Bs),Na(u,0,!0)!==0)break t;u.timeoutHandle=P0(o0.bind(null,u,l,fn,mh,jg,a,Hn,ua,mo,Bs,p,2,-0,0),g);break t}o0(u,l,fn,mh,jg,a,Hn,ua,mo,Bs,p,0,-0,0)}}break}while(!0);Ai(s)}function o0(s,a,l,u,g,p,T,w,M,F,X,tt,q,G){if(s.timeoutHandle=-1,tt=a.subtreeFlags,(tt&8192||(tt&16785408)===16785408)&&(oc={stylesheets:null,count:0,unsuspend:Gx},t0(a),tt=Kx(),tt!==null)){s.cancelPendingCommit=tt(g0.bind(null,s,a,p,l,u,g,T,w,M,X,1,q,G)),qs(s,p,T,!F);return}g0(s,a,p,l,u,g,T,w,M)}function ux(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var g=l[u],p=g.getSnapshot;g=g.value;try{if(!En(p(),g))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function qs(s,a,l,u){a&=~Bg,a&=~ua,s.suspendedLanes|=a,s.pingedLanes&=~a,u&&(s.warmLanes|=a),u=s.expirationTimes;for(var g=a;0<g;){var p=31-Ze(g),T=1<<p;u[p]=-1,g&=~T}l!==0&&ui(s,l,a)}function ph(){return(Qt&6)===0?(ec(0),!1):!0}function Yg(){if(Mt!==null){if(Xt===0)var s=Mt.return;else s=Mt,Ji=sa=null,cg(s),co=null,Gl=0,s=Mt;for(;s!==null;)Bv(s.alternate,s),s=s.return;Mt=null}}function yo(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,Ix(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Yg(),re=s,Mt=l=Wi(s.current,null),zt=a,Xt=0,An=null,Bs=!1,go=Vr(s,a),zg=!1,mo=Hn=Bg=ua=js=me=0,fn=Jl=null,jg=!1,(a&8)!==0&&(a|=a&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=a;0<u;){var g=31-Ze(u),p=1<<g;a|=s[g],u&=~p}return os=a,Uu(),l}function l0(s,a){Ct=null,Y.H=ih,a===Vl||a===Ku?(a=Ay(),Xt=3):a===Ty?(a=Ay(),Xt=4):Xt=a===xv?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,An=a,Mt===null&&(me=1,lh(s,Un(a,s.current)))}function c0(){var s=Y.H;return Y.H=ih,s===null?ih:s}function u0(){var s=Y.A;return Y.A=lx,s}function Kg(){me=4,Bs||(zt&4194048)!==zt&&Fn.current!==null||(go=!0),(js&134217727)===0&&(ua&134217727)===0||re===null||qs(re,zt,Hn,!1)}function Qg(s,a,l){var u=Qt;Qt|=2;var g=c0(),p=u0();(re!==s||zt!==a)&&(mh=null,yo(s,a)),a=!1;var T=me;t:do try{if(Xt!==0&&Mt!==null){var w=Mt,M=An;switch(Xt){case 8:Yg(),T=6;break t;case 3:case 2:case 9:case 6:Fn.current===null&&(a=!0);var F=Xt;if(Xt=0,An=null,vo(s,w,M,F),l&&go){T=0;break t}break;default:F=Xt,Xt=0,An=null,vo(s,w,M,F)}}hx(),T=me;break}catch(X){l0(s,X)}while(!0);return a&&s.shellSuspendCounter++,Ji=sa=null,Qt=u,Y.H=g,Y.A=p,Mt===null&&(re=null,zt=0,Uu()),T}function hx(){for(;Mt!==null;)h0(Mt)}function fx(s,a){var l=Qt;Qt|=2;var u=c0(),g=u0();re!==s||zt!==a?(mh=null,gh=Mn()+500,yo(s,a)):go=Vr(s,a);t:do try{if(Xt!==0&&Mt!==null){a=Mt;var p=An;e:switch(Xt){case 1:Xt=0,An=null,vo(s,a,p,1);break;case 2:case 9:if(Sy(p)){Xt=0,An=null,f0(a);break}a=function(){Xt!==2&&Xt!==9||re!==s||(Xt=7),Ai(s)},p.then(a,a);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:Sy(p)?(Xt=0,An=null,f0(a)):(Xt=0,An=null,vo(s,a,p,7));break;case 5:var T=null;switch(Mt.tag){case 26:T=Mt.memoizedState;case 5:case 27:var w=Mt;if(!T||K0(T)){Xt=0,An=null;var M=w.sibling;if(M!==null)Mt=M;else{var F=w.return;F!==null?(Mt=F,_h(F)):Mt=null}break e}}Xt=0,An=null,vo(s,a,p,5);break;case 6:Xt=0,An=null,vo(s,a,p,6);break;case 8:Yg(),me=6;break t;default:throw Error(i(462))}}dx();break}catch(X){l0(s,X)}while(!0);return Ji=sa=null,Y.H=u,Y.A=g,Qt=l,Mt!==null?0:(re=null,zt=0,Uu(),me)}function dx(){for(;Mt!==null&&!rl();)h0(Mt)}function h0(s){var a=Uv(s.alternate,s,os);s.memoizedProps=s.pendingProps,a===null?_h(s):Mt=a}function f0(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=Mv(l,a,a.pendingProps,a.type,void 0,zt);break;case 11:a=Mv(l,a,a.pendingProps,a.type.render,a.ref,zt);break;case 5:cg(a);default:Bv(l,a),a=Mt=dy(a,os),a=Uv(l,a,os)}s.memoizedProps=s.pendingProps,a===null?_h(s):Mt=a}function vo(s,a,l,u){Ji=sa=null,cg(a),co=null,Gl=0;var g=a.return;try{if(nx(s,g,a,l,zt)){me=1,lh(s,Un(l,s.current)),Mt=null;return}}catch(p){if(g!==null)throw Mt=g,p;me=1,lh(s,Un(l,s.current)),Mt=null;return}a.flags&32768?(Ht||u===1?s=!0:go||(zt&536870912)!==0?s=!1:(Bs=s=!0,(u===2||u===9||u===3||u===6)&&(u=Fn.current,u!==null&&u.tag===13&&(u.flags|=16384))),d0(a,s)):_h(a)}function _h(s){var a=s;do{if((a.flags&32768)!==0){d0(a,Bs);return}s=a.return;var l=sx(a.alternate,a,os);if(l!==null){Mt=l;return}if(a=a.sibling,a!==null){Mt=a;return}Mt=a=s}while(a!==null);me===0&&(me=5)}function d0(s,a){do{var l=rx(s.alternate,s);if(l!==null){l.flags&=32767,Mt=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){Mt=s;return}Mt=s=l}while(s!==null);me=6,Mt=null}function g0(s,a,l,u,g,p,T,w,M){s.cancelPendingCommit=null;do yh();while(Ke!==0);if((Qt&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(p=a.lanes|a.childLanes,p|=Ud,hl(s,l,p,T,w,M),s===re&&(Mt=re=null,zt=0),po=a,Hs=s,_o=l,Hg=p,qg=g,s0=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,_x(Mr,function(){return v0(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=Y.T,Y.T=null,g=at.p,at.p=2,T=Qt,Qt|=4;try{ax(s,a,l)}finally{Qt=T,at.p=g,Y.T=u}}Ke=1,m0(),p0(),_0()}}function m0(){if(Ke===1){Ke=0;var s=Hs,a=po,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null;var u=at.p;at.p=2;var g=Qt;Qt|=4;try{$v(a,s);var p=am,T=iy(s.containerInfo),w=p.focusedElem,M=p.selectionRange;if(T!==w&&w&&w.ownerDocument&&ny(w.ownerDocument.documentElement,w)){if(M!==null&&kd(w)){var F=M.start,X=M.end;if(X===void 0&&(X=F),"selectionStart"in w)w.selectionStart=F,w.selectionEnd=Math.min(X,w.value.length);else{var tt=w.ownerDocument||document,q=tt&&tt.defaultView||window;if(q.getSelection){var G=q.getSelection(),Tt=w.textContent.length,yt=Math.min(M.start,Tt),ee=M.end===void 0?yt:Math.min(M.end,Tt);!G.extend&&yt>ee&&(T=ee,ee=yt,yt=T);var z=ey(w,yt),U=ey(w,ee);if(z&&U&&(G.rangeCount!==1||G.anchorNode!==z.node||G.anchorOffset!==z.offset||G.focusNode!==U.node||G.focusOffset!==U.offset)){var j=tt.createRange();j.setStart(z.node,z.offset),G.removeAllRanges(),yt>ee?(G.addRange(j),G.extend(U.node,U.offset)):(j.setEnd(U.node,U.offset),G.addRange(j))}}}}for(tt=[],G=w;G=G.parentNode;)G.nodeType===1&&tt.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<tt.length;w++){var $=tt[w];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Oh=!!rm,am=rm=null}finally{Qt=g,at.p=u,Y.T=l}}s.current=a,Ke=2}}function p0(){if(Ke===2){Ke=0;var s=Hs,a=po,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=Y.T,Y.T=null;var u=at.p;at.p=2;var g=Qt;Qt|=4;try{Kv(s,a.alternate,a)}finally{Qt=g,at.p=u,Y.T=l}}Ke=3}}function _0(){if(Ke===4||Ke===3){Ke=0,du();var s=Hs,a=po,l=_o,u=s0;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ke=5:(Ke=0,po=Hs=null,y0(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(Fs=null),Pa(l),a=a.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(de,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=Y.T,g=at.p,at.p=2,Y.T=null;try{for(var p=s.onRecoverableError,T=0;T<u.length;T++){var w=u[T];p(w.value,{componentStack:w.stack})}}finally{Y.T=a,at.p=g}}(_o&3)!==0&&yh(),Ai(s),g=s.pendingLanes,(l&4194090)!==0&&(g&42)!==0?s===Gg?tc++:(tc=0,Gg=s):tc=0,ec(0)}}function y0(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Nl(a)))}function yh(s){return m0(),p0(),_0(),v0()}function v0(){if(Ke!==5)return!1;var s=Hs,a=Hg;Hg=0;var l=Pa(_o),u=Y.T,g=at.p;try{at.p=32>l?32:l,Y.T=null,l=qg,qg=null;var p=Hs,T=_o;if(Ke=0,po=Hs=null,_o=0,(Qt&6)!==0)throw Error(i(331));var w=Qt;if(Qt|=4,n0(p.current),Jv(p,p.current,T,l),Qt=w,ec(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(de,p)}catch{}return!0}finally{at.p=g,Y.T=u,y0(s,a)}}function b0(s,a,l){a=Un(l,a),a=Sg(s.stateNode,a,2),s=ks(s,a,2),s!==null&&(zi(s,2),Ai(s))}function ne(s,a,l){if(s.tag===3)b0(s,s,l);else for(;a!==null;){if(a.tag===3){b0(a,s,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Fs===null||!Fs.has(u))){s=Un(l,s),l=wv(2),u=ks(a,l,2),u!==null&&(Av(l,u,a,s),zi(u,2),Ai(u));break}}a=a.return}}function Xg(s,a,l){var u=s.pingCache;if(u===null){u=s.pingCache=new cx;var g=new Set;u.set(a,g)}else g=u.get(a),g===void 0&&(g=new Set,u.set(a,g));g.has(l)||(zg=!0,g.add(l),s=gx.bind(null,s,a,l),a.then(s,s))}function gx(s,a,l){var u=s.pingCache;u!==null&&u.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,re===s&&(zt&l)===l&&(me===4||me===3&&(zt&62914560)===zt&&300>Mn()-Fg?(Qt&2)===0&&yo(s,0):Bg|=l,mo===zt&&(mo=0)),Ai(s)}function E0(s,a){a===0&&(a=ul()),s=Ja(s,a),s!==null&&(zi(s,a),Ai(s))}function mx(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),E0(s,l)}function px(s,a){var l=0;switch(s.tag){case 13:var u=s.stateNode,g=s.memoizedState;g!==null&&(l=g.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),E0(s,l)}function _x(s,a){return Or(s,a)}var vh=null,bo=null,Wg=!1,bh=!1,$g=!1,ha=0;function Ai(s){s!==bo&&s.next===null&&(bo===null?vh=bo=s:bo=bo.next=s),bh=!0,Wg||(Wg=!0,vx())}function ec(s,a){if(!$g&&bh){$g=!0;do for(var l=!1,u=vh;u!==null;){if(s!==0){var g=u.pendingLanes;if(g===0)var p=0;else{var T=u.suspendedLanes,w=u.pingedLanes;p=(1<<31-Ze(42|s)+1)-1,p&=g&~(T&~w),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,A0(u,p))}else p=zt,p=Na(u,u===re?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||Vr(u,p)||(l=!0,A0(u,p));u=u.next}while(l);$g=!1}}function yx(){T0()}function T0(){bh=Wg=!1;var s=0;ha!==0&&(Rx()&&(s=ha),ha=0);for(var a=Mn(),l=null,u=vh;u!==null;){var g=u.next,p=S0(u,a);p===0?(u.next=null,l===null?vh=g:l.next=g,g===null&&(bo=l)):(l=u,(s!==0||(p&3)!==0)&&(bh=!0)),u=g}ec(s)}function S0(s,a){for(var l=s.suspendedLanes,u=s.pingedLanes,g=s.expirationTimes,p=s.pendingLanes&-62914561;0<p;){var T=31-Ze(p),w=1<<T,M=g[T];M===-1?((w&l)===0||(w&u)!==0)&&(g[T]=ll(w,a)):M<=a&&(s.expiredLanes|=w),p&=~w}if(a=re,l=zt,l=Na(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===a&&(Xt===2||Xt===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&Dr(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||Vr(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(u!==null&&Dr(u),Pa(l)){case 2:case 8:l=Ma;break;case 32:l=Mr;break;case 268435456:l=ka;break;default:l=Mr}return u=w0.bind(null,s),l=Or(l,u),s.callbackPriority=a,s.callbackNode=l,a}return u!==null&&u!==null&&Dr(u),s.callbackPriority=2,s.callbackNode=null,2}function w0(s,a){if(Ke!==0&&Ke!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(yh()&&s.callbackNode!==l)return null;var u=zt;return u=Na(s,s===re?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(a0(s,u,a),S0(s,Mn()),s.callbackNode!=null&&s.callbackNode===l?w0.bind(null,s):null)}function A0(s,a){if(yh())return null;a0(s,a,!0)}function vx(){Cx(function(){(Qt&6)!==0?Or(al,yx):T0()})}function Zg(){return ha===0&&(ha=cl()),ha}function x0(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:ja(""+s)}function R0(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function bx(s,a,l,u,g){if(a==="submit"&&l&&l.stateNode===g){var p=x0((g[Te]||null).action),T=u.submitter;T&&(a=(a=T[Te]||null)?x0(a.formAction):T.getAttribute("formAction"),a!==null&&(p=a,T=null));var w=new Fa("action","action",null,u,g);s.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ha!==0){var M=T?R0(g,T):new FormData(g);yg(l,{pending:!0,data:M,method:g.method,action:p},null,M)}}else typeof p=="function"&&(w.preventDefault(),M=T?R0(g,T):new FormData(g),yg(l,{pending:!0,data:M,method:g.method,action:p},p,M))},currentTarget:g}]})}}for(var Jg=0;Jg<Ld.length;Jg++){var tm=Ld[Jg],Ex=tm.toLowerCase(),Tx=tm[0].toUpperCase()+tm.slice(1);Zn(Ex,"on"+Tx)}Zn(ay,"onAnimationEnd"),Zn(oy,"onAnimationIteration"),Zn(ly,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(zA,"onTransitionRun"),Zn(BA,"onTransitionStart"),Zn(jA,"onTransitionCancel"),Zn(cy,"onTransitionEnd"),ji("onMouseEnter",["mouseout","mouseover"]),ji("onMouseLeave",["mouseout","mouseover"]),ji("onPointerEnter",["pointerout","pointerover"]),ji("onPointerLeave",["pointerout","pointerover"]),Wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nc));function I0(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],g=u.event;u=u.listeners;t:{var p=void 0;if(a)for(var T=u.length-1;0<=T;T--){var w=u[T],M=w.instance,F=w.currentTarget;if(w=w.listener,M!==p&&g.isPropagationStopped())break t;p=w,g.currentTarget=F;try{p(g)}catch(X){oh(X)}g.currentTarget=null,p=M}else for(T=0;T<u.length;T++){if(w=u[T],M=w.instance,F=w.currentTarget,w=w.listener,M!==p&&g.isPropagationStopped())break t;p=w,g.currentTarget=F;try{p(g)}catch(X){oh(X)}g.currentTarget=null,p=M}}}}function kt(s,a){var l=a[dl];l===void 0&&(l=a[dl]=new Set);var u=s+"__bubble";l.has(u)||(C0(a,s,2,!1),l.add(u))}function em(s,a,l){var u=0;a&&(u|=4),C0(l,s,u,a)}var Eh="_reactListening"+Math.random().toString(36).slice(2);function nm(s){if(!s[Eh]){s[Eh]=!0,gl.forEach(function(l){l!=="selectionchange"&&(Sx.has(l)||em(l,!1,s),em(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Eh]||(a[Eh]=!0,em("selectionchange",!1,a))}}function C0(s,a,l,u){switch(J0(a)){case 2:var g=Wx;break;case 8:g=$x;break;default:g=pm}l=g.bind(null,a,l,s),g=void 0,!Vn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),u?g!==void 0?s.addEventListener(a,l,{capture:!0,passive:g}):s.addEventListener(a,l,!0):g!==void 0?s.addEventListener(a,l,{passive:g}):s.addEventListener(a,l,!1)}function im(s,a,l,u,g){var p=u;if((a&1)===0&&(a&2)===0&&u!==null)t:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var w=u.stateNode.containerInfo;if(w===g)break;if(T===4)for(T=u.return;T!==null;){var M=T.tag;if((M===3||M===4)&&T.stateNode.containerInfo===g)return;T=T.return}for(;w!==null;){if(T=Bi(w),T===null)return;if(M=T.tag,M===5||M===6||M===26||M===27){u=p=T;continue t}w=w.parentNode}}u=u.return}Su(function(){var F=p,X=Pn(l),tt=[];t:{var q=uy.get(s);if(q!==void 0){var G=Fa,Tt=s;switch(s){case"keypress":if(pi(l)===0)break t;case"keydown":case"keyup":G=Qa;break;case"focusin":Tt="focus",G=Ga;break;case"focusout":Tt="blur",G=Ga;break;case"beforeblur":case"afterblur":G=Ga;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Ln;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Cd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Du;break;case ay:case oy:case ly:G=Ya;break;case cy:G=ku;break;case"scroll":case"scrollend":G=wu;break;case"wheel":G=Xa;break;case"copy":case"cut":case"paste":G=Ka;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=xl;break;case"toggle":case"beforetoggle":G=Pu}var yt=(a&4)!==0,ee=!yt&&(s==="scroll"||s==="scrollend"),z=yt?q!==null?q+"Capture":null:q;yt=[];for(var U=F,j;U!==null;){var $=U;if(j=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||j===null||z===null||($=qr(U,z),$!=null&&yt.push(ic(U,$,j))),ee)break;U=U.return}0<yt.length&&(q=new G(q,Tt,null,l,X),tt.push({event:q,listeners:yt}))}}if((a&7)===0){t:{if(q=s==="mouseover"||s==="pointerover",G=s==="mouseout"||s==="pointerout",q&&l!==qi&&(Tt=l.relatedTarget||l.fromElement)&&(Bi(Tt)||Tt[kn]))break t;if((G||q)&&(q=X.window===X?X:(q=X.ownerDocument)?q.defaultView||q.parentWindow:window,G?(Tt=l.relatedTarget||l.toElement,G=F,Tt=Tt?Bi(Tt):null,Tt!==null&&(ee=o(Tt),yt=Tt.tag,Tt!==ee||yt!==5&&yt!==27&&yt!==6)&&(Tt=null)):(G=null,Tt=F),G!==Tt)){if(yt=Ln,$="onMouseLeave",z="onMouseEnter",U="mouse",(s==="pointerout"||s==="pointerover")&&(yt=xl,$="onPointerLeave",z="onPointerEnter",U="pointer"),ee=G==null?q:fi(G),j=Tt==null?q:fi(Tt),q=new yt($,U+"leave",G,l,X),q.target=ee,q.relatedTarget=j,$=null,Bi(X)===F&&(yt=new yt(z,U+"enter",Tt,l,X),yt.target=j,yt.relatedTarget=ee,$=yt),ee=$,G&&Tt)e:{for(yt=G,z=Tt,U=0,j=yt;j;j=Eo(j))U++;for(j=0,$=z;$;$=Eo($))j++;for(;0<U-j;)yt=Eo(yt),U--;for(;0<j-U;)z=Eo(z),j--;for(;U--;){if(yt===z||z!==null&&yt===z.alternate)break e;yt=Eo(yt),z=Eo(z)}yt=null}else yt=null;G!==null&&O0(tt,q,G,yt,!1),Tt!==null&&ee!==null&&O0(tt,ee,Tt,yt,!0)}}t:{if(q=F?fi(F):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var ft=X_;else if(De(q))if(W_)ft=VA;else{ft=NA;var Dt=kA}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?F&&vl(F.elementType)&&(ft=X_):ft=PA;if(ft&&(ft=ft(s,F))){Xi(tt,ft,l,X);break t}Dt&&Dt(s,q,F),s==="focusout"&&F&&q.type==="number"&&F.memoizedProps.value!=null&&Is(q,"number",q.value)}switch(Dt=F?fi(F):window,s){case"focusin":(De(Dt)||Dt.contentEditable==="true")&&(Wa=Dt,Nd=F,Cl=null);break;case"focusout":Cl=Nd=Wa=null;break;case"mousedown":Pd=!0;break;case"contextmenu":case"mouseup":case"dragend":Pd=!1,sy(tt,l,X);break;case"selectionchange":if(UA)break;case"keydown":case"keyup":sy(tt,l,X)}var mt;if(vi)t:{switch(s){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else Lt?K(s,l)&&(vt="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(vt="onCompositionStart");vt&&(E&&l.locale!=="ko"&&(Lt||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&Lt&&(mt=El()):(mi=X,Cs="value"in mi?mi.value:mi.textContent,Lt=!0)),Dt=Th(F,vt),0<Dt.length&&(vt=new wl(vt,s,null,l,X),tt.push({event:vt,listeners:Dt}),mt?vt.data=mt:(mt=lt(l),mt!==null&&(vt.data=mt)))),(mt=y?Oe(s,l):Ut(s,l))&&(vt=Th(F,"onBeforeInput"),0<vt.length&&(Dt=new wl("onBeforeInput","beforeinput",null,l,X),tt.push({event:Dt,listeners:vt}),Dt.data=mt)),bx(tt,s,F,l,X)}I0(tt,a)})}function ic(s,a,l){return{instance:s,listener:a,currentTarget:l}}function Th(s,a){for(var l=a+"Capture",u=[];s!==null;){var g=s,p=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||p===null||(g=qr(s,l),g!=null&&u.unshift(ic(s,g,p)),g=qr(s,a),g!=null&&u.push(ic(s,g,p))),s.tag===3)return u;s=s.return}return[]}function Eo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function O0(s,a,l,u,g){for(var p=a._reactName,T=[];l!==null&&l!==u;){var w=l,M=w.alternate,F=w.stateNode;if(w=w.tag,M!==null&&M===u)break;w!==5&&w!==26&&w!==27||F===null||(M=F,g?(F=qr(l,p),F!=null&&T.unshift(ic(l,F,M))):g||(F=qr(l,p),F!=null&&T.push(ic(l,F,M)))),l=l.return}T.length!==0&&s.push({event:a,listeners:T})}var wx=/\r\n?/g,Ax=/\u0000|\uFFFD/g;function D0(s){return(typeof s=="string"?s:""+s).replace(wx,`
`).replace(Ax,"")}function M0(s,a){return a=D0(a),D0(s)===a}function Sh(){}function te(s,a,l,u,g,p){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||Nn(s,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&Nn(s,""+u);break;case"className":di(s,"class",u);break;case"tabIndex":di(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":di(s,l,u);break;case"style":yl(s,u,p);break;case"data":if(a!=="object"){di(s,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=ja(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(a!=="input"&&te(s,a,"name",g.name,g,null),te(s,a,"formEncType",g.formEncType,g,null),te(s,a,"formMethod",g.formMethod,g,null),te(s,a,"formTarget",g.formTarget,g,null)):(te(s,a,"encType",g.encType,g,null),te(s,a,"method",g.method,g,null),te(s,a,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=ja(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=Sh);break;case"onScroll":u!=null&&kt("scroll",s);break;case"onScrollEnd":u!=null&&kt("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=ja(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":kt("beforetoggle",s),kt("toggle",s),Rs(s,"popover",u);break;case"xlinkActuate":qe(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":qe(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":qe(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":qe(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":qe(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":qe(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":qe(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":qe(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":qe(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Rs(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Rd.get(l)||l,Rs(s,l,u))}}function sm(s,a,l,u,g,p){switch(l){case"style":yl(s,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof u=="string"?Nn(s,u):(typeof u=="number"||typeof u=="bigint")&&Nn(s,""+u);break;case"onScroll":u!=null&&kt("scroll",s);break;case"onScrollEnd":u!=null&&kt("scrollend",s);break;case"onClick":u!=null&&(s.onclick=Sh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Va.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),a=l.slice(2,g?l.length-7:void 0),p=s[Te]||null,p=p!=null?p[l]:null,typeof p=="function"&&s.removeEventListener(a,p,g),typeof u=="function")){typeof p!="function"&&p!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,u,g);break t}l in s?s[l]=u:u===!0?s.setAttribute(l,""):Rs(s,l,u)}}}function Qe(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",s),kt("load",s);var u=!1,g=!1,p;for(p in l)if(l.hasOwnProperty(p)){var T=l[p];if(T!=null)switch(p){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:te(s,a,p,T,l,null)}}g&&te(s,a,"srcSet",l.srcSet,l,null),u&&te(s,a,"src",l.src,l,null);return;case"input":kt("invalid",s);var w=p=T=g=null,M=null,F=null;for(u in l)if(l.hasOwnProperty(u)){var X=l[u];if(X!=null)switch(u){case"name":g=X;break;case"type":T=X;break;case"checked":M=X;break;case"defaultChecked":F=X;break;case"value":p=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,a));break;default:te(s,a,u,X,l,null)}}jr(s,p,w,M,F,T,g,!1),Ba(s);return;case"select":kt("invalid",s),u=T=p=null;for(g in l)if(l.hasOwnProperty(g)&&(w=l[g],w!=null))switch(g){case"value":p=w;break;case"defaultValue":T=w;break;case"multiple":u=w;default:te(s,a,g,w,l,null)}a=p,l=T,s.multiple=!!u,a!=null?Hi(s,!!u,a,!1):l!=null&&Hi(s,!!u,l,!0);return;case"textarea":kt("invalid",s),p=g=u=null;for(T in l)if(l.hasOwnProperty(T)&&(w=l[T],w!=null))switch(T){case"value":u=w;break;case"defaultValue":g=w;break;case"children":p=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:te(s,a,T,w,l,null)}Fr(s,u,g,p),Ba(s);return;case"option":for(M in l)if(l.hasOwnProperty(M)&&(u=l[M],u!=null))switch(M){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:te(s,a,M,u,l,null)}return;case"dialog":kt("beforetoggle",s),kt("toggle",s),kt("cancel",s),kt("close",s);break;case"iframe":case"object":kt("load",s);break;case"video":case"audio":for(u=0;u<nc.length;u++)kt(nc[u],s);break;case"image":kt("error",s),kt("load",s);break;case"details":kt("toggle",s);break;case"embed":case"source":case"link":kt("error",s),kt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in l)if(l.hasOwnProperty(F)&&(u=l[F],u!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:te(s,a,F,u,l,null)}return;default:if(vl(a)){for(X in l)l.hasOwnProperty(X)&&(u=l[X],u!==void 0&&sm(s,a,X,u,l,void 0));return}}for(w in l)l.hasOwnProperty(w)&&(u=l[w],u!=null&&te(s,a,w,u,l,null))}function xx(s,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,p=null,T=null,w=null,M=null,F=null,X=null;for(G in l){var tt=l[G];if(l.hasOwnProperty(G)&&tt!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":M=tt;default:u.hasOwnProperty(G)||te(s,a,G,null,u,tt)}}for(var q in u){var G=u[q];if(tt=l[q],u.hasOwnProperty(q)&&(G!=null||tt!=null))switch(q){case"type":p=G;break;case"name":g=G;break;case"checked":F=G;break;case"defaultChecked":X=G;break;case"value":T=G;break;case"defaultValue":w=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,a));break;default:G!==tt&&te(s,a,q,G,u,tt)}}bn(s,T,w,M,F,X,p,g);return;case"select":G=T=w=q=null;for(p in l)if(M=l[p],l.hasOwnProperty(p)&&M!=null)switch(p){case"value":break;case"multiple":G=M;default:u.hasOwnProperty(p)||te(s,a,p,null,u,M)}for(g in u)if(p=u[g],M=l[g],u.hasOwnProperty(g)&&(p!=null||M!=null))switch(g){case"value":q=p;break;case"defaultValue":w=p;break;case"multiple":T=p;default:p!==M&&te(s,a,g,p,u,M)}a=w,l=T,u=G,q!=null?Hi(s,!!l,q,!1):!!u!=!!l&&(a!=null?Hi(s,!!l,a,!0):Hi(s,!!l,l?[]:"",!1));return;case"textarea":G=q=null;for(w in l)if(g=l[w],l.hasOwnProperty(w)&&g!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:te(s,a,w,null,u,g)}for(T in u)if(g=u[T],p=l[T],u.hasOwnProperty(T)&&(g!=null||p!=null))switch(T){case"value":q=g;break;case"defaultValue":G=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==p&&te(s,a,T,g,u,p)}Zt(s,q,G);return;case"option":for(var Tt in l)if(q=l[Tt],l.hasOwnProperty(Tt)&&q!=null&&!u.hasOwnProperty(Tt))switch(Tt){case"selected":s.selected=!1;break;default:te(s,a,Tt,null,u,q)}for(M in u)if(q=u[M],G=l[M],u.hasOwnProperty(M)&&q!==G&&(q!=null||G!=null))switch(M){case"selected":s.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:te(s,a,M,q,u,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in l)q=l[yt],l.hasOwnProperty(yt)&&q!=null&&!u.hasOwnProperty(yt)&&te(s,a,yt,null,u,q);for(F in u)if(q=u[F],G=l[F],u.hasOwnProperty(F)&&q!==G&&(q!=null||G!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,a));break;default:te(s,a,F,q,u,G)}return;default:if(vl(a)){for(var ee in l)q=l[ee],l.hasOwnProperty(ee)&&q!==void 0&&!u.hasOwnProperty(ee)&&sm(s,a,ee,void 0,u,q);for(X in u)q=u[X],G=l[X],!u.hasOwnProperty(X)||q===G||q===void 0&&G===void 0||sm(s,a,X,q,u,G);return}}for(var z in l)q=l[z],l.hasOwnProperty(z)&&q!=null&&!u.hasOwnProperty(z)&&te(s,a,z,null,u,q);for(tt in u)q=u[tt],G=l[tt],!u.hasOwnProperty(tt)||q===G||q==null&&G==null||te(s,a,tt,q,u,G)}var rm=null,am=null;function wh(s){return s.nodeType===9?s:s.ownerDocument}function k0(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function N0(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function om(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var lm=null;function Rx(){var s=window.event;return s&&s.type==="popstate"?s===lm?!1:(lm=s,!0):(lm=null,!1)}var P0=typeof setTimeout=="function"?setTimeout:void 0,Ix=typeof clearTimeout=="function"?clearTimeout:void 0,V0=typeof Promise=="function"?Promise:void 0,Cx=typeof queueMicrotask=="function"?queueMicrotask:typeof V0<"u"?function(s){return V0.resolve(null).then(s).catch(Ox)}:P0;function Ox(s){setTimeout(function(){throw s})}function Gs(s){return s==="head"}function L0(s,a){var l=a,u=0,g=0;do{var p=l.nextSibling;if(s.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(0<u&&8>u){l=u;var T=s.ownerDocument;if(l&1&&sc(T.documentElement),l&2&&sc(T.body),l&4)for(l=T.head,sc(l),T=l.firstChild;T;){var w=T.nextSibling,M=T.nodeName;T[Lr]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&T.rel.toLowerCase()==="stylesheet"||l.removeChild(T),T=w}}if(g===0){s.removeChild(p),fc(a);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:u=l.charCodeAt(0)-48;else u=0;l=p}while(l);fc(a)}function cm(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":cm(l),xs(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function Dx(s,a,l,u){for(;s.nodeType===1;){var g=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Lr])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(p=s.getAttribute("rel"),p==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(p!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(p=s.getAttribute("src"),(p!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&p&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var p=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===p)return s}else return s;if(s=ti(s.nextSibling),s===null)break}return null}function Mx(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=ti(s.nextSibling),s===null))return null;return s}function um(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function kx(s,a){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function ti(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var hm=null;function U0(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return s;a--}else l==="/$"&&a++}s=s.previousSibling}return null}function z0(s,a,l){switch(a=wh(l),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function sc(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);xs(s)}var qn=new Map,B0=new Set;function Ah(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ls=at.d;at.d={f:Nx,r:Px,D:Vx,C:Lx,L:Ux,m:zx,X:jx,S:Bx,M:Fx};function Nx(){var s=ls.f(),a=ph();return s||a}function Px(s){var a=hi(s);a!==null&&a.tag===5&&a.type==="form"?av(a):ls.r(s)}var To=typeof document>"u"?null:document;function j0(s,a,l){var u=To;if(u&&typeof a=="string"&&a){var g=Se(a);g='link[rel="'+s+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),B0.has(g)||(B0.add(g),s={rel:s,crossOrigin:l,href:a},u.querySelector(g)===null&&(a=u.createElement("link"),Qe(a,"link",s),pe(a),u.head.appendChild(a)))}}function Vx(s){ls.D(s),j0("dns-prefetch",s,null)}function Lx(s,a){ls.C(s,a),j0("preconnect",s,a)}function Ux(s,a,l){ls.L(s,a,l);var u=To;if(u&&s&&a){var g='link[rel="preload"][as="'+Se(a)+'"]';a==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+Se(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+Se(l.imageSizes)+'"]')):g+='[href="'+Se(s)+'"]';var p=g;switch(a){case"style":p=So(s);break;case"script":p=wo(s)}qn.has(p)||(s=_({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),qn.set(p,s),u.querySelector(g)!==null||a==="style"&&u.querySelector(rc(p))||a==="script"&&u.querySelector(ac(p))||(a=u.createElement("link"),Qe(a,"link",s),pe(a),u.head.appendChild(a)))}}function zx(s,a){ls.m(s,a);var l=To;if(l&&s){var u=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+Se(u)+'"][href="'+Se(s)+'"]',p=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=wo(s)}if(!qn.has(p)&&(s=_({rel:"modulepreload",href:s},a),qn.set(p,s),l.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(ac(p)))return}u=l.createElement("link"),Qe(u,"link",s),pe(u),l.head.appendChild(u)}}}function Bx(s,a,l){ls.S(s,a,l);var u=To;if(u&&s){var g=an(u).hoistableStyles,p=So(s);a=a||"default";var T=g.get(p);if(!T){var w={loading:0,preload:null};if(T=u.querySelector(rc(p)))w.loading=5;else{s=_({rel:"stylesheet",href:s,"data-precedence":a},l),(l=qn.get(p))&&fm(s,l);var M=T=u.createElement("link");pe(M),Qe(M,"link",s),M._p=new Promise(function(F,X){M.onload=F,M.onerror=X}),M.addEventListener("load",function(){w.loading|=1}),M.addEventListener("error",function(){w.loading|=2}),w.loading|=4,xh(T,a,u)}T={type:"stylesheet",instance:T,count:1,state:w},g.set(p,T)}}}function jx(s,a){ls.X(s,a);var l=To;if(l&&s){var u=an(l).hoistableScripts,g=wo(s),p=u.get(g);p||(p=l.querySelector(ac(g)),p||(s=_({src:s,async:!0},a),(a=qn.get(g))&&dm(s,a),p=l.createElement("script"),pe(p),Qe(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(g,p))}}function Fx(s,a){ls.M(s,a);var l=To;if(l&&s){var u=an(l).hoistableScripts,g=wo(s),p=u.get(g);p||(p=l.querySelector(ac(g)),p||(s=_({src:s,async:!0,type:"module"},a),(a=qn.get(g))&&dm(s,a),p=l.createElement("script"),pe(p),Qe(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(g,p))}}function F0(s,a,l,u){var g=(g=_t.current)?Ah(g):null;if(!g)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=So(l.href),l=an(g).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=So(l.href);var p=an(g).hoistableStyles,T=p.get(s);if(T||(g=g.ownerDocument||g,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(s,T),(p=g.querySelector(rc(s)))&&!p._p&&(T.instance=p,T.state.loading=5),qn.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},qn.set(s,l),p||Hx(g,s,l,T.state))),a&&u===null)throw Error(i(528,""));return T}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=wo(l),l=an(g).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function So(s){return'href="'+Se(s)+'"'}function rc(s){return'link[rel="stylesheet"]['+s+"]"}function H0(s){return _({},s,{"data-precedence":s.precedence,precedence:null})}function Hx(s,a,l,u){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=s.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),Qe(a,"link",l),pe(a),s.head.appendChild(a))}function wo(s){return'[src="'+Se(s)+'"]'}function ac(s){return"script[async]"+s}function q0(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=s.querySelector('style[data-href~="'+Se(l.href)+'"]');if(u)return a.instance=u,pe(u),u;var g=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),pe(u),Qe(u,"style",g),xh(u,l.precedence,s),a.instance=u;case"stylesheet":g=So(l.href);var p=s.querySelector(rc(g));if(p)return a.state.loading|=4,a.instance=p,pe(p),p;u=H0(l),(g=qn.get(g))&&fm(u,g),p=(s.ownerDocument||s).createElement("link"),pe(p);var T=p;return T._p=new Promise(function(w,M){T.onload=w,T.onerror=M}),Qe(p,"link",u),a.state.loading|=4,xh(p,l.precedence,s),a.instance=p;case"script":return p=wo(l.src),(g=s.querySelector(ac(p)))?(a.instance=g,pe(g),g):(u=l,(g=qn.get(p))&&(u=_({},l),dm(u,g)),s=s.ownerDocument||s,g=s.createElement("script"),pe(g),Qe(g,"link",u),s.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,xh(u,l.precedence,s));return a.instance}function xh(s,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,p=g,T=0;T<u.length;T++){var w=u[T];if(w.dataset.precedence===a)p=w;else if(p!==g)break}p?p.parentNode.insertBefore(s,p.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function fm(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function dm(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Rh=null;function G0(s,a,l){if(Rh===null){var u=new Map,g=Rh=new Map;g.set(l,u)}else g=Rh,u=g.get(l),u||(u=new Map,g.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),g=0;g<l.length;g++){var p=l[g];if(!(p[Lr]||p[Ce]||s==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(a)||"";T=s+T;var w=u.get(T);w?w.push(p):u.set(T,[p])}}return u}function Y0(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function qx(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function K0(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var oc=null;function Gx(){}function Yx(s,a,l){if(oc===null)throw Error(i(475));var u=oc;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var g=So(l.href),p=s.querySelector(rc(g));if(p){s=p._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(u.count++,u=Ih.bind(u),s.then(u,u)),a.state.loading|=4,a.instance=p,pe(p);return}p=s.ownerDocument||s,l=H0(l),(g=qn.get(g))&&fm(l,g),p=p.createElement("link"),pe(p);var T=p;T._p=new Promise(function(w,M){T.onload=w,T.onerror=M}),Qe(p,"link",l),a.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=Ih.bind(u),s.addEventListener("load",a),s.addEventListener("error",a))}}function Kx(){if(oc===null)throw Error(i(475));var s=oc;return s.stylesheets&&s.count===0&&gm(s,s.stylesheets),0<s.count?function(a){var l=setTimeout(function(){if(s.stylesheets&&gm(s,s.stylesheets),s.unsuspend){var u=s.unsuspend;s.unsuspend=null,u()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(l)}}:null}function Ih(){if(this.count--,this.count===0){if(this.stylesheets)gm(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Ch=null;function gm(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Ch=new Map,a.forEach(Qx,s),Ch=null,Ih.call(s))}function Qx(s,a){if(!(a.state.loading&4)){var l=Ch.get(s);if(l)var u=l.get(null);else{l=new Map,Ch.set(s,l);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<g.length;p++){var T=g[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),u=T)}u&&l.set(null,u)}g=a.instance,T=g.getAttribute("data-precedence"),p=l.get(T)||u,p===u&&l.set(null,g),l.set(T,g),this.count++,u=Ih.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),p?p.parentNode.insertBefore(g,p.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),a.state.loading|=4}}var lc={$$typeof:J,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function Xx(s,a,l,u,g,p,T,w){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ui(0),this.hiddenUpdates=Ui(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Q0(s,a,l,u,g,p,T,w,M,F,X,tt){return s=new Xx(s,a,l,T,w,M,F,tt),a=1,p===!0&&(a|=24),p=Tn(3,null,null,a),s.current=p,p.stateNode=s,a=Xd(),a.refCount++,s.pooledCache=a,a.refCount++,p.memoizedState={element:u,isDehydrated:l,cache:a},Jd(p),s}function X0(s){return s?(s=to,s):to}function W0(s,a,l,u,g,p){g=X0(g),u.context===null?u.context=g:u.pendingContext=g,u=Ms(a),u.payload={element:l},p=p===void 0?null:p,p!==null&&(u.callback=p),l=ks(s,u,a),l!==null&&(Rn(l,s,a),Ul(l,s,a))}function $0(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function mm(s,a){$0(s,a),(s=s.alternate)&&$0(s,a)}function Z0(s){if(s.tag===13){var a=Ja(s,67108864);a!==null&&Rn(a,s,67108864),mm(s,67108864)}}var Oh=!0;function Wx(s,a,l,u){var g=Y.T;Y.T=null;var p=at.p;try{at.p=2,pm(s,a,l,u)}finally{at.p=p,Y.T=g}}function $x(s,a,l,u){var g=Y.T;Y.T=null;var p=at.p;try{at.p=8,pm(s,a,l,u)}finally{at.p=p,Y.T=g}}function pm(s,a,l,u){if(Oh){var g=_m(u);if(g===null)im(s,a,u,Dh,l),tb(s,u);else if(Jx(g,s,a,l,u))u.stopPropagation();else if(tb(s,u),a&4&&-1<Zx.indexOf(s)){for(;g!==null;){var p=hi(g);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=Xn(p.pendingLanes);if(T!==0){var w=p;for(w.pendingLanes|=2,w.entangledLanes|=2;T;){var M=1<<31-Ze(T);w.entanglements[1]|=M,T&=~M}Ai(p),(Qt&6)===0&&(gh=Mn()+500,ec(0))}}break;case 13:w=Ja(p,2),w!==null&&Rn(w,p,2),ph(),mm(p,2)}if(p=_m(u),p===null&&im(s,a,u,Dh,l),p===g)break;g=p}g!==null&&u.stopPropagation()}else im(s,a,u,null,l)}}function _m(s){return s=Pn(s),ym(s)}var Dh=null;function ym(s){if(Dh=null,s=Bi(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=c(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Dh=s,null}function J0(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ed()){case al:return 2;case Ma:return 8;case Mr:case Td:return 32;case ka:return 268435456;default:return 32}default:return 32}}var vm=!1,Ys=null,Ks=null,Qs=null,cc=new Map,uc=new Map,Xs=[],Zx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tb(s,a){switch(s){case"focusin":case"focusout":Ys=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":Qs=null;break;case"pointerover":case"pointerout":cc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":uc.delete(a.pointerId)}}function hc(s,a,l,u,g,p){return s===null||s.nativeEvent!==p?(s={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:p,targetContainers:[g]},a!==null&&(a=hi(a),a!==null&&Z0(a)),s):(s.eventSystemFlags|=u,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function Jx(s,a,l,u,g){switch(a){case"focusin":return Ys=hc(Ys,s,a,l,u,g),!0;case"dragenter":return Ks=hc(Ks,s,a,l,u,g),!0;case"mouseover":return Qs=hc(Qs,s,a,l,u,g),!0;case"pointerover":var p=g.pointerId;return cc.set(p,hc(cc.get(p)||null,s,a,l,u,g)),!0;case"gotpointercapture":return p=g.pointerId,uc.set(p,hc(uc.get(p)||null,s,a,l,u,g)),!0}return!1}function eb(s){var a=Bi(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){s.blockedOn=a,pu(s.priority,function(){if(l.tag===13){var u=xn();u=Ss(u);var g=Ja(l,u);g!==null&&Rn(g,l,u),mm(l,u)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Mh(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=_m(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);qi=u,l.target.dispatchEvent(u),qi=null}else return a=hi(l),a!==null&&Z0(a),s.blockedOn=l,!1;a.shift()}return!0}function nb(s,a,l){Mh(s)&&l.delete(a)}function tR(){vm=!1,Ys!==null&&Mh(Ys)&&(Ys=null),Ks!==null&&Mh(Ks)&&(Ks=null),Qs!==null&&Mh(Qs)&&(Qs=null),cc.forEach(nb),uc.forEach(nb)}function kh(s,a){s.blockedOn===a&&(s.blockedOn=null,vm||(vm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,tR)))}var Nh=null;function ib(s){Nh!==s&&(Nh=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Nh===s&&(Nh=null);for(var a=0;a<s.length;a+=3){var l=s[a],u=s[a+1],g=s[a+2];if(typeof u!="function"){if(ym(u||l)===null)continue;break}var p=hi(l);p!==null&&(s.splice(a,3),a-=3,yg(p,{pending:!0,data:g,method:l.method,action:u},u,g))}}))}function fc(s){function a(M){return kh(M,s)}Ys!==null&&kh(Ys,s),Ks!==null&&kh(Ks,s),Qs!==null&&kh(Qs,s),cc.forEach(a),uc.forEach(a);for(var l=0;l<Xs.length;l++){var u=Xs[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<Xs.length&&(l=Xs[0],l.blockedOn===null);)eb(l),l.blockedOn===null&&Xs.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var g=l[u],p=l[u+1],T=g[Te]||null;if(typeof p=="function")T||ib(l);else if(T){var w=null;if(p&&p.hasAttribute("formAction")){if(g=p,T=p[Te]||null)w=T.formAction;else if(ym(g)!==null)continue}else w=T.action;typeof w=="function"?l[u+1]=w:(l.splice(u,3),u-=3),ib(l)}}}function bm(s){this._internalRoot=s}Ph.prototype.render=bm.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,u=xn();W0(l,u,s,a,null,null)},Ph.prototype.unmount=bm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;W0(s.current,2,null,s,null,null),ph(),a[kn]=null}};function Ph(s){this._internalRoot=s}Ph.prototype.unstable_scheduleHydration=function(s){if(s){var a=ws();s={blockedOn:null,target:s,priority:a};for(var l=0;l<Xs.length&&a!==0&&a<Xs[l].priority;l++);Xs.splice(l,0,s),l===0&&eb(s)}};var sb=t.version;if(sb!=="19.1.0")throw Error(i(527,sb,"19.1.0"));at.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=d(a),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var eR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vh.isDisabled&&Vh.supportsFiber)try{de=Vh.inject(eR),Kt=Vh}catch{}}return gc.createRoot=function(s,a){if(!r(s))throw Error(i(299));var l=!1,u="",g=bv,p=Ev,T=Tv,w=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks)),a=Q0(s,1,!1,null,null,l,u,g,p,T,w,null),s[kn]=a.current,nm(s),new bm(a)},gc.hydrateRoot=function(s,a,l){if(!r(s))throw Error(i(299));var u=!1,g="",p=bv,T=Ev,w=Tv,M=null,F=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(w=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(M=l.unstable_transitionCallbacks),l.formState!==void 0&&(F=l.formState)),a=Q0(s,1,!0,a,l??null,u,g,p,T,w,M,F),a.context=X0(null),l=a.current,u=xn(),u=Ss(u),g=Ms(u),g.callback=null,ks(l,g,u),l=u,a.current.lanes=l,zi(a,l),Ai(a),s[kn]=a.current,nm(s),new Ph(a)},gc.version="19.1.0",gc}var gb;function fR(){if(gb)return Sm.exports;gb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Sm.exports=hR(),Sm.exports}var dR=fR();const gR=()=>{};var mb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},mR=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[e++],c=n[e++],h=n[e++],d=((r&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(d>>10)),t[i++]=String.fromCharCode(56320+(d&1023))}else{const o=n[e++],c=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|c&63)}}return t.join("")},fS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],c=r+1<n.length,h=c?n[r+1]:0,d=r+2<n.length,m=d?n[r+2]:0,_=o>>2,v=(o&3)<<4|h>>4;let b=(h&15)<<2|m>>6,S=m&63;d||(S=64,c||(b=64)),i.push(e[_],e[v],e[b],e[S])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(hS(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):mR(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],h=r<n.length?e[n.charAt(r)]:0;++r;const m=r<n.length?e[n.charAt(r)]:64;++r;const v=r<n.length?e[n.charAt(r)]:64;if(++r,o==null||h==null||m==null||v==null)throw new pR;const b=o<<2|h>>4;if(i.push(b),m!==64){const S=h<<4&240|m>>2;if(i.push(S),v!==64){const R=m<<6&192|v;i.push(R)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class pR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _R=function(n){const t=hS(n);return fS.encodeByteArray(t,!0)},pf=function(n){return _R(n).replace(/\./g,"")},dS=function(n){try{return fS.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=()=>yR().__FIREBASE_DEFAULTS__,bR=()=>{if(typeof process>"u"||typeof mb>"u")return;const n=mb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ER=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&dS(n[1]);return t&&JSON.parse(t)},Qf=()=>{try{return gR()||vR()||bR()||ER()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},gS=n=>{var t,e;return(e=(t=Qf())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},TR=n=>{const t=gS(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},mS=()=>{var n;return(n=Qf())===null||n===void 0?void 0:n.config},pS=n=>{var t;return(t=Qf())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _S(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[pf(JSON.stringify(e)),pf(JSON.stringify(c)),""].join(".")}const Cc={};function AR(){const n={prod:[],emulator:[]};for(const t of Object.keys(Cc))Cc[t]?n.emulator.push(t):n.prod.push(t);return n}function xR(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let pb=!1;function yS(n,t){if(typeof window>"u"||typeof document>"u"||!Qo(window.location.host)||Cc[n]===t||Cc[n]||pb)return;Cc[n]=t;function e(b){return`__firebase__banner__${b}`}const i="__firebase__banner",o=AR().prod.length>0;function c(){const b=document.getElementById(i);b&&b.remove()}function h(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function d(b,S){b.setAttribute("width","24"),b.setAttribute("id",S),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function m(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{pb=!0,c()},b}function _(b,S){b.setAttribute("id",S),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=xR(i),S=e("text"),R=document.getElementById(S)||document.createElement("span"),k=e("learnmore"),C=document.getElementById(k)||document.createElement("a"),H=e("preprendIcon"),Q=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const J=b.element;h(J),_(C,k);const it=m();d(Q,H),J.append(Q,R,C,it),document.body.appendChild(J)}o?(R.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function IR(){var n;const t=(n=Qf())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function OR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function DR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MR(){const n=rn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function kR(){return!IR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NR(){try{return typeof indexedDB=="object"}catch{return!1}}function PR(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var o;t(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR="FirebaseError";class bs extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=VR,Object.setPrototypeOf(this,bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jc.prototype.create)}}class Jc{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],c=o?LR(o,i):"Error",h=`${this.serviceName}: ${c} (${r}).`;return new bs(r,h,i)}}function LR(n,t){return n.replace(UR,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const UR=/\{\$([^}]+)}/g;function zR(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Sa(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const o=n[r],c=t[r];if(_b(o)&&_b(c)){if(!Sa(o,c))return!1}else if(o!==c)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function _b(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function bc(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(o)}}),t}function Ec(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function BR(n,t){const e=new jR(n,t);return e.subscribe.bind(e)}class jR{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");FR(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=Rm),r.error===void 0&&(r.error=Rm),r.complete===void 0&&(r.complete=Rm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FR(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Rm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(n){return n&&n._delegate?n._delegate:n}class wa{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new SR;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t?.identifier),r=(e=t?.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(GR(t))try{this.getOrInitializeService({instanceIdentifier:pa})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=pa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=pa){return this.instances.has(t)}getOptions(t=pa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&c.resolve(r)}return r}onInit(t,e){var i;const r=this.normalizeInstanceIdentifier(e),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(t),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&t(c,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:qR(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=pa){return this.component?this.component.multipleInstances?t:pa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qR(n){return n===pa?void 0:n}function GR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new HR(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Pt||(Pt={}));const KR={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},QR=Pt.INFO,XR={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},WR=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=XR[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Np{constructor(t){this.name=t,this._logLevel=QR,this._logHandler=WR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?KR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const $R=(n,t)=>t.some(e=>n instanceof e);let yb,vb;function ZR(){return yb||(yb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JR(){return vb||(vb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vS=new WeakMap,tp=new WeakMap,bS=new WeakMap,Im=new WeakMap,Pp=new WeakMap;function tI(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{e(or(n.result)),r()},c=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&vS.set(e,n)}).catch(()=>{}),Pp.set(t,n),t}function eI(n){if(tp.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{e(),r()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});tp.set(n,t)}let ep={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return tp.get(n);if(t==="objectStoreNames")return n.objectStoreNames||bS.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return or(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function nI(n){ep=n(ep)}function iI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Cm(this),t,...e);return bS.set(i,t.sort?t.sort():[t]),or(i)}:JR().includes(n)?function(...t){return n.apply(Cm(this),t),or(vS.get(this))}:function(...t){return or(n.apply(Cm(this),t))}}function sI(n){return typeof n=="function"?iI(n):(n instanceof IDBTransaction&&eI(n),$R(n,ZR())?new Proxy(n,ep):n)}function or(n){if(n instanceof IDBRequest)return tI(n);if(Im.has(n))return Im.get(n);const t=sI(n);return t!==n&&(Im.set(n,t),Pp.set(t,n)),t}const Cm=n=>Pp.get(n);function rI(n,t,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){const c=indexedDB.open(n,t),h=or(c);return i&&c.addEventListener("upgradeneeded",d=>{i(or(c.result),d.oldVersion,d.newVersion,or(c.transaction),d)}),e&&c.addEventListener("blocked",d=>e(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),r&&d.addEventListener("versionchange",m=>r(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const aI=["get","getKey","getAll","getAllKeys","count"],oI=["put","add","delete","clear"],Om=new Map;function bb(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Om.get(t))return Om.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=oI.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||aI.includes(e)))return;const o=async function(c,...h){const d=this.transaction(c,r?"readwrite":"readonly");let m=d.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[e](...h),r&&d.done]))[0]};return Om.set(t,o),o}nI(n=>({...n,get:(t,e,i)=>bb(t,e)||n.get(t,e,i),has:(t,e)=>!!bb(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(cI(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function cI(n){const t=n.getComponent();return t?.type==="VERSION"}const np="@firebase/app",Eb="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=new Np("@firebase/app"),uI="@firebase/app-compat",hI="@firebase/analytics-compat",fI="@firebase/analytics",dI="@firebase/app-check-compat",gI="@firebase/app-check",mI="@firebase/auth",pI="@firebase/auth-compat",_I="@firebase/database",yI="@firebase/data-connect",vI="@firebase/database-compat",bI="@firebase/functions",EI="@firebase/functions-compat",TI="@firebase/installations",SI="@firebase/installations-compat",wI="@firebase/messaging",AI="@firebase/messaging-compat",xI="@firebase/performance",RI="@firebase/performance-compat",II="@firebase/remote-config",CI="@firebase/remote-config-compat",OI="@firebase/storage",DI="@firebase/storage-compat",MI="@firebase/firestore",kI="@firebase/ai",NI="@firebase/firestore-compat",PI="firebase",VI="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="[DEFAULT]",LI={[np]:"fire-core",[uI]:"fire-core-compat",[fI]:"fire-analytics",[hI]:"fire-analytics-compat",[gI]:"fire-app-check",[dI]:"fire-app-check-compat",[mI]:"fire-auth",[pI]:"fire-auth-compat",[_I]:"fire-rtdb",[yI]:"fire-data-connect",[vI]:"fire-rtdb-compat",[bI]:"fire-fn",[EI]:"fire-fn-compat",[TI]:"fire-iid",[SI]:"fire-iid-compat",[wI]:"fire-fcm",[AI]:"fire-fcm-compat",[xI]:"fire-perf",[RI]:"fire-perf-compat",[II]:"fire-rc",[CI]:"fire-rc-compat",[OI]:"fire-gcs",[DI]:"fire-gcs-compat",[MI]:"fire-fst",[NI]:"fire-fst-compat",[kI]:"fire-vertex","fire-js":"fire-js",[PI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f=new Map,UI=new Map,sp=new Map;function Tb(n,t){try{n.container.addComponent(t)}catch(e){ps.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function zo(n){const t=n.name;if(sp.has(t))return ps.debug(`There were multiple attempts to register component ${t}.`),!1;sp.set(t,n);for(const e of _f.values())Tb(e,n);for(const e of UI.values())Tb(e,n);return!0}function Vp(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function ei(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lr=new Jc("app","Firebase",zI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new wa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo=VI;function ES(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i=Object.assign({name:ip,automaticDataCollectionEnabled:!0},t),r=i.name;if(typeof r!="string"||!r)throw lr.create("bad-app-name",{appName:String(r)});if(e||(e=mS()),!e)throw lr.create("no-options");const o=_f.get(r);if(o){if(Sa(e,o.options)&&Sa(i,o.config))return o;throw lr.create("duplicate-app",{appName:r})}const c=new YR(r);for(const d of sp.values())c.addComponent(d);const h=new BI(e,i,c);return _f.set(r,h),h}function TS(n=ip){const t=_f.get(n);if(!t&&n===ip&&mS())return ES();if(!t)throw lr.create("no-app",{appName:n});return t}function cr(n,t,e){var i;let r=(i=LI[n])!==null&&i!==void 0?i:n;e&&(r+=`-${e}`);const o=r.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const h=[`Unable to register library "${r}" with version "${t}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ps.warn(h.join(" "));return}zo(new wa(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI="firebase-heartbeat-database",FI=1,zc="firebase-heartbeat-store";let Dm=null;function SS(){return Dm||(Dm=rI(jI,FI,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(zc)}catch(e){console.warn(e)}}}}).catch(n=>{throw lr.create("idb-open",{originalErrorMessage:n.message})})),Dm}async function HI(n){try{const e=(await SS()).transaction(zc),i=await e.objectStore(zc).get(wS(n));return await e.done,i}catch(t){if(t instanceof bs)ps.warn(t.message);else{const e=lr.create("idb-get",{originalErrorMessage:t?.message});ps.warn(e.message)}}}async function Sb(n,t){try{const i=(await SS()).transaction(zc,"readwrite");await i.objectStore(zc).put(t,wS(n)),await i.done}catch(e){if(e instanceof bs)ps.warn(e.message);else{const i=lr.create("idb-set",{originalErrorMessage:e?.message});ps.warn(i.message)}}}function wS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=1024,GI=30;class YI{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new QI(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,e;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=wb();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats.length>GI){const c=XI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ps.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=wb(),{heartbeatsToSend:i,unsentEntries:r}=KI(this._heartbeatsCache.heartbeats),o=pf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ps.warn(e),""}}}function wb(){return new Date().toISOString().substring(0,10)}function KI(n,t=qI){const e=[];let i=n.slice();for(const r of n){const o=e.find(c=>c.agent===r.agent);if(o){if(o.dates.push(r.date),Ab(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),Ab(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class QI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NR()?PR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await HI(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return Sb(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return Sb(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Ab(n){return pf(JSON.stringify({version:2,heartbeats:n})).length}function XI(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(n){zo(new wa("platform-logger",t=>new lI(t),"PRIVATE")),zo(new wa("heartbeat",t=>new YI(t),"PRIVATE")),cr(np,Eb,n),cr(np,Eb,"esm2017"),cr("fire-js","")}WI("");function Lp(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e}function AS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $I=AS,xS=new Jc("auth","Firebase",AS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf=new Np("@firebase/auth");function ZI(n,...t){yf.logLevel<=Pt.WARN&&yf.warn(`Auth (${Xo}): ${n}`,...t)}function nf(n,...t){yf.logLevel<=Pt.ERROR&&yf.error(`Auth (${Xo}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(n,...t){throw Up(n,...t)}function Oi(n,...t){return Up(n,...t)}function RS(n,t,e){const i=Object.assign(Object.assign({},$I()),{[t]:e});return new Jc("auth","Firebase",i).create(t,{appName:n.name})}function ur(n){return RS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Up(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return xS.create(n,...t)}function bt(n,t,...e){if(!n)throw Up(t,...e)}function ds(n){const t="INTERNAL ASSERTION FAILED: "+n;throw nf(t),new Error(t)}function _s(n,t){n||ds(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function JI(){return xb()==="http:"||xb()==="https:"}function xb(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JI()||OR()||"connection"in navigator)?navigator.onLine:!0}function e2(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(t,e){this.shortDelay=t,this.longDelay=e,_s(e>t,"Short delay should be less than long delay!"),this.isMobile=RR()||DR()}get(){return t2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(n,t){_s(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],s2=new eu(3e4,6e4);function Ca(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function xr(n,t,e,i,r={}){return CS(n,r,async()=>{let o={},c={};i&&(t==="GET"?c=i:o={body:JSON.stringify(i)});const h=tu(Object.assign({key:n.config.apiKey},c)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:t,headers:d},o);return CR()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Qo(n.emulatorConfig.host)&&(m.credentials="include"),IS.fetch()(await OS(n,n.config.apiHost,e,h),m)})}async function CS(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},n2),t);try{const r=new a2(n),o=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Lh(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[d,m]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lh(n,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw Lh(n,"email-already-in-use",c);if(d==="USER_DISABLED")throw Lh(n,"user-disabled",c);const _=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw RS(n,_,m);ai(n,_)}}catch(r){if(r instanceof bs)throw r;ai(n,"network-request-failed",{message:String(r)})}}async function Xf(n,t,e,i,r={}){const o=await xr(n,t,e,i,r);return"mfaPendingCredential"in o&&ai(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function OS(n,t,e,i){const r=`${t}${e}?${i}`,o=n,c=o.config.emulator?zp(n.config,r):`${n.config.apiScheme}://${r}`;return i2.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function r2(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class a2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Oi(this.auth,"network-request-failed")),s2.get())})}}function Lh(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=Oi(n,t,i);return r.customData._tokenResponse=e,r}function Rb(n){return n!==void 0&&n.enterprise!==void 0}class o2{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return r2(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function l2(n,t){return xr(n,"GET","/v2/recaptchaConfig",Ca(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c2(n,t){return xr(n,"POST","/v1/accounts:delete",t)}async function vf(n,t){return xr(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function u2(n,t=!1){const e=Pe(n),i=await e.getIdToken(t),r=Bp(i);bt(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,c=o?.sign_in_provider;return{claims:r,token:i,authTime:Oc(Mm(r.auth_time)),issuedAtTime:Oc(Mm(r.iat)),expirationTime:Oc(Mm(r.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Mm(n){return Number(n)*1e3}function Bp(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return nf("JWT malformed, contained fewer than 3 sections"),null;try{const r=dS(e);return r?JSON.parse(r):(nf("Failed to decode base64 JWT payload"),null)}catch(r){return nf("Caught error parsing JWT payload as JSON",r?.toString()),null}}function Ib(n){const t=Bp(n);return bt(t,"internal-error"),bt(typeof t.exp<"u","internal-error"),bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bc(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof bs&&h2(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function h2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oc(this.lastLoginAt),this.creationTime=Oc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bf(n){var t;const e=n.auth,i=await n.getIdToken(),r=await Bc(n,vf(e,{idToken:i}));bt(r?.users.length,e,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const c=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?DS(o.providerUserInfo):[],h=g2(n.providerData,c),d=n.isAnonymous,m=!(n.email&&o.passwordHash)&&!h?.length,_=d?m:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new ap(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(n,v)}async function d2(n){const t=Pe(n);await bf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function g2(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function DS(n){return n.map(t=>{var{providerId:e}=t,i=Lp(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m2(n,t){const e=await CS(n,{},async()=>{const i=tu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,c=await OS(n,r,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:i};return n.emulatorConfig&&Qo(n.emulatorConfig.host)&&(d.credentials="include"),IS.fetch()(c,d)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function p2(n,t){return xr(n,"POST","/v2/accounts:revokeToken",Ca(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){bt(t.idToken,"internal-error"),bt(typeof t.idToken<"u","internal-error"),bt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Ib(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){bt(t.length!==0,"internal-error");const e=Ib(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:o}=await m2(t,e);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:o}=e,c=new Mo;return i&&(bt(typeof i=="string","internal-error",{appName:t}),c.refreshToken=i),r&&(bt(typeof r=="string","internal-error",{appName:t}),c.accessToken=r),o&&(bt(typeof o=="number","internal-error",{appName:t}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Mo,this.toJSON())}_performRefresh(){return ds("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(n,t){bt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class ni{constructor(t){var{uid:e,auth:i,stsTokenManager:r}=t,o=Lp(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new f2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ap(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await Bc(this,this.stsTokenManager.getToken(this.auth,t));return bt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return u2(this,t)}reload(){return d2(this)}_assign(t){this!==t&&(bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new ni(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await bf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ei(this.auth.app))return Promise.reject(ur(this.auth));const t=await this.getIdToken();return await Bc(this,c2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,r,o,c,h,d,m,_;const v=(i=e.displayName)!==null&&i!==void 0?i:void 0,b=(r=e.email)!==null&&r!==void 0?r:void 0,S=(o=e.phoneNumber)!==null&&o!==void 0?o:void 0,R=(c=e.photoURL)!==null&&c!==void 0?c:void 0,k=(h=e.tenantId)!==null&&h!==void 0?h:void 0,C=(d=e._redirectEventId)!==null&&d!==void 0?d:void 0,H=(m=e.createdAt)!==null&&m!==void 0?m:void 0,Q=(_=e.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:J,emailVerified:it,isAnonymous:W,providerData:ot,stsTokenManager:O}=e;bt(J&&O,t,"internal-error");const x=Mo.fromJSON(this.name,O);bt(typeof J=="string",t,"internal-error"),$s(v,t.name),$s(b,t.name),bt(typeof it=="boolean",t,"internal-error"),bt(typeof W=="boolean",t,"internal-error"),$s(S,t.name),$s(R,t.name),$s(k,t.name),$s(C,t.name),$s(H,t.name),$s(Q,t.name);const I=new ni({uid:J,auth:t,email:b,emailVerified:it,displayName:v,isAnonymous:W,photoURL:R,phoneNumber:S,tenantId:k,stsTokenManager:x,createdAt:H,lastLoginAt:Q});return ot&&Array.isArray(ot)&&(I.providerData=ot.map(N=>Object.assign({},N))),C&&(I._redirectEventId=C),I}static async _fromIdTokenResponse(t,e,i=!1){const r=new Mo;r.updateFromServerResponse(e);const o=new ni({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await bf(o),o}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];bt(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?DS(r.providerUserInfo):[],c=!(r.email&&r.passwordHash)&&!o?.length,h=new Mo;h.updateFromIdToken(i);const d=new ni({uid:r.localId,auth:t,stsTokenManager:h,isAnonymous:c}),m={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new ap(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(d,m),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb=new Map;function gs(n){_s(n instanceof Function,"Expected a class definition");let t=Cb.get(n);return t?(_s(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,Cb.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}MS.type="NONE";const Ob=MS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(n,t,e){return`firebase:${n}:${t}:${e}`}class ko{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=sf(this.userKey,r.apiKey,o),this.fullPersistenceKey=sf("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await vf(this.auth,{idToken:t}).catch(()=>{});return e?ni._fromGetAccountInfoResponse(this.auth,e,t):null}return ni._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new ko(gs(Ob),t,i);const r=(await Promise.all(e.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=r[0]||gs(Ob);const c=sf(i,t.config.apiKey,t.name);let h=null;for(const m of e)try{const _=await m._get(c);if(_){let v;if(typeof _=="string"){const b=await vf(t,{idToken:_}).catch(()=>{});if(!b)break;v=await ni._fromGetAccountInfoResponse(t,b,_)}else v=ni._fromJSON(t,_);m!==o&&(h=v),o=m;break}}catch{}const d=r.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new ko(o,t,i):(o=d[0],h&&await o._set(c,h.toJSON()),await Promise.all(e.map(async m=>{if(m!==o)try{await m._remove(c)}catch{}})),new ko(o,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(VS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(kS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(US(t))return"Blackberry";if(zS(t))return"Webos";if(NS(t))return"Safari";if((t.includes("chrome/")||PS(t))&&!t.includes("edge/"))return"Chrome";if(LS(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function kS(n=rn()){return/firefox\//i.test(n)}function NS(n=rn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function PS(n=rn()){return/crios\//i.test(n)}function VS(n=rn()){return/iemobile/i.test(n)}function LS(n=rn()){return/android/i.test(n)}function US(n=rn()){return/blackberry/i.test(n)}function zS(n=rn()){return/webos/i.test(n)}function jp(n=rn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function _2(n=rn()){var t;return jp(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function y2(){return MR()&&document.documentMode===10}function BS(n=rn()){return jp(n)||LS(n)||zS(n)||US(n)||/windows phone/i.test(n)||VS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(n,t=[]){let e;switch(n){case"Browser":e=Db(rn());break;case"Worker":e=`${Db(rn())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Xo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((c,h)=>{try{const d=t(o);c(d)}catch(d){h(d)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b2(n,t={}){return xr(n,"GET","/v2/passwordPolicy",Ca(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=6;class T2{constructor(t){var e,i,r,o;const c=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=c.minPasswordLength)!==null&&e!==void 0?e:E2,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,r,o,c,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,d),this.validatePasswordCharacterOptions(t,d),d.isValid&&(d.isValid=(e=d.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),d.isValid&&(d.isValid=(i=d.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(r=d.containsLowercaseLetter)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(c=d.containsNumericCharacter)!==null&&c!==void 0?c:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mb(this),this.idTokenSubscription=new Mb(this),this.beforeStateQueue=new v2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=gs(e)),this._initializationPromise=this.queue(async()=>{var i,r,o;if(!this._deleted&&(this.persistenceManager=await ko.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await vf(this,{idToken:t}),i=await ni._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(ei(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,h=r?._redirectEventId,d=await this.tryRedirectSignIn(t);(!c||c===h)&&d?.user&&(r=d.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await bf(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=e2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ei(this.app))return Promise.reject(ur(this));const e=t?Pe(t):null;return e&&bt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ei(this.app)?Promise.reject(ur(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ei(this.app)?Promise.reject(ur(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await b2(this),e=new T2(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Jc("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await p2(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&gs(t)||this._popupRedirectResolver;bt(e,this,"argument-error"),this.redirectPersistenceManager=await ko.create(this,[gs(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,i;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof e=="function"){const d=t.addObserver(e,i,r);return()=>{c=!0,d()}}else{const d=t.addObserver(e);return()=>{c=!0,d()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=jS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e?.error&&ZI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Wo(n){return Pe(n)}class Mb{constructor(t){this.auth=t,this.observer=null,this.addObserver=BR(e=>this.observer=e)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function w2(n){Wf=n}function FS(n){return Wf.loadJS(n)}function A2(){return Wf.recaptchaEnterpriseScript}function x2(){return Wf.gapiScript}function R2(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class I2{constructor(){this.enterprise=new C2}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class C2{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const O2="recaptcha-enterprise",HS="NO_RECAPTCHA";class D2{constructor(t){this.type=O2,this.auth=Wo(t)}async verify(t="verify",e=!1){async function i(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,h)=>{l2(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new o2(d);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,c(m.siteKey)}}).catch(d=>{h(d)})})}function r(o,c,h){const d=window.grecaptcha;Rb(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:t}).then(m=>{c(m)}).catch(()=>{c(HS)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new I2().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{i(this.auth).then(h=>{if(!e&&Rb(window.grecaptcha))r(h,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let d=A2();d.length!==0&&(d+=h),FS(d).then(()=>{r(h,o,c)}).catch(m=>{c(m)})}}).catch(h=>{c(h)})})}}async function kb(n,t,e,i=!1,r=!1){const o=new D2(n);let c;if(r)c=HS;else try{c=await o.verify(e)}catch{c=await o.verify(e,!0)}const h=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Nb(n,t,e,i,r){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await kb(n,t,e,e==="getOobCode");return i(n,c)}else return i(n,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await kb(n,t,e,e==="getOobCode");return i(n,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(n,t){const e=Vp(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),o=e.getOptions();if(Sa(o,t??{}))return r;ai(r,"already-initialized")}return e.initialize({options:t})}function k2(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(gs);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function N2(n,t,e){const i=Wo(n);bt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,o=qS(t),{host:c,port:h}=P2(t),d=h===null?"":`:${h}`,m={url:`${o}//${c}${d}/`},_=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){bt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),bt(Sa(m,i.config.emulator)&&Sa(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,Qo(c)?(_S(`${o}//${c}${d}`),yS("Auth",!0)):V2()}function qS(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function P2(n){const t=qS(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:Pb(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:Pb(c)}}}function Pb(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function V2(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return ds("not implemented")}_getIdTokenResponse(t){return ds("not implemented")}_linkToIdToken(t,e){return ds("not implemented")}_getReauthenticationResolver(t){return ds("not implemented")}}async function L2(n,t){return xr(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U2(n,t){return Xf(n,"POST","/v1/accounts:signInWithPassword",Ca(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z2(n,t){return Xf(n,"POST","/v1/accounts:signInWithEmailLink",Ca(n,t))}async function B2(n,t){return Xf(n,"POST","/v1/accounts:signInWithEmailLink",Ca(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc extends Fp{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new jc(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new jc(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nb(t,e,"signInWithPassword",U2);case"emailLink":return z2(t,{email:this._email,oobCode:this._password});default:ai(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nb(t,i,"signUpPassword",L2);case"emailLink":return B2(t,{idToken:e,email:this._email,oobCode:this._password});default:ai(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function No(n,t){return Xf(n,"POST","/v1/accounts:signInWithIdp",Ca(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2="http://localhost";class Aa extends Fp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Aa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):ai("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=e,o=Lp(e,["providerId","signInMethod"]);if(!i||!r)return null;const c=new Aa(i,r);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return No(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,No(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,No(t,e)}buildRequest(){const t={requestUri:j2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=tu(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function H2(n){const t=bc(Ec(n)).link,e=t?bc(Ec(t)).deep_link_id:null,i=bc(Ec(n)).deep_link_id;return(i?bc(Ec(i)).link:null)||i||e||t||n}class Hp{constructor(t){var e,i,r,o,c,h;const d=bc(Ec(t)),m=(e=d.apiKey)!==null&&e!==void 0?e:null,_=(i=d.oobCode)!==null&&i!==void 0?i:null,v=F2((r=d.mode)!==null&&r!==void 0?r:null);bt(m&&_&&v,"argument-error"),this.apiKey=m,this.operation=v,this.code=_,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(c=d.lang)!==null&&c!==void 0?c:null,this.tenantId=(h=d.tenantId)!==null&&h!==void 0?h:null}static parseLink(t){const e=H2(t);try{return new Hp(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(){this.providerId=$o.PROVIDER_ID}static credential(t,e){return jc._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=Hp.parseLink(e);return bt(i,"argument-error"),jc._fromEmailAndCode(t,i.code,i.tenantId)}}$o.PROVIDER_ID="password";$o.EMAIL_PASSWORD_SIGN_IN_METHOD="password";$o.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends GS{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends nu{constructor(){super("facebook.com")}static credential(t){return Aa._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Js.credentialFromTaggedObject(t)}static credentialFromError(t){return Js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Js.credential(t.oauthAccessToken)}catch{return null}}}Js.FACEBOOK_SIGN_IN_METHOD="facebook.com";Js.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr extends nu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Aa._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return tr.credentialFromTaggedObject(t)}static credentialFromError(t){return tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return tr.credential(e,i)}catch{return null}}}tr.GOOGLE_SIGN_IN_METHOD="google.com";tr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends nu{constructor(){super("github.com")}static credential(t){return Aa._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return er.credentialFromTaggedObject(t)}static credentialFromError(t){return er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return er.credential(t.oauthAccessToken)}catch{return null}}}er.GITHUB_SIGN_IN_METHOD="github.com";er.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr extends nu{constructor(){super("twitter.com")}static credential(t,e){return Aa._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return nr.credentialFromTaggedObject(t)}static credentialFromError(t){return nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return nr.credential(e,i)}catch{return null}}}nr.TWITTER_SIGN_IN_METHOD="twitter.com";nr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const o=await ni._fromIdTokenResponse(t,i,r),c=Vb(i);return new Bo({user:o,providerId:c,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=Vb(i);return new Bo({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function Vb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef extends bs{constructor(t,e,i,r){var o;super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Ef.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new Ef(t,e,i,r)}}function YS(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Ef._fromErrorAndOperation(n,o,t,i):o})}async function q2(n,t,e=!1){const i=await Bc(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Bo._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G2(n,t,e=!1){const{auth:i}=n;if(ei(i.app))return Promise.reject(ur(i));const r="reauthenticate";try{const o=await Bc(n,YS(i,r,t,n),e);bt(o.idToken,i,"internal-error");const c=Bp(o.idToken);bt(c,i,"internal-error");const{sub:h}=c;return bt(n.uid===h,i,"user-mismatch"),Bo._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&ai(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KS(n,t,e=!1){if(ei(n.app))return Promise.reject(ur(n));const i="signIn",r=await YS(n,i,t),o=await Bo._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(o.user),o}async function Y2(n,t){return KS(Wo(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K2(n){const t=Wo(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function Q2(n,t,e){return ei(n.app)?Promise.reject(ur(n)):Y2(Pe(n),$o.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&K2(n),i})}function X2(n,t,e,i){return Pe(n).onIdTokenChanged(t,e,i)}function W2(n,t,e){return Pe(n).beforeAuthStateChanged(t,e)}function $2(n,t,e,i){return Pe(n).onAuthStateChanged(t,e,i)}function Z2(n){return Pe(n).signOut()}const Tf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Tf,"1"),this.storage.removeItem(Tf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=1e3,tC=10;class XS extends QS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=BS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,h,d)=>{this.notifyListeners(c,d)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const c=this.storage.getItem(i);!e&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);y2()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,tC):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},J2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}XS.type="LOCAL";const eC=XS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS extends QS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}WS.type="SESSION";const $S=WS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new $f(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:o}=e.data,c=this.handlersMap[r];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const h=Array.from(c).map(async m=>m(e.origin,o)),d=await nC(h);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:d})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$f.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,c;return new Promise((h,d)=>{const m=qp("",20);r.port1.start();const _=setTimeout(()=>{d(new Error("unsupported_event"))},i);c={messageChannel:r,onMessage(v){const b=v;if(b.data.eventId===m)switch(b.data.status){case"ack":clearTimeout(_),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(b.data.response);break;default:clearTimeout(_),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(c),r.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:m,data:e},[r.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(){return window}function sC(n){Di().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(){return typeof Di().WorkerGlobalScope<"u"&&typeof Di().importScripts=="function"}async function rC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function aC(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function oC(){return ZS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="firebaseLocalStorageDb",lC=1,Sf="firebaseLocalStorage",tw="fbase_key";class iu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Zf(n,t){return n.transaction([Sf],t?"readwrite":"readonly").objectStore(Sf)}function cC(){const n=indexedDB.deleteDatabase(JS);return new iu(n).toPromise()}function op(){const n=indexedDB.open(JS,lC);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Sf,{keyPath:tw})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Sf)?t(i):(i.close(),await cC(),t(await op()))})})}async function Lb(n,t,e){const i=Zf(n,!0).put({[tw]:t,value:e});return new iu(i).toPromise()}async function uC(n,t){const e=Zf(n,!1).get(t),i=await new iu(e).toPromise();return i===void 0?null:i.value}function Ub(n,t){const e=Zf(n,!0).delete(t);return new iu(e).toPromise()}const hC=800,fC=3;class ew{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await op(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>fC)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$f._getInstance(oC()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await rC(),!this.activeServiceWorker)return;this.sender=new iC(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((e=i[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||aC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await op();return await Lb(t,Tf,"1"),await Ub(t,Tf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Lb(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>uC(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>Ub(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const o=Zf(r,!1).getAll();return new iu(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:o}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ew.type="LOCAL";const dC=ew;new eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(n,t){return t?gs(t):(bt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp extends Fp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return No(t,this._buildIdpRequest())}_linkToIdToken(t,e){return No(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return No(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function mC(n){return KS(n.auth,new Gp(n),n.bypassAuthState)}function pC(n){const{auth:t,user:e}=n;return bt(e,t,"internal-error"),G2(e,new Gp(n),n.bypassAuthState)}async function _C(n){const{auth:t,user:e}=n;return bt(e,t,"internal-error"),q2(e,new Gp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(t,e,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:o,error:c,type:h}=t;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(m){this.reject(m)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return mC;case"linkViaPopup":case"linkViaRedirect":return _C;case"reauthViaPopup":case"reauthViaRedirect":return pC;default:ai(this.auth,"internal-error")}}resolve(t){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=new eu(2e3,1e4);class Oo extends nw{constructor(t,e,i,r,o){super(t,e,r,o),this.provider=i,this.authWindow=null,this.pollId=null,Oo.currentPopupAction&&Oo.currentPopupAction.cancel(),Oo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return bt(t,this.auth,"internal-error"),t}async onExecution(){_s(this.filter.length===1,"Popup operations only handle one event");const t=qp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oo.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,i;if(!((i=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,yC.get())};t()}}Oo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC="pendingRedirect",rf=new Map;class bC extends nw{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=rf.get(this.auth._key());if(!t){try{const i=await EC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}rf.set(this.auth._key(),t)}return this.bypassAuthState||rf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function EC(n,t){const e=wC(t),i=SC(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function TC(n,t){rf.set(n._key(),t)}function SC(n){return gs(n._redirectPersistence)}function wC(n){return sf(vC,n.config.apiKey,n.name)}async function AC(n,t,e=!1){if(ei(n.app))return Promise.reject(ur(n));const i=Wo(n),r=gC(i,t),c=await new bC(i,r,e).execute();return c&&!e&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=10*60*1e3;class RC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!IC(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!iw(t)){const r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";e.onError(Oi(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=xC&&this.cachedEventUids.clear(),this.cachedEventUids.has(zb(t))}saveEventToCache(t){this.cachedEventUids.add(zb(t)),this.lastProcessedEventTime=Date.now()}}function zb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function iw({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function IC(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CC(n,t={}){return xr(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DC=/^https?/;async function MC(n){if(n.config.emulator)return;const{authorizedDomains:t}=await CC(n);for(const e of t)try{if(kC(e))return}catch{}ai(n,"unauthorized-domain")}function kC(n){const t=rp(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===i}if(!DC.test(e))return!1;if(OC.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=new eu(3e4,6e4);function Bb(){const n=Di().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function PC(n){return new Promise((t,e)=>{var i,r,o;function c(){Bb(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Bb(),e(Oi(n,"network-request-failed"))},timeout:NC.get()})}if(!((r=(i=Di().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((o=Di().gapi)===null||o===void 0)&&o.load)c();else{const h=R2("iframefcb");return Di()[h]=()=>{gapi.load?c():e(Oi(n,"network-request-failed"))},FS(`${x2()}?onload=${h}`).catch(d=>e(d))}}).catch(t=>{throw af=null,t})}let af=null;function VC(n){return af=af||PC(n),af}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=new eu(5e3,15e3),UC="__/auth/iframe",zC="emulator/auth/iframe",BC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FC(n){const t=n.config;bt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?zp(t,zC):`https://${n.config.authDomain}/${UC}`,i={apiKey:t.apiKey,appName:n.name,v:Xo},r=jC.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${tu(i).slice(1)}`}async function HC(n){const t=await VC(n),e=Di().gapi;return bt(e,n,"internal-error"),t.open({where:document.body,url:FC(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BC,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const c=Oi(n,"network-request-failed"),h=Di().setTimeout(()=>{o(c)},LC.get());function d(){Di().clearTimeout(h),r(i)}i.ping(d).then(d,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GC=500,YC=600,KC="_blank",QC="http://localhost";class jb{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function XC(n,t,e,i=GC,r=YC){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const d=Object.assign(Object.assign({},qC),{width:i.toString(),height:r.toString(),top:o,left:c}),m=rn().toLowerCase();e&&(h=PS(m)?KC:e),kS(m)&&(t=t||QC,d.scrollbars="yes");const _=Object.entries(d).reduce((b,[S,R])=>`${b}${S}=${R},`,"");if(_2(m)&&h!=="_self")return WC(t||"",h),new jb(null);const v=window.open(t||"",h,_);bt(v,n,"popup-blocked");try{v.focus()}catch{}return new jb(v)}function WC(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="__/auth/handler",ZC="emulator/auth/handler",JC=encodeURIComponent("fac");async function Fb(n,t,e,i,r,o){bt(n.config.authDomain,n,"auth-domain-config-required"),bt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Xo,eventId:r};if(t instanceof GS){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",zR(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[_,v]of Object.entries({}))c[_]=v}if(t instanceof nu){const _=t.getScopes().filter(v=>v!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const d=await n._getAppCheckToken(),m=d?`#${JC}=${encodeURIComponent(d)}`:"";return`${tO(n)}?${tu(h).slice(1)}${m}`}function tO({config:n}){return n.emulator?zp(n,ZC):`https://${n.authDomain}/${$C}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="webStorageSupport";class eO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$S,this._completeRedirectFn=AC,this._overrideRedirectResult=TC}async _openPopup(t,e,i,r){var o;_s((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const c=await Fb(t,e,i,rp(),r);return XC(t,c,qp())}async _openRedirect(t,e,i,r){await this._originValidation(t);const o=await Fb(t,e,i,rp(),r);return sC(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(_s(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await HC(t),i=new RC(t);return e.register("authEvent",r=>(bt(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(km,{type:km},r=>{var o;const c=(o=r?.[0])===null||o===void 0?void 0:o[km];c!==void 0&&e(!!c),ai(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=MC(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return BS()||NS()||jp()}}const nO=eO;var Hb="@firebase/auth",qb="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rO(n){zo(new wa("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;bt(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jS(n)},m=new S2(i,r,o,d);return k2(m,e),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),zo(new wa("auth-internal",t=>{const e=Wo(t.getProvider("auth").getImmediate());return(i=>new iO(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),cr(Hb,qb,sO(n)),cr(Hb,qb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=5*60,oO=pS("authIdTokenMaxAge")||aO;let Gb=null;const lO=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>oO)return;const r=e?.token;Gb!==r&&(Gb=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function cO(n=TS()){const t=Vp(n,"auth");if(t.isInitialized())return t.getImmediate();const e=M2(n,{popupRedirectResolver:nO,persistence:[dC,eC,$S]}),i=pS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=lO(o.toString());W2(e,c,()=>c(e.currentUser)),X2(e,h=>c(h))}}const r=gS("auth");return r&&N2(e,`http://${r}`),e}function uO(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}w2({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const o=Oi("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",uO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rO("Browser");var hO="firebase",fO="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cr(hO,fO,"app");var Yb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hr,sw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,x){function I(){}I.prototype=x.prototype,O.D=x.prototype,O.prototype=new I,O.prototype.constructor=O,O.C=function(N,P,L){for(var D=Array(arguments.length-2),$t=2;$t<arguments.length;$t++)D[$t-2]=arguments[$t];return x.prototype[P].apply(N,D)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(O,x,I){I||(I=0);var N=Array(16);if(typeof x=="string")for(var P=0;16>P;++P)N[P]=x.charCodeAt(I++)|x.charCodeAt(I++)<<8|x.charCodeAt(I++)<<16|x.charCodeAt(I++)<<24;else for(P=0;16>P;++P)N[P]=x[I++]|x[I++]<<8|x[I++]<<16|x[I++]<<24;x=O.g[0],I=O.g[1],P=O.g[2];var L=O.g[3],D=x+(L^I&(P^L))+N[0]+3614090360&4294967295;x=I+(D<<7&4294967295|D>>>25),D=L+(P^x&(I^P))+N[1]+3905402710&4294967295,L=x+(D<<12&4294967295|D>>>20),D=P+(I^L&(x^I))+N[2]+606105819&4294967295,P=L+(D<<17&4294967295|D>>>15),D=I+(x^P&(L^x))+N[3]+3250441966&4294967295,I=P+(D<<22&4294967295|D>>>10),D=x+(L^I&(P^L))+N[4]+4118548399&4294967295,x=I+(D<<7&4294967295|D>>>25),D=L+(P^x&(I^P))+N[5]+1200080426&4294967295,L=x+(D<<12&4294967295|D>>>20),D=P+(I^L&(x^I))+N[6]+2821735955&4294967295,P=L+(D<<17&4294967295|D>>>15),D=I+(x^P&(L^x))+N[7]+4249261313&4294967295,I=P+(D<<22&4294967295|D>>>10),D=x+(L^I&(P^L))+N[8]+1770035416&4294967295,x=I+(D<<7&4294967295|D>>>25),D=L+(P^x&(I^P))+N[9]+2336552879&4294967295,L=x+(D<<12&4294967295|D>>>20),D=P+(I^L&(x^I))+N[10]+4294925233&4294967295,P=L+(D<<17&4294967295|D>>>15),D=I+(x^P&(L^x))+N[11]+2304563134&4294967295,I=P+(D<<22&4294967295|D>>>10),D=x+(L^I&(P^L))+N[12]+1804603682&4294967295,x=I+(D<<7&4294967295|D>>>25),D=L+(P^x&(I^P))+N[13]+4254626195&4294967295,L=x+(D<<12&4294967295|D>>>20),D=P+(I^L&(x^I))+N[14]+2792965006&4294967295,P=L+(D<<17&4294967295|D>>>15),D=I+(x^P&(L^x))+N[15]+1236535329&4294967295,I=P+(D<<22&4294967295|D>>>10),D=x+(P^L&(I^P))+N[1]+4129170786&4294967295,x=I+(D<<5&4294967295|D>>>27),D=L+(I^P&(x^I))+N[6]+3225465664&4294967295,L=x+(D<<9&4294967295|D>>>23),D=P+(x^I&(L^x))+N[11]+643717713&4294967295,P=L+(D<<14&4294967295|D>>>18),D=I+(L^x&(P^L))+N[0]+3921069994&4294967295,I=P+(D<<20&4294967295|D>>>12),D=x+(P^L&(I^P))+N[5]+3593408605&4294967295,x=I+(D<<5&4294967295|D>>>27),D=L+(I^P&(x^I))+N[10]+38016083&4294967295,L=x+(D<<9&4294967295|D>>>23),D=P+(x^I&(L^x))+N[15]+3634488961&4294967295,P=L+(D<<14&4294967295|D>>>18),D=I+(L^x&(P^L))+N[4]+3889429448&4294967295,I=P+(D<<20&4294967295|D>>>12),D=x+(P^L&(I^P))+N[9]+568446438&4294967295,x=I+(D<<5&4294967295|D>>>27),D=L+(I^P&(x^I))+N[14]+3275163606&4294967295,L=x+(D<<9&4294967295|D>>>23),D=P+(x^I&(L^x))+N[3]+4107603335&4294967295,P=L+(D<<14&4294967295|D>>>18),D=I+(L^x&(P^L))+N[8]+1163531501&4294967295,I=P+(D<<20&4294967295|D>>>12),D=x+(P^L&(I^P))+N[13]+2850285829&4294967295,x=I+(D<<5&4294967295|D>>>27),D=L+(I^P&(x^I))+N[2]+4243563512&4294967295,L=x+(D<<9&4294967295|D>>>23),D=P+(x^I&(L^x))+N[7]+1735328473&4294967295,P=L+(D<<14&4294967295|D>>>18),D=I+(L^x&(P^L))+N[12]+2368359562&4294967295,I=P+(D<<20&4294967295|D>>>12),D=x+(I^P^L)+N[5]+4294588738&4294967295,x=I+(D<<4&4294967295|D>>>28),D=L+(x^I^P)+N[8]+2272392833&4294967295,L=x+(D<<11&4294967295|D>>>21),D=P+(L^x^I)+N[11]+1839030562&4294967295,P=L+(D<<16&4294967295|D>>>16),D=I+(P^L^x)+N[14]+4259657740&4294967295,I=P+(D<<23&4294967295|D>>>9),D=x+(I^P^L)+N[1]+2763975236&4294967295,x=I+(D<<4&4294967295|D>>>28),D=L+(x^I^P)+N[4]+1272893353&4294967295,L=x+(D<<11&4294967295|D>>>21),D=P+(L^x^I)+N[7]+4139469664&4294967295,P=L+(D<<16&4294967295|D>>>16),D=I+(P^L^x)+N[10]+3200236656&4294967295,I=P+(D<<23&4294967295|D>>>9),D=x+(I^P^L)+N[13]+681279174&4294967295,x=I+(D<<4&4294967295|D>>>28),D=L+(x^I^P)+N[0]+3936430074&4294967295,L=x+(D<<11&4294967295|D>>>21),D=P+(L^x^I)+N[3]+3572445317&4294967295,P=L+(D<<16&4294967295|D>>>16),D=I+(P^L^x)+N[6]+76029189&4294967295,I=P+(D<<23&4294967295|D>>>9),D=x+(I^P^L)+N[9]+3654602809&4294967295,x=I+(D<<4&4294967295|D>>>28),D=L+(x^I^P)+N[12]+3873151461&4294967295,L=x+(D<<11&4294967295|D>>>21),D=P+(L^x^I)+N[15]+530742520&4294967295,P=L+(D<<16&4294967295|D>>>16),D=I+(P^L^x)+N[2]+3299628645&4294967295,I=P+(D<<23&4294967295|D>>>9),D=x+(P^(I|~L))+N[0]+4096336452&4294967295,x=I+(D<<6&4294967295|D>>>26),D=L+(I^(x|~P))+N[7]+1126891415&4294967295,L=x+(D<<10&4294967295|D>>>22),D=P+(x^(L|~I))+N[14]+2878612391&4294967295,P=L+(D<<15&4294967295|D>>>17),D=I+(L^(P|~x))+N[5]+4237533241&4294967295,I=P+(D<<21&4294967295|D>>>11),D=x+(P^(I|~L))+N[12]+1700485571&4294967295,x=I+(D<<6&4294967295|D>>>26),D=L+(I^(x|~P))+N[3]+2399980690&4294967295,L=x+(D<<10&4294967295|D>>>22),D=P+(x^(L|~I))+N[10]+4293915773&4294967295,P=L+(D<<15&4294967295|D>>>17),D=I+(L^(P|~x))+N[1]+2240044497&4294967295,I=P+(D<<21&4294967295|D>>>11),D=x+(P^(I|~L))+N[8]+1873313359&4294967295,x=I+(D<<6&4294967295|D>>>26),D=L+(I^(x|~P))+N[15]+4264355552&4294967295,L=x+(D<<10&4294967295|D>>>22),D=P+(x^(L|~I))+N[6]+2734768916&4294967295,P=L+(D<<15&4294967295|D>>>17),D=I+(L^(P|~x))+N[13]+1309151649&4294967295,I=P+(D<<21&4294967295|D>>>11),D=x+(P^(I|~L))+N[4]+4149444226&4294967295,x=I+(D<<6&4294967295|D>>>26),D=L+(I^(x|~P))+N[11]+3174756917&4294967295,L=x+(D<<10&4294967295|D>>>22),D=P+(x^(L|~I))+N[2]+718787259&4294967295,P=L+(D<<15&4294967295|D>>>17),D=I+(L^(P|~x))+N[9]+3951481745&4294967295,O.g[0]=O.g[0]+x&4294967295,O.g[1]=O.g[1]+(P+(D<<21&4294967295|D>>>11))&4294967295,O.g[2]=O.g[2]+P&4294967295,O.g[3]=O.g[3]+L&4294967295}i.prototype.u=function(O,x){x===void 0&&(x=O.length);for(var I=x-this.blockSize,N=this.B,P=this.h,L=0;L<x;){if(P==0)for(;L<=I;)r(this,O,L),L+=this.blockSize;if(typeof O=="string"){for(;L<x;)if(N[P++]=O.charCodeAt(L++),P==this.blockSize){r(this,N),P=0;break}}else for(;L<x;)if(N[P++]=O[L++],P==this.blockSize){r(this,N),P=0;break}}this.h=P,this.o+=x},i.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var x=1;x<O.length-8;++x)O[x]=0;var I=8*this.o;for(x=O.length-8;x<O.length;++x)O[x]=I&255,I/=256;for(this.u(O),O=Array(16),x=I=0;4>x;++x)for(var N=0;32>N;N+=8)O[I++]=this.g[x]>>>N&255;return O};function o(O,x){var I=h;return Object.prototype.hasOwnProperty.call(I,O)?I[O]:I[O]=x(O)}function c(O,x){this.h=x;for(var I=[],N=!0,P=O.length-1;0<=P;P--){var L=O[P]|0;N&&L==x||(I[P]=L,N=!1)}this.g=I}var h={};function d(O){return-128<=O&&128>O?o(O,function(x){return new c([x|0],0>x?-1:0)}):new c([O|0],0>O?-1:0)}function m(O){if(isNaN(O)||!isFinite(O))return v;if(0>O)return C(m(-O));for(var x=[],I=1,N=0;O>=I;N++)x[N]=O/I|0,I*=4294967296;return new c(x,0)}function _(O,x){if(O.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(O.charAt(0)=="-")return C(_(O.substring(1),x));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=m(Math.pow(x,8)),N=v,P=0;P<O.length;P+=8){var L=Math.min(8,O.length-P),D=parseInt(O.substring(P,P+L),x);8>L?(L=m(Math.pow(x,L)),N=N.j(L).add(m(D))):(N=N.j(I),N=N.add(m(D)))}return N}var v=d(0),b=d(1),S=d(16777216);n=c.prototype,n.m=function(){if(k(this))return-C(this).m();for(var O=0,x=1,I=0;I<this.g.length;I++){var N=this.i(I);O+=(0<=N?N:4294967296+N)*x,x*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(R(this))return"0";if(k(this))return"-"+C(this).toString(O);for(var x=m(Math.pow(O,6)),I=this,N="";;){var P=it(I,x).g;I=H(I,P.j(x));var L=((0<I.g.length?I.g[0]:I.h)>>>0).toString(O);if(I=P,R(I))return L+N;for(;6>L.length;)L="0"+L;N=L+N}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function R(O){if(O.h!=0)return!1;for(var x=0;x<O.g.length;x++)if(O.g[x]!=0)return!1;return!0}function k(O){return O.h==-1}n.l=function(O){return O=H(this,O),k(O)?-1:R(O)?0:1};function C(O){for(var x=O.g.length,I=[],N=0;N<x;N++)I[N]=~O.g[N];return new c(I,~O.h).add(b)}n.abs=function(){return k(this)?C(this):this},n.add=function(O){for(var x=Math.max(this.g.length,O.g.length),I=[],N=0,P=0;P<=x;P++){var L=N+(this.i(P)&65535)+(O.i(P)&65535),D=(L>>>16)+(this.i(P)>>>16)+(O.i(P)>>>16);N=D>>>16,L&=65535,D&=65535,I[P]=D<<16|L}return new c(I,I[I.length-1]&-2147483648?-1:0)};function H(O,x){return O.add(C(x))}n.j=function(O){if(R(this)||R(O))return v;if(k(this))return k(O)?C(this).j(C(O)):C(C(this).j(O));if(k(O))return C(this.j(C(O)));if(0>this.l(S)&&0>O.l(S))return m(this.m()*O.m());for(var x=this.g.length+O.g.length,I=[],N=0;N<2*x;N++)I[N]=0;for(N=0;N<this.g.length;N++)for(var P=0;P<O.g.length;P++){var L=this.i(N)>>>16,D=this.i(N)&65535,$t=O.i(P)>>>16,wt=O.i(P)&65535;I[2*N+2*P]+=D*wt,Q(I,2*N+2*P),I[2*N+2*P+1]+=L*wt,Q(I,2*N+2*P+1),I[2*N+2*P+1]+=D*$t,Q(I,2*N+2*P+1),I[2*N+2*P+2]+=L*$t,Q(I,2*N+2*P+2)}for(N=0;N<x;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=x;N<2*x;N++)I[N]=0;return new c(I,0)};function Q(O,x){for(;(O[x]&65535)!=O[x];)O[x+1]+=O[x]>>>16,O[x]&=65535,x++}function J(O,x){this.g=O,this.h=x}function it(O,x){if(R(x))throw Error("division by zero");if(R(O))return new J(v,v);if(k(O))return x=it(C(O),x),new J(C(x.g),C(x.h));if(k(x))return x=it(O,C(x)),new J(C(x.g),x.h);if(30<O.g.length){if(k(O)||k(x))throw Error("slowDivide_ only works with positive integers.");for(var I=b,N=x;0>=N.l(O);)I=W(I),N=W(N);var P=ot(I,1),L=ot(N,1);for(N=ot(N,2),I=ot(I,2);!R(N);){var D=L.add(N);0>=D.l(O)&&(P=P.add(I),L=D),N=ot(N,1),I=ot(I,1)}return x=H(O,P.j(x)),new J(P,x)}for(P=v;0<=O.l(x);){for(I=Math.max(1,Math.floor(O.m()/x.m())),N=Math.ceil(Math.log(I)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),L=m(I),D=L.j(x);k(D)||0<D.l(O);)I-=N,L=m(I),D=L.j(x);R(L)&&(L=b),P=P.add(L),O=H(O,D)}return new J(P,O)}n.A=function(O){return it(this,O).h},n.and=function(O){for(var x=Math.max(this.g.length,O.g.length),I=[],N=0;N<x;N++)I[N]=this.i(N)&O.i(N);return new c(I,this.h&O.h)},n.or=function(O){for(var x=Math.max(this.g.length,O.g.length),I=[],N=0;N<x;N++)I[N]=this.i(N)|O.i(N);return new c(I,this.h|O.h)},n.xor=function(O){for(var x=Math.max(this.g.length,O.g.length),I=[],N=0;N<x;N++)I[N]=this.i(N)^O.i(N);return new c(I,this.h^O.h)};function W(O){for(var x=O.g.length+1,I=[],N=0;N<x;N++)I[N]=O.i(N)<<1|O.i(N-1)>>>31;return new c(I,O.h)}function ot(O,x){var I=x>>5;x%=32;for(var N=O.g.length-I,P=[],L=0;L<N;L++)P[L]=0<x?O.i(L+I)>>>x|O.i(L+I+1)<<32-x:O.i(L+I);return new c(P,O.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,sw=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=_,hr=c}).apply(typeof Yb<"u"?Yb:typeof self<"u"?self:typeof window<"u"?window:{});var Uh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rw,Tc,aw,of,lp,ow,lw,cw;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,y,E){return f==Array.prototype||f==Object.prototype||(f[y]=E.value),f};function e(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uh=="object"&&Uh];for(var y=0;y<f.length;++y){var E=f[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=e(this);function r(f,y){if(y)t:{var E=i;f=f.split(".");for(var A=0;A<f.length-1;A++){var B=f[A];if(!(B in E))break t;E=E[B]}f=f[f.length-1],A=E[f],y=y(A),y!=A&&y!=null&&t(E,f,{configurable:!0,writable:!0,value:y})}}function o(f,y){f instanceof String&&(f+="");var E=0,A=!1,B={next:function(){if(!A&&E<f.length){var K=E++;return{value:y(K,f[K]),done:!1}}return A=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}r("Array.prototype.values",function(f){return f||function(){return o(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function d(f){var y=typeof f;return y=y!="object"?y:f?Array.isArray(f)?"array":y:"null",y=="array"||y=="object"&&typeof f.length=="number"}function m(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function _(f,y,E){return f.call.apply(f.bind,arguments)}function v(f,y,E){if(!f)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,A),f.apply(y,B)}}return function(){return f.apply(y,arguments)}}function b(f,y,E){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:v,b.apply(null,arguments)}function S(f,y){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),f.apply(this,A)}}function R(f,y){function E(){}E.prototype=y.prototype,f.aa=y.prototype,f.prototype=new E,f.prototype.constructor=f,f.Qb=function(A,B,K){for(var lt=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)lt[Lt-2]=arguments[Lt];return y.prototype[B].apply(A,lt)}}function k(f){const y=f.length;if(0<y){const E=Array(y);for(let A=0;A<y;A++)E[A]=f[A];return E}return[]}function C(f,y){for(let E=1;E<arguments.length;E++){const A=arguments[E];if(d(A)){const B=f.length||0,K=A.length||0;f.length=B+K;for(let lt=0;lt<K;lt++)f[B+lt]=A[lt]}else f.push(A)}}class H{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Q(f){return/^[\s\xa0]*$/.test(f)}function J(){var f=h.navigator;return f&&(f=f.userAgent)?f:""}function it(f){return it[" "](f),f}it[" "]=function(){};var W=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function ot(f,y,E){for(const A in f)y.call(E,f[A],A,f)}function O(f,y){for(const E in f)y.call(void 0,f[E],E,f)}function x(f){const y={};for(const E in f)y[E]=f[E];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(f,y){let E,A;for(let B=1;B<arguments.length;B++){A=arguments[B];for(E in A)f[E]=A[E];for(let K=0;K<I.length;K++)E=I[K],Object.prototype.hasOwnProperty.call(A,E)&&(f[E]=A[E])}}function P(f){var y=1;f=f.split(":");const E=[];for(;0<y&&f.length;)E.push(f.shift()),y--;return f.length&&E.push(f.join(":")),E}function L(f){h.setTimeout(()=>{throw f},0)}function D(){var f=Nt;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class $t{constructor(){this.h=this.g=null}add(y,E){const A=wt.get();A.set(y,E),this.h?this.h.next=A:this.g=A,this.h=A}}var wt=new H(()=>new Y,f=>f.reset());class Y{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let at,gt=!1,Nt=new $t,V=()=>{const f=h.Promise.resolve(void 0);at=()=>{f.then(nt)}};var nt=()=>{for(var f;f=D();){try{f.h.call(f.g)}catch(E){L(E)}var y=wt;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}gt=!1};function ct(){this.s=this.s,this.C=this.C}ct.prototype.s=!1,ct.prototype.ma=function(){this.s||(this.s=!0,this.N())},ct.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function rt(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}rt.prototype.h=function(){this.defaultPrevented=!0};var dt=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};h.addEventListener("test",E,y),h.removeEventListener("test",E,y)}catch{}return f}();function At(f,y){if(rt.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var E=this.type=f.type,A=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(W){t:{try{it(y.nodeName);var B=!0;break t}catch{}B=!1}B||(y=null)}}else E=="mouseover"?y=f.fromElement:E=="mouseout"&&(y=f.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:_t[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&At.aa.h.call(this)}}R(At,rt);var _t={2:"touch",3:"pen",4:"mouse"};At.prototype.h=function(){At.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ve="closure_listenable_"+(1e6*Math.random()|0),se=0;function ci(f,y,E,A,B){this.listener=f,this.proxy=null,this.src=y,this.type=E,this.capture=!!A,this.ha=B,this.key=++se,this.da=this.fa=!1}function Ts(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Li(f){this.src=f,this.g={},this.h=0}Li.prototype.add=function(f,y,E,A,B){var K=f.toString();f=this.g[K],f||(f=this.g[K]=[],this.h++);var lt=Or(f,y,A,B);return-1<lt?(y=f[lt],E||(y.fa=!1)):(y=new ci(y,this.src,K,!!A,B),y.fa=E,f.push(y)),y};function Cr(f,y){var E=y.type;if(E in f.g){var A=f.g[E],B=Array.prototype.indexOf.call(A,y,void 0),K;(K=0<=B)&&Array.prototype.splice.call(A,B,1),K&&(Ts(y),f.g[E].length==0&&(delete f.g[E],f.h--))}}function Or(f,y,E,A){for(var B=0;B<f.length;++B){var K=f[B];if(!K.da&&K.listener==y&&K.capture==!!E&&K.ha==A)return B}return-1}var Dr="closure_lm_"+(1e6*Math.random()|0),rl={};function du(f,y,E,A,B){if(Array.isArray(y)){for(var K=0;K<y.length;K++)du(f,y[K],E,A,B);return null}return E=gu(E),f&&f[Ve]?f.K(y,E,m(A)?!!A.capture:!1,B):Mn(f,y,E,!1,A,B)}function Mn(f,y,E,A,B,K){if(!y)throw Error("Invalid event type");var lt=m(B)?!!B.capture:!!B,Lt=ka(f);if(Lt||(f[Dr]=Lt=new Li(f)),E=Lt.add(y,E,A,lt,K),E.proxy)return E;if(A=Ed(),E.proxy=A,A.src=f,A.listener=E,f.addEventListener)dt||(B=lt),B===void 0&&(B=!1),f.addEventListener(y.toString(),A,B);else if(f.attachEvent)f.attachEvent(Mr(y.toString()),A);else if(f.addListener&&f.removeListener)f.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ed(){function f(E){return y.call(f.src,f.listener,E)}const y=Td;return f}function al(f,y,E,A,B){if(Array.isArray(y))for(var K=0;K<y.length;K++)al(f,y[K],E,A,B);else A=m(A)?!!A.capture:!!A,E=gu(E),f&&f[Ve]?(f=f.i,y=String(y).toString(),y in f.g&&(K=f.g[y],E=Or(K,E,A,B),-1<E&&(Ts(K[E]),Array.prototype.splice.call(K,E,1),K.length==0&&(delete f.g[y],f.h--)))):f&&(f=ka(f))&&(y=f.g[y.toString()],f=-1,y&&(f=Or(y,E,A,B)),(E=-1<f?y[f]:null)&&Ma(E))}function Ma(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[Ve])Cr(y.i,f);else{var E=f.type,A=f.proxy;y.removeEventListener?y.removeEventListener(E,A,f.capture):y.detachEvent?y.detachEvent(Mr(E),A):y.addListener&&y.removeListener&&y.removeListener(A),(E=ka(y))?(Cr(E,f),E.h==0&&(E.src=null,y[Dr]=null)):Ts(f)}}}function Mr(f){return f in rl?rl[f]:rl[f]="on"+f}function Td(f,y){if(f.da)f=!0;else{y=new At(y,this);var E=f.listener,A=f.ha||f.src;f.fa&&Ma(f),f=E.call(A,y)}return f}function ka(f){return f=f[Dr],f instanceof Li?f:null}var ol="__closure_events_fn_"+(1e9*Math.random()>>>0);function gu(f){return typeof f=="function"?f:(f[ol]||(f[ol]=function(y){return f.handleEvent(y)}),f[ol])}function de(){ct.call(this),this.i=new Li(this),this.M=this,this.F=null}R(de,ct),de.prototype[Ve]=!0,de.prototype.removeEventListener=function(f,y,E,A){al(this,f,y,E,A)};function Kt(f,y){var E,A=f.F;if(A)for(E=[];A;A=A.F)E.push(A);if(f=f.M,A=y.type||y,typeof y=="string")y=new rt(y,f);else if(y instanceof rt)y.target=y.target||f;else{var B=y;y=new rt(A,f),N(y,B)}if(B=!0,E)for(var K=E.length-1;0<=K;K--){var lt=y.g=E[K];B=vn(lt,A,!0,y)&&B}if(lt=y.g=f,B=vn(lt,A,!0,y)&&B,B=vn(lt,A,!1,y)&&B,E)for(K=0;K<E.length;K++)lt=y.g=E[K],B=vn(lt,A,!1,y)&&B}de.prototype.N=function(){if(de.aa.N.call(this),this.i){var f=this.i,y;for(y in f.g){for(var E=f.g[y],A=0;A<E.length;A++)Ts(E[A]);delete f.g[y],f.h--}}this.F=null},de.prototype.K=function(f,y,E,A){return this.i.add(String(f),y,!1,E,A)},de.prototype.L=function(f,y,E,A){return this.i.add(String(f),y,!0,E,A)};function vn(f,y,E,A){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,K=0;K<y.length;++K){var lt=y[K];if(lt&&!lt.da&&lt.capture==E){var Lt=lt.listener,Oe=lt.ha||lt.src;lt.fa&&Cr(f.i,lt),B=Lt.call(Oe,A)!==!1&&B}}return B&&!A.defaultPrevented}function Ze(f,y,E){if(typeof f=="function")E&&(f=b(f,E));else if(f&&typeof f.handleEvent=="function")f=b(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:h.setTimeout(f,y||0)}function mu(f){f.g=Ze(()=>{f.g=null,f.i&&(f.i=!1,mu(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class Sd extends ct{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:mu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kr(f){ct.call(this),this.h=f,this.g={}}R(kr,ct);var Nr=[];function Pr(f){ot(f.g,function(y,E){this.g.hasOwnProperty(E)&&Ma(y)},f),f.g={}}kr.prototype.N=function(){kr.aa.N.call(this),Pr(this)},kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xn=h.JSON.stringify,Na=h.JSON.parse,Vr=class{stringify(f){return h.JSON.stringify(f,void 0)}parse(f){return h.JSON.parse(f,void 0)}};function ll(){}ll.prototype.h=null;function cl(f){return f.h||(f.h=f.i())}function ul(){}var Ui={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zi(){rt.call(this,"d")}R(zi,rt);function hl(){rt.call(this,"c")}R(hl,rt);var ui={},fl=null;function Ss(){return fl=fl||new de}ui.La="serverreachability";function Pa(f){rt.call(this,ui.La,f)}R(Pa,rt);function ws(f){const y=Ss();Kt(y,new Pa(y))}ui.STAT_EVENT="statevent";function pu(f,y){rt.call(this,ui.STAT_EVENT,f),this.stat=y}R(pu,rt);function ce(f){const y=Ss();Kt(y,new pu(y,f))}ui.Ma="timingevent";function Ce(f,y){rt.call(this,ui.Ma,f),this.size=y}R(Ce,rt);function Te(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){f()},y)}function kn(){this.g=!0}kn.prototype.xa=function(){this.g=!1};function dl(f,y,E,A,B,K){f.info(function(){if(f.g)if(K)for(var lt="",Lt=K.split("&"),Oe=0;Oe<Lt.length;Oe++){var Ut=Lt[Oe].split("=");if(1<Ut.length){var Ue=Ut[0];Ut=Ut[1];var De=Ue.split("_");lt=2<=De.length&&De[1]=="type"?lt+(Ue+"="+Ut+"&"):lt+(Ue+"=redacted&")}}else lt=null;else lt=K;return"XMLHTTP REQ ("+A+") [attempt "+B+"]: "+y+`
`+E+`
`+lt})}function wd(f,y,E,A,B,K,lt){f.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+B+"]: "+y+`
`+E+`
`+K+" "+lt})}function As(f,y,E,A){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+Lr(f,E)+(A?" "+A:"")})}function _u(f,y){f.info(function(){return"TIMEOUT: "+y})}kn.prototype.info=function(){};function Lr(f,y){if(!f.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(f=0;f<E.length;f++)if(Array.isArray(E[f])){var A=E[f];if(!(2>A.length)){var B=A[1];if(Array.isArray(B)&&!(1>B.length)){var K=B[0];if(K!="noop"&&K!="stop"&&K!="close")for(var lt=1;lt<B.length;lt++)B[lt]=""}}}}return Xn(E)}catch{return y}}var xs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Bi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hi;function fi(){}R(fi,ll),fi.prototype.g=function(){return new XMLHttpRequest},fi.prototype.i=function(){return{}},hi=new fi;function an(f,y,E,A){this.j=f,this.i=y,this.l=E,this.R=A||1,this.U=new kr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pe}function pe(){this.i=null,this.g="",this.h=!1}var gl={},Va={};function Wn(f,y,E){f.L=1,f.v=Fr(bn(y)),f.m=E,f.P=!0,ji(f,null)}function ji(f,y){f.F=Date.now(),Ur(f),f.A=bn(f.v);var E=f.A,A=f.R;Array.isArray(A)||(A=[String(A)]),bl(E.i,"t",A),f.C=0,E=f.j.J,f.h=new pe,f.g=ku(f.j,E?y:null,!f.m),0<f.O&&(f.M=new Sd(b(f.Y,f,f.g),f.O)),y=f.U,E=f.g,A=f.ca;var B="readystatechange";Array.isArray(B)||(B&&(Nr[0]=B.toString()),B=Nr);for(var K=0;K<B.length;K++){var lt=du(E,B[K],A||y.handleEvent,!1,y.h||y);if(!lt)break;y.g[lt.key]=lt}y=f.H?x(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),ws(),dl(f.i,f.u,f.A,f.l,f.R,f.m)}an.prototype.ca=function(f){f=f.target;const y=this.M;y&&Ln(f)==3?y.j():this.Y(f)},an.prototype.Y=function(f){try{if(f==this.g)t:{const De=Ln(this.g);var y=this.g.Ba();const Xi=this.g.Z();if(!(3>De)&&(De!=3||this.g&&(this.h.h||this.g.oa()||Au(this.g)))){this.J||De!=4||y==7||(y==8||0>=Xi?ws(3):ws(2)),Rs(this);var E=this.g.Z();this.X=E;e:if(yu(this)){var A=Au(this.g);f="";var B=A.length,K=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qe(this),di(this);var lt="";break e}this.h.i=new h.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,f+=this.h.i.decode(A[y],{stream:!(K&&y==B-1)});A.length=0,this.h.g+=f,this.C=0,lt=this.h.g}else lt=this.g.oa();if(this.o=E==200,wd(this.i,this.u,this.A,this.l,this.R,De,E),this.o){if(this.T&&!this.K){e:{if(this.g){var Lt,Oe=this.g;if((Lt=Oe.g?Oe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(Lt)){var Ut=Lt;break e}}Ut=null}if(E=Ut)As(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zr(this,E);else{this.o=!1,this.s=3,ce(12),qe(this),di(this);break t}}if(this.P){E=!0;let Ge;for(;!this.J&&this.C<lt.length;)if(Ge=vu(this,lt),Ge==Va){De==4&&(this.s=4,ce(14),E=!1),As(this.i,this.l,null,"[Incomplete Response]");break}else if(Ge==gl){this.s=4,ce(15),As(this.i,this.l,lt,"[Invalid Chunk]"),E=!1;break}else As(this.i,this.l,Ge,null),zr(this,Ge);if(yu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||lt.length!=0||this.h.h||(this.s=1,ce(16),E=!1),this.o=this.o&&E,!E)As(this.i,this.l,lt,"[Invalid Chunked Response]"),qe(this),di(this);else if(0<lt.length&&!this.W){this.W=!0;var Ue=this.j;Ue.g==this&&Ue.ba&&!Ue.M&&(Ue.j.info("Great, no buffering proxy detected. Bytes received: "+lt.length),Wr(Ue),Ue.M=!0,ce(11))}}else As(this.i,this.l,lt,null),zr(this,lt);De==4&&qe(this),this.o&&!this.J&&(De==4?Ou(this.j,this):(this.o=!1,Ur(this)))}else Cd(this.g),E==400&&0<lt.indexOf("Unknown SID")?(this.s=3,ce(12)):(this.s=0,ce(13)),qe(this),di(this)}}}catch{}finally{}};function yu(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function vu(f,y){var E=f.C,A=y.indexOf(`
`,E);return A==-1?Va:(E=Number(y.substring(E,A)),isNaN(E)?gl:(A+=1,A+E>y.length?Va:(y=y.slice(A,A+E),f.C=A+E,y)))}an.prototype.cancel=function(){this.J=!0,qe(this)};function Ur(f){f.S=Date.now()+f.I,bu(f,f.I)}function bu(f,y){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Te(b(f.ba,f),y)}function Rs(f){f.B&&(h.clearTimeout(f.B),f.B=null)}an.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(_u(this.i,this.A),this.L!=2&&(ws(),ce(17)),qe(this),this.s=2,di(this)):bu(this,this.S-f)};function di(f){f.j.G==0||f.J||Ou(f.j,f)}function qe(f){Rs(f);var y=f.M;y&&typeof y.ma=="function"&&y.ma(),f.M=null,Pr(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function zr(f,y){try{var E=f.j;if(E.G!=0&&(E.g==f||ml(E.h,f))){if(!f.K&&ml(E.h,f)&&E.G==3){try{var A=E.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var B=A;if(B[0]==0){t:if(!E.u){if(E.g)if(E.g.F+3e3<f.F)Qa(E),Ya(E);else break t;Al(E),ce(18)}}else E.za=B[1],0<E.za-E.T&&37500>B[2]&&E.F&&E.v==0&&!E.C&&(E.C=Te(b(E.Za,E),6e3));if(1>=Ua(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Qi(E,11)}else if((f.K||E.g==f)&&Qa(E),!Q(y))for(B=E.Da.g.parse(y),y=0;y<B.length;y++){let Ut=B[y];if(E.T=Ut[0],Ut=Ut[1],E.G==2)if(Ut[0]=="c"){E.K=Ut[1],E.ia=Ut[2];const Ue=Ut[3];Ue!=null&&(E.la=Ue,E.j.info("VER="+E.la));const De=Ut[4];De!=null&&(E.Aa=De,E.j.info("SVER="+E.Aa));const Xi=Ut[5];Xi!=null&&typeof Xi=="number"&&0<Xi&&(A=1.5*Xi,E.L=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const Ge=f.g;if(Ge){const bi=Ge.g?Ge.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bi){var K=A.h;K.g||bi.indexOf("spdy")==-1&&bi.indexOf("quic")==-1&&bi.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(za(K,K.h),K.h=null))}if(A.D){const Rl=Ge.g?Ge.g.getResponseHeader("X-HTTP-Session-Id"):null;Rl&&(A.ya=Rl,Zt(A.I,A.D,Rl))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-f.F,E.j.info("Handshake RTT: "+E.R+"ms")),A=E;var lt=f;if(A.qa=Mu(A,A.J?A.ia:null,A.W),lt.K){on(A.h,lt);var Lt=lt,Oe=A.L;Oe&&(Lt.I=Oe),Lt.B&&(Rs(Lt),Ur(Lt)),A.g=lt}else Iu(A);0<E.i.length&&Ka(E)}else Ut[0]!="stop"&&Ut[0]!="close"||Qi(E,7);else E.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?Qi(E,7):Sl(E):Ut[0]!="noop"&&E.l&&E.l.ta(Ut),E.v=0)}}ws(4)}catch{}}var Eu=class{constructor(f,y){this.g=f,this.map=y}};function Fi(f){this.l=f||10,h.PerformanceNavigationTiming?(f=h.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function La(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Ua(f){return f.h?1:f.g?f.g.size:0}function ml(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function za(f,y){f.g?f.g.add(y):f.h=y}function on(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}Fi.prototype.cancel=function(){if(this.i=pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function pl(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const E of f.g.values())y=y.concat(E.D);return y}return k(f.i)}function Ad(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var y=[],E=f.length,A=0;A<E;A++)y.push(f[A]);return y}y=[],E=0;for(A in f)y[E++]=f[A];return y}function Ba(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var y=[];f=f.length;for(var E=0;E<f;E++)y.push(E);return y}y=[],E=0;for(const A in f)y[E++]=A;return y}}}function _l(f,y){if(f.forEach&&typeof f.forEach=="function")f.forEach(y,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,y,void 0);else for(var E=Ba(f),A=Ad(f),B=A.length,K=0;K<B;K++)y.call(void 0,A[K],E&&E[K],f)}var Br=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xd(f,y){if(f){f=f.split("&");for(var E=0;E<f.length;E++){var A=f[E].indexOf("="),B=null;if(0<=A){var K=f[E].substring(0,A);B=f[E].substring(A+1)}else K=f[E];y(K,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Se(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Se){this.h=f.h,jr(this,f.j),this.o=f.o,this.g=f.g,Is(this,f.s),this.l=f.l;var y=f.i,E=new qi;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),Hi(this,E),this.m=f.m}else f&&(y=String(f).match(Br))?(this.h=!1,jr(this,y[1]||"",!0),this.o=Nn(y[2]||""),this.g=Nn(y[3]||"",!0),Is(this,y[4]),this.l=Nn(y[5]||"",!0),Hi(this,y[6]||"",!0),this.m=Nn(y[7]||"")):(this.h=!1,this.i=new qi(null,this.h))}Se.prototype.toString=function(){var f=[],y=this.j;y&&f.push(Hr(y,yl,!0),":");var E=this.g;return(E||y=="file")&&(f.push("//"),(y=this.o)&&f.push(Hr(y,yl,!0),"@"),f.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&f.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(Hr(E,E.charAt(0)=="/"?Rd:vl,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",Hr(E,ja)),f.join("")};function bn(f){return new Se(f)}function jr(f,y,E){f.j=E?Nn(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function Is(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function Hi(f,y,E){y instanceof qi?(f.i=y,Su(f.i,f.h)):(E||(y=Hr(y,Id)),f.i=new qi(y,f.h))}function Zt(f,y,E){f.i.set(y,E)}function Fr(f){return Zt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Nn(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Hr(f,y,E){return typeof f=="string"?(f=encodeURI(f).replace(y,Tu),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Tu(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var yl=/[#\/\?@]/g,vl=/[#\?:]/g,Rd=/[#\?]/g,Id=/[#\?@]/g,ja=/#/g;function qi(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function Pn(f){f.g||(f.g=new Map,f.h=0,f.i&&xd(f.i,function(y,E){f.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}n=qi.prototype,n.add=function(f,y){Pn(this),this.i=null,f=gi(this,f);var E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(y),this.h+=1,this};function Gi(f,y){Pn(f),y=gi(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function Yi(f,y){return Pn(f),y=gi(f,y),f.g.has(y)}n.forEach=function(f,y){Pn(this),this.g.forEach(function(E,A){E.forEach(function(B){f.call(y,B,A,this)},this)},this)},n.na=function(){Pn(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let A=0;A<y.length;A++){const B=f[A];for(let K=0;K<B.length;K++)E.push(y[A])}return E},n.V=function(f){Pn(this);let y=[];if(typeof f=="string")Yi(this,f)&&(y=y.concat(this.g.get(gi(this,f))));else{f=Array.from(this.g.values());for(let E=0;E<f.length;E++)y=y.concat(f[E])}return y},n.set=function(f,y){return Pn(this),this.i=null,f=gi(this,f),Yi(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},n.get=function(f,y){return f?(f=this.V(f),0<f.length?String(f[0]):y):y};function bl(f,y,E){Gi(f,y),0<E.length&&(f.i=null,f.g.set(gi(f,y),k(E)),f.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var A=y[E];const K=encodeURIComponent(String(A)),lt=this.V(A);for(A=0;A<lt.length;A++){var B=K;lt[A]!==""&&(B+="="+encodeURIComponent(String(lt[A]))),f.push(B)}}return this.i=f.join("&")};function gi(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function Su(f,y){y&&!f.j&&(Pn(f),f.i=null,f.g.forEach(function(E,A){var B=A.toLowerCase();A!=B&&(Gi(this,A),bl(this,B,E))},f)),f.j=y}function qr(f,y){const E=new kn;if(h.Image){const A=new Image;A.onload=S(Vn,E,"TestLoadImage: loaded",!0,y,A),A.onerror=S(Vn,E,"TestLoadImage: error",!1,y,A),A.onabort=S(Vn,E,"TestLoadImage: abort",!1,y,A),A.ontimeout=S(Vn,E,"TestLoadImage: timeout",!1,y,A),h.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=f}else y(!1)}function $n(f,y){const E=new kn,A=new AbortController,B=setTimeout(()=>{A.abort(),Vn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:A.signal}).then(K=>{clearTimeout(B),K.ok?Vn(E,"TestPingServer: ok",!0,y):Vn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Vn(E,"TestPingServer: error",!1,y)})}function Vn(f,y,E,A,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),A(E)}catch{}}function Gr(){this.g=new Vr}function mi(f,y,E){const A=E||"";try{_l(f,function(B,K){let lt=B;m(B)&&(lt=Xn(B)),y.push(A+K+"="+encodeURIComponent(lt))})}catch(B){throw y.push(A+"type="+encodeURIComponent("_badmap")),B}}function Cs(f){this.l=f.Ub||null,this.j=f.eb||!1}R(Cs,ll),Cs.prototype.g=function(){return new Ki(this.l,this.j)},Cs.prototype.i=function(f){return function(){return f}}({});function Ki(f,y){de.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(Ki,de),n=Ki.prototype,n.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,_i(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||h).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pi(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,_i(this)),this.g&&(this.readyState=3,_i(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;El(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function El(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?pi(this):_i(this),this.readyState==3&&El(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,pi(this))},n.Qa=function(f){this.g&&(this.response=f,pi(this))},n.ga=function(){this.g&&pi(this)};function pi(f){f.readyState=4,f.l=null,f.j=null,f.v=null,_i(f)}n.setRequestHeader=function(f,y){this.u.append(f,y)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=y.next();return f.join(`\r
`)};function _i(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Ki.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Tl(f){let y="";return ot(f,function(E,A){y+=A,y+=":",y+=E,y+=`\r
`}),y}function Le(f,y,E){t:{for(A in E){var A=!1;break t}A=!0}A||(E=Tl(E),typeof f=="string"?E!=null&&encodeURIComponent(String(E)):Zt(f,y,E))}function Gt(f){de.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(Gt,de);var Fa=/^https?$/i,Yr=["POST","PUT"];n=Gt.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,y,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hi.g(),this.v=this.o?cl(this.o):cl(hi),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(K){wu(this,K);return}if(f=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var B in A)E.set(B,A[B]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const K of A.keys())E.set(K,A.get(K));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(K=>K.toLowerCase()=="content-type"),B=h.FormData&&f instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Yr,y,void 0))||A||B||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,lt]of E)this.g.setRequestHeader(K,lt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Kr(this),this.u=!0,this.g.send(f),this.u=!1}catch(K){wu(this,K)}};function wu(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,Ha(f),yi(f)}function Ha(f){f.A||(f.A=!0,Kt(f,"complete"),Kt(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Kt(this,"complete"),Kt(this,"abort"),yi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yi(this,!0)),Gt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?qa(this):this.bb())},n.bb=function(){qa(this)};function qa(f){if(f.h&&typeof c<"u"&&(!f.v[1]||Ln(f)!=4||f.Z()!=2)){if(f.u&&Ln(f)==4)Ze(f.Ea,0,f);else if(Kt(f,"readystatechange"),Ln(f)==4){f.h=!1;try{const lt=f.Z();t:switch(lt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var E;if(!(E=y)){var A;if(A=lt===0){var B=String(f.D).match(Br)[1]||null;!B&&h.self&&h.self.location&&(B=h.self.location.protocol.slice(0,-1)),A=!Fa.test(B?B.toLowerCase():"")}E=A}if(E)Kt(f,"complete"),Kt(f,"success");else{f.m=6;try{var K=2<Ln(f)?f.g.statusText:""}catch{K=""}f.l=K+" ["+f.Z()+"]",Ha(f)}}finally{yi(f)}}}}function yi(f,y){if(f.g){Kr(f);const E=f.g,A=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||Kt(f,"ready");try{E.onreadystatechange=A}catch{}}}function Kr(f){f.I&&(h.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function Ln(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),Na(y)}};function Au(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Cd(f){const y={};f=(f.g&&2<=Ln(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<f.length;A++){if(Q(f[A]))continue;var E=P(f[A]);const B=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const K=y[B]||[];y[B]=K,K.push(E)}O(y,function(A){return A.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qr(f,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||y}function Ga(f){this.Aa=0,this.i=[],this.j=new kn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qr("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qr("baseRetryDelayMs",5e3,f),this.cb=Qr("retryDelaySeedMs",1e4,f),this.Wa=Qr("forwardChannelMaxRetries",2,f),this.wa=Qr("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Fi(f&&f.concurrentRequestLimit),this.Da=new Gr,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ga.prototype,n.la=8,n.G=1,n.connect=function(f,y,E,A){ce(0),this.W=f,this.H=y||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.I=Mu(this,null,this.W),Ka(this)};function Sl(f){if(xu(f),f.G==3){var y=f.U++,E=bn(f.I);if(Zt(E,"SID",f.K),Zt(E,"RID",y),Zt(E,"TYPE","terminate"),Xr(f,E),y=new an(f,f.j,y),y.L=2,y.v=Fr(bn(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&h.Image&&(new Image().src=y.v,E=!0),E||(y.g=ku(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ur(y)}Du(f)}function Ya(f){f.g&&(Wr(f),f.g.cancel(),f.g=null)}function xu(f){Ya(f),f.u&&(h.clearTimeout(f.u),f.u=null),Qa(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&h.clearTimeout(f.s),f.s=null)}function Ka(f){if(!La(f.h)&&!f.s){f.s=!0;var y=f.Ga;at||V(),gt||(at(),gt=!0),Nt.add(y,f),f.B=0}}function Od(f,y){return Ua(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=y.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Te(b(f.Ga,f,y),xl(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const B=new an(this,this.j,f);let K=this.o;if(this.S&&(K?(K=x(K),N(K,this.S)):K=this.S),this.m!==null||this.O||(B.H=K,K=null),this.P)t:{for(var y=0,E=0;E<this.i.length;E++){e:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=E;break t}if(y===4096||E===this.i.length-1){y=E+1;break t}}y=1e3}else y=1e3;y=Ru(this,B,y),E=bn(this.I),Zt(E,"RID",f),Zt(E,"CVER",22),this.D&&Zt(E,"X-HTTP-Session-Id",this.D),Xr(this,E),K&&(this.O?y="headers="+encodeURIComponent(String(Tl(K)))+"&"+y:this.m&&Le(E,this.m,K)),za(this.h,B),this.Ua&&Zt(E,"TYPE","init"),this.P?(Zt(E,"$req",y),Zt(E,"SID","null"),B.T=!0,Wn(B,E,null)):Wn(B,E,y),this.G=2}}else this.G==3&&(f?wl(this,f):this.i.length==0||La(this.h)||wl(this))};function wl(f,y){var E;y?E=y.l:E=f.U++;const A=bn(f.I);Zt(A,"SID",f.K),Zt(A,"RID",E),Zt(A,"AID",f.T),Xr(f,A),f.m&&f.o&&Le(A,f.m,f.o),E=new an(f,f.j,E,f.B+1),f.m===null&&(E.H=f.o),y&&(f.i=y.D.concat(f.i)),y=Ru(f,E,1e3),E.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),za(f.h,E),Wn(E,A,y)}function Xr(f,y){f.H&&ot(f.H,function(E,A){Zt(y,A,E)}),f.l&&_l({},function(E,A){Zt(y,A,E)})}function Ru(f,y,E){E=Math.min(f.i.length,E);var A=f.l?b(f.l.Na,f.l,f):null;t:{var B=f.i;let K=-1;for(;;){const lt=["count="+E];K==-1?0<E?(K=B[0].g,lt.push("ofs="+K)):K=0:lt.push("ofs="+K);let Lt=!0;for(let Oe=0;Oe<E;Oe++){let Ut=B[Oe].g;const Ue=B[Oe].map;if(Ut-=K,0>Ut)K=Math.max(0,B[Oe].g-100),Lt=!1;else try{mi(Ue,lt,"req"+Ut+"_")}catch{A&&A(Ue)}}if(Lt){A=lt.join("&");break t}}}return f=f.i.splice(0,E),y.D=f,A}function Iu(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;at||V(),gt||(at(),gt=!0),Nt.add(y,f),f.v=0}}function Al(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Te(b(f.Fa,f),xl(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,Cu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Te(b(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ce(10),Ya(this),Cu(this))};function Wr(f){f.A!=null&&(h.clearTimeout(f.A),f.A=null)}function Cu(f){f.g=new an(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var y=bn(f.qa);Zt(y,"RID","rpc"),Zt(y,"SID",f.K),Zt(y,"AID",f.T),Zt(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&Zt(y,"TO",f.ja),Zt(y,"TYPE","xmlhttp"),Xr(f,y),f.m&&f.o&&Le(y,f.m,f.o),f.L&&(f.g.I=f.L);var E=f.g;f=f.ia,E.L=1,E.v=Fr(bn(y)),E.m=null,E.P=!0,ji(E,f)}n.Za=function(){this.C!=null&&(this.C=null,Ya(this),Al(this),ce(19))};function Qa(f){f.C!=null&&(h.clearTimeout(f.C),f.C=null)}function Ou(f,y){var E=null;if(f.g==y){Qa(f),Wr(f),f.g=null;var A=2}else if(ml(f.h,y))E=y.D,on(f.h,y),A=1;else return;if(f.G!=0){if(y.o)if(A==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var B=f.B;A=Ss(),Kt(A,new Ce(A,E)),Ka(f)}else Iu(f);else if(B=y.s,B==3||B==0&&0<y.X||!(A==1&&Od(f,y)||A==2&&Al(f)))switch(E&&0<E.length&&(y=f.h,y.i=y.i.concat(E)),B){case 1:Qi(f,5);break;case 4:Qi(f,10);break;case 3:Qi(f,6);break;default:Qi(f,2)}}}function xl(f,y){let E=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(E*=2),E*y}function Qi(f,y){if(f.j.info("Error code "+y),y==2){var E=b(f.fb,f),A=f.Xa;const B=!A;A=new Se(A||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||jr(A,"https"),Fr(A),B?qr(A.toString(),E):$n(A.toString(),E)}else ce(2);f.G=0,f.l&&f.l.sa(y),Du(f),xu(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),ce(2)):(this.j.info("Failed to ping google.com"),ce(1))};function Du(f){if(f.G=0,f.ka=[],f.l){const y=pl(f.h);(y.length!=0||f.i.length!=0)&&(C(f.ka,y),C(f.ka,f.i),f.h.i.length=0,k(f.i),f.i.length=0),f.l.ra()}}function Mu(f,y,E){var A=E instanceof Se?bn(E):new Se(E);if(A.g!="")y&&(A.g=y+"."+A.g),Is(A,A.s);else{var B=h.location;A=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var K=new Se(null);A&&jr(K,A),y&&(K.g=y),B&&Is(K,B),E&&(K.l=E),A=K}return E=f.D,y=f.ya,E&&y&&Zt(A,E,y),Zt(A,"VER",f.la),Xr(f,A),A}function ku(f,y,E){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Ca&&!f.pa?new Gt(new Cs({eb:E})):new Gt(f.pa),y.Ha(f.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Nu(){}n=Nu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Xa(){}Xa.prototype.g=function(f,y){return new ln(f,y)};function ln(f,y){de.call(this),this.g=new Ga(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!Q(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Q(y)&&(this.g.D=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new vi(this)}R(ln,de),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){Sl(this.g)},ln.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.u&&(E={},E.__data__=Xn(f),f=E);y.i.push(new Eu(y.Ya++,f)),y.G==3&&Ka(y)},ln.prototype.N=function(){this.g.l=null,delete this.j,Sl(this.g),delete this.g,ln.aa.N.call(this)};function Pu(f){zi.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){t:{for(const E in y){f=E;break t}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}R(Pu,zi);function Vu(){hl.call(this),this.status=1}R(Vu,hl);function vi(f){this.g=f}R(vi,Nu),vi.prototype.ua=function(){Kt(this.g,"a")},vi.prototype.ta=function(f){Kt(this.g,new Pu(f))},vi.prototype.sa=function(f){Kt(this.g,new Vu)},vi.prototype.ra=function(){Kt(this.g,"b")},Xa.prototype.createWebChannel=Xa.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,cw=function(){return new Xa},lw=function(){return Ss()},ow=ui,lp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xs.NO_ERROR=0,xs.TIMEOUT=8,xs.HTTP_ERROR=6,of=xs,Bi.COMPLETE="complete",aw=Bi,ul.EventType=Ui,Ui.OPEN="a",Ui.CLOSE="b",Ui.ERROR="c",Ui.MESSAGE="d",de.prototype.listen=de.prototype.K,Tc=ul,Gt.prototype.listenOnce=Gt.prototype.L,Gt.prototype.getLastError=Gt.prototype.Ka,Gt.prototype.getLastErrorCode=Gt.prototype.Ba,Gt.prototype.getStatus=Gt.prototype.Z,Gt.prototype.getResponseJson=Gt.prototype.Oa,Gt.prototype.getResponseText=Gt.prototype.oa,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Ha,rw=Gt}).apply(typeof Uh<"u"?Uh:typeof self<"u"?self:typeof window<"u"?window:{});const Kb="@firebase/firestore",Qb="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=new Np("@firebase/firestore");function xo(){return xa.logLevel}function ht(n,...t){if(xa.logLevel<=Pt.DEBUG){const e=t.map(Yp);xa.debug(`Firestore (${Zo}): ${n}`,...e)}}function ys(n,...t){if(xa.logLevel<=Pt.ERROR){const e=t.map(Yp);xa.error(`Firestore (${Zo}): ${n}`,...e)}}function _r(n,...t){if(xa.logLevel<=Pt.WARN){const e=t.map(Yp);xa.warn(`Firestore (${Zo}): ${n}`,...e)}}function Yp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,uw(n,i,e)}function uw(n,t,e){let i=`FIRESTORE (${Zo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw ys(i),new Error(i)}function Yt(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||uw(t,r,i)}function xt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends bs{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class dO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(nn.UNAUTHENTICATED))}shutdown(){}}class gO{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class mO{constructor(t){this.t=t,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Yt(this.o===void 0,42304);let i=this.i;const r=d=>this.i!==i?(i=this.i,e(d)):Promise.resolve();let o=new ms;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ms,t.enqueueRetryable(()=>r(this.currentUser))};const c=()=>{const d=o;t.enqueueRetryable(async()=>{await d.promise,await r(this.currentUser)})},h=d=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ms)}},0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Yt(typeof i.accessToken=="string",31837,{l:i}),new hw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new nn(t)}}class pO{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class _O{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new pO(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Xb{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yO{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ei(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Yt(this.o===void 0,3512);const i=o=>{o.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,ht("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Xb(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Yt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new Xb(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=vO(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%62))}return i}}function Ot(n,t){return n<t?-1:n>t?1:0}function cp(n,t){let e=0;for(;e<n.length&&e<t.length;){const i=n.codePointAt(e),r=t.codePointAt(e);if(i!==r){if(i<128&&r<128)return Ot(i,r);{const o=fw(),c=bO(o.encode(Wb(n,e)),o.encode(Wb(t,e)));return c!==0?c:Ot(i,r)}}e+=i>65535?2:1}return Ot(n.length,t.length)}function Wb(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function bO(n,t){for(let e=0;e<n.length&&e<t.length;++e)if(n[e]!==t[e])return Ot(n[e],t[e]);return Ot(n.length,t.length)}function jo(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="__name__";class Ci{constructor(t,e,i){e===void 0?e=0:e>t.length&&Et(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&Et(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Ci.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Ci?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=Ci.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return Ot(t.length,e.length)}static compareSegments(t,e){const i=Ci.isNumericId(t),r=Ci.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?Ci.extractNumericId(t).compare(Ci.extractNumericId(e)):cp(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return hr.fromString(t.substring(4,t.length-2))}}class ae extends Ci{construct(t,e,i){return new ae(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ut(Z.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new ae(e)}static emptyPath(){return new ae([])}}const EO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class We extends Ci{construct(t,e,i){return new We(t,e,i)}static isValidIdentifier(t){return EO.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),We.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$b}static keyField(){return new We([$b])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(i.length===0)throw new ut(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const h=t[r];if(h==="\\"){if(r+1===t.length)throw new ut(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const d=t[r+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ut(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=d,r+=2}else h==="`"?(c=!c,r++):h!=="."||c?(i+=h,r++):(o(),r++)}if(o(),c)throw new ut(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new We(e)}static emptyPath(){return new We([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(t){this.path=t}static fromPath(t){return new pt(ae.fromString(t))}static fromName(t){return new pt(ae.fromString(t).popFirst(5))}static empty(){return new pt(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ae.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ae.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new ae(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(n,t,e){if(!e)throw new ut(Z.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function TO(n,t,e,i){if(t===!0&&i===!0)throw new ut(Z.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function Zb(n){if(!pt.isDocumentKey(n))throw new ut(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Jb(n){if(pt.isDocumentKey(n))throw new ut(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function gw(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Jf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Et(12329,{type:typeof n})}function Kn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ut(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Jf(n);throw new ut(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(n,t){const e={typeString:n};return t&&(e.value=t),e}function su(n,t){if(!gw(n))throw new ut(Z.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const r=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const c=n[i];if(r&&typeof c!==r){e=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&c!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new ut(Z.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=-62135596800,eE=1e6;class le{static now(){return le.fromMillis(Date.now())}static fromDate(t){return le.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*eE);return new le(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ut(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ut(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<tE)throw new ut(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/eE}_compareTo(t){return this.seconds===t.seconds?Ot(this.nanoseconds,t.nanoseconds):Ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(su(t,le._jsonSchema))return new le(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-tE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}le._jsonSchemaVersion="firestore/timestamp/1.0",le._jsonSchema={type:Ie("string",le._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new le(0,0))}static max(){return new St(new le(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=-1;function SO(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=St.fromTimestamp(i===1e9?new le(e+1,0):new le(e,i));return new yr(r,pt.empty(),t)}function wO(n){return new yr(n.readTime,n.key,Fc)}class yr{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new yr(St.min(),pt.empty(),Fc)}static max(){return new yr(St.max(),pt.empty(),Fc)}}function AO(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=pt.comparator(n.documentKey,t.documentKey),e!==0?e:Ot(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jo(n){if(n.code!==Z.FAILED_PRECONDITION||n.message!==xO)throw n;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new et((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof et?e:et.resolve(e)}catch(e){return et.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):et.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):et.reject(e)}static resolve(t){return new et((e,i)=>{e(t)})}static reject(t){return new et((e,i)=>{i(t)})}static waitFor(t){return new et((e,i)=>{let r=0,o=0,c=!1;t.forEach(h=>{++r,h.next(()=>{++o,c&&o===r&&e()},d=>i(d))}),c=!0,o===r&&e()})}static or(t){let e=et.resolve(!1);for(const i of t)e=e.next(r=>r?et.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new et((i,r)=>{const o=t.length,c=new Array(o);let h=0;for(let d=0;d<o;d++){const m=d;e(t[m]).next(_=>{c[m]=_,++h,h===o&&i(c)},_=>r(_))}})}static doWhile(t,e){return new et((i,r)=>{const o=()=>{t()===!0?e().next(()=>{o()},r):i()};o()})}}function IO(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function tl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this._e(i),this.ae=i=>e.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}td.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp=-1;function ed(n){return n==null}function wf(n){return n===0&&1/n==-1/0}function CO(n){return typeof n=="number"&&Number.isInteger(n)&&!wf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw="";function OO(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=nE(t)),t=DO(n.get(e),t);return nE(t)}function DO(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="";break;case mw:e+="";break;default:e+=o}}return e}function nE(n){return n+mw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Rr(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function pw(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(t,e){this.comparator=t,this.root=e||Xe.EMPTY}insert(t,e){return new fe(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Xe.BLACK,null,null))}remove(t){return new fe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xe.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new zh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new zh(this.root,t,this.comparator,!1)}getReverseIterator(){return new zh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new zh(this.root,t,this.comparator,!0)}}class zh{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Xe{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??Xe.RED,this.left=r??Xe.EMPTY,this.right=o??Xe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new Xe(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Xe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return Xe.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}Xe.EMPTY=null,Xe.RED=!0,Xe.BLACK=!1;Xe.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,e,i,r,o){return this}insert(t,e,i){return new Xe(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(t){this.comparator=t,this.data=new fe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new sE(this.data.getIterator())}getIteratorFrom(t){return new sE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Ne)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Ne(this.comparator);return e.data=t,e}}class sE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(t){this.fields=t,t.sort(We.comparator)}static empty(){return new On([])}unionWith(t){let e=new Ne(We.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new On(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return jo(this.fields,t.fields,(e,i)=>e.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new _w("Invalid base64 string: "+o):o}}(t);return new $e(e)}static fromUint8Array(t){const e=function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o}(t);return new $e(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}$e.EMPTY_BYTE_STRING=new $e("");const MO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vr(n){if(Yt(!!n,39018),typeof n=="string"){let t=0;const e=MO.exec(n);if(Yt(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ve(n.seconds),nanos:ve(n.nanos)}}function ve(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function br(n){return typeof n=="string"?$e.fromBase64String(n):$e.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="server_timestamp",vw="__type__",bw="__previous_value__",Ew="__local_write_time__";function Xp(n){var t,e;return((e=(((t=n?.mapValue)===null||t===void 0?void 0:t.fields)||{})[vw])===null||e===void 0?void 0:e.stringValue)===yw}function nd(n){const t=n.mapValue.fields[bw];return Xp(t)?nd(t):t}function Hc(n){const t=vr(n.mapValue.fields[Ew].timestampValue);return new le(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(t,e,i,r,o,c,h,d,m,_){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=_}}const Af="(default)";class qc{constructor(t,e){this.projectId=t,this.database=e||Af}static empty(){return new qc("","")}get isDefaultDatabase(){return this.database===Af}isEqual(t){return t instanceof qc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="__type__",NO="__max__",Bh={mapValue:{}},Sw="__vector__",xf="value";function Er(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Xp(n)?4:VO(n)?9007199254740991:PO(n)?10:11:Et(28295,{value:n})}function Vi(n,t){if(n===t)return!0;const e=Er(n);if(e!==Er(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Hc(n).isEqual(Hc(t));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=vr(r.timestampValue),h=vr(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(r,o){return br(r.bytesValue).isEqual(br(o.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,o){return ve(r.geoPointValue.latitude)===ve(o.geoPointValue.latitude)&&ve(r.geoPointValue.longitude)===ve(o.geoPointValue.longitude)}(n,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return ve(r.integerValue)===ve(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=ve(r.doubleValue),h=ve(o.doubleValue);return c===h?wf(c)===wf(h):isNaN(c)&&isNaN(h)}return!1}(n,t);case 9:return jo(n.arrayValue.values||[],t.arrayValue.values||[],Vi);case 10:case 11:return function(r,o){const c=r.mapValue.fields||{},h=o.mapValue.fields||{};if(iE(c)!==iE(h))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(h[d]===void 0||!Vi(c[d],h[d])))return!1;return!0}(n,t);default:return Et(52216,{left:n})}}function Gc(n,t){return(n.values||[]).find(e=>Vi(e,t))!==void 0}function Fo(n,t){if(n===t)return 0;const e=Er(n),i=Er(t);if(e!==i)return Ot(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Ot(n.booleanValue,t.booleanValue);case 2:return function(o,c){const h=ve(o.integerValue||o.doubleValue),d=ve(c.integerValue||c.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1}(n,t);case 3:return rE(n.timestampValue,t.timestampValue);case 4:return rE(Hc(n),Hc(t));case 5:return cp(n.stringValue,t.stringValue);case 6:return function(o,c){const h=br(o),d=br(c);return h.compareTo(d)}(n.bytesValue,t.bytesValue);case 7:return function(o,c){const h=o.split("/"),d=c.split("/");for(let m=0;m<h.length&&m<d.length;m++){const _=Ot(h[m],d[m]);if(_!==0)return _}return Ot(h.length,d.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,c){const h=Ot(ve(o.latitude),ve(c.latitude));return h!==0?h:Ot(ve(o.longitude),ve(c.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return aE(n.arrayValue,t.arrayValue);case 10:return function(o,c){var h,d,m,_;const v=o.fields||{},b=c.fields||{},S=(h=v[xf])===null||h===void 0?void 0:h.arrayValue,R=(d=b[xf])===null||d===void 0?void 0:d.arrayValue,k=Ot(((m=S?.values)===null||m===void 0?void 0:m.length)||0,((_=R?.values)===null||_===void 0?void 0:_.length)||0);return k!==0?k:aE(S,R)}(n.mapValue,t.mapValue);case 11:return function(o,c){if(o===Bh.mapValue&&c===Bh.mapValue)return 0;if(o===Bh.mapValue)return 1;if(c===Bh.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),m=c.fields||{},_=Object.keys(m);d.sort(),_.sort();for(let v=0;v<d.length&&v<_.length;++v){const b=cp(d[v],_[v]);if(b!==0)return b;const S=Fo(h[d[v]],m[_[v]]);if(S!==0)return S}return Ot(d.length,_.length)}(n.mapValue,t.mapValue);default:throw Et(23264,{le:e})}}function rE(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Ot(n,t);const e=vr(n),i=vr(t),r=Ot(e.seconds,i.seconds);return r!==0?r:Ot(e.nanos,i.nanos)}function aE(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const o=Fo(e[r],i[r]);if(o)return o}return Ot(e.length,i.length)}function Ho(n){return up(n)}function up(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=vr(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return br(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return pt.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=up(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const c of i)o?o=!1:r+=",",r+=`${c}:${up(e.fields[c])}`;return r+"}"}(n.mapValue):Et(61005,{value:n})}function lf(n){switch(Er(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=nd(n);return t?16+lf(t):16;case 5:return 2*n.stringValue.length;case 6:return br(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,o)=>r+lf(o),0)}(n.arrayValue);case 10:case 11:return function(i){let r=0;return Rr(i.fields,(o,c)=>{r+=o.length+lf(c)}),r}(n.mapValue);default:throw Et(13486,{value:n})}}function oE(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function hp(n){return!!n&&"integerValue"in n}function Wp(n){return!!n&&"arrayValue"in n}function lE(n){return!!n&&"nullValue"in n}function cE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function cf(n){return!!n&&"mapValue"in n}function PO(n){var t,e;return((e=(((t=n?.mapValue)===null||t===void 0?void 0:t.fields)||{})[Tw])===null||e===void 0?void 0:e.stringValue)===Sw}function Dc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Rr(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Dc(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Dc(n.arrayValue.values[e]);return t}return Object.assign({},n)}function VO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===NO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(t){this.value=t}static empty(){return new mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!cf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Dc(e)}setAll(t){let e=We.emptyPath(),i={},r=[];t.forEach((c,h)=>{if(!e.isImmediateParentOf(h)){const d=this.getFieldsMap(e);this.applyChanges(d,i,r),i={},r=[],e=h.popLast()}c?i[h.lastSegment()]=Dc(c):r.push(h.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());cf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Vi(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];cf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Rr(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new mn(Dc(this.value))}}function ww(n){const t=[];return Rr(n.fields,(e,i)=>{const r=new We([e]);if(cf(i)){const o=ww(i.mapValue).fields;if(o.length===0)t.push(r);else for(const c of o)t.push(r.child(c))}else t.push(r)}),new On(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t,e,i,r,o,c,h){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(t){return new sn(t,0,St.min(),St.min(),St.min(),mn.empty(),0)}static newFoundDocument(t,e,i,r){return new sn(t,1,e,St.min(),i,r,0)}static newNoDocument(t,e){return new sn(t,2,e,St.min(),St.min(),mn.empty(),0)}static newUnknownDocument(t,e){return new sn(t,3,e,St.min(),St.min(),mn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(t,e){this.position=t,this.inclusive=e}}function uE(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],c=n.position[r];if(o.field.isKeyField()?i=pt.comparator(pt.fromName(c.referenceValue),e.key):i=Fo(c,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function hE(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Vi(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(t,e="asc"){this.field=t,this.dir=e}}function LO(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{}class Re extends Aw{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new zO(t,e,i):e==="array-contains"?new FO(t,i):e==="in"?new HO(t,i):e==="not-in"?new qO(t,i):e==="array-contains-any"?new GO(t,i):new Re(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new BO(t,i):new jO(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Fo(e,this.value)):e!==null&&Er(this.value)===Er(e)&&this.matchesComparison(Fo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class oi extends Aw{constructor(t,e){super(),this.filters=t,this.op=e,this.he=null}static create(t,e){return new oi(t,e)}matches(t){return xw(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function xw(n){return n.op==="and"}function Rw(n){return UO(n)&&xw(n)}function UO(n){for(const t of n.filters)if(t instanceof oi)return!1;return!0}function fp(n){if(n instanceof Re)return n.field.canonicalString()+n.op.toString()+Ho(n.value);if(Rw(n))return n.filters.map(t=>fp(t)).join(",");{const t=n.filters.map(e=>fp(e)).join(",");return`${n.op}(${t})`}}function Iw(n,t){return n instanceof Re?function(i,r){return r instanceof Re&&i.op===r.op&&i.field.isEqual(r.field)&&Vi(i.value,r.value)}(n,t):n instanceof oi?function(i,r){return r instanceof oi&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,c,h)=>o&&Iw(c,r.filters[h]),!0):!1}(n,t):void Et(19439)}function Cw(n){return n instanceof Re?function(e){return`${e.field.canonicalString()} ${e.op} ${Ho(e.value)}`}(n):n instanceof oi?function(e){return e.op.toString()+" {"+e.getFilters().map(Cw).join(" ,")+"}"}(n):"Filter"}class zO extends Re{constructor(t,e,i){super(t,e,i),this.key=pt.fromName(i.referenceValue)}matches(t){const e=pt.comparator(t.key,this.key);return this.matchesComparison(e)}}class BO extends Re{constructor(t,e){super(t,"in",e),this.keys=Ow("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class jO extends Re{constructor(t,e){super(t,"not-in",e),this.keys=Ow("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function Ow(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(i=>pt.fromName(i.referenceValue))}class FO extends Re{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Wp(e)&&Gc(e.arrayValue,this.value)}}class HO extends Re{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Gc(this.value.arrayValue,e)}}class qO extends Re{constructor(t,e){super(t,"not-in",e)}matches(t){if(Gc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Gc(this.value.arrayValue,e)}}class GO extends Re{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Wp(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Gc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(t,e=null,i=[],r=[],o=null,c=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=c,this.endAt=h,this.Pe=null}}function fE(n,t=null,e=[],i=[],r=null,o=null,c=null){return new YO(n,t,e,i,r,o,c)}function $p(n){const t=xt(n);if(t.Pe===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>fp(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),ed(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Ho(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Ho(i)).join(",")),t.Pe=e}return t.Pe}function Zp(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!LO(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!Iw(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!hE(n.startAt,t.startAt)&&hE(n.endAt,t.endAt)}function dp(n){return pt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(t,e=null,i=[],r=[],o=null,c="F",h=null,d=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=d,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function KO(n,t,e,i,r,o,c,h){return new el(n,t,e,i,r,o,c,h)}function id(n){return new el(n)}function dE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Dw(n){return n.collectionGroup!==null}function Mc(n){const t=xt(n);if(t.Te===null){t.Te=[];const e=new Set;for(const o of t.explicitOrderBy)t.Te.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Ne(We.comparator);return c.filters.forEach(d=>{d.getFlattenedFilters().forEach(m=>{m.isInequality()&&(h=h.add(m.field))})}),h})(t).forEach(o=>{e.has(o.canonicalString())||o.isKeyField()||t.Te.push(new Yc(o,i))}),e.has(We.keyField().canonicalString())||t.Te.push(new Yc(We.keyField(),i))}return t.Te}function Mi(n){const t=xt(n);return t.Ie||(t.Ie=QO(t,Mc(n))),t.Ie}function QO(n,t){if(n.limitType==="F")return fE(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>{const o=r.dir==="desc"?"asc":"desc";return new Yc(r.field,o)});const e=n.endAt?new Rf(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Rf(n.startAt.position,n.startAt.inclusive):null;return fE(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function gp(n,t){const e=n.filters.concat([t]);return new el(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function If(n,t,e){return new el(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function sd(n,t){return Zp(Mi(n),Mi(t))&&n.limitType===t.limitType}function Mw(n){return`${$p(Mi(n))}|lt:${n.limitType}`}function Ro(n){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>Cw(r)).join(", ")}]`),ed(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(r)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>Ho(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>Ho(r)).join(",")),`Target(${i})`}(Mi(n))}; limitType=${n.limitType})`}function rd(n,t){return t.isFoundDocument()&&function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):pt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,t)&&function(i,r){for(const o of Mc(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(n,t)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,t)&&function(i,r){return!(i.startAt&&!function(c,h,d){const m=uE(c,h,d);return c.inclusive?m<=0:m<0}(i.startAt,Mc(i),r)||i.endAt&&!function(c,h,d){const m=uE(c,h,d);return c.inclusive?m>=0:m>0}(i.endAt,Mc(i),r))}(n,t)}function XO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function kw(n){return(t,e)=>{let i=!1;for(const r of Mc(n)){const o=WO(r,t,e);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function WO(n,t,e){const i=n.field.isKeyField()?pt.comparator(t.key,e.key):function(o,c,h){const d=c.data.field(o),m=h.data.field(o);return d!==null&&m!==null?Fo(d,m):Et(42886)}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Et(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Rr(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return pw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O=new fe(pt.comparator);function vs(){return $O}const Nw=new fe(pt.comparator);function Sc(...n){let t=Nw;for(const e of n)t=t.insert(e.key,e);return t}function Pw(n){let t=Nw;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function ya(){return kc()}function Vw(){return kc()}function kc(){return new Oa(n=>n.toString(),(n,t)=>n.isEqual(t))}const ZO=new fe(pt.comparator),JO=new Ne(pt.comparator);function Vt(...n){let t=JO;for(const e of n)t=t.add(e);return t}const tD=new Ne(Ot);function eD(){return tD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wf(t)?"-0":t}}function Lw(n){return{integerValue:""+n}}function nD(n,t){return CO(t)?Lw(t):Jp(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(){this._=void 0}}function iD(n,t,e){return n instanceof Cf?function(r,o){const c={fields:{[vw]:{stringValue:yw},[Ew]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Xp(o)&&(o=nd(o)),o&&(c.fields[bw]=o),{mapValue:c}}(e,t):n instanceof Kc?zw(n,t):n instanceof Qc?Bw(n,t):function(r,o){const c=Uw(r,o),h=gE(c)+gE(r.Ee);return hp(c)&&hp(r.Ee)?Lw(h):Jp(r.serializer,h)}(n,t)}function sD(n,t,e){return n instanceof Kc?zw(n,t):n instanceof Qc?Bw(n,t):e}function Uw(n,t){return n instanceof Of?function(i){return hp(i)||function(o){return!!o&&"doubleValue"in o}(i)}(t)?t:{integerValue:0}:null}class Cf extends ad{}class Kc extends ad{constructor(t){super(),this.elements=t}}function zw(n,t){const e=jw(t);for(const i of n.elements)e.some(r=>Vi(r,i))||e.push(i);return{arrayValue:{values:e}}}class Qc extends ad{constructor(t){super(),this.elements=t}}function Bw(n,t){let e=jw(t);for(const i of n.elements)e=e.filter(r=>!Vi(r,i));return{arrayValue:{values:e}}}class Of extends ad{constructor(t,e){super(),this.serializer=t,this.Ee=e}}function gE(n){return ve(n.integerValue||n.doubleValue)}function jw(n){return Wp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function rD(n,t){return n.field.isEqual(t.field)&&function(i,r){return i instanceof Kc&&r instanceof Kc||i instanceof Qc&&r instanceof Qc?jo(i.elements,r.elements,Vi):i instanceof Of&&r instanceof Of?Vi(i.Ee,r.Ee):i instanceof Cf&&r instanceof Cf}(n.transform,t.transform)}class aD{constructor(t,e){this.version=t,this.transformResults=e}}class ri{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ri}static exists(t){return new ri(void 0,t)}static updateTime(t){return new ri(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function uf(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class od{}function Fw(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new t_(n.key,ri.none()):new ru(n.key,n.data,ri.none());{const e=n.data,i=mn.empty();let r=new Ne(We.comparator);for(let o of t.fields)if(!r.has(o)){let c=e.field(o);c===null&&o.length>1&&(o=o.popLast(),c=e.field(o)),c===null?i.delete(o):i.set(o,c),r=r.add(o)}return new Ir(n.key,i,new On(r.toArray()),ri.none())}}function oD(n,t,e){n instanceof ru?function(r,o,c){const h=r.value.clone(),d=pE(r.fieldTransforms,o,c.transformResults);h.setAll(d),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,t,e):n instanceof Ir?function(r,o,c){if(!uf(r.precondition,o))return void o.convertToUnknownDocument(c.version);const h=pE(r.fieldTransforms,o,c.transformResults),d=o.data;d.setAll(Hw(r)),d.setAll(h),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,t,e):function(r,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,e)}function Nc(n,t,e,i){return n instanceof ru?function(o,c,h,d){if(!uf(o.precondition,c))return h;const m=o.value.clone(),_=_E(o.fieldTransforms,d,c);return m.setAll(_),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(n,t,e,i):n instanceof Ir?function(o,c,h,d){if(!uf(o.precondition,c))return h;const m=_E(o.fieldTransforms,d,c),_=c.data;return _.setAll(Hw(o)),_.setAll(m),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(n,t,e,i):function(o,c,h){return uf(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h}(n,t,e)}function lD(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=Uw(i.transform,r||null);o!=null&&(e===null&&(e=mn.empty()),e.set(i.field,o))}return e||null}function mE(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&jo(i,r,(o,c)=>rD(o,c))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class ru extends od{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ir extends od{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Hw(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function pE(n,t,e){const i=new Map;Yt(n.length===e.length,32656,{Ae:e.length,Re:n.length});for(let r=0;r<e.length;r++){const o=n[r],c=o.transform,h=t.data.field(o.field);i.set(o.field,sD(c,h,e[r]))}return i}function _E(n,t,e){const i=new Map;for(const r of n){const o=r.transform,c=e.data.field(r.field);i.set(r.field,iD(o,c,t))}return i}class t_ extends od{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cD extends od{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&oD(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Nc(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Nc(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=Vw();return this.mutations.forEach(r=>{const o=t.get(r.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=e.has(r.key)?null:h;const d=Fw(c,h);d!==null&&i.set(r.key,d),c.isValidDocument()||c.convertToNoDocument(St.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Vt())}isEqual(t){return this.batchId===t.batchId&&jo(this.mutations,t.mutations,(e,i)=>mE(e,i))&&jo(this.baseMutations,t.baseMutations,(e,i)=>mE(e,i))}}class e_{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Yt(t.mutations.length===i.length,58842,{Ve:t.mutations.length,me:i.length});let r=function(){return ZO}();const o=t.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,i[c].version);return new e_(t,e,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe,Bt;function dD(n){switch(n){case Z.OK:return Et(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Et(15467,{code:n})}}function qw(n){if(n===void 0)return ys("GRPC error has no .code"),Z.UNKNOWN;switch(n){case xe.OK:return Z.OK;case xe.CANCELLED:return Z.CANCELLED;case xe.UNKNOWN:return Z.UNKNOWN;case xe.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case xe.INTERNAL:return Z.INTERNAL;case xe.UNAVAILABLE:return Z.UNAVAILABLE;case xe.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case xe.NOT_FOUND:return Z.NOT_FOUND;case xe.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case xe.ABORTED:return Z.ABORTED;case xe.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case xe.DATA_LOSS:return Z.DATA_LOSS;default:return Et(39323,{code:n})}}(Bt=xe||(xe={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=new hr([4294967295,4294967295],0);function yE(n){const t=fw().encode(n),e=new sw;return e.update(t),new Uint8Array(e.digest())}function vE(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new hr([e,i],0),new hr([r,o],0)]}class n_{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new wc(`Invalid padding: ${e}`);if(i<0)throw new wc(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new wc(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new wc(`Invalid padding when bitmap length is 0: ${e}`);this.fe=8*t.length-e,this.ge=hr.fromNumber(this.fe)}pe(t,e,i){let r=t.add(e.multiply(hr.fromNumber(i)));return r.compare(gD)===1&&(r=new hr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const e=yE(t),[i,r]=vE(e);for(let o=0;o<this.hashCount;o++){const c=this.pe(i,r,o);if(!this.ye(c))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),c=new n_(o,r,e);return i.forEach(h=>c.insert(h)),c}insert(t){if(this.fe===0)return;const e=yE(t),[i,r]=vE(e);for(let o=0;o<this.hashCount;o++){const c=this.pe(i,r,o);this.we(c)}}we(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class wc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,au.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new ld(St.min(),r,new fe(Ot),vs(),Vt())}}class au{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new au(i,e,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(t,e,i,r){this.Se=t,this.removedTargetIds=e,this.key=i,this.be=r}}class Gw{constructor(t,e){this.targetId=t,this.De=e}}class Yw{constructor(t,e,i=$e.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class bE{constructor(){this.ve=0,this.Ce=EE(),this.Fe=$e.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=Vt(),e=Vt(),i=Vt();return this.Ce.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Et(38017,{changeType:o})}}),new au(this.Fe,this.Me,t,e,i)}ke(){this.xe=!1,this.Ce=EE()}qe(t,e){this.xe=!0,this.Ce=this.Ce.insert(t,e)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class mD{constructor(t){this.We=t,this.Ge=new Map,this.ze=vs(),this.je=jh(),this.Je=jh(),this.He=new fe(Ot)}Ye(t){for(const e of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(e,t.be):this.Xe(e,t.key,t.be);for(const e of t.removedTargetIds)this.Xe(e,t.key,t.be)}et(t){this.forEachTarget(t,e=>{const i=this.tt(e);switch(t.state){case 0:this.nt(e)&&i.Be(t.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(t.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(e);break;case 3:this.nt(e)&&(i.Ke(),i.Be(t.resumeToken));break;case 4:this.nt(e)&&(this.rt(e),i.Be(t.resumeToken));break;default:Et(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Ge.forEach((i,r)=>{this.nt(r)&&e(r)})}it(t){const e=t.targetId,i=t.De.count,r=this.st(e);if(r){const o=r.target;if(dp(o))if(i===0){const c=new pt(o.path);this.Xe(e,c,sn.newNoDocument(c,St.min()))}else Yt(i===1,20013,{expectedCount:i});else{const c=this.ot(e);if(c!==i){const h=this._t(t),d=h?this.ut(h,t,c):1;if(d!==0){this.rt(e);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(e,m)}}}}}_t(t){const e=t.De.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let c,h;try{c=br(i).toUint8Array()}catch(d){if(d instanceof _w)return _r("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new n_(c,r,o)}catch(d){return _r(d instanceof wc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.fe===0?null:h}ut(t,e,i){return e.De.count===i-this.ht(t,e.targetId)?0:2}ht(t,e){const i=this.We.getRemoteKeysForTarget(e);let r=0;return i.forEach(o=>{const c=this.We.lt(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.Xe(e,o,null),r++)}),r}Pt(t){const e=new Map;this.Ge.forEach((o,c)=>{const h=this.st(c);if(h){if(o.current&&dp(h.target)){const d=new pt(h.target.path);this.Tt(d).has(c)||this.It(c,d)||this.Xe(c,d,sn.newNoDocument(d,t))}o.Ne&&(e.set(c,o.Le()),o.ke())}});let i=Vt();this.Je.forEach((o,c)=>{let h=!0;c.forEachWhile(d=>{const m=this.st(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(o))}),this.ze.forEach((o,c)=>c.setReadTime(t));const r=new ld(t,e,this.He,this.ze,i);return this.ze=vs(),this.je=jh(),this.Je=jh(),this.He=new fe(Ot),r}Ze(t,e){if(!this.nt(t))return;const i=this.It(t,e.key)?2:0;this.tt(t).qe(e.key,i),this.ze=this.ze.insert(e.key,e),this.je=this.je.insert(e.key,this.Tt(e.key).add(t)),this.Je=this.Je.insert(e.key,this.dt(e.key).add(t))}Xe(t,e,i){if(!this.nt(t))return;const r=this.tt(t);this.It(t,e)?r.qe(e,1):r.Qe(e),this.Je=this.Je.insert(e,this.dt(e).delete(t)),this.Je=this.Je.insert(e,this.dt(e).add(t)),i&&(this.ze=this.ze.insert(e,i))}removeTarget(t){this.Ge.delete(t)}ot(t){const e=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let e=this.Ge.get(t);return e||(e=new bE,this.Ge.set(t,e)),e}dt(t){let e=this.Je.get(t);return e||(e=new Ne(Ot),this.Je=this.Je.insert(t,e)),e}Tt(t){let e=this.je.get(t);return e||(e=new Ne(Ot),this.je=this.je.insert(t,e)),e}nt(t){const e=this.st(t)!==null;return e||ht("WatchChangeAggregator","Detected inactive target",t),e}st(t){const e=this.Ge.get(t);return e&&e.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new bE),this.We.getRemoteKeysForTarget(t).forEach(e=>{this.Xe(t,e,null)})}It(t,e){return this.We.getRemoteKeysForTarget(t).has(e)}}function jh(){return new fe(pt.comparator)}function EE(){return new fe(pt.comparator)}const pD={asc:"ASCENDING",desc:"DESCENDING"},_D={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yD={and:"AND",or:"OR"};class vD{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function mp(n,t){return n.useProto3Json||ed(t)?t:{value:t}}function Df(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Kw(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function bD(n,t){return Df(n,t.toTimestamp())}function ki(n){return Yt(!!n,49232),St.fromTimestamp(function(e){const i=vr(e);return new le(i.seconds,i.nanos)}(n))}function i_(n,t){return pp(n,t).canonicalString()}function pp(n,t){const e=function(r){return new ae(["projects",r.projectId,"databases",r.database])}(n).child("documents");return t===void 0?e:e.child(t)}function Qw(n){const t=ae.fromString(n);return Yt(Jw(t),10190,{key:t.toString()}),t}function _p(n,t){return i_(n.databaseId,t.path)}function Nm(n,t){const e=Qw(t);if(e.get(1)!==n.databaseId.projectId)throw new ut(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ut(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new pt(Ww(e))}function Xw(n,t){return i_(n.databaseId,t)}function ED(n){const t=Qw(n);return t.length===4?ae.emptyPath():Ww(t)}function yp(n){return new ae(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Ww(n){return Yt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function TE(n,t,e){return{name:_p(n,t),fields:e.value.mapValue.fields}}function TD(n,t){let e;if("targetChange"in t){t.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Et(39313,{state:m})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=function(m,_){return m.useProto3Json?(Yt(_===void 0||typeof _=="string",58123),$e.fromBase64String(_||"")):(Yt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),$e.fromUint8Array(_||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,h=c&&function(m){const _=m.code===void 0?Z.UNKNOWN:qw(m.code);return new ut(_,m.message||"")}(c);e=new Yw(i,r,o,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Nm(n,i.document.name),o=ki(i.document.updateTime),c=i.document.createTime?ki(i.document.createTime):St.min(),h=new mn({mapValue:{fields:i.document.fields}}),d=sn.newFoundDocument(r,o,c,h),m=i.targetIds||[],_=i.removedTargetIds||[];e=new hf(m,_,d.key,d)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Nm(n,i.document),o=i.readTime?ki(i.readTime):St.min(),c=sn.newNoDocument(r,o),h=i.removedTargetIds||[];e=new hf([],h,c.key,c)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Nm(n,i.document),o=i.removedTargetIds||[];e=new hf([],o,r,null)}else{if(!("filter"in t))return Et(11601,{At:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,c=new fD(r,o),h=i.targetId;e=new Gw(h,c)}}return e}function SD(n,t){let e;if(t instanceof ru)e={update:TE(n,t.key,t.value)};else if(t instanceof t_)e={delete:_p(n,t.key)};else if(t instanceof Ir)e={update:TE(n,t.key,t.data),updateMask:MD(t.fieldMask)};else{if(!(t instanceof cD))return Et(16599,{Rt:t.type});e={verify:_p(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(o,c){const h=c.transform;if(h instanceof Cf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Kc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Qc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Of)return{fieldPath:c.field.canonicalString(),increment:h.Ee};throw Et(20930,{transform:c.transform})}(0,i))),t.precondition.isNone||(e.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:bD(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Et(27497)}(n,t.precondition)),e}function wD(n,t){return n&&n.length>0?(Yt(t!==void 0,14353),n.map(e=>function(r,o){let c=r.updateTime?ki(r.updateTime):ki(o);return c.isEqual(St.min())&&(c=ki(o)),new aD(c,r.transformResults||[])}(e,t))):[]}function AD(n,t){return{documents:[Xw(n,t.path)]}}function xD(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=Xw(n,r);const o=function(m){if(m.length!==0)return Zw(oi.create(m,"and"))}(t.filters);o&&(e.structuredQuery.where=o);const c=function(m){if(m.length!==0)return m.map(_=>function(b){return{field:Io(b.field),direction:CD(b.dir)}}(_))}(t.orderBy);c&&(e.structuredQuery.orderBy=c);const h=mp(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(t.endAt)),{Vt:e,parent:r}}function RD(n){let t=ED(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Yt(i===1,65062);const _=e.from[0];_.allDescendants?r=_.collectionId:t=t.child(_.collectionId)}let o=[];e.where&&(o=function(v){const b=$w(v);return b instanceof oi&&Rw(b)?b.getFilters():[b]}(e.where));let c=[];e.orderBy&&(c=function(v){return v.map(b=>function(R){return new Yc(Co(R.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(b))}(e.orderBy));let h=null;e.limit&&(h=function(v){let b;return b=typeof v=="object"?v.value:v,ed(b)?null:b}(e.limit));let d=null;e.startAt&&(d=function(v){const b=!!v.before,S=v.values||[];return new Rf(S,b)}(e.startAt));let m=null;return e.endAt&&(m=function(v){const b=!v.before,S=v.values||[];return new Rf(S,b)}(e.endAt)),KO(t,r,c,o,h,"F",d,m)}function ID(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:r})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function $w(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Co(e.unaryFilter.field);return Re.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Co(e.unaryFilter.field);return Re.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Co(e.unaryFilter.field);return Re.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Co(e.unaryFilter.field);return Re.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}}(n):n.fieldFilter!==void 0?function(e){return Re.create(Co(e.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return oi.create(e.compositeFilter.filters.map(i=>$w(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Et(1026)}}(e.compositeFilter.op))}(n):Et(30097,{filter:n})}function CD(n){return pD[n]}function OD(n){return _D[n]}function DD(n){return yD[n]}function Io(n){return{fieldPath:n.canonicalString()}}function Co(n){return We.fromServerFormat(n.fieldPath)}function Zw(n){return n instanceof Re?function(e){if(e.op==="=="){if(cE(e.value))return{unaryFilter:{field:Io(e.field),op:"IS_NAN"}};if(lE(e.value))return{unaryFilter:{field:Io(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(cE(e.value))return{unaryFilter:{field:Io(e.field),op:"IS_NOT_NAN"}};if(lE(e.value))return{unaryFilter:{field:Io(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Io(e.field),op:OD(e.op),value:e.value}}}(n):n instanceof oi?function(e){const i=e.getFilters().map(r=>Zw(r));return i.length===1?i[0]:{compositeFilter:{op:DD(e.op),filters:i}}}(n):Et(54877,{filter:n})}function MD(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Jw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(t,e,i,r,o=St.min(),c=St.min(),h=$e.EMPTY_BYTE_STRING,d=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(t){return new ir(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(t){this.gt=t}}function ND(n){const t=RD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?If(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(){this.Dn=new VD}addToCollectionParentIndex(t,e){return this.Dn.add(e),et.resolve()}getCollectionParents(t,e){return et.resolve(this.Dn.getEntries(e))}addFieldIndex(t,e){return et.resolve()}deleteFieldIndex(t,e){return et.resolve()}deleteAllFieldIndexes(t){return et.resolve()}createTargetIndexes(t,e){return et.resolve()}getDocumentsMatchingTarget(t,e){return et.resolve(null)}getIndexType(t,e){return et.resolve(0)}getFieldIndexes(t,e){return et.resolve([])}getNextCollectionGroupToUpdate(t){return et.resolve(null)}getMinOffset(t,e){return et.resolve(yr.min())}getMinOffsetFromCollectionGroup(t,e){return et.resolve(yr.min())}updateCollectionGroup(t,e,i){return et.resolve()}updateIndexEntries(t,e){return et.resolve()}}class VD{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Ne(ae.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Ne(ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},t1=41943040;class gn{static withCacheSize(t){return new gn(t,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(t1,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new qo(0)}static ur(){return new qo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="LruGarbageCollector",LD=1048576;function AE([n,t],[e,i]){const r=Ot(n,e);return r===0?Ot(t,i):r}class UD{constructor(t){this.Tr=t,this.buffer=new Ne(AE),this.Ir=0}dr(){return++this.Ir}Er(t){const e=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();AE(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class zD{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){ht(wE,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){tl(e)?ht(wE,"Ignoring IndexedDB error during garbage collection: ",e):await Jo(e)}await this.Rr(3e5)})}}class BD{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.mr(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(e===0)return et.resolve(td.ue);const i=new UD(e);return this.Vr.forEachTarget(t,r=>i.Er(r.sequenceNumber)).next(()=>this.Vr.gr(t,r=>i.Er(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Vr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(SE)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),SE):this.pr(t,e))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,e){let i,r,o,c,h,d,m;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),r=this.params.maximumSequenceNumbersToCollect):r=v,c=Date.now(),this.nthSequenceNumber(t,r))).next(v=>(i=v,h=Date.now(),this.removeTargets(t,i,e))).next(v=>(o=v,d=Date.now(),this.removeOrphanedDocuments(t,i))).next(v=>(m=Date.now(),xo()<=Pt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${r} in `+(h-c)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${v} documents in `+(m-d)+`ms
Total Duration: ${m-_}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:v})))}}function jD(n,t){return new BD(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(){this.changes=new Oa(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,sn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?et.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(i!==null&&Nc(i.mutation,r,On.empty(),le.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Vt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Vt()){const r=ya();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let c=Sc();return o.forEach((h,d)=>{c=c.insert(h,d.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const i=ya();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Vt()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((c,h)=>{e.set(c,h)})})}computeViews(t,e,i,r){let o=vs();const c=kc(),h=function(){return kc()}();return e.forEach((d,m)=>{const _=i.get(m.key);r.has(m.key)&&(_===void 0||_.mutation instanceof Ir)?o=o.insert(m.key,m):_!==void 0?(c.set(m.key,_.mutation.getFieldMask()),Nc(_.mutation,m,_.mutation.getFieldMask(),le.now())):c.set(m.key,On.empty())}),this.recalculateAndSaveOverlays(t,o).next(d=>(d.forEach((m,_)=>c.set(m,_)),e.forEach((m,_)=>{var v;return h.set(m,new HD(_,(v=c.get(m))!==null&&v!==void 0?v:null))}),h))}recalculateAndSaveOverlays(t,e){const i=kc();let r=new fe((c,h)=>c-h),o=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const h of c)h.keys().forEach(d=>{const m=e.get(d);if(m===null)return;let _=i.get(d)||On.empty();_=h.applyToLocalView(m,_),i.set(d,_);const v=(r.get(h.batchId)||Vt()).add(d);r=r.insert(h.batchId,v)})}).next(()=>{const c=[],h=r.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),m=d.key,_=d.value,v=Vw();_.forEach(b=>{if(!o.has(b)){const S=Fw(e.get(b),i.get(b));S!==null&&v.set(b,S),o=o.add(b)}}),c.push(this.documentOverlayCache.saveOverlays(t,m,v))}return et.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return function(c){return pt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):Dw(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):et.resolve(ya());let h=Fc,d=o;return c.next(m=>et.forEach(m,(_,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),o.get(_)?et.resolve():this.remoteDocumentCache.getEntry(t,_).next(b=>{d=d.insert(_,b)}))).next(()=>this.populateOverlays(t,m,o)).next(()=>this.computeViews(t,d,m,Vt())).next(_=>({batchId:h,changes:Pw(_)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new pt(e)).next(i=>{let r=Sc();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let c=Sc();return this.indexManager.getCollectionParents(t,o).next(h=>et.forEach(h,d=>{const m=function(v,b){return new el(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(e,d.child(o));return this.getDocumentsMatchingCollectionQuery(t,m,i,r).next(_=>{_.forEach((v,b)=>{c=c.insert(v,b)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r))).next(c=>{o.forEach((d,m)=>{const _=m.getKey();c.get(_)===null&&(c=c.insert(_,sn.newInvalidDocument(_)))});let h=Sc();return c.forEach((d,m)=>{const _=o.get(d);_!==void 0&&Nc(_.mutation,m,On.empty(),le.now()),rd(e,m)&&(h=h.insert(d,m))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,e){return et.resolve(this.Br.get(e))}saveBundleMetadata(t,e){return this.Br.set(e.id,function(r){return{id:r.id,version:r.version,createTime:ki(r.createTime)}}(e)),et.resolve()}getNamedQuery(t,e){return et.resolve(this.Lr.get(e))}saveNamedQuery(t,e){return this.Lr.set(e.name,function(r){return{name:r.name,query:ND(r.bundledQuery),readTime:ki(r.readTime)}}(e)),et.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(){this.overlays=new fe(pt.comparator),this.kr=new Map}getOverlay(t,e){return et.resolve(this.overlays.get(e))}getOverlays(t,e){const i=ya();return et.forEach(e,r=>this.getOverlay(t,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.wt(t,e,o)}),et.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.kr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(i)),et.resolve()}getOverlaysForCollection(t,e,i){const r=ya(),o=e.length+1,c=new pt(e.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const d=h.getNext().value,m=d.getKey();if(!e.isPrefixOf(m.path))break;m.path.length===o&&d.largestBatchId>i&&r.set(d.getKey(),d)}return et.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new fe((m,_)=>m-_);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===e&&m.largestBatchId>i){let _=o.get(m.largestBatchId);_===null&&(_=ya(),o=o.insert(m.largestBatchId,_)),_.set(m.getKey(),m)}}const h=ya(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((m,_)=>h.set(m,_)),!(h.size()>=r)););return et.resolve(h)}wt(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const c=this.kr.get(r.largestBatchId).delete(i.key);this.kr.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new hD(e,i));let o=this.kr.get(e);o===void 0&&(o=Vt(),this.kr.set(e,o)),this.kr.set(e,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(){this.sessionToken=$e.EMPTY_BYTE_STRING}getSessionToken(t){return et.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,et.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(){this.qr=new Ne(Fe.Qr),this.$r=new Ne(Fe.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,e){const i=new Fe(t,e);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Wr(new Fe(t,e))}Gr(t,e){t.forEach(i=>this.removeReference(i,e))}zr(t){const e=new pt(new ae([])),i=new Fe(e,t),r=new Fe(e,t+1),o=[];return this.$r.forEachInRange([i,r],c=>{this.Wr(c),o.push(c.key)}),o}jr(){this.qr.forEach(t=>this.Wr(t))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const e=new pt(new ae([])),i=new Fe(e,t),r=new Fe(e,t+1);let o=Vt();return this.$r.forEachInRange([i,r],c=>{o=o.add(c.key)}),o}containsKey(t){const e=new Fe(t,0),i=this.qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class Fe{constructor(t,e){this.key=t,this.Hr=e}static Qr(t,e){return pt.comparator(t.key,e.key)||Ot(t.Hr,e.Hr)}static Ur(t,e){return Ot(t.Hr,e.Hr)||pt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.er=1,this.Yr=new Ne(Fe.Qr)}checkEmpty(t){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new uD(o,e,i,r);this.mutationQueue.push(c);for(const h of r)this.Yr=this.Yr.add(new Fe(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return et.resolve(c)}lookupMutationBatch(t,e){return et.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.Xr(i),o=r<0?0:r;return et.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?Qp:this.er-1)}getAllMutationBatches(t){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Fe(e,0),r=new Fe(e,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([i,r],c=>{const h=this.Zr(c.Hr);o.push(h)}),et.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ne(Ot);return e.forEach(r=>{const o=new Fe(r,0),c=new Fe(r,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,c],h=>{i=i.add(h.Hr)})}),et.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;pt.isDocumentKey(o)||(o=o.child(""));const c=new Fe(new pt(o),0);let h=new Ne(Ot);return this.Yr.forEachWhile(d=>{const m=d.key.path;return!!i.isPrefixOf(m)&&(m.length===r&&(h=h.add(d.Hr)),!0)},c),et.resolve(this.ei(h))}ei(t){const e=[];return t.forEach(i=>{const r=this.Zr(i);r!==null&&e.push(r)}),e}removeMutationBatch(t,e){Yt(this.ti(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return et.forEach(e.mutations,r=>{const o=new Fe(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Yr=i})}rr(t){}containsKey(t,e){const i=new Fe(e,0),r=this.Yr.firstAfterOrEqual(i);return et.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,et.resolve()}ti(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(t){this.ni=t,this.docs=function(){return new fe(pt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,c=this.ni(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return et.resolve(i?i.document.mutableCopy():sn.newInvalidDocument(e))}getEntries(t,e){let i=vs();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():sn.newInvalidDocument(r))}),et.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=vs();const c=e.path,h=new pt(c.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:m,value:{document:_}}=d.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||AO(wO(_),i)<=0||(r.has(_.key)||rd(e,_))&&(o=o.insert(_.key,_.mutableCopy()))}return et.resolve(o)}getAllFromCollectionGroup(t,e,i,r){Et(9500)}ri(t,e){return et.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new WD(this)}getSize(t){return et.resolve(this.size)}}class WD extends FD{constructor(t){super(),this.Or=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Or.addEntry(t,r)):this.Or.removeEntry(i)}),et.waitFor(e)}getFromCache(t,e){return this.Or.getEntry(t,e)}getAllFromCache(t,e){return this.Or.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(t){this.persistence=t,this.ii=new Oa(e=>$p(e),Zp),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.si=0,this.oi=new s_,this.targetCount=0,this._i=qo.ar()}forEachTarget(t,e){return this.ii.forEach((i,r)=>e(r)),et.resolve()}getLastRemoteSnapshotVersion(t){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return et.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.si&&(this.si=e),et.resolve()}hr(t){this.ii.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this._i=new qo(e),this.highestTargetId=e),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,e){return this.hr(e),this.targetCount+=1,et.resolve()}updateTargetData(t,e){return this.hr(e),et.resolve()}removeTargetData(t,e){return this.ii.delete(e.target),this.oi.zr(e.targetId),this.targetCount-=1,et.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.ii.forEach((c,h)=>{h.sequenceNumber<=e&&i.get(h.targetId)===null&&(this.ii.delete(c),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),et.waitFor(o).next(()=>r)}getTargetCount(t){return et.resolve(this.targetCount)}getTargetData(t,e){const i=this.ii.get(e)||null;return et.resolve(i)}addMatchingKeys(t,e,i){return this.oi.Kr(e,i),et.resolve()}removeMatchingKeys(t,e,i){this.oi.Gr(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(c=>{o.push(r.markPotentiallyOrphaned(t,c))}),et.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.oi.zr(e),et.resolve()}getMatchingKeysForTargetId(t,e){const i=this.oi.Jr(e);return et.resolve(i)}containsKey(t,e){return et.resolve(this.oi.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(t,e){this.ai={},this.overlays={},this.ui=new td(0),this.ci=!1,this.ci=!0,this.li=new KD,this.referenceDelegate=t(this),this.hi=new $D(this),this.indexManager=new PD,this.remoteDocumentCache=function(r){return new XD(r)}(i=>this.referenceDelegate.Pi(i)),this.serializer=new kD(e),this.Ti=new GD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new YD,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ai[t.toKey()];return i||(i=new QD(e,this.referenceDelegate),this.ai[t.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,e,i){ht("MemoryPersistence","Starting transaction:",t);const r=new ZD(this.ui.next());return this.referenceDelegate.Ii(),i(r).next(o=>this.referenceDelegate.di(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ei(t,e){return et.or(Object.values(this.ai).map(i=>()=>i.containsKey(t,e)))}}class ZD extends RO{constructor(t){super(),this.currentSequenceNumber=t}}class r_{constructor(t){this.persistence=t,this.Ai=new s_,this.Ri=null}static Vi(t){return new r_(t)}get mi(){if(this.Ri)return this.Ri;throw Et(60996)}addReference(t,e,i){return this.Ai.addReference(i,e),this.mi.delete(i.toString()),et.resolve()}removeReference(t,e,i){return this.Ai.removeReference(i,e),this.mi.add(i.toString()),et.resolve()}markPotentiallyOrphaned(t,e){return this.mi.add(e.toString()),et.resolve()}removeTarget(t,e){this.Ai.zr(e.targetId).forEach(r=>this.mi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.mi.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}Ii(){this.Ri=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.mi,i=>{const r=pt.fromPath(i);return this.fi(t,r).next(o=>{o||e.removeEntry(r,St.min())})}).next(()=>(this.Ri=null,e.apply(t)))}updateLimboDocument(t,e){return this.fi(t,e).next(i=>{i?this.mi.delete(e.toString()):this.mi.add(e.toString())})}Pi(t){return 0}fi(t,e){return et.or([()=>et.resolve(this.Ai.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class Mf{constructor(t,e){this.persistence=t,this.gi=new Oa(i=>OO(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=jD(this,e)}static Vi(t,e){return new Mf(t,e)}Ii(){}di(t){return et.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}mr(t){const e=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}yr(t){let e=0;return this.gr(t,i=>{e++}).next(()=>e)}gr(t,e){return et.forEach(this.gi,(i,r)=>this.Sr(t,i,r).next(o=>o?et.resolve():e(r)))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ri(t,c=>this.Sr(t,c,e).next(h=>{h||(i++,o.removeEntry(c,St.min()))})).next(()=>o.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,e){return this.gi.set(e,t.currentSequenceNumber),et.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.gi.set(i,t.currentSequenceNumber),et.resolve()}removeReference(t,e,i){return this.gi.set(i,t.currentSequenceNumber),et.resolve()}updateLimboDocument(t,e){return this.gi.set(e,t.currentSequenceNumber),et.resolve()}Pi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=lf(t.data.value)),e}Sr(t,e,i){return et.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.gi.get(e);return et.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Is=i,this.ds=r}static Es(t,e){let i=Vt(),r=Vt();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new a_(t,e.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return kR()?8:IO(rn())>0?6:4}()}initialize(t,e){this.gs=t,this.indexManager=e,this.As=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.ps(t,e).next(c=>{o.result=c}).next(()=>{if(!o.result)return this.ys(t,e,r,i).next(c=>{o.result=c})}).next(()=>{if(o.result)return;const c=new JD;return this.ws(t,e,c).next(h=>{if(o.result=h,this.Rs)return this.Ss(t,e,c,h.size)})}).next(()=>o.result)}Ss(t,e,i,r){return i.documentReadCount<this.Vs?(xo()<=Pt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",Ro(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),et.resolve()):(xo()<=Pt.DEBUG&&ht("QueryEngine","Query:",Ro(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.fs*r?(xo()<=Pt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",Ro(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Mi(e))):et.resolve())}ps(t,e){if(dE(e))return et.resolve(null);let i=Mi(e);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(e.limit!==null&&r===1&&(e=If(e,null,"F"),i=Mi(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const c=Vt(...o);return this.gs.getDocuments(t,c).next(h=>this.indexManager.getMinOffset(t,i).next(d=>{const m=this.bs(e,h);return this.Ds(e,m,c,d.readTime)?this.ps(t,If(e,null,"F")):this.vs(t,m,e,d)}))})))}ys(t,e,i,r){return dE(e)||r.isEqual(St.min())?et.resolve(null):this.gs.getDocuments(t,i).next(o=>{const c=this.bs(e,o);return this.Ds(e,c,i,r)?et.resolve(null):(xo()<=Pt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ro(e)),this.vs(t,c,e,SO(r,Fc)).next(h=>h))})}bs(t,e){let i=new Ne(kw(t));return e.forEach((r,o)=>{rd(t,o)&&(i=i.add(o))}),i}Ds(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}ws(t,e,i){return xo()<=Pt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",Ro(e)),this.gs.getDocumentsMatchingQuery(t,e,yr.min(),i)}vs(t,e,i,r){return this.gs.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(c=>{o=o.insert(c.key,c)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="LocalStore",eM=3e8;class nM{constructor(t,e,i,r){this.persistence=t,this.Cs=e,this.serializer=r,this.Fs=new fe(Ot),this.Ms=new Oa(o=>$p(o),Zp),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(i)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new qD(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Fs))}}function iM(n,t,e,i){return new nM(n,t,e,i)}async function n1(n,t){const e=xt(n);return await e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.Ns(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const c=[],h=[];let d=Vt();for(const m of r){c.push(m.batchId);for(const _ of m.mutations)d=d.add(_.key)}for(const m of o){h.push(m.batchId);for(const _ of m.mutations)d=d.add(_.key)}return e.localDocuments.getDocuments(i,d).next(m=>({Bs:m,removedBatchIds:c,addedBatchIds:h}))})})}function sM(n,t){const e=xt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Os.newChangeBuffer({trackRemovals:!0});return function(h,d,m,_){const v=m.batch,b=v.keys();let S=et.resolve();return b.forEach(R=>{S=S.next(()=>_.getEntry(d,R)).next(k=>{const C=m.docVersions.get(R);Yt(C!==null,48541),k.version.compareTo(C)<0&&(v.applyToRemoteDocument(k,m),k.isValidDocument()&&(k.setReadTime(m.commitVersion),_.addEntry(k)))})}),S.next(()=>h.mutationQueue.removeMutationBatch(d,v))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let d=Vt();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(d=d.add(h.batch.mutations[m].key));return d}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function i1(n){const t=xt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.hi.getLastRemoteSnapshotVersion(e))}function rM(n,t){const e=xt(n),i=t.snapshotVersion;let r=e.Fs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=e.Os.newChangeBuffer({trackRemovals:!0});r=e.Fs;const h=[];t.targetChanges.forEach((_,v)=>{const b=r.get(v);if(!b)return;h.push(e.hi.removeMatchingKeys(o,_.removedDocuments,v).next(()=>e.hi.addMatchingKeys(o,_.addedDocuments,v)));let S=b.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(v)!==null?S=S.withResumeToken($e.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):_.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(_.resumeToken,i)),r=r.insert(v,S),function(k,C,H){return k.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=eM?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(b,S,_)&&h.push(e.hi.updateTargetData(o,S))});let d=vs(),m=Vt();if(t.documentUpdates.forEach(_=>{t.resolvedLimboDocuments.has(_)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,_))}),h.push(aM(o,c,t.documentUpdates).next(_=>{d=_.Ls,m=_.ks})),!i.isEqual(St.min())){const _=e.hi.getLastRemoteSnapshotVersion(o).next(v=>e.hi.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(_)}return et.waitFor(h).next(()=>c.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,d,m)).next(()=>d)}).then(o=>(e.Fs=r,o))}function aM(n,t,e){let i=Vt(),r=Vt();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let c=vs();return e.forEach((h,d)=>{const m=o.get(h);d.isFoundDocument()!==m.isFoundDocument()&&(r=r.add(h)),d.isNoDocument()&&d.version.isEqual(St.min())?(t.removeEntry(h,d.readTime),c=c.insert(h,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(d),c=c.insert(h,d)):ht(o_,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",d.version)}),{Ls:c,ks:r}})}function oM(n,t){const e=xt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=Qp),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function lM(n,t){const e=xt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.hi.getTargetData(i,t).next(o=>o?(r=o,et.resolve(r)):e.hi.allocateTargetId(i).next(c=>(r=new ir(t,c,"TargetPurposeListen",i.currentSequenceNumber),e.hi.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Fs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Fs=e.Fs.insert(i.targetId,i),e.Ms.set(t,i.targetId)),i})}async function vp(n,t,e){const i=xt(n),r=i.Fs.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,c=>i.persistence.referenceDelegate.removeTarget(c,r))}catch(c){if(!tl(c))throw c;ht(o_,`Failed to update sequence numbers for target ${t}: ${c}`)}i.Fs=i.Fs.remove(t),i.Ms.delete(r.target)}function xE(n,t,e){const i=xt(n);let r=St.min(),o=Vt();return i.persistence.runTransaction("Execute query","readwrite",c=>function(d,m,_){const v=xt(d),b=v.Ms.get(_);return b!==void 0?et.resolve(v.Fs.get(b)):v.hi.getTargetData(m,_)}(i,c,Mi(t)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(c,h.targetId).next(d=>{o=d})}).next(()=>i.Cs.getDocumentsMatchingQuery(c,t,e?r:St.min(),e?o:Vt())).next(h=>(cM(i,XO(t),h),{documents:h,qs:o})))}function cM(n,t,e){let i=n.xs.get(t)||St.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.xs.set(t,i)}class RE{constructor(){this.activeTargetIds=eD()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class uM{constructor(){this.Fo=new RE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,e,i){this.Mo[t]=e}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new RE,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="ConnectivityMonitor";class CE{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ht(IE,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){ht(IE,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fh=null;function bp(){return Fh===null?Fh=function(){return 268435456+Math.round(2147483648*Math.random())}():Fh++,"0x"+Fh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm="RestConnection",fM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dM{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.$o=e+"://"+t.host,this.Uo=`projects/${i}/databases/${r}`,this.Ko=this.databaseId.database===Af?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Wo(t,e,i,r,o){const c=bp(),h=this.Go(t,e.toUriEncodedString());ht(Pm,`Sending RPC '${t}' ${c}:`,h,i);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(d,r,o);const{host:m}=new URL(h),_=Qo(m);return this.jo(t,h,d,i,_).then(v=>(ht(Pm,`Received RPC '${t}' ${c}: `,v),v),v=>{throw _r(Pm,`RPC '${t}' ${c} failed with error: `,v,"url: ",h,"request:",i),v})}Jo(t,e,i,r,o,c){return this.Wo(t,e,i,r,o)}zo(t,e,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}Go(t,e){const i=fM[t];return`${this.$o}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class mM extends dM{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,e,i,r,o){const c=bp();return new Promise((h,d)=>{const m=new rw;m.setWithCredentials(!0),m.listenOnce(aw.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case of.NO_ERROR:const v=m.getResponseJson();ht(en,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(v)),h(v);break;case of.TIMEOUT:ht(en,`RPC '${t}' ${c} timed out`),d(new ut(Z.DEADLINE_EXCEEDED,"Request time out"));break;case of.HTTP_ERROR:const b=m.getStatus();if(ht(en,`RPC '${t}' ${c} failed with status:`,b,"response text:",m.getResponseText()),b>0){let S=m.getResponseJson();Array.isArray(S)&&(S=S[0]);const R=S?.error;if(R&&R.status&&R.message){const k=function(H){const Q=H.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(Q)>=0?Q:Z.UNKNOWN}(R.status);d(new ut(k,R.message))}else d(new ut(Z.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new ut(Z.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{c_:t,streamId:c,l_:m.getLastErrorCode(),h_:m.getLastError()})}}finally{ht(en,`RPC '${t}' ${c} completed.`)}});const _=JSON.stringify(r);ht(en,`RPC '${t}' ${c} sending request:`,r),m.send(e,"POST",_,i,15)})}P_(t,e,i){const r=bp(),o=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=cw(),h=lw(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.zo(d.initMessageHeaders,e,i),d.encodeInitMessageHeaders=!0;const _=o.join("");ht(en,`Creating RPC '${t}' stream ${r}: ${_}`,d);const v=c.createWebChannel(_,d);this.T_(v);let b=!1,S=!1;const R=new gM({Ho:C=>{S?ht(en,`Not sending because RPC '${t}' stream ${r} is closed:`,C):(b||(ht(en,`Opening RPC '${t}' stream ${r} transport.`),v.open(),b=!0),ht(en,`RPC '${t}' stream ${r} sending:`,C),v.send(C))},Yo:()=>v.close()}),k=(C,H,Q)=>{C.listen(H,J=>{try{Q(J)}catch(it){setTimeout(()=>{throw it},0)}})};return k(v,Tc.EventType.OPEN,()=>{S||(ht(en,`RPC '${t}' stream ${r} transport opened.`),R.s_())}),k(v,Tc.EventType.CLOSE,()=>{S||(S=!0,ht(en,`RPC '${t}' stream ${r} transport closed`),R.__(),this.I_(v))}),k(v,Tc.EventType.ERROR,C=>{S||(S=!0,_r(en,`RPC '${t}' stream ${r} transport errored. Name:`,C.name,"Message:",C.message),R.__(new ut(Z.UNAVAILABLE,"The operation could not be completed")))}),k(v,Tc.EventType.MESSAGE,C=>{var H;if(!S){const Q=C.data[0];Yt(!!Q,16349);const J=Q,it=J?.error||((H=J[0])===null||H===void 0?void 0:H.error);if(it){ht(en,`RPC '${t}' stream ${r} received error:`,it);const W=it.status;let ot=function(I){const N=xe[I];if(N!==void 0)return qw(N)}(W),O=it.message;ot===void 0&&(ot=Z.INTERNAL,O="Unknown error status: "+W+" with message "+it.message),S=!0,R.__(new ut(ot,O)),v.close()}else ht(en,`RPC '${t}' stream ${r} received:`,Q),R.a_(Q)}}),k(h,ow.STAT_EVENT,C=>{C.stat===lp.PROXY?ht(en,`RPC '${t}' stream ${r} detected buffering proxy`):C.stat===lp.NOPROXY&&ht(en,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{R.o_()},0),R}terminate(){this.u_.forEach(t=>t.close()),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter(e=>e===t)}}function Vm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(n){return new vD(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Fi=t,this.timerId=e,this.d_=i,this.E_=r,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const e=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),r=Math.max(0,e-i);r>0&&ht("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,()=>(this.m_=Date.now(),t())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="PersistentStream";class r1{constructor(t,e,i,r,o,c,h,d){this.Fi=t,this.w_=i,this.S_=r,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new s1(t,e)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():e&&e.code===Z.RESOURCE_EXHAUSTED?(ys(e.toString()),ys("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):e&&e.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(e)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),e=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.b_===e&&this.W_(i,r)},i=>{t(()=>{const r=new ut(Z.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(r)})})}W_(t,e){const i=this.K_(this.b_);this.stream=this.z_(t,e),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.e_(()=>{i(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(r=>{i(()=>this.G_(r))}),this.stream.onMessage(r=>{i(()=>++this.C_==1?this.j_(r):this.onNext(r))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(t){return ht(OE,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return e=>{this.Fi.enqueueAndForget(()=>this.b_===t?e():(ht(OE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pM extends r1{constructor(t,e,i,r,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}z_(t,e){return this.connection.P_("Listen",t,e)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const e=TD(this.serializer,t),i=function(o){if(!("targetChange"in o))return St.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?St.min():c.readTime?ki(c.readTime):St.min()}(t);return this.listener.J_(e,i)}H_(t){const e={};e.database=yp(this.serializer),e.addTarget=function(o,c){let h;const d=c.target;if(h=dp(d)?{documents:AD(o,d)}:{query:xD(o,d).Vt},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=Kw(o,c.resumeToken);const m=mp(o,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(St.min())>0){h.readTime=Df(o,c.snapshotVersion.toTimestamp());const m=mp(o,c.expectedCount);m!==null&&(h.expectedCount=m)}return h}(this.serializer,t);const i=ID(this.serializer,t);i&&(e.labels=i),this.k_(e)}Y_(t){const e={};e.database=yp(this.serializer),e.removeTarget=t,this.k_(e)}}class _M extends r1{constructor(t,e,i,r,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,e){return this.connection.P_("Write",t,e)}j_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const e=wD(t.writeResults,t.commitTime),i=ki(t.commitTime);return this.listener.ta(i,e)}na(){const t={};t.database=yp(this.serializer),this.k_(t)}X_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>SD(this.serializer,i))};this.k_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{}class vM extends yM{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.ra=!1}ia(){if(this.ra)throw new ut(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,i,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Wo(t,pp(e,i),r,o,c)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ut(Z.UNKNOWN,o.toString())})}Jo(t,e,i,r,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.Jo(t,pp(e,i),r,c,h,o)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ut(Z.UNKNOWN,c.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class bM{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ys(e),this._a=!1):ht("OnlineStateTracker",e)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra="RemoteStore";class EM{constructor(t,e,i,r,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(c=>{i.enqueueAndForget(async()=>{Da(this)&&(ht(Ra,"Restarting streams for network reachability change."),await async function(d){const m=xt(d);m.Ia.add(4),await ou(m),m.Aa.set("Unknown"),m.Ia.delete(4),await ud(m)}(this))})}),this.Aa=new bM(i,r)}}async function ud(n){if(Da(n))for(const t of n.da)await t(!0)}async function ou(n){for(const t of n.da)await t(!1)}function a1(n,t){const e=xt(n);e.Ta.has(t.targetId)||(e.Ta.set(t.targetId,t),h_(e)?u_(e):nl(e).x_()&&c_(e,t))}function l_(n,t){const e=xt(n),i=nl(e);e.Ta.delete(t),i.x_()&&o1(e,t),e.Ta.size===0&&(i.x_()?i.B_():Da(e)&&e.Aa.set("Unknown"))}function c_(n,t){if(n.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}nl(n).H_(t)}function o1(n,t){n.Ra.$e(t),nl(n).Y_(t)}function u_(n){n.Ra=new mD({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>n.Ta.get(t)||null,lt:()=>n.datastore.serializer.databaseId}),nl(n).start(),n.Aa.aa()}function h_(n){return Da(n)&&!nl(n).M_()&&n.Ta.size>0}function Da(n){return xt(n).Ia.size===0}function l1(n){n.Ra=void 0}async function TM(n){n.Aa.set("Online")}async function SM(n){n.Ta.forEach((t,e)=>{c_(n,t)})}async function wM(n,t){l1(n),h_(n)?(n.Aa.la(t),u_(n)):n.Aa.set("Unknown")}async function AM(n,t,e){if(n.Aa.set("Online"),t instanceof Yw&&t.state===2&&t.cause)try{await async function(r,o){const c=o.cause;for(const h of o.targetIds)r.Ta.has(h)&&(await r.remoteSyncer.rejectListen(h,c),r.Ta.delete(h),r.Ra.removeTarget(h))}(n,t)}catch(i){ht(Ra,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await kf(n,i)}else if(t instanceof hf?n.Ra.Ye(t):t instanceof Gw?n.Ra.it(t):n.Ra.et(t),!e.isEqual(St.min()))try{const i=await i1(n.localStore);e.compareTo(i)>=0&&await function(o,c){const h=o.Ra.Pt(c);return h.targetChanges.forEach((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const _=o.Ta.get(m);_&&o.Ta.set(m,_.withResumeToken(d.resumeToken,c))}}),h.targetMismatches.forEach((d,m)=>{const _=o.Ta.get(d);if(!_)return;o.Ta.set(d,_.withResumeToken($e.EMPTY_BYTE_STRING,_.snapshotVersion)),o1(o,d);const v=new ir(_.target,d,m,_.sequenceNumber);c_(o,v)}),o.remoteSyncer.applyRemoteEvent(h)}(n,e)}catch(i){ht(Ra,"Failed to raise snapshot:",i),await kf(n,i)}}async function kf(n,t,e){if(!tl(t))throw t;n.Ia.add(1),await ou(n),n.Aa.set("Offline"),e||(e=()=>i1(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ht(Ra,"Retrying IndexedDB access"),await e(),n.Ia.delete(1),await ud(n)})}function c1(n,t){return t().catch(e=>kf(n,e,t))}async function hd(n){const t=xt(n),e=Tr(t);let i=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:Qp;for(;xM(t);)try{const r=await oM(t.localStore,i);if(r===null){t.Pa.length===0&&e.B_();break}i=r.batchId,RM(t,r)}catch(r){await kf(t,r)}u1(t)&&h1(t)}function xM(n){return Da(n)&&n.Pa.length<10}function RM(n,t){n.Pa.push(t);const e=Tr(n);e.x_()&&e.Z_&&e.X_(t.mutations)}function u1(n){return Da(n)&&!Tr(n).M_()&&n.Pa.length>0}function h1(n){Tr(n).start()}async function IM(n){Tr(n).na()}async function CM(n){const t=Tr(n);for(const e of n.Pa)t.X_(e.mutations)}async function OM(n,t,e){const i=n.Pa.shift(),r=e_.from(i,t,e);await c1(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),await hd(n)}async function DM(n,t){t&&Tr(n).Z_&&await async function(i,r){if(function(c){return dD(c)&&c!==Z.ABORTED}(r.code)){const o=i.Pa.shift();Tr(i).N_(),await c1(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),await hd(i)}}(n,t),u1(n)&&h1(n)}async function DE(n,t){const e=xt(n);e.asyncQueue.verifyOperationInProgress(),ht(Ra,"RemoteStore received new credentials");const i=Da(e);e.Ia.add(3),await ou(e),i&&e.Aa.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ia.delete(3),await ud(e)}async function MM(n,t){const e=xt(n);t?(e.Ia.delete(2),await ud(e)):t||(e.Ia.add(2),await ou(e),e.Aa.set("Unknown"))}function nl(n){return n.Va||(n.Va=function(e,i,r){const o=xt(e);return o.ia(),new pM(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Zo:TM.bind(null,n),e_:SM.bind(null,n),n_:wM.bind(null,n),J_:AM.bind(null,n)}),n.da.push(async t=>{t?(n.Va.N_(),h_(n)?u_(n):n.Aa.set("Unknown")):(await n.Va.stop(),l1(n))})),n.Va}function Tr(n){return n.ma||(n.ma=function(e,i,r){const o=xt(e);return o.ia(),new _M(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:IM.bind(null,n),n_:DM.bind(null,n),ea:CM.bind(null,n),ta:OM.bind(null,n)}),n.da.push(async t=>{t?(n.ma.N_(),await hd(n)):(await n.ma.stop(),n.Pa.length>0&&(ht(Ra,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const c=Date.now()+i,h=new f_(t,e,c,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function d_(n,t){if(ys("AsyncQueue",`${t}: ${n}`),tl(n))return new ut(Z.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{static emptySet(t){return new Po(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||pt.comparator(e.key,i.key):(e,i)=>pt.comparator(e.key,i.key),this.keyedMap=Sc(),this.sortedSet=new fe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Po)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Po;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(){this.fa=new fe(pt.comparator)}track(t){const e=t.doc.key,i=this.fa.get(e);i?t.type!==0&&i.type===3?this.fa=this.fa.insert(e,t):t.type===3&&i.type!==1?this.fa=this.fa.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.fa=this.fa.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.fa=this.fa.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.fa=this.fa.remove(e):t.type===1&&i.type===2?this.fa=this.fa.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.fa=this.fa.insert(e,{type:2,doc:t.doc}):Et(63341,{At:t,ga:i}):this.fa=this.fa.insert(e,t)}pa(){const t=[];return this.fa.inorderTraversal((e,i)=>{t.push(i)}),t}}class Go{constructor(t,e,i,r,o,c,h,d,m){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(t,e,i,r,o){const c=[];return e.forEach(h=>{c.push({type:0,doc:h})}),new Go(t,e,Po.emptySet(e),c,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&sd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(t=>t.ba())}}class NM{constructor(){this.queries=kE(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(e,i){const r=xt(e),o=r.queries;r.queries=kE(),o.forEach((c,h)=>{for(const d of h.wa)d.onError(i)})})(this,new ut(Z.ABORTED,"Firestore shutting down"))}}function kE(){return new Oa(n=>Mw(n),sd)}async function g_(n,t){const e=xt(n);let i=3;const r=t.query;let o=e.queries.get(r);o?!o.Sa()&&t.ba()&&(i=2):(o=new kM,i=t.ba()?0:1);try{switch(i){case 0:o.ya=await e.onListen(r,!0);break;case 1:o.ya=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(c){const h=d_(c,`Initialization of query '${Ro(t.query)}' failed`);return void t.onError(h)}e.queries.set(r,o),o.wa.push(t),t.va(e.onlineState),o.ya&&t.Ca(o.ya)&&p_(e)}async function m_(n,t){const e=xt(n),i=t.query;let r=3;const o=e.queries.get(i);if(o){const c=o.wa.indexOf(t);c>=0&&(o.wa.splice(c,1),o.wa.length===0?r=t.ba()?0:1:!o.Sa()&&t.ba()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function PM(n,t){const e=xt(n);let i=!1;for(const r of t){const o=r.query,c=e.queries.get(o);if(c){for(const h of c.wa)h.Ca(r)&&(i=!0);c.ya=r}}i&&p_(e)}function VM(n,t,e){const i=xt(n),r=i.queries.get(t);if(r)for(const o of r.wa)o.onError(e);i.queries.delete(t)}function p_(n){n.Da.forEach(t=>{t.next()})}var Ep,NE;(NE=Ep||(Ep={})).Fa="default",NE.Cache="cache";class __{constructor(t,e,i){this.query=t,this.Ma=e,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new Go(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),e=!0):this.Ba(t,this.onlineState)&&(this.La(t),e=!0),this.Oa=t,e}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let e=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),e=!0),e}Ba(t,e){if(!t.fromCache||!this.ba())return!0;const i=e!=="Offline";return(!this.options.ka||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const e=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}La(t){t=Go.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==Ep.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(t){this.key=t}}class d1{constructor(t){this.key=t}}class LM{constructor(t,e){this.query=t,this.Ha=e,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Vt(),this.mutatedKeys=Vt(),this.Xa=kw(t),this.eu=new Po(this.Xa)}get tu(){return this.Ha}nu(t,e){const i=e?e.ru:new ME,r=e?e.eu:this.eu;let o=e?e.mutatedKeys:this.mutatedKeys,c=r,h=!1;const d=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,m=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((_,v)=>{const b=r.get(_),S=rd(this.query,v)?v:null,R=!!b&&this.mutatedKeys.has(b.key),k=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let C=!1;b&&S?b.data.isEqual(S.data)?R!==k&&(i.track({type:3,doc:S}),C=!0):this.iu(b,S)||(i.track({type:2,doc:S}),C=!0,(d&&this.Xa(S,d)>0||m&&this.Xa(S,m)<0)&&(h=!0)):!b&&S?(i.track({type:0,doc:S}),C=!0):b&&!S&&(i.track({type:1,doc:b}),C=!0,(d||m)&&(h=!0)),C&&(S?(c=c.add(S),o=k?o.add(_):o.delete(_)):(c=c.delete(_),o=o.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),o=o.delete(_.key),i.track({type:1,doc:_})}return{eu:c,ru:i,Ds:h,mutatedKeys:o}}iu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const o=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const c=t.ru.pa();c.sort((_,v)=>function(S,R){const k=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{At:C})}};return k(S)-k(R)}(_.type,v.type)||this.Xa(_.doc,v.doc)),this.su(i),r=r!=null&&r;const h=e&&!r?this.ou():[],d=this.Za.size===0&&this.current&&!r?1:0,m=d!==this.Ya;return this.Ya=d,c.length!==0||m?{snapshot:new Go(this.query,t.eu,o,c,t.mutatedKeys,d===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:h}:{_u:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new ME,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=Vt(),this.eu.forEach(i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))});const e=[];return t.forEach(i=>{this.Za.has(i)||e.push(new d1(i))}),this.Za.forEach(i=>{t.has(i)||e.push(new f1(i))}),e}uu(t){this.Ha=t.qs,this.Za=Vt();const e=this.nu(t.documents);return this.applyChanges(e,!0)}cu(){return Go.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const y_="SyncEngine";class UM{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class zM{constructor(t){this.key=t,this.lu=!1}}class BM{constructor(t,e,i,r,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.hu={},this.Pu=new Oa(h=>Mw(h),sd),this.Tu=new Map,this.Iu=new Set,this.du=new fe(pt.comparator),this.Eu=new Map,this.Au=new s_,this.Ru={},this.Vu=new Map,this.mu=qo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function jM(n,t,e=!0){const i=v1(n);let r;const o=i.Pu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.cu()):r=await g1(i,t,e,!0),r}async function FM(n,t){const e=v1(n);await g1(e,t,!0,!1)}async function g1(n,t,e,i){const r=await lM(n.localStore,Mi(t)),o=r.targetId,c=n.sharedClientState.addLocalQueryTarget(o,e);let h;return i&&(h=await HM(n,t,o,c==="current",r.resumeToken)),n.isPrimaryClient&&e&&a1(n.remoteStore,r),h}async function HM(n,t,e,i,r){n.gu=(v,b,S)=>async function(k,C,H,Q){let J=C.view.nu(H);J.Ds&&(J=await xE(k.localStore,C.query,!1).then(({documents:O})=>C.view.nu(O,J)));const it=Q&&Q.targetChanges.get(C.targetId),W=Q&&Q.targetMismatches.get(C.targetId)!=null,ot=C.view.applyChanges(J,k.isPrimaryClient,it,W);return VE(k,C.targetId,ot._u),ot.snapshot}(n,v,b,S);const o=await xE(n.localStore,t,!0),c=new LM(t,o.qs),h=c.nu(o.documents),d=au.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),m=c.applyChanges(h,n.isPrimaryClient,d);VE(n,e,m._u);const _=new UM(t,e,c);return n.Pu.set(t,_),n.Tu.has(e)?n.Tu.get(e).push(t):n.Tu.set(e,[t]),m.snapshot}async function qM(n,t,e){const i=xt(n),r=i.Pu.get(t),o=i.Tu.get(r.targetId);if(o.length>1)return i.Tu.set(r.targetId,o.filter(c=>!sd(c,t))),void i.Pu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await vp(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),e&&l_(i.remoteStore,r.targetId),Tp(i,r.targetId)}).catch(Jo)):(Tp(i,r.targetId),await vp(i.localStore,r.targetId,!0))}async function GM(n,t){const e=xt(n),i=e.Pu.get(t),r=e.Tu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),l_(e.remoteStore,i.targetId))}async function YM(n,t,e){const i=JM(n);try{const r=await function(c,h){const d=xt(c),m=le.now(),_=h.reduce((S,R)=>S.add(R.key),Vt());let v,b;return d.persistence.runTransaction("Locally write mutations","readwrite",S=>{let R=vs(),k=Vt();return d.Os.getEntries(S,_).next(C=>{R=C,R.forEach((H,Q)=>{Q.isValidDocument()||(k=k.add(H))})}).next(()=>d.localDocuments.getOverlayedDocuments(S,R)).next(C=>{v=C;const H=[];for(const Q of h){const J=lD(Q,v.get(Q.key).overlayedDocument);J!=null&&H.push(new Ir(Q.key,J,ww(J.value.mapValue),ri.exists(!0)))}return d.mutationQueue.addMutationBatch(S,m,H,h)}).next(C=>{b=C;const H=C.applyToLocalDocumentSet(v,k);return d.documentOverlayCache.saveOverlays(S,C.batchId,H)})}).then(()=>({batchId:b.batchId,changes:Pw(v)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(c,h,d){let m=c.Ru[c.currentUser.toKey()];m||(m=new fe(Ot)),m=m.insert(h,d),c.Ru[c.currentUser.toKey()]=m}(i,r.batchId,e),await lu(i,r.changes),await hd(i.remoteStore)}catch(r){const o=d_(r,"Failed to persist write");e.reject(o)}}async function m1(n,t){const e=xt(n);try{const i=await rM(e.localStore,t);t.targetChanges.forEach((r,o)=>{const c=e.Eu.get(o);c&&(Yt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?c.lu=!0:r.modifiedDocuments.size>0?Yt(c.lu,14607):r.removedDocuments.size>0&&(Yt(c.lu,42227),c.lu=!1))}),await lu(e,i,t)}catch(i){await Jo(i)}}function PE(n,t,e){const i=xt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.Pu.forEach((o,c)=>{const h=c.view.va(t);h.snapshot&&r.push(h.snapshot)}),function(c,h){const d=xt(c);d.onlineState=h;let m=!1;d.queries.forEach((_,v)=>{for(const b of v.wa)b.va(h)&&(m=!0)}),m&&p_(d)}(i.eventManager,t),r.length&&i.hu.J_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function KM(n,t,e){const i=xt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Eu.get(t),o=r&&r.key;if(o){let c=new fe(pt.comparator);c=c.insert(o,sn.newNoDocument(o,St.min()));const h=Vt().add(o),d=new ld(St.min(),new Map,new fe(Ot),c,h);await m1(i,d),i.du=i.du.remove(o),i.Eu.delete(t),v_(i)}else await vp(i.localStore,t,!1).then(()=>Tp(i,t,e)).catch(Jo)}async function QM(n,t){const e=xt(n),i=t.batch.batchId;try{const r=await sM(e.localStore,t);_1(e,i,null),p1(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await lu(e,r)}catch(r){await Jo(r)}}async function XM(n,t,e){const i=xt(n);try{const r=await function(c,h){const d=xt(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let _;return d.mutationQueue.lookupMutationBatch(m,h).next(v=>(Yt(v!==null,37113),_=v.keys(),d.mutationQueue.removeMutationBatch(m,v))).next(()=>d.mutationQueue.performConsistencyCheck(m)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(m,_,h)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_)).next(()=>d.localDocuments.getDocuments(m,_))})}(i.localStore,t);_1(i,t,e),p1(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await lu(i,r)}catch(r){await Jo(r)}}function p1(n,t){(n.Vu.get(t)||[]).forEach(e=>{e.resolve()}),n.Vu.delete(t)}function _1(n,t,e){const i=xt(n);let r=i.Ru[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Ru[i.currentUser.toKey()]=r}}function Tp(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Tu.get(t))n.Pu.delete(i),e&&n.hu.pu(i,e);n.Tu.delete(t),n.isPrimaryClient&&n.Au.zr(t).forEach(i=>{n.Au.containsKey(i)||y1(n,i)})}function y1(n,t){n.Iu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(l_(n.remoteStore,e),n.du=n.du.remove(t),n.Eu.delete(e),v_(n))}function VE(n,t,e){for(const i of e)i instanceof f1?(n.Au.addReference(i.key,t),WM(n,i)):i instanceof d1?(ht(y_,"Document no longer in limbo: "+i.key),n.Au.removeReference(i.key,t),n.Au.containsKey(i.key)||y1(n,i.key)):Et(19791,{yu:i})}function WM(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Iu.has(i)||(ht(y_,"New document in limbo: "+e),n.Iu.add(i),v_(n))}function v_(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Iu.values().next().value;n.Iu.delete(t);const e=new pt(ae.fromString(t)),i=n.mu.next();n.Eu.set(i,new zM(e)),n.du=n.du.insert(e,i),a1(n.remoteStore,new ir(Mi(id(e.path)),i,"TargetPurposeLimboResolution",td.ue))}}async function lu(n,t,e){const i=xt(n),r=[],o=[],c=[];i.Pu.isEmpty()||(i.Pu.forEach((h,d)=>{c.push(i.gu(d,t,e).then(m=>{var _;if((m||e)&&i.isPrimaryClient){const v=m?!m.fromCache:(_=e?.targetChanges.get(d.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(d.targetId,v?"current":"not-current")}if(m){r.push(m);const v=a_.Es(d.targetId,m);o.push(v)}}))}),await Promise.all(c),i.hu.J_(r),await async function(d,m){const _=xt(d);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>et.forEach(m,b=>et.forEach(b.Is,S=>_.persistence.referenceDelegate.addReference(v,b.targetId,S)).next(()=>et.forEach(b.ds,S=>_.persistence.referenceDelegate.removeReference(v,b.targetId,S)))))}catch(v){if(!tl(v))throw v;ht(o_,"Failed to update sequence numbers: "+v)}for(const v of m){const b=v.targetId;if(!v.fromCache){const S=_.Fs.get(b),R=S.snapshotVersion,k=S.withLastLimboFreeSnapshotVersion(R);_.Fs=_.Fs.insert(b,k)}}}(i.localStore,o))}async function $M(n,t){const e=xt(n);if(!e.currentUser.isEqual(t)){ht(y_,"User change. New user:",t.toKey());const i=await n1(e.localStore,t);e.currentUser=t,function(o,c){o.Vu.forEach(h=>{h.forEach(d=>{d.reject(new ut(Z.CANCELLED,c))})}),o.Vu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await lu(e,i.Bs)}}function ZM(n,t){const e=xt(n),i=e.Eu.get(t);if(i&&i.lu)return Vt().add(i.key);{let r=Vt();const o=e.Tu.get(t);if(!o)return r;for(const c of o){const h=e.Pu.get(c);r=r.unionWith(h.view.tu)}return r}}function v1(n){const t=xt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=m1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZM.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=KM.bind(null,t),t.hu.J_=PM.bind(null,t.eventManager),t.hu.pu=VM.bind(null,t.eventManager),t}function JM(n){const t=xt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=QM.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=XM.bind(null,t),t}class Nf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=cd(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,e){return null}Fu(t,e){return null}vu(t){return iM(this.persistence,new tM,t.initialUser,this.serializer)}Du(t){return new e1(r_.Vi,this.serializer)}bu(t){return new uM}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nf.provider={build:()=>new Nf};class tk extends Nf{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,e){Yt(this.persistence.referenceDelegate instanceof Mf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new zD(i,t.asyncQueue,e)}Du(t){const e=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new e1(i=>Mf.Vi(i,e),this.serializer)}}class Sp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>PE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=$M.bind(null,this.syncEngine),await MM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new NM}()}createDatastore(t){const e=cd(t.databaseInfo.databaseId),i=function(o){return new mM(o)}(t.databaseInfo);return function(o,c,h,d){return new vM(o,c,h,d)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return function(i,r,o,c,h){return new EM(i,r,o,c,h)}(this.localStore,this.datastore,t.asyncQueue,e=>PE(this.syncEngine,e,0),function(){return CE.C()?new CE:new hM}())}createSyncEngine(t,e){return function(r,o,c,h,d,m,_){const v=new BM(r,o,c,h,d,m);return _&&(v.fu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(r){const o=xt(r);ht(Ra,"RemoteStore shutting down."),o.Ia.add(5),await ou(o),o.Ea.shutdown(),o.Aa.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}Sp.provider={build:()=>new Sp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):ys("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr="FirestoreClient";class ek{constructor(t,e,i,r,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=nn.UNAUTHENTICATED,this.clientId=Kp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async c=>{ht(Sr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(ht(Sr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=d_(e,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Lm(n,t){n.asyncQueue.verifyOperationInProgress(),ht(Sr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(async r=>{i.isEqual(r)||(await n1(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>{_r("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{ht("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(r=>{_r("Terminating Firestore due to IndexedDb database deletion failed",r)})}),n._offlineComponents=t}async function LE(n,t){n.asyncQueue.verifyOperationInProgress();const e=await nk(n);ht(Sr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>DE(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>DE(t.remoteStore,r)),n._onlineComponents=t}async function nk(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ht(Sr,"Using user provided OfflineComponentProvider");try{await Lm(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(r){return r.name==="FirebaseError"?r.code===Z.FAILED_PRECONDITION||r.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(e))throw e;_r("Error using user provided cache. Falling back to memory cache: "+e),await Lm(n,new Nf)}}else ht(Sr,"Using default OfflineComponentProvider"),await Lm(n,new tk(void 0));return n._offlineComponents}async function b1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ht(Sr,"Using user provided OnlineComponentProvider"),await LE(n,n._uninitializedComponentsProvider._online)):(ht(Sr,"Using default OnlineComponentProvider"),await LE(n,new Sp))),n._onlineComponents}function ik(n){return b1(n).then(t=>t.syncEngine)}async function Pf(n){const t=await b1(n),e=t.eventManager;return e.onListen=jM.bind(null,t.syncEngine),e.onUnlisten=qM.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=FM.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=GM.bind(null,t.syncEngine),e}function sk(n,t,e={}){const i=new ms;return n.asyncQueue.enqueueAndForget(async()=>function(o,c,h,d,m){const _=new b_({next:b=>{_.Ou(),c.enqueueAndForget(()=>m_(o,v));const S=b.docs.has(h);!S&&b.fromCache?m.reject(new ut(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&b.fromCache&&d&&d.source==="server"?m.reject(new ut(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(b)},error:b=>m.reject(b)}),v=new __(id(h.path),_,{includeMetadataChanges:!0,ka:!0});return g_(o,v)}(await Pf(n),n.asyncQueue,t,e,i)),i.promise}function rk(n,t,e={}){const i=new ms;return n.asyncQueue.enqueueAndForget(async()=>function(o,c,h,d,m){const _=new b_({next:b=>{_.Ou(),c.enqueueAndForget(()=>m_(o,v)),b.fromCache&&d.source==="server"?m.reject(new ut(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(b)},error:b=>m.reject(b)}),v=new __(h,_,{includeMetadataChanges:!0,ka:!0});return g_(o,v)}(await Pf(n),n.asyncQueue,t,e,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="firestore.googleapis.com",zE=!0;class BE{constructor(t){var e,i;if(t.host===void 0){if(t.ssl!==void 0)throw new ut(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=T1,this.ssl=zE}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:zE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=t1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<LD)throw new ut(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}TO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=E1((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class fd{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new dO;switch(i.type){case"firstParty":return new _O(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ut(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=UE.get(e);i&&(ht("ComponentProvider","Removing Datastore"),UE.delete(e),i.terminate())}(this),Promise.resolve()}}function ak(n,t,e,i={}){var r;n=Kn(n,fd);const o=Qo(t),c=n._getSettings(),h=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),d=`${t}:${e}`;o&&(_S(`https://${d}`),yS("Firestore",!0)),c.host!==T1&&c.host!==d&&_r("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},c),{host:d,ssl:o,emulatorOptions:i});if(!Sa(m,h)&&(n._setSettings(m),i.mockUserToken)){let _,v;if(typeof i.mockUserToken=="string")_=i.mockUserToken,v=nn.MOCK_USER;else{_=wR(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new ut(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new nn(b)}n._authCredentials=new gO(new hw(_,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Es(this.firestore,t,this._query)}}class be{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new be(this.firestore,t,this._key)}toJSON(){return{type:be._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(su(e,be._jsonSchema))return new be(t,i||null,new pt(ae.fromString(e.referencePath)))}}be._jsonSchemaVersion="firestore/documentReference/1.0",be._jsonSchema={type:Ie("string",be._jsonSchemaVersion),referencePath:Ie("string")};class fr extends Es{constructor(t,e,i){super(t,e,id(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new be(this.firestore,null,new pt(t))}withConverter(t){return new fr(this.firestore,t,this._path)}}function Vo(n,t,...e){if(n=Pe(n),dw("collection","path",t),n instanceof fd){const i=ae.fromString(t,...e);return Jb(i),new fr(n,null,i)}{if(!(n instanceof be||n instanceof fr))throw new ut(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ae.fromString(t,...e));return Jb(i),new fr(n.firestore,null,i)}}function Vf(n,t,...e){if(n=Pe(n),arguments.length===1&&(t=Kp.newId()),dw("doc","path",t),n instanceof fd){const i=ae.fromString(t,...e);return Zb(i),new be(n,null,new pt(i))}{if(!(n instanceof be||n instanceof fr))throw new ut(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ae.fromString(t,...e));return Zb(i),new be(n.firestore,n instanceof fr?n.converter:null,new pt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="AsyncQueue";class FE{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new s1(this,"async_queue_retry"),this.oc=()=>{const i=Vm();i&&ht(jE,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=t;const e=Vm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const e=Vm();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise(()=>{});const e=new ms;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Zu.push(t),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!tl(t))throw t;ht(jE,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(t){const e=this._c.then(()=>(this.nc=!0,t().catch(i=>{throw this.tc=i,this.nc=!1,ys("INTERNAL UNHANDLED ERROR: ",HE(i)),i}).then(i=>(this.nc=!1,i))));return this._c=e,e}enqueueAfterDelay(t,e,i){this.ac(),this.sc.indexOf(t)>-1&&(e=0);const r=f_.createAndSchedule(this,t,e,i,o=>this.lc(o));return this.ec.push(r),r}ac(){this.tc&&Et(47125,{hc:HE(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const e of this.ec)if(e.timerId===t)return!0;return!1}Ic(t){return this.Pc().then(()=>{this.ec.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.ec)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Pc()})}dc(t){this.sc.push(t)}lc(t){const e=this.ec.indexOf(t);this.ec.splice(e,1)}}function HE(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(n){return function(e,i){if(typeof e!="object"||e===null)return!1;const r=e;for(const o of i)if(o in r&&typeof r[o]=="function")return!0;return!1}(n,["next","error","complete"])}class wr extends fd{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new FE,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new FE(t),this._firestoreClient=void 0,await t}}}function S1(n,t){const e=typeof n=="object"?n:TS(),i=typeof n=="string"?n:Af,r=Vp(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=TR("firestore");o&&ak(r,...o)}return r}function dd(n){if(n._terminated)throw new ut(Z.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||ok(n),n._firestoreClient}function ok(n){var t,e,i;const r=n._freezeSettings(),o=function(h,d,m,_){return new kO(h,d,m,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,E1(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((e=r.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new ek(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(h){const d=h?._online.build();return{_offline:h?._offline.build(d),_online:d}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Yn($e.fromBase64String(t))}catch(e){throw new ut(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Yn($e.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(su(t,Yn._jsonSchema))return Yn.fromBase64String(t.bytes)}}Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:Ie("string",Yn._jsonSchemaVersion),bytes:Ie("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ut(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new We(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ut(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ut(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ot(this._lat,t._lat)||Ot(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ni._jsonSchemaVersion}}static fromJSON(t){if(su(t,Ni._jsonSchema))return new Ni(t.latitude,t.longitude)}}Ni._jsonSchemaVersion="firestore/geoPoint/1.0",Ni._jsonSchema={type:Ie("string",Ni._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(su(t,Pi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(e=>typeof e=="number"))return new Pi(t.vectorValues);throw new ut(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pi._jsonSchemaVersion="firestore/vectorValue/1.0",Pi._jsonSchema={type:Ie("string",Pi._jsonSchemaVersion),vectorValues:Ie("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=/^__.*__$/;class ck{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Ir(t,this.data,this.fieldMask,e,this.fieldTransforms):new ru(t,this.data,e,this.fieldTransforms)}}class w1{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Ir(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function A1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ec:n})}}class T_{constructor(t,e,i,r,o,c){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new T_(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.Rc({path:i,mc:!1});return r.fc(t),r}gc(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.Rc({path:i,mc:!1});return r.Ac(),r}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return Lf(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(A1(this.Ec)&&lk.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class uk{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||cd(t)}Dc(t,e,i,r=!1){return new T_({Ec:t,methodName:e,bc:i,path:We.emptyPath(),mc:!1,Sc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function S_(n){const t=n._freezeSettings(),e=cd(n._databaseId);return new uk(n._databaseId,!!t.ignoreUndefinedProperties,e)}function hk(n,t,e,i,r,o={}){const c=n.Dc(o.merge||o.mergeFields?2:0,t,e,r);w_("Data must be an object, but it was:",c,i);const h=x1(i,c);let d,m;if(o.merge)d=new On(c.fieldMask),m=c.fieldTransforms;else if(o.mergeFields){const _=[];for(const v of o.mergeFields){const b=wp(t,v,e);if(!c.contains(b))throw new ut(Z.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);I1(_,b)||_.push(b)}d=new On(_),m=c.fieldTransforms.filter(v=>d.covers(v.field))}else d=null,m=c.fieldTransforms;return new ck(new mn(h),d,m)}class md extends E_{_toFieldTransform(t){if(t.Ec!==2)throw t.Ec===1?t.wc(`${this._methodName}() can only appear at the top level of your update data`):t.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof md}}function fk(n,t,e,i){const r=n.Dc(1,t,e);w_("Data must be an object, but it was:",r,i);const o=[],c=mn.empty();Rr(i,(d,m)=>{const _=A_(t,d,e);m=Pe(m);const v=r.gc(_);if(m instanceof md)o.push(_);else{const b=cu(m,v);b!=null&&(o.push(_),c.set(_,b))}});const h=new On(o);return new w1(c,h,r.fieldTransforms)}function dk(n,t,e,i,r,o){const c=n.Dc(1,t,e),h=[wp(t,i,e)],d=[r];if(o.length%2!=0)throw new ut(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<o.length;b+=2)h.push(wp(t,o[b])),d.push(o[b+1]);const m=[],_=mn.empty();for(let b=h.length-1;b>=0;--b)if(!I1(m,h[b])){const S=h[b];let R=d[b];R=Pe(R);const k=c.gc(S);if(R instanceof md)m.push(S);else{const C=cu(R,k);C!=null&&(m.push(S),_.set(S,C))}}const v=new On(m);return new w1(_,v,c.fieldTransforms)}function gk(n,t,e,i=!1){return cu(e,n.Dc(i?4:3,t))}function cu(n,t){if(R1(n=Pe(n)))return w_("Unsupported field value:",t,n),x1(n,t);if(n instanceof E_)return function(i,r){if(!A1(r.Ec))throw r.wc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.wc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return function(i,r){const o=[];let c=0;for(const h of i){let d=cu(h,r.yc(c));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),c++}return{arrayValue:{values:o}}}(n,t)}return function(i,r){if((i=Pe(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return nD(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=le.fromDate(i);return{timestampValue:Df(r.serializer,o)}}if(i instanceof le){const o=new le(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Df(r.serializer,o)}}if(i instanceof Ni)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Yn)return{bytesValue:Kw(r.serializer,i._byteString)};if(i instanceof be){const o=r.databaseId,c=i.firestore._databaseId;if(!c.isEqual(o))throw r.wc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:i_(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Pi)return function(c,h){return{mapValue:{fields:{[Tw]:{stringValue:Sw},[xf]:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw h.wc("VectorValues must only contain numeric values.");return Jp(h.serializer,m)})}}}}}}(i,r);throw r.wc(`Unsupported field value: ${Jf(i)}`)}(n,t)}function x1(n,t){const e={};return pw(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Rr(n,(i,r)=>{const o=cu(r,t.Vc(i));o!=null&&(e[i]=o)}),{mapValue:{fields:e}}}function R1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof le||n instanceof Ni||n instanceof Yn||n instanceof be||n instanceof E_||n instanceof Pi)}function w_(n,t,e){if(!R1(e)||!gw(e)){const i=Jf(e);throw i==="an object"?t.wc(n+" a custom object"):t.wc(n+" "+i)}}function wp(n,t,e){if((t=Pe(t))instanceof gd)return t._internalPath;if(typeof t=="string")return A_(n,t);throw Lf("Field path arguments must be of type string or ",n,!1,void 0,e)}const mk=new RegExp("[~\\*/\\[\\]]");function A_(n,t,e){if(t.search(mk)>=0)throw Lf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new gd(...t.split("."))._internalPath}catch{throw Lf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Lf(n,t,e,i,r){const o=i&&!i.isEmpty(),c=r!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||c)&&(d+=" (found",o&&(d+=` in field ${i}`),c&&(d+=` in document ${r}`),d+=")"),new ut(Z.INVALID_ARGUMENT,h+n+d)}function I1(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new pk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(pd("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class pk extends C1{data(){return super.data()}}function pd(n,t){return typeof t=="string"?A_(n,t):t instanceof gd?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ut(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class x_{}class R_ extends x_{}function Ap(n,t,...e){let i=[];t instanceof x_&&i.push(t),i=i.concat(e),function(o){const c=o.filter(d=>d instanceof I_).length,h=o.filter(d=>d instanceof _d).length;if(c>1||c>0&&h>0)throw new ut(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class _d extends R_{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new _d(t,e,i)}_apply(t){const e=this._parse(t);return M1(t._query,e),new Es(t.firestore,t.converter,gp(t._query,e))}_parse(t){const e=S_(t.firestore);return function(o,c,h,d,m,_,v){let b;if(m.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ut(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){KE(v,_);const R=[];for(const k of v)R.push(YE(d,o,k));b={arrayValue:{values:R}}}else b=YE(d,o,v)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||KE(v,_),b=gk(h,c,v,_==="in"||_==="not-in");return Re.create(m,_,b)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function GE(n,t,e){const i=t,r=pd("where",n);return _d._create(r,i,e)}class I_ extends x_{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new I_(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return e.length===1?e[0]:oi.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(r,o){let c=r;const h=o.getFlattenedFilters();for(const d of h)M1(c,d),c=gp(c,d)}(t._query,e),new Es(t.firestore,t.converter,gp(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class C_ extends R_{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new C_(t,e)}_apply(t){const e=function(r,o,c){if(r.startAt!==null)throw new ut(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new ut(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Yc(o,c)}(t._query,this._field,this._direction);return new Es(t.firestore,t.converter,function(r,o){const c=r.explicitOrderBy.concat([o]);return new el(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}function D1(n,t="asc"){const e=t,i=pd("orderBy",n);return C_._create(i,e)}class O_ extends R_{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new O_(t,e,i)}_apply(t){return new Es(t.firestore,t.converter,If(t._query,this._limit,this._limitType))}}function _k(n){return O_._create("limit",n,"F")}function YE(n,t,e){if(typeof(e=Pe(e))=="string"){if(e==="")throw new ut(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Dw(t)&&e.indexOf("/")!==-1)throw new ut(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(ae.fromString(e));if(!pt.isDocumentKey(i))throw new ut(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return oE(n,new pt(i))}if(e instanceof be)return oE(n,e._key);throw new ut(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jf(e)}.`)}function KE(n,t){if(!Array.isArray(n)||n.length===0)throw new ut(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function M1(n,t){const e=function(r,o){for(const c of r)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new ut(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ut(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class yk{convertValue(t,e="none"){switch(Er(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ve(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(br(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Rr(t,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertVectorValue(t){var e,i,r;const o=(r=(i=(e=t.fields)===null||e===void 0?void 0:e[xf].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(c=>ve(c.doubleValue));return new Pi(o)}convertGeoPoint(t){return new Ni(ve(t.latitude),ve(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=nd(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Hc(t));default:return null}}convertTimestamp(t){const e=vr(t);return new le(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=ae.fromString(t);Yt(Jw(i),9688,{name:t});const r=new qc(i.get(1),i.get(3)),o=new pt(i.popFirst(5));return r.isEqual(e)||ys(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(n,t,e){let i;return i=n?n.toFirestore(t):t,i}class Ac{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ba extends C1{constructor(t,e,i,r,o,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new ff(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(pd("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=ba._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}ba._jsonSchemaVersion="firestore/documentSnapshot/1.0",ba._jsonSchema={type:Ie("string",ba._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class ff extends ba{data(t={}){return super.data(t)}}class Ea{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Ac(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new ff(this._firestore,this._userDataWriter,i.key,i,new Ac(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ut(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(h=>{const d=new ff(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Ac(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}})}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const d=new ff(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Ac(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let m=-1,_=-1;return h.type!==0&&(m=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),_=c.indexOf(h.doc.key)),{type:bk(h.type),doc:d,oldIndex:m,newIndex:_}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ea._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Kp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],r=[];return this.docs.forEach(o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function bk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(n){n=Kn(n,be);const t=Kn(n.firestore,wr);return sk(dd(t),n._key).then(e=>P1(t,n,e))}Ea._jsonSchemaVersion="firestore/querySnapshot/1.0",Ea._jsonSchema={type:Ie("string",Ea._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class D_ extends yk{constructor(t){super(),this.firestore=t}convertBytes(t){return new Yn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new be(this.firestore,null,e)}}function k1(n){n=Kn(n,Es);const t=Kn(n.firestore,wr),e=dd(t),i=new D_(t);return O1(n._query),rk(e,n._query).then(r=>new Ea(t,i,n,r))}function QE(n,t,e,...i){n=Kn(n,be);const r=Kn(n.firestore,wr),o=S_(r);let c;return c=typeof(t=Pe(t))=="string"||t instanceof gd?dk(o,"updateDoc",n._key,t,e,i):fk(o,"updateDoc",n._key,t),M_(r,[c.toMutation(n._key,ri.exists(!0))])}function Tk(n){return M_(Kn(n.firestore,wr),[new t_(n._key,ri.none())])}function N1(n,t){const e=Kn(n.firestore,wr),i=Vf(n),r=vk(n.converter,t);return M_(e,[hk(S_(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,ri.exists(!1))]).then(()=>i)}function XE(n,...t){var e,i,r;n=Pe(n);let o={includeMetadataChanges:!1,source:"default"},c=0;typeof t[c]!="object"||qE(t[c])||(o=t[c++]);const h={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(qE(t[c])){const v=t[c];t[c]=(e=v.next)===null||e===void 0?void 0:e.bind(v),t[c+1]=(i=v.error)===null||i===void 0?void 0:i.bind(v),t[c+2]=(r=v.complete)===null||r===void 0?void 0:r.bind(v)}let d,m,_;if(n instanceof be)m=Kn(n.firestore,wr),_=id(n._key.path),d={next:v=>{t[c]&&t[c](P1(m,n,v))},error:t[c+1],complete:t[c+2]};else{const v=Kn(n,Es);m=Kn(v.firestore,wr),_=v._query;const b=new D_(m);d={next:S=>{t[c]&&t[c](new Ea(m,b,v,S))},error:t[c+1],complete:t[c+2]},O1(n._query)}return function(b,S,R,k){const C=new b_(k),H=new __(S,C,R);return b.asyncQueue.enqueueAndForget(async()=>g_(await Pf(b),H)),()=>{C.Ou(),b.asyncQueue.enqueueAndForget(async()=>m_(await Pf(b),H))}}(dd(m),_,h,d)}function M_(n,t){return function(i,r){const o=new ms;return i.asyncQueue.enqueueAndForget(async()=>YM(await ik(i),r,o)),o.promise}(dd(n),t)}function P1(n,t,e){const i=e.docs.get(t._key),r=new D_(n);return new ba(n,r,t._key,i,new Ac(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(r){Zo=r})(Xo),zo(new wa("firestore",(i,{instanceIdentifier:r,options:o})=>{const c=i.getProvider("app").getImmediate(),h=new wr(new mO(i.getProvider("auth-internal")),new yO(c,i.getProvider("app-check-internal")),function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ut(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qc(m.options.projectId,_)}(c,r),c);return o=Object.assign({useFetchStreams:e},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),cr(Kb,Qb,t),cr(Kb,Qb,"esm2017")})();const Sk={apiKey:"AIzaSyBCquZbrEGg9CHUhbzrFhFwDejhc0Mw-aQ",authDomain:"pruebas-c80da.firebaseapp.com",projectId:"pruebas-c80da",storageBucket:"pruebas-c80da.firebasestorage.app",messagingSenderId:"168916926366",appId:"1:168916926366:web:a3b7e882356f6d0cb8a08f",measurementId:"G-XMVGNQ24XY"},V1=ES(Sk),xp=cO(V1),dr=S1(V1);function wk({onLogin:n}){const[t,e]=It.useState(""),[i,r]=It.useState(""),[o,c]=It.useState(""),h=async d=>{d.preventDefault();try{await Q2(xp,t,i),n()}catch{c("Credenciales incorrectas o usuario no autorizado")}};return st.jsxs("div",{className:"max-w-sm mx-auto mt-10 p-4 border rounded shadow",children:[st.jsx("h2",{className:"text-xl font-bold mb-4 text-center",children:"Inicia sesin"}),st.jsxs("form",{onSubmit:h,className:"flex flex-col gap-4",children:[st.jsx("input",{type:"email",placeholder:"Correo",value:t,onChange:d=>e(d.target.value),className:"p-2 border rounded",required:!0}),st.jsx("input",{type:"password",placeholder:"Contrasea",value:i,onChange:d=>r(d.target.value),className:"p-2 border rounded",required:!0}),o&&st.jsx("p",{className:"text-red-500 text-sm",children:o}),st.jsx("button",{type:"submit",className:"bg-blue-500 text-white py-2 rounded hover:bg-blue-600",children:"Entrar"})]})]})}var L1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},WE=Dn.createContext&&Dn.createContext(L1),Ak=["attr","size","title"];function xk(n,t){if(n==null)return{};var e=Rk(n,t),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)i=o[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function Rk(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function Uf(){return Uf=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Uf.apply(this,arguments)}function $E(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function zf(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?$E(Object(e),!0).forEach(function(i){Ik(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):$E(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Ik(n,t,e){return t=Ck(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Ck(n){var t=Ok(n,"string");return typeof t=="symbol"?t:t+""}function Ok(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function U1(n){return n&&n.map((t,e)=>Dn.createElement(t.tag,zf({key:e},t.attr),U1(t.child)))}function z1(n){return t=>Dn.createElement(Dk,Uf({attr:zf({},n.attr)},t),U1(n.child))}function Dk(n){var t=e=>{var{attr:i,size:r,title:o}=n,c=xk(n,Ak),h=r||e.size||"1em",d;return e.className&&(d=e.className),n.className&&(d=(d?d+" ":"")+n.className),Dn.createElement("svg",Uf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,i,c,{className:d,style:zf(zf({color:n.color||e.color},e.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&Dn.createElement("title",null,o),n.children)};return WE!==void 0?Dn.createElement(WE.Consumer,null,e=>t(e)):t(L1)}function Mk(n){return z1({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(n)}function kk(n){return z1({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"},child:[]}]})(n)}const Um=[{id:"chupito",nombre:"Chupito"},{id:"cerveza",nombre:"Cerveza"},{id:"ron-cola",nombre:"Ron - Cola"},{id:"ron-naranja",nombre:"Ron - Naranja"},{id:"kalimotxo",nombre:"kalimotxo"},{id:"ron-blanco-limon",nombre:"Ron Blanco - Limn"},{id:"ron-energetica",nombre:"Ron - Energtica"}];function Nk({onAdd:n,uid:t}){const[e,i]=It.useState(null),[r,o]=It.useState(!1),[c,h]=It.useState(null),d=It.useRef(null);It.useEffect(()=>{function b(S){d.current&&!d.current.contains(S.target)&&o(!1)}return r?document.addEventListener("mousedown",b):document.removeEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[r]);const m=async b=>{if(!t)return;const S=Vf(dr,"usuarios",t);c===b?(await QE(S,{bebidaFav:null}),h(null)):(await QE(S,{bebidaFav:b}),h(b))},_=async()=>{if(!t)return;const b=Vf(dr,"usuarios",t),S=await Ek(b);S.exists()&&h(S.data().bebidaFav||null)};It.useEffect(()=>{_()},[t]);const v=()=>{e&&(n(e),i(null))};return st.jsxs("div",{className:"flex flex-col items-center gap-4 relative",ref:d,children:[st.jsx("button",{onClick:()=>o(!r),className:"border border-gray-300 rounded px-4 py-2 w-64 bg-white text-left",children:e?Um.find(b=>b.id===e)?.nombre:"Selecciona una bebida"}),r&&st.jsx("div",{className:"absolute top-12 w-64 border border-gray-300 rounded bg-white z-10 shadow",children:Um.map(b=>st.jsxs("div",{className:"flex justify-between items-center px-4 py-2 hover:bg-gray-100 cursor-pointer",onClick:()=>{i(b.id),o(!1)},children:[st.jsx("span",{children:b.nombre}),st.jsx("button",{onClick:S=>{S.stopPropagation(),m(b.id)},className:"text-yellow-500",children:c===b.id?st.jsx(Mk,{}):st.jsx(kk,{})})]},b.id))}),st.jsx("button",{onClick:v,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded disabled:opacity-50",disabled:!e,children:"Aadir bebida"}),c&&st.jsxs("button",{onClick:()=>n(c),className:"bg-yellow-400 hover:bg-yellow-500 text-yellow-900 font-semibold px-4 py-2 rounded disabled:opacity-50 transition-colors duration-200",disabled:!c,children:["Aadir favorita (",Um.find(b=>b.id===c)?.nombre,")"]})]})}const Pk={"vilari.ser@gmail.com":"Sergio","iriasanchezgarcia@gmail.com":"Iria","antonlopezleal2@gmail.com":"Toni","pablorodriguezlopez190@gmail.com":"Pablo","markusweber192@gmail.com":"Marco","rubensanchezgarcia10@gmail.com":"Rubn","hugoby888@gmail.com":"Hugo"};function k_({email:n}){const t=Pk[n]||"Usuario Desconocido";return st.jsx("span",{className:"text-gray-700 font-semibold",children:t})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function uu(n){return n+.5|0}const sr=(n,t,e)=>Math.max(Math.min(n,e),t);function xc(n){return sr(uu(n*2.55),0,255)}function gr(n){return sr(uu(n*255),0,255)}function fs(n){return sr(uu(n/2.55)/100,0,1)}function ZE(n){return sr(uu(n*100),0,100)}const Gn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Rp=[..."0123456789ABCDEF"],Vk=n=>Rp[n&15],Lk=n=>Rp[(n&240)>>4]+Rp[n&15],Hh=n=>(n&240)>>4===(n&15),Uk=n=>Hh(n.r)&&Hh(n.g)&&Hh(n.b)&&Hh(n.a);function zk(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Gn[n[1]]*17,g:255&Gn[n[2]]*17,b:255&Gn[n[3]]*17,a:t===5?Gn[n[4]]*17:255}:(t===7||t===9)&&(e={r:Gn[n[1]]<<4|Gn[n[2]],g:Gn[n[3]]<<4|Gn[n[4]],b:Gn[n[5]]<<4|Gn[n[6]],a:t===9?Gn[n[7]]<<4|Gn[n[8]]:255})),e}const Bk=(n,t)=>n<255?t(n):"";function jk(n){var t=Uk(n)?Vk:Lk;return n?"#"+t(n.r)+t(n.g)+t(n.b)+Bk(n.a,t):void 0}const Fk=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function B1(n,t,e){const i=t*Math.min(e,1-e),r=(o,c=(o+n/30)%12)=>e-i*Math.max(Math.min(c-3,9-c,1),-1);return[r(0),r(8),r(4)]}function Hk(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function qk(n,t,e){const i=B1(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function Gk(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function N_(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),c=Math.min(e,i,r),h=(o+c)/2;let d,m,_;return o!==c&&(_=o-c,m=h>.5?_/(2-o-c):_/(o+c),d=Gk(e,i,r,_,o),d=d*60+.5),[d|0,m||0,h]}function P_(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(gr)}function V_(n,t,e){return P_(B1,n,t,e)}function Yk(n,t,e){return P_(qk,n,t,e)}function Kk(n,t,e){return P_(Hk,n,t,e)}function j1(n){return(n%360+360)%360}function Qk(n){const t=Fk.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?xc(+t[5]):gr(+t[5]));const r=j1(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?i=Yk(r,o,c):t[1]==="hsv"?i=Kk(r,o,c):i=V_(r,o,c),{r:i[0],g:i[1],b:i[2],a:e}}function Xk(n,t){var e=N_(n);e[0]=j1(e[0]+t),e=V_(e),n.r=e[0],n.g=e[1],n.b=e[2]}function Wk(n){if(!n)return;const t=N_(n),e=t[0],i=ZE(t[1]),r=ZE(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${fs(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const JE={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},tT={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function $k(){const n={},t=Object.keys(tT),e=Object.keys(JE);let i,r,o,c,h;for(i=0;i<t.length;i++){for(c=h=t[i],r=0;r<e.length;r++)o=e[r],h=h.replace(o,JE[o]);o=parseInt(tT[c],16),n[h]=[o>>16&255,o>>8&255,o&255]}return n}let qh;function Zk(n){qh||(qh=$k(),qh.transparent=[0,0,0,0]);const t=qh[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Jk=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function tN(n){const t=Jk.exec(n);let e=255,i,r,o;if(t){if(t[7]!==i){const c=+t[7];e=t[8]?xc(c):sr(c*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?xc(i):sr(i,0,255)),r=255&(t[4]?xc(r):sr(r,0,255)),o=255&(t[6]?xc(o):sr(o,0,255)),{r:i,g:r,b:o,a:e}}}function eN(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${fs(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const zm=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Ao=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function nN(n,t,e){const i=Ao(fs(n.r)),r=Ao(fs(n.g)),o=Ao(fs(n.b));return{r:gr(zm(i+e*(Ao(fs(t.r))-i))),g:gr(zm(r+e*(Ao(fs(t.g))-r))),b:gr(zm(o+e*(Ao(fs(t.b))-o))),a:n.a+e*(t.a-n.a)}}function Gh(n,t,e){if(n){let i=N_(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=V_(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function F1(n,t){return n&&Object.assign(t||{},n)}function eT(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=gr(n[3]))):(t=F1(n,{r:0,g:0,b:0,a:1}),t.a=gr(t.a)),t}function iN(n){return n.charAt(0)==="r"?tN(n):Qk(n)}class Xc{constructor(t){if(t instanceof Xc)return t;const e=typeof t;let i;e==="object"?i=eT(t):e==="string"&&(i=zk(t)||Zk(t)||iN(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=F1(this._rgb);return t&&(t.a=fs(t.a)),t}set rgb(t){this._rgb=eT(t)}rgbString(){return this._valid?eN(this._rgb):void 0}hexString(){return this._valid?jk(this._rgb):void 0}hslString(){return this._valid?Wk(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const c=e===o?.5:e,h=2*c-1,d=i.a-r.a,m=((h*d===-1?h:(h+d)/(1+h*d))+1)/2;o=1-m,i.r=255&m*i.r+o*r.r+.5,i.g=255&m*i.g+o*r.g+.5,i.b=255&m*i.b+o*r.b+.5,i.a=c*i.a+(1-c)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=nN(this._rgb,t._rgb,e)),this}clone(){return new Xc(this.rgb)}alpha(t){return this._rgb.a=gr(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=uu(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Gh(this._rgb,2,t),this}darken(t){return Gh(this._rgb,2,-t),this}saturate(t){return Gh(this._rgb,1,t),this}desaturate(t){return Gh(this._rgb,1,-t),this}rotate(t){return Xk(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function cs(){}const sN=(()=>{let n=0;return()=>n++})();function ie(n){return n==null}function He(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Ft(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Qn(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function xi(n,t){return Qn(n)?n:t}function qt(n,t){return typeof n>"u"?t:n}const rN=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function oe(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Wt(n,t,e,i){let r,o,c;if(He(n))for(o=n.length,r=0;r<o;r++)t.call(e,n[r],r);else if(Ft(n))for(c=Object.keys(n),o=c.length,r=0;r<o;r++)t.call(e,n[c[r]],c[r])}function Bf(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function jf(n){if(He(n))return n.map(jf);if(Ft(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=jf(n[e[r]]);return t}return n}function H1(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function aN(n,t,e,i){if(!H1(n))return;const r=t[n],o=e[n];Ft(r)&&Ft(o)?Wc(r,o,i):t[n]=jf(o)}function Wc(n,t,e){const i=He(t)?t:[t],r=i.length;if(!Ft(n))return n;e=e||{};const o=e.merger||aN;let c;for(let h=0;h<r;++h){if(c=i[h],!Ft(c))continue;const d=Object.keys(c);for(let m=0,_=d.length;m<_;++m)o(d[m],n,c,e)}return n}function Pc(n,t){return Wc(n,t,{merger:oN})}function oN(n,t,e){if(!H1(n))return;const i=t[n],r=e[n];Ft(i)&&Ft(r)?Pc(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=jf(r))}const nT={"":n=>n,x:n=>n.x,y:n=>n.y};function lN(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function cN(n){const t=lN(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Yo(n,t){return(nT[t]||(nT[t]=cN(t)))(n)}function L_(n){return n.charAt(0).toUpperCase()+n.slice(1)}const $c=n=>typeof n<"u",Ar=n=>typeof n=="function",iT=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function uN(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const yn=Math.PI,mr=2*yn,Ff=Number.POSITIVE_INFINITY,hN=yn/180,ii=yn/2,fa=yn/4,sT=yn*2/3,q1=Math.log10,pr=Math.sign;function df(n,t,e){return Math.abs(n-t)<e}function rT(n){const t=Math.round(n);n=df(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(q1(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function fN(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function dN(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Hf(n){return!dN(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function gN(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function mN(n,t,e){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function va(n){return n*(yn/180)}function pN(n){return n*(180/yn)}function aT(n){if(!Qn(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function _N(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*yn&&(o+=mr),{angle:o,distance:r}}function yN(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function da(n){return(n%mr+mr)%mr}function vN(n,t,e,i){const r=da(n),o=da(t),c=da(e),h=da(o-r),d=da(c-r),m=da(r-o),_=da(r-c);return r===o||r===c||i||h>d&&m<_}function si(n,t,e){return Math.max(t,Math.min(e,n))}function bN(n){return si(n,-32768,32767)}function Do(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function U_(n,t,e){e=e||(c=>n[c]<t);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const Ip=(n,t,e,i)=>U_(n,e,i?r=>{const o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),EN=(n,t,e)=>U_(n,e,i=>n[i][t]>=e);function TN(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const G1=["push","pop","shift","splice","unshift"];function SN(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),G1.forEach(e=>{const i="_onData"+L_(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const c=r.apply(this,o);return n._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...o)}),c}})})}function oT(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(G1.forEach(o=>{delete n[o]}),delete n._chartjs)}function Y1(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const K1=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function Q1(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,K1.call(window,()=>{i=!1,n.apply(t,e)}))}}function wN(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const X1=n=>n==="start"?"left":n==="end"?"right":"center",In=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,AN=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t,Yh=n=>n===0||n===1,lT=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*mr/e)),cT=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*mr/e)+1,Vc={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*ii)+1,easeOutSine:n=>Math.sin(n*ii),easeInOutSine:n=>-.5*(Math.cos(yn*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Yh(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Yh(n)?n:lT(n,.075,.3),easeOutElastic:n=>Yh(n)?n:cT(n,.075,.3),easeInOutElastic(n){return Yh(n)?n:n<.5?.5*lT(n*2,.1125,.45):.5+.5*cT(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Vc.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Vc.easeInBounce(n*2)*.5:Vc.easeOutBounce(n*2-1)*.5+.5};function W1(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function uT(n){return W1(n)?n:new Xc(n)}function Bm(n){return W1(n)?n:new Xc(n).saturate(.5).darken(.1).hexString()}const xN=["x","y","borderWidth","radius","tension"],RN=["color","borderColor","backgroundColor"];function IN(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:RN},numbers:{type:"number",properties:xN}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function CN(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const hT=new Map;function ON(n,t){t=t||{};const e=n+JSON.stringify(t);let i=hT.get(e);return i||(i=new Intl.NumberFormat(n,t),hT.set(e,i)),i}function $1(n,t,e){return ON(t,e).format(n)}const DN={values(n){return He(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(e.length>1){const m=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(m<1e-4||m>1e15)&&(r="scientific"),o=MN(n,e)}const c=q1(Math.abs(o)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),d={notation:r,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(d,this.options.ticks.format),$1(n,i,d)}};function MN(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var Z1={formatters:DN};function kN(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Z1.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Ia=Object.create(null),Cp=Object.create(null);function Lc(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function jm(n,t,e){return typeof t=="string"?Wc(Lc(n,t),e):Wc(Lc(n,""),t)}class NN{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Bm(r.backgroundColor),this.hoverBorderColor=(i,r)=>Bm(r.borderColor),this.hoverColor=(i,r)=>Bm(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return jm(this,t,e)}get(t){return Lc(this,t)}describe(t,e){return jm(Cp,t,e)}override(t,e){return jm(Ia,t,e)}route(t,e,i,r){const o=Lc(this,t),c=Lc(this,i),h="_"+e;Object.defineProperties(o,{[h]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const d=this[h],m=c[r];return Ft(d)?Object.assign({},m,d):qt(d,m)},set(d){this[h]=d}}})}apply(t){t.forEach(e=>e(this))}}var Ee=new NN({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[IN,CN,kN]);function PN(n){return!n||ie(n.size)||ie(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function fT(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function ga(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function dT(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function gT(n,t,e,i){J1(n,t,e,i,null)}function J1(n,t,e,i,r){let o,c,h,d,m,_,v,b;const S=t.pointStyle,R=t.rotation,k=t.radius;let C=(R||0)*hN;if(S&&typeof S=="object"&&(o=S.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(C),n.drawImage(S,-S.width/2,-S.height/2,S.width,S.height),n.restore();return}if(!(isNaN(k)||k<=0)){switch(n.beginPath(),S){default:r?n.ellipse(e,i,r/2,k,0,0,mr):n.arc(e,i,k,0,mr),n.closePath();break;case"triangle":_=r?r/2:k,n.moveTo(e+Math.sin(C)*_,i-Math.cos(C)*k),C+=sT,n.lineTo(e+Math.sin(C)*_,i-Math.cos(C)*k),C+=sT,n.lineTo(e+Math.sin(C)*_,i-Math.cos(C)*k),n.closePath();break;case"rectRounded":m=k*.516,d=k-m,c=Math.cos(C+fa)*d,v=Math.cos(C+fa)*(r?r/2-m:d),h=Math.sin(C+fa)*d,b=Math.sin(C+fa)*(r?r/2-m:d),n.arc(e-v,i-h,m,C-yn,C-ii),n.arc(e+b,i-c,m,C-ii,C),n.arc(e+v,i+h,m,C,C+ii),n.arc(e-b,i+c,m,C+ii,C+yn),n.closePath();break;case"rect":if(!R){d=Math.SQRT1_2*k,_=r?r/2:d,n.rect(e-_,i-d,2*_,2*d);break}C+=fa;case"rectRot":v=Math.cos(C)*(r?r/2:k),c=Math.cos(C)*k,h=Math.sin(C)*k,b=Math.sin(C)*(r?r/2:k),n.moveTo(e-v,i-h),n.lineTo(e+b,i-c),n.lineTo(e+v,i+h),n.lineTo(e-b,i+c),n.closePath();break;case"crossRot":C+=fa;case"cross":v=Math.cos(C)*(r?r/2:k),c=Math.cos(C)*k,h=Math.sin(C)*k,b=Math.sin(C)*(r?r/2:k),n.moveTo(e-v,i-h),n.lineTo(e+v,i+h),n.moveTo(e+b,i-c),n.lineTo(e-b,i+c);break;case"star":v=Math.cos(C)*(r?r/2:k),c=Math.cos(C)*k,h=Math.sin(C)*k,b=Math.sin(C)*(r?r/2:k),n.moveTo(e-v,i-h),n.lineTo(e+v,i+h),n.moveTo(e+b,i-c),n.lineTo(e-b,i+c),C+=fa,v=Math.cos(C)*(r?r/2:k),c=Math.cos(C)*k,h=Math.sin(C)*k,b=Math.sin(C)*(r?r/2:k),n.moveTo(e-v,i-h),n.lineTo(e+v,i+h),n.moveTo(e+b,i-c),n.lineTo(e-b,i+c);break;case"line":c=r?r/2:Math.cos(C)*k,h=Math.sin(C)*k,n.moveTo(e-c,i-h),n.lineTo(e+c,i+h);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(C)*(r?r/2:k),i+Math.sin(C)*k);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function tA(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function z_(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function B_(n){n.restore()}function VN(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),ie(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function LN(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),c=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,d=e-o.actualBoundingBoxAscent,m=e+o.actualBoundingBoxDescent,_=r.strikethrough?(d+m)/2:m;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(c,_),n.lineTo(h,_),n.stroke()}}function UN(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function qf(n,t,e,i,r,o={}){const c=He(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let d,m;for(n.save(),n.font=r.string,VN(n,o),d=0;d<c.length;++d)m=c[d],o.backdrop&&UN(n,o.backdrop),h&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),ie(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(m,e,i,o.maxWidth)),n.fillText(m,e,i,o.maxWidth),LN(n,e,i,m,o),i+=Number(r.lineHeight);n.restore()}function Gf(n,t){const{x:e,y:i,w:r,h:o,radius:c}=t;n.arc(e+c.topLeft,i+c.topLeft,c.topLeft,1.5*yn,yn,!0),n.lineTo(e,i+o-c.bottomLeft),n.arc(e+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,yn,ii,!0),n.lineTo(e+r-c.bottomRight,i+o),n.arc(e+r-c.bottomRight,i+o-c.bottomRight,c.bottomRight,ii,0,!0),n.lineTo(e+r,i+c.topRight),n.arc(e+r-c.topRight,i+c.topRight,c.topRight,0,-ii,!0),n.lineTo(e+c.topLeft,i)}const zN=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,BN=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function jN(n,t){const e=(""+n).match(zN);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const FN=n=>+n||0;function eA(n,t){const e={},i=Ft(t),r=i?Object.keys(t):t,o=Ft(n)?i?c=>qt(n[c],n[t[c]]):c=>n[c]:()=>n;for(const c of r)e[c]=FN(o(c));return e}function nA(n){return eA(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Lo(n){return eA(n,["topLeft","topRight","bottomLeft","bottomRight"])}function li(n){const t=nA(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function _n(n,t){n=n||{},t=t||Ee.font;let e=qt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=qt(n.style,t.style);i&&!(""+i).match(BN)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:qt(n.family,t.family),lineHeight:jN(qt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:qt(n.weight,t.weight),string:""};return r.string=PN(r),r}function Kh(n,t,e,i){let r,o,c;for(r=0,o=n.length;r<o;++r)if(c=n[r],c!==void 0&&c!==void 0)return c}function HN(n,t,e){const{min:i,max:r}=n,o=rN(t,(r-i)/2),c=(h,d)=>e&&h===0?0:h+d;return{min:c(i,-Math.abs(o)),max:c(r,o)}}function il(n,t){return Object.assign(Object.create(n),t)}function j_(n,t=[""],e,i,r=()=>n[0]){const o=e||n;typeof i>"u"&&(i=aA("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:h=>j_([h,...n],t,o,i)};return new Proxy(c,{deleteProperty(h,d){return delete h[d],delete h._keys,delete n[0][d],!0},get(h,d){return sA(h,d,()=>$N(d,t,n,h))},getOwnPropertyDescriptor(h,d){return Reflect.getOwnPropertyDescriptor(h._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,d){return pT(h).includes(d)},ownKeys(h){return pT(h)},set(h,d,m){const _=h._storage||(h._storage=r());return h[d]=_[d]=m,delete h._keys,!0}})}function Ko(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:iA(n,i),setContext:o=>Ko(n,o,e,i),override:o=>Ko(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty(o,c){return delete o[c],delete n[c],!0},get(o,c,h){return sA(o,c,()=>GN(o,c,h))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(o,c,h){return n[c]=h,delete o[c],!0}})}function iA(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:Ar(e)?e:()=>e,isIndexable:Ar(i)?i:()=>i}}const qN=(n,t)=>n?n+L_(t):t,F_=(n,t)=>Ft(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function sA(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function GN(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:c}=n;let h=i[t];return Ar(h)&&c.isScriptable(t)&&(h=YN(t,h,n,e)),He(h)&&h.length&&(h=KN(t,h,n,c.isIndexable)),F_(t,h)&&(h=Ko(h,r,o&&o[t],c)),h}function YN(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let d=t(o,c||i);return h.delete(n),F_(n,d)&&(d=H_(r._scopes,r,n,d)),d}function KN(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_descriptors:h}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(Ft(t[0])){const d=t,m=r._scopes.filter(_=>_!==d);t=[];for(const _ of d){const v=H_(m,r,n,_);t.push(Ko(v,o,c&&c[n],h))}}return t}function rA(n,t,e){return Ar(n)?n(t,e):n}const QN=(n,t)=>n===!0?t:typeof n=="string"?Yo(t,n):void 0;function XN(n,t,e,i,r){for(const o of t){const c=QN(e,o);if(c){n.add(c);const h=rA(c._fallback,e,r);if(typeof h<"u"&&h!==e&&h!==i)return h}else if(c===!1&&typeof i<"u"&&e!==i)return null}return!1}function H_(n,t,e,i){const r=t._rootScopes,o=rA(t._fallback,e,i),c=[...n,...r],h=new Set;h.add(i);let d=mT(h,c,e,o||e,i);return d===null||typeof o<"u"&&o!==e&&(d=mT(h,c,o,d,i),d===null)?!1:j_(Array.from(h),[""],r,o,()=>WN(t,e,i))}function mT(n,t,e,i,r){for(;e;)e=XN(n,t,e,i,r);return e}function WN(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return He(r)&&Ft(e)?e:r||{}}function $N(n,t,e,i){let r;for(const o of t)if(r=aA(qN(o,n),e),typeof r<"u")return F_(n,r)?H_(e,i,n,r):r}function aA(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function pT(n){let t=n._keys;return t||(t=n._keys=ZN(n._scopes)),t}function ZN(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}function q_(){return typeof window<"u"&&typeof document<"u"}function G_(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Yf(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const yd=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function JN(n,t){return yd(n).getPropertyValue(t)}const tP=["top","right","bottom","left"];function Ta(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=tP[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const eP=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function nP(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let c=!1,h,d;if(eP(r,o,n.target))h=r,d=o;else{const m=t.getBoundingClientRect();h=i.clientX-m.left,d=i.clientY-m.top,c=!0}return{x:h,y:d,box:c}}function _a(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=yd(e),o=r.boxSizing==="border-box",c=Ta(r,"padding"),h=Ta(r,"border","width"),{x:d,y:m,box:_}=nP(n,e),v=c.left+(_&&h.left),b=c.top+(_&&h.top);let{width:S,height:R}=t;return o&&(S-=c.width+h.width,R-=c.height+h.height),{x:Math.round((d-v)/S*e.width/i),y:Math.round((m-b)/R*e.height/i)}}function iP(n,t,e){let i,r;if(t===void 0||e===void 0){const o=n&&G_(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const c=o.getBoundingClientRect(),h=yd(o),d=Ta(h,"border","width"),m=Ta(h,"padding");t=c.width-m.width-d.width,e=c.height-m.height-d.height,i=Yf(h.maxWidth,o,"clientWidth"),r=Yf(h.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||Ff,maxHeight:r||Ff}}const Qh=n=>Math.round(n*10)/10;function sP(n,t,e,i){const r=yd(n),o=Ta(r,"margin"),c=Yf(r.maxWidth,n,"clientWidth")||Ff,h=Yf(r.maxHeight,n,"clientHeight")||Ff,d=iP(n,t,e);let{width:m,height:_}=d;if(r.boxSizing==="content-box"){const b=Ta(r,"border","width"),S=Ta(r,"padding");m-=S.width+b.width,_-=S.height+b.height}return m=Math.max(0,m-o.width),_=Math.max(0,i?m/i:_-o.height),m=Qh(Math.min(m,c,d.maxWidth)),_=Qh(Math.min(_,h,d.maxHeight)),m&&!_&&(_=Qh(m/2)),(t!==void 0||e!==void 0)&&i&&d.height&&_>d.height&&(_=d.height,m=Qh(Math.floor(_*i))),{width:m,height:_}}function _T(n,t,e){const i=t||1,r=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const c=n.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==r||c.width!==o?(n.currentDevicePixelRatio=i,c.height=r,c.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const rP=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};q_()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function yT(n,t){const e=JN(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const aP=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},oP=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Uo(n,t,e){return n?aP(t,e):oP()}function oA(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function lA(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function Xh(n,t,e){return n.options.clip?n[e]:t[e]}function lP(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:Xh(e,t,"left"),right:Xh(e,t,"right"),top:Xh(i,t,"top"),bottom:Xh(i,t,"bottom")}:t}function cP(n,t){const e=t._clip;if(e.disabled)return!1;const i=lP(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class uP{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const o=e.listeners[r],c=e.duration;o.forEach(h=>h({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(i-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=K1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,h=!1,d;for(;c>=0;--c)d=o[c],d._active?(d._total>i.duration&&(i.duration=d._total),d.tick(t),h=!0):(o[c]=o[o.length-1],o.pop());h&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var us=new uP;const vT="transparent",hP={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=uT(n||vT),r=i.valid&&uT(t||vT);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class fP{constructor(t,e,i,r){const o=e[i];r=Kh([t.to,r,o,t.from]);const c=Kh([t.from,o,r]);this._active=!0,this._fn=t.fn||hP[t.type||typeof c],this._easing=Vc[t.easing]||Vc.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=c,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Kh([t.to,e,r,t.from]),this._from=Kh([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,c=this._loop,h=this._to;let d;if(this._active=o!==h&&(c||e<i),!this._active){this._target[r]=h,this._notify(!0);return}if(e<0){this._target[r]=o;return}d=e/i%2,d=c&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[r]=this._fn(o,h,d)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class cA{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Ft(t))return;const e=Object.keys(Ee.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!Ft(o))return;const c={};for(const h of e)c[h]=o[h];(He(o.properties)&&o.properties||[r]).forEach(h=>{(h===r||!i.has(h))&&i.set(h,c)})})}_animateOptions(t,e){const i=e.options,r=gP(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&dP(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),c=Object.keys(e),h=Date.now();let d;for(d=c.length-1;d>=0;--d){const m=c[d];if(m.charAt(0)==="$")continue;if(m==="options"){r.push(...this._animateOptions(t,e));continue}const _=e[m];let v=o[m];const b=i.get(m);if(v)if(b&&v.active()){v.update(b,_,h);continue}else v.cancel();if(!b||!b.duration){t[m]=_;continue}o[m]=v=new fP(b,t,m,_),r.push(v)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return us.add(this._chart,i),!0}}function dP(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function gP(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function bT(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function mP(n,t,e){if(e===!1)return!1;const i=bT(n,e),r=bT(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function pP(n){let t,e,i,r;return Ft(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function uA(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function ET(n,t,e,i={}){const r=n.keys,o=i.mode==="single";let c,h,d,m;if(t===null)return;let _=!1;for(c=0,h=r.length;c<h;++c){if(d=+r[c],d===e){if(_=!0,i.all)continue;break}m=n.values[d],Qn(m)&&(o||t===0||pr(t)===pr(m))&&(t+=m)}return!_&&!i.all?0:t}function _P(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(n),h=new Array(c.length);let d,m,_;for(d=0,m=c.length;d<m;++d)_=c[d],h[d]={[r]:_,[o]:n[_]};return h}function Fm(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function yP(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function vP(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function bP(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function TT(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function ST(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:c,index:h}=i,d=o.axis,m=c.axis,_=yP(o,c,i),v=t.length;let b;for(let S=0;S<v;++S){const R=t[S],{[d]:k,[m]:C}=R,H=R._stacks||(R._stacks={});b=H[m]=bP(r,_,k),b[h]=C,b._top=TT(b,c,!0,i.type),b._bottom=TT(b,c,!1,i.type);const Q=b._visualValues||(b._visualValues={});Q[h]=C}}function Hm(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function EP(n,t){return il(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function TP(n,t,e){return il(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function mc(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const qm=n=>n==="reset"||n==="none",wT=(n,t)=>t?n:Object.assign({},n),SP=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:uA(e,!0),values:null};class hA{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Fm(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&mc(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(v,b,S,R)=>v==="x"?b:v==="r"?R:S,o=e.xAxisID=qt(i.xAxisID,Hm(t,"x")),c=e.yAxisID=qt(i.yAxisID,Hm(t,"y")),h=e.rAxisID=qt(i.rAxisID,Hm(t,"r")),d=e.indexAxis,m=e.iAxisID=r(d,o,c,h),_=e.vAxisID=r(d,c,o,h);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(c),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(m),e.vScale=this.getScaleForId(_)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&oT(this._data,this),t._stacked&&mc(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Ft(e)){const r=this._cachedMeta;this._data=_P(e,r)}else if(i!==e){if(i){oT(i,this);const r=this._cachedMeta;mc(r),r._parsed=[]}e&&Object.isExtensible(e)&&SN(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=e._stacked;e._stacked=Fm(e.vScale,e),e.stack!==i.stack&&(r=!0,mc(e),e.stack=i.stack),this._resyncElements(t),(r||o!==e._stacked)&&(ST(this,e._parsed),e._stacked=Fm(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:c}=i,h=o.axis;let d=t===0&&e===r.length?!0:i._sorted,m=t>0&&i._parsed[t-1],_,v,b;if(this._parsing===!1)i._parsed=r,i._sorted=!0,b=r;else{He(r[t])?b=this.parseArrayData(i,r,t,e):Ft(r[t])?b=this.parseObjectData(i,r,t,e):b=this.parsePrimitiveData(i,r,t,e);const S=()=>v[h]===null||m&&v[h]<m[h];for(_=0;_<e;++_)i._parsed[_+t]=v=b[_],d&&(S()&&(d=!1),m=v);i._sorted=d}c&&ST(this,b)}parsePrimitiveData(t,e,i,r){const{iScale:o,vScale:c}=t,h=o.axis,d=c.axis,m=o.getLabels(),_=o===c,v=new Array(r);let b,S,R;for(b=0,S=r;b<S;++b)R=b+i,v[b]={[h]:_||o.parse(m[R],R),[d]:c.parse(e[R],R)};return v}parseArrayData(t,e,i,r){const{xScale:o,yScale:c}=t,h=new Array(r);let d,m,_,v;for(d=0,m=r;d<m;++d)_=d+i,v=e[_],h[d]={x:o.parse(v[0],_),y:c.parse(v[1],_)};return h}parseObjectData(t,e,i,r){const{xScale:o,yScale:c}=t,{xAxisKey:h="x",yAxisKey:d="y"}=this._parsing,m=new Array(r);let _,v,b,S;for(_=0,v=r;_<v;++_)b=_+i,S=e[b],m[_]={x:o.parse(Yo(S,h),b),y:c.parse(Yo(S,d),b)};return m}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,o=this._cachedMeta,c=e[t.axis],h={keys:uA(r,!0),values:e._stacks[t.axis]._visualValues};return ET(h,c,o.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const o=i[e.axis];let c=o===null?NaN:o;const h=r&&i._stacks[e.axis];r&&h&&(r.values=h,c=ET(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,c=r.length,h=this._getOtherScale(t),d=SP(e,i,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:_,max:v}=vP(h);let b,S;function R(){S=r[b];const k=S[h.axis];return!Qn(S[t.axis])||_>k||v<k}for(b=0;b<c&&!(!R()&&(this.updateRangeFromParsed(m,t,S,d),o));++b);if(o){for(b=c-1;b>=0;--b)if(!R()){this.updateRangeFromParsed(m,t,S,d);break}}return m}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,o,c;for(r=0,o=e.length;r<o;++r)c=e[r][t.axis],Qn(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=pP(qt(this.options.clip,mP(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],o=e.chartArea,c=[],h=this._drawStart||0,d=this._drawCount||r.length-h,m=this.options.drawActiveElementsOnTop;let _;for(i.dataset&&i.dataset.draw(t,o,h,d),_=h;_<h+d;++_){const v=r[_];v.hidden||(v.active&&m?c.push(v):v.draw(t,o))}for(_=0;_<c.length;++_)c[_].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=TP(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=EP(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",o=this._cachedDataOpts,c=t+"-"+e,h=o[c],d=this.enableOptionSharing&&$c(i);if(h)return wT(h,d);const m=this.chart.config,_=m.datasetElementScopeKeys(this._type,t),v=r?[`${t}Hover`,"hover",t,""]:[t,""],b=m.getOptionScopes(this.getDataset(),_),S=Object.keys(Ee.elements[t]),R=()=>this.getContext(i,r,e),k=m.resolveNamedOptions(b,S,R,v);return k.$shared&&(k.$shared=d,o[c]=Object.freeze(wT(k,d))),k}_resolveAnimations(t,e,i){const r=this.chart,o=this._cachedDataOpts,c=`animation-${e}`,h=o[c];if(h)return h;let d;if(r.options.animation!==!1){const _=this.chart.config,v=_.datasetAnimationScopeKeys(this._type,e),b=_.getOptionScopes(this.getDataset(),v);d=_.createResolver(b,this.getContext(t,i,e))}const m=new cA(r,d&&d.animations);return d&&d._cacheable&&(o[c]=Object.freeze(m)),m}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||qm(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(e,o)||o!==r;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:c}}updateElement(t,e,i,r){qm(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!qm(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const o=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[h,d,m]of this._syncList)this[h](d,m);this._syncList=[];const r=i.length,o=e.length,c=Math.min(o,r);c&&this.parse(0,c),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,e,i=!0){const r=this._cachedMeta,o=r.data,c=t+e;let h;const d=m=>{for(m.length+=e,h=m.length-1;h>=c;h--)m[h]=m[h-e]};for(d(o),h=t;h<c;++h)o[h]=new this.dataElementType;this._parsing&&d(r._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&mc(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function wP(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,o=e.length;r<o;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=Y1(i.sort((r,o)=>r-o))}return n._cache.$bar}function AP(n){const t=n.iScale,e=wP(t,n.type);let i=t._length,r,o,c,h;const d=()=>{c===32767||c===-32768||($c(h)&&(i=Math.min(i,Math.abs(c-h)||i)),h=c)};for(r=0,o=e.length;r<o;++r)c=t.getPixelForValue(e[r]),d();for(h=void 0,r=0,o=t.ticks.length;r<o;++r)c=t.getPixelForTick(r),d();return i}function xP(n,t,e,i){const r=e.barThickness;let o,c;return ie(r)?(o=t.min*e.categoryPercentage,c=e.barPercentage):(o=r*i,c=1),{chunk:o/i,ratio:c,start:t.pixels[n]-o/2}}function RP(n,t,e,i){const r=t.pixels,o=r[n];let c=n>0?r[n-1]:null,h=n<r.length-1?r[n+1]:null;const d=e.categoryPercentage;c===null&&(c=o-(h===null?t.end-t.start:h-o)),h===null&&(h=o+o-c);const m=o-(o-Math.min(c,h))/2*d;return{chunk:Math.abs(h-c)/2*d/i,ratio:e.barPercentage,start:m}}function IP(n,t,e,i){const r=e.parse(n[0],i),o=e.parse(n[1],i),c=Math.min(r,o),h=Math.max(r,o);let d=c,m=h;Math.abs(c)>Math.abs(h)&&(d=h,m=c),t[e.axis]=m,t._custom={barStart:d,barEnd:m,start:r,end:o,min:c,max:h}}function fA(n,t,e,i){return He(n)?IP(n,t,e,i):t[e.axis]=e.parse(n,i),t}function AT(n,t,e,i){const r=n.iScale,o=n.vScale,c=r.getLabels(),h=r===o,d=[];let m,_,v,b;for(m=e,_=e+i;m<_;++m)b=t[m],v={},v[r.axis]=h||r.parse(c[m],m),d.push(fA(b,v,o,m));return d}function Gm(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function CP(n,t,e){return n!==0?pr(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function OP(n){let t,e,i,r,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",o="start"):(r="start",o="end"),{start:e,end:i,reverse:t,top:r,bottom:o}}function DP(n,t,e,i){let r=t.borderSkipped;const o={};if(!r){n.borderSkipped=o;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:h,reverse:d,top:m,bottom:_}=OP(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=m:(e._bottom||0)===i?r=_:(o[xT(_,c,h,d)]=!0,r=m)),o[xT(r,c,h,d)]=!0,n.borderSkipped=o}function xT(n,t,e,i){return i?(n=MP(n,t,e),n=RT(n,e,t)):n=RT(n,t,e),n}function MP(n,t,e){return n===t?e:n===e?t:n}function RT(n,t,e){return n==="start"?t:n==="end"?e:n}function kP(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class NP extends hA{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,r){return AT(t,e,i,r)}parseArrayData(t,e,i,r){return AT(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:o,vScale:c}=t,{xAxisKey:h="x",yAxisKey:d="y"}=this._parsing,m=o.axis==="x"?h:d,_=c.axis==="x"?h:d,v=[];let b,S,R,k;for(b=i,S=i+r;b<S;++b)k=e[b],R={},R[o.axis]=o.parse(Yo(k,m),b),v.push(fA(Yo(k,_),R,c,b));return v}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const o=i._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,o=this.getParsed(t),c=o._custom,h=Gm(c)?"["+c.start+", "+c.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const o=r==="reset",{index:c,_cachedMeta:{vScale:h}}=this,d=h.getBasePixel(),m=h.isHorizontal(),_=this._getRuler(),{sharedOptions:v,includeOptions:b}=this._getSharedOptions(e,r);for(let S=e;S<e+i;S++){const R=this.getParsed(S),k=o||ie(R[h.axis])?{base:d,head:d}:this._calculateBarValuePixels(S),C=this._calculateBarIndexPixels(S,_),H=(R._stacks||{})[h.axis],Q={horizontal:m,base:k.base,enableBorderRadius:!H||Gm(R._custom)||c===H._top||c===H._bottom,x:m?k.head:C.center,y:m?C.center:k.head,height:m?C.size:Math.abs(k.size),width:m?Math.abs(k.size):C.size};b&&(Q.options=v||this.resolveDataElementOptions(S,t[S].active?"active":r));const J=Q.options||t[S].options;DP(Q,J,H,c),kP(Q,J,_.ratio),this.updateElement(t[S],S,Q,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(_=>_.controller.options.grouped),o=i.options.stacked,c=[],h=this._cachedMeta.controller.getParsed(e),d=h&&h[i.axis],m=_=>{const v=_._parsed.find(S=>S[i.axis]===d),b=v&&v[_.vScale.axis];if(ie(b)||isNaN(b))return!0};for(const _ of r)if(!(e!==void 0&&m(_))&&((o===!1||c.indexOf(_.stack)===-1||o===void 0&&_.stack===void 0)&&c.push(_.stack),_.index===t))break;return c.length||c.push(void 0),c}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[qt(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const r=this._getStacks(t,i),o=e!==void 0?r.indexOf(e):-1;return o===-1?r.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let o,c;for(o=0,c=e.data.length;o<c;++o)r.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const h=t.barThickness;return{min:h||AP(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:h?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:o,minBarLength:c}}=this,h=o||0,d=this.getParsed(t),m=d._custom,_=Gm(m);let v=d[e.axis],b=0,S=i?this.applyStack(e,d,i):v,R,k;S!==v&&(b=S-v,S=v),_&&(v=m.barStart,S=m.barEnd-m.barStart,v!==0&&pr(v)!==pr(m.barEnd)&&(b=0),b+=v);const C=!ie(o)&&!_?o:b;let H=e.getPixelForValue(C);if(this.chart.getDataVisibility(t)?R=e.getPixelForValue(b+S):R=H,k=R-H,Math.abs(k)<c){k=CP(k,e,h)*c,v===h&&(H-=k/2);const Q=e.getPixelForDecimal(0),J=e.getPixelForDecimal(1),it=Math.min(Q,J),W=Math.max(Q,J);H=Math.max(Math.min(H,W),it),R=H+k,i&&!_&&(d._stacks[e.axis]._visualValues[r]=e.getValueForPixel(R)-e.getValueForPixel(H))}if(H===e.getPixelForValue(h)){const Q=pr(k)*e.getLineWidthForValue(h)/2;H+=Q,k-=Q}return{size:k,base:H,head:R,center:R+k/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,o=r.skipNull,c=qt(r.maxBarThickness,1/0);let h,d;const m=this._getAxisCount();if(e.grouped){const _=o?this._getStackCount(t):e.stackCount,v=r.barThickness==="flex"?RP(t,e,r,_*m):xP(t,e,r,_*m),b=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,S=this._getAxis().indexOf(qt(b,this.getFirstScaleIdForIndexAxis())),R=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+S;h=v.start+v.chunk*R+v.chunk/2,d=Math.min(c,v.chunk*v.ratio)}else h=i.getPixelForValue(this.getParsed(t)[i.axis],t),d=Math.min(c,e.min*e.ratio);return{base:h-d/2,head:h+d/2,center:h,size:d}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let o=0;for(;o<r;++o)this.getParsed(o)[e.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}function ma(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Y_{static override(t){Object.assign(Y_.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return ma()}parse(){return ma()}format(){return ma()}add(){return ma()}diff(){return ma()}startOf(){return ma()}endOf(){return ma()}}var PP={_date:Y_};function VP(n,t,e,i){const{controller:r,data:o,_sorted:c}=n,h=r._cachedMeta.iScale,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&c&&o.length){const m=h._reversePixels?EN:Ip;if(i){if(r._sharedOptions){const _=o[0],v=typeof _.getRange=="function"&&_.getRange(t);if(v){const b=m(o,t,e-v),S=m(o,t,e+v);return{lo:b.lo,hi:S.hi}}}}else{const _=m(o,t,e);if(d){const{vScale:v}=r._cachedMeta,{_parsed:b}=n,S=b.slice(0,_.lo+1).reverse().findIndex(k=>!ie(k[v.axis]));_.lo-=Math.max(0,S);const R=b.slice(_.hi).findIndex(k=>!ie(k[v.axis]));_.hi+=Math.max(0,R)}return _}}return{lo:0,hi:o.length-1}}function vd(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),c=e[t];for(let h=0,d=o.length;h<d;++h){const{index:m,data:_}=o[h],{lo:v,hi:b}=VP(o[h],t,c,r);for(let S=v;S<=b;++S){const R=_[S];R.skip||i(R,m,S)}}}function LP(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const o=t?Math.abs(i.x-r.x):0,c=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function Ym(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||vd(n,e,t,function(h,d,m){!r&&!tA(h,n.chartArea,0)||h.inRange(t.x,t.y,i)&&o.push({element:h,datasetIndex:d,index:m})},!0),o}function UP(n,t,e,i){let r=[];function o(c,h,d){const{startAngle:m,endAngle:_}=c.getProps(["startAngle","endAngle"],i),{angle:v}=_N(c,{x:t.x,y:t.y});vN(v,m,_)&&r.push({element:c,datasetIndex:h,index:d})}return vd(n,e,t,o),r}function zP(n,t,e,i,r,o){let c=[];const h=LP(e);let d=Number.POSITIVE_INFINITY;function m(_,v,b){const S=_.inRange(t.x,t.y,r);if(i&&!S)return;const R=_.getCenterPoint(r);if(!(!!o||n.isPointInArea(R))&&!S)return;const C=h(t,R);C<d?(c=[{element:_,datasetIndex:v,index:b}],d=C):C===d&&c.push({element:_,datasetIndex:v,index:b})}return vd(n,e,t,m),c}function Km(n,t,e,i,r,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?UP(n,t,e,r):zP(n,t,e,i,r,o)}function IT(n,t,e,i,r){const o=[],c=e==="x"?"inXRange":"inYRange";let h=!1;return vd(n,e,t,(d,m,_)=>{d[c]&&d[c](t[e],r)&&(o.push({element:d,datasetIndex:m,index:_}),h=h||d.inRange(t.x,t.y,r))}),i&&!h?[]:o}var BP={modes:{index(n,t,e,i){const r=_a(t,n),o=e.axis||"x",c=e.includeInvisible||!1,h=e.intersect?Ym(n,r,o,i,c):Km(n,r,o,!1,i,c),d=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(m=>{const _=h[0].index,v=m.data[_];v&&!v.skip&&d.push({element:v,datasetIndex:m.index,index:_})}),d):[]},dataset(n,t,e,i){const r=_a(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;let h=e.intersect?Ym(n,r,o,i,c):Km(n,r,o,!1,i,c);if(h.length>0){const d=h[0].datasetIndex,m=n.getDatasetMeta(d).data;h=[];for(let _=0;_<m.length;++_)h.push({element:m[_],datasetIndex:d,index:_})}return h},point(n,t,e,i){const r=_a(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return Ym(n,r,o,i,c)},nearest(n,t,e,i){const r=_a(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return Km(n,r,o,e.intersect,i,c)},x(n,t,e,i){const r=_a(t,n);return IT(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=_a(t,n);return IT(n,r,"y",e.intersect,i)}}};const dA=["left","top","right","bottom"];function pc(n,t){return n.filter(e=>e.pos===t)}function CT(n,t){return n.filter(e=>dA.indexOf(e.pos)===-1&&e.box.axis===t)}function _c(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function jP(n){const t=[];let e,i,r,o,c,h;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:o,options:{stack:c,stackWeight:h=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:c&&o+c,stackWeight:h});return t}function FP(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!dA.includes(r))continue;const c=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function HP(n,t){const e=FP(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,c,h;for(o=0,c=n.length;o<c;++o){h=n[o];const{fullSize:d}=h.box,m=e[h.stack],_=m&&h.stackWeight/m.weight;h.horizontal?(h.width=_?_*i:d&&t.availableWidth,h.height=r):(h.width=i,h.height=_?_*r:d&&t.availableHeight)}return e}function qP(n){const t=jP(n),e=_c(t.filter(m=>m.box.fullSize),!0),i=_c(pc(t,"left"),!0),r=_c(pc(t,"right")),o=_c(pc(t,"top"),!0),c=_c(pc(t,"bottom")),h=CT(t,"x"),d=CT(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(d).concat(c).concat(h),chartArea:pc(t,"chartArea"),vertical:i.concat(r).concat(d),horizontal:o.concat(c).concat(h)}}function OT(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function gA(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function GP(n,t,e,i){const{pos:r,box:o}=e,c=n.maxPadding;if(!Ft(r)){e.size&&(n[r]-=e.size);const v=i[e.stack]||{size:0,count:1};v.size=Math.max(v.size,e.horizontal?o.height:o.width),e.size=v.size/v.count,n[r]+=e.size}o.getPadding&&gA(c,o.getPadding());const h=Math.max(0,t.outerWidth-OT(c,n,"left","right")),d=Math.max(0,t.outerHeight-OT(c,n,"top","bottom")),m=h!==n.w,_=d!==n.h;return n.w=h,n.h=d,e.horizontal?{same:m,other:_}:{same:_,other:m}}function YP(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function KP(n,t){const e=t.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(c=>{o[c]=Math.max(t[c],e[c])}),o}return i(n?["left","right"]:["top","bottom"])}function Rc(n,t,e,i){const r=[];let o,c,h,d,m,_;for(o=0,c=n.length,m=0;o<c;++o){h=n[o],d=h.box,d.update(h.width||t.w,h.height||t.h,KP(h.horizontal,t));const{same:v,other:b}=GP(t,e,h,i);m|=v&&r.length,_=_||b,d.fullSize||r.push(h)}return m&&Rc(r,t,e,i)||_}function Wh(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function DT(n,t,e,i){const r=e.padding;let{x:o,y:c}=t;for(const h of n){const d=h.box,m=i[h.stack]||{placed:0,weight:1},_=h.stackWeight/m.weight||1;if(h.horizontal){const v=t.w*_,b=m.size||d.height;$c(m.start)&&(c=m.start),d.fullSize?Wh(d,r.left,c,e.outerWidth-r.right-r.left,b):Wh(d,t.left+m.placed,c,v,b),m.start=c,m.placed+=v,c=d.bottom}else{const v=t.h*_,b=m.size||d.width;$c(m.start)&&(o=m.start),d.fullSize?Wh(d,o,r.top,b,e.outerHeight-r.bottom-r.top):Wh(d,o,t.top+m.placed,b,v),m.start=o,m.placed+=v,o=d.right}}t.x=o,t.y=c}var rr={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=li(n.options.layout.padding),o=Math.max(t-r.width,0),c=Math.max(e-r.height,0),h=qP(n.boxes),d=h.vertical,m=h.horizontal;Wt(n.boxes,k=>{typeof k.beforeLayout=="function"&&k.beforeLayout()});const _=d.reduce((k,C)=>C.box.options&&C.box.options.display===!1?k:k+1,0)||1,v=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/_,hBoxMaxHeight:c/2}),b=Object.assign({},r);gA(b,li(i));const S=Object.assign({maxPadding:b,w:o,h:c,x:r.left,y:r.top},r),R=HP(d.concat(m),v);Rc(h.fullSize,S,v,R),Rc(d,S,v,R),Rc(m,S,v,R)&&Rc(d,S,v,R),YP(S),DT(h.leftAndTop,S,v,R),S.x+=S.w,S.y+=S.h,DT(h.rightAndBottom,S,v,R),n.chartArea={left:S.left,top:S.top,right:S.left+S.w,bottom:S.top+S.h,height:S.h,width:S.w},Wt(h.chartArea,k=>{const C=k.box;Object.assign(C,n.chartArea),C.update(S.w,S.h,{left:0,top:0,right:0,bottom:0})})}};class mA{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class QP extends mA{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const gf="$chartjs",XP={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},MT=n=>n===null||n==="";function WP(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[gf]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",MT(r)){const o=yT(n,"width");o!==void 0&&(n.width=o)}if(MT(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=yT(n,"height");o!==void 0&&(n.height=o)}return n}const pA=rP?{passive:!0}:!1;function $P(n,t,e){n&&n.addEventListener(t,e,pA)}function ZP(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,pA)}function JP(n,t){const e=XP[n.type]||n.type,{x:i,y:r}=_a(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Kf(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function tV(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Kf(h.addedNodes,i),c=c&&!Kf(h.removedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function eV(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Kf(h.removedNodes,i),c=c&&!Kf(h.addedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const Zc=new Map;let kT=0;function _A(){const n=window.devicePixelRatio;n!==kT&&(kT=n,Zc.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function nV(n,t){Zc.size||window.addEventListener("resize",_A),Zc.set(n,t)}function iV(n){Zc.delete(n),Zc.size||window.removeEventListener("resize",_A)}function sV(n,t,e){const i=n.canvas,r=i&&G_(i);if(!r)return;const o=Q1((h,d)=>{const m=r.clientWidth;e(h,d),m<r.clientWidth&&e()},window),c=new ResizeObserver(h=>{const d=h[0],m=d.contentRect.width,_=d.contentRect.height;m===0&&_===0||o(m,_)});return c.observe(r),nV(n,o),c}function Qm(n,t,e){e&&e.disconnect(),t==="resize"&&iV(n)}function rV(n,t,e){const i=n.canvas,r=Q1(o=>{n.ctx!==null&&e(JP(o,n))},n);return $P(i,t,r),r}class aV extends mA{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(WP(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[gf])return!1;const i=e[gf].initial;["height","width"].forEach(o=>{const c=i[o];ie(c)?e.removeAttribute(o):e.setAttribute(o,c)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[gf],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),c={attach:tV,detach:eV,resize:sV}[e]||rV;r[e]=c(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:Qm,detach:Qm,resize:Qm}[e]||ZP)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return sP(t,e,i,r)}isAttached(t){const e=t&&G_(t);return!!(e&&e.isConnected)}}function oV(n){return!q_()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?QP:aV}class hu{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Hf(this.x)&&Hf(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}function lV(n,t){const e=n.options.ticks,i=cV(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?hV(t):[],c=o.length,h=o[0],d=o[c-1],m=[];if(c>r)return fV(t,m,o,c/r),m;const _=uV(o,t,r);if(c>0){let v,b;const S=c>1?Math.round((d-h)/(c-1)):null;for($h(t,m,_,ie(S)?0:h-S,h),v=0,b=c-1;v<b;v++)$h(t,m,_,o[v],o[v+1]);return $h(t,m,_,d,ie(S)?t.length:d+S),m}return $h(t,m,_),m}function cV(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function uV(n,t,e){const i=dV(n),r=t.length/e;if(!i)return Math.max(r,1);const o=fN(i);for(let c=0,h=o.length-1;c<h;c++){const d=o[c];if(d>r)return d}return Math.max(r,1)}function hV(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function fV(n,t,e,i){let r=0,o=e[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===o&&(t.push(n[c]),r++,o=e[r*i])}function $h(n,t,e,i,r){const o=qt(i,0),c=Math.min(qt(r,n.length),n.length);let h=0,d,m,_;for(e=Math.ceil(e),r&&(d=r-i,e=d/Math.floor(d/e)),_=o;_<0;)h++,_=Math.round(o+h*e);for(m=Math.max(o,0);m<c;m++)m===_&&(t.push(n[m]),h++,_=Math.round(o+h*e))}function dV(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const gV=n=>n==="left"?"right":n==="right"?"left":n,NT=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,PT=(n,t)=>Math.min(t||n,n);function VT(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function mV(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,c=n._endPixel,h=1e-6;let d=n.getPixelForTick(r),m;if(!(e&&(i===1?m=Math.max(d-o,c-d):t===0?m=(n.getPixelForTick(1)-d)/2:m=(d-n.getPixelForTick(r-1))/2,d+=r<t?m:-m,d<o-h||d>c+h)))return d}function pV(n,t){Wt(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}function yc(n){return n.drawTicks?n.tickLength:0}function LT(n,t){if(!n.display)return 0;const e=_n(n.font,t),i=li(n.padding);return(He(n.text)?n.text.length:1)*e.lineHeight+i.height}function _V(n,t){return il(n,{scale:t,type:"scale"})}function yV(n,t,e){return il(n,{tick:e,index:t,type:"tick"})}function vV(n,t,e){let i=X1(n);return(e&&t!=="right"||!e&&t==="right")&&(i=gV(i)),i}function bV(n,t,e,i){const{top:r,left:o,bottom:c,right:h,chart:d}=n,{chartArea:m,scales:_}=d;let v=0,b,S,R;const k=c-r,C=h-o;if(n.isHorizontal()){if(S=In(i,o,h),Ft(e)){const H=Object.keys(e)[0],Q=e[H];R=_[H].getPixelForValue(Q)+k-t}else e==="center"?R=(m.bottom+m.top)/2+k-t:R=NT(n,e,t);b=h-o}else{if(Ft(e)){const H=Object.keys(e)[0],Q=e[H];S=_[H].getPixelForValue(Q)-C+t}else e==="center"?S=(m.left+m.right)/2-C+t:S=NT(n,e,t);R=In(i,c,r),v=e==="left"?-ii:ii}return{titleX:S,titleY:R,maxWidth:b,rotation:v}}class sl extends hu{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=xi(t,Number.POSITIVE_INFINITY),e=xi(e,Number.NEGATIVE_INFINITY),i=xi(i,Number.POSITIVE_INFINITY),r=xi(r,Number.NEGATIVE_INFINITY),{min:xi(t,i),max:xi(e,r),minDefined:Qn(t),maxDefined:Qn(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),c;if(r&&o)return{min:e,max:i};const h=this.getMatchingVisibleMetas();for(let d=0,m=h.length;d<m;++d)c=h[d].controller.getMinMax(this,t),r||(e=Math.min(e,c.min)),o||(i=Math.max(i,c.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:xi(e,xi(i,e)),max:xi(i,xi(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){oe(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=HN(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=h<this.ticks.length;this._convertTicksToLabels(d?VT(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=lV(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){oe(this.options.afterUpdate,[this])}beforeSetDimensions(){oe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){oe(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),oe(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){oe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=oe(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){oe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){oe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=PT(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let c=r,h,d,m;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const _=this._getLabelSizes(),v=_.widest.width,b=_.highest.height,S=si(this.chart.width-v,0,this.maxWidth);h=t.offset?this.maxWidth/i:S/(i-1),v+6>h&&(h=S/(i-(t.offset?.5:1)),d=this.maxHeight-yc(t.grid)-e.padding-LT(t.title,this.chart.options.font),m=Math.sqrt(v*v+b*b),c=pN(Math.min(Math.asin(si((_.highest.height+6)/h,-1,1)),Math.asin(si(d/m,-1,1))-Math.asin(si(b/m,-1,1)))),c=Math.max(r,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){oe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){oe(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const d=LT(r,e.options.font);if(h?(t.width=this.maxWidth,t.height=yc(o)+d):(t.height=this.maxHeight,t.width=yc(o)+d),i.display&&this.ticks.length){const{first:m,last:_,widest:v,highest:b}=this._getLabelSizes(),S=i.padding*2,R=va(this.labelRotation),k=Math.cos(R),C=Math.sin(R);if(h){const H=i.mirror?0:C*v.width+k*b.height;t.height=Math.min(this.maxHeight,t.height+H+S)}else{const H=i.mirror?0:k*v.width+C*b.height;t.width=Math.min(this.maxWidth,t.width+H+S)}this._calculatePadding(m,_,C,k)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:c},position:h}=this.options,d=this.labelRotation!==0,m=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const _=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,S=0;d?m?(b=r*t.width,S=i*e.height):(b=i*t.height,S=r*e.width):o==="start"?S=e.width:o==="end"?b=t.width:o!=="inner"&&(b=t.width/2,S=e.width/2),this.paddingLeft=Math.max((b-_+c)*this.width/(this.width-_),0),this.paddingRight=Math.max((S-v+c)*this.width/(this.width-v),0)}else{let _=e.height/2,v=t.height/2;o==="start"?(_=0,v=t.height):o==="end"&&(_=e.height,v=0),this.paddingTop=_+c,this.paddingBottom=v+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){oe(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)ie(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=VT(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:o}=this,c=[],h=[],d=Math.floor(e/PT(e,i));let m=0,_=0,v,b,S,R,k,C,H,Q,J,it,W;for(v=0;v<e;v+=d){if(R=t[v].label,k=this._resolveTickFontOptions(v),r.font=C=k.string,H=o[C]=o[C]||{data:{},gc:[]},Q=k.lineHeight,J=it=0,!ie(R)&&!He(R))J=fT(r,H.data,H.gc,J,R),it=Q;else if(He(R))for(b=0,S=R.length;b<S;++b)W=R[b],!ie(W)&&!He(W)&&(J=fT(r,H.data,H.gc,J,W),it+=Q);c.push(J),h.push(it),m=Math.max(J,m),_=Math.max(it,_)}pV(o,e);const ot=c.indexOf(m),O=h.indexOf(_),x=I=>({width:c[I]||0,height:h[I]||0});return{first:x(0),last:x(e-1),widest:x(ot),highest:x(O),widths:c,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return bN(this._alignToPixels?ga(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=yV(this.getContext(),t,i))}return this.$context||(this.$context=_V(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=va(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,h=o?o.widest.width+c:0,d=o?o.highest.height+c:0;return this.isHorizontal()?d*i>h*r?h/i:d/r:d*r<h*i?d/i:h/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:c,border:h}=r,d=o.offset,m=this.isHorizontal(),v=this.ticks.length+(d?1:0),b=yc(o),S=[],R=h.setContext(this.getContext()),k=R.display?R.width:0,C=k/2,H=function(Y){return ga(i,Y,k)};let Q,J,it,W,ot,O,x,I,N,P,L,D;if(c==="top")Q=H(this.bottom),O=this.bottom-b,I=Q-C,P=H(t.top)+C,D=t.bottom;else if(c==="bottom")Q=H(this.top),P=t.top,D=H(t.bottom)-C,O=Q+C,I=this.top+b;else if(c==="left")Q=H(this.right),ot=this.right-b,x=Q-C,N=H(t.left)+C,L=t.right;else if(c==="right")Q=H(this.left),N=t.left,L=H(t.right)-C,ot=Q+C,x=this.left+b;else if(e==="x"){if(c==="center")Q=H((t.top+t.bottom)/2+.5);else if(Ft(c)){const Y=Object.keys(c)[0],at=c[Y];Q=H(this.chart.scales[Y].getPixelForValue(at))}P=t.top,D=t.bottom,O=Q+C,I=O+b}else if(e==="y"){if(c==="center")Q=H((t.left+t.right)/2);else if(Ft(c)){const Y=Object.keys(c)[0],at=c[Y];Q=H(this.chart.scales[Y].getPixelForValue(at))}ot=Q-C,x=ot-b,N=t.left,L=t.right}const $t=qt(r.ticks.maxTicksLimit,v),wt=Math.max(1,Math.ceil(v/$t));for(J=0;J<v;J+=wt){const Y=this.getContext(J),at=o.setContext(Y),gt=h.setContext(Y),Nt=at.lineWidth,V=at.color,nt=gt.dash||[],ct=gt.dashOffset,rt=at.tickWidth,dt=at.tickColor,At=at.tickBorderDash||[],_t=at.tickBorderDashOffset;it=mV(this,J,d),it!==void 0&&(W=ga(i,it,Nt),m?ot=x=N=L=W:O=I=P=D=W,S.push({tx1:ot,ty1:O,tx2:x,ty2:I,x1:N,y1:P,x2:L,y2:D,width:Nt,color:V,borderDash:nt,borderDashOffset:ct,tickWidth:rt,tickColor:dt,tickBorderDash:At,tickBorderDashOffset:_t}))}return this._ticksLength=v,this._borderValue=Q,S}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,c=this.isHorizontal(),h=this.ticks,{align:d,crossAlign:m,padding:_,mirror:v}=o,b=yc(i.grid),S=b+_,R=v?-_:S,k=-va(this.labelRotation),C=[];let H,Q,J,it,W,ot,O,x,I,N,P,L,D="middle";if(r==="top")ot=this.bottom-R,O=this._getXAxisLabelAlignment();else if(r==="bottom")ot=this.top+R,O=this._getXAxisLabelAlignment();else if(r==="left"){const wt=this._getYAxisLabelAlignment(b);O=wt.textAlign,W=wt.x}else if(r==="right"){const wt=this._getYAxisLabelAlignment(b);O=wt.textAlign,W=wt.x}else if(e==="x"){if(r==="center")ot=(t.top+t.bottom)/2+S;else if(Ft(r)){const wt=Object.keys(r)[0],Y=r[wt];ot=this.chart.scales[wt].getPixelForValue(Y)+S}O=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")W=(t.left+t.right)/2-S;else if(Ft(r)){const wt=Object.keys(r)[0],Y=r[wt];W=this.chart.scales[wt].getPixelForValue(Y)}O=this._getYAxisLabelAlignment(b).textAlign}e==="y"&&(d==="start"?D="top":d==="end"&&(D="bottom"));const $t=this._getLabelSizes();for(H=0,Q=h.length;H<Q;++H){J=h[H],it=J.label;const wt=o.setContext(this.getContext(H));x=this.getPixelForTick(H)+o.labelOffset,I=this._resolveTickFontOptions(H),N=I.lineHeight,P=He(it)?it.length:1;const Y=P/2,at=wt.color,gt=wt.textStrokeColor,Nt=wt.textStrokeWidth;let V=O;c?(W=x,O==="inner"&&(H===Q-1?V=this.options.reverse?"left":"right":H===0?V=this.options.reverse?"right":"left":V="center"),r==="top"?m==="near"||k!==0?L=-P*N+N/2:m==="center"?L=-$t.highest.height/2-Y*N+N:L=-$t.highest.height+N/2:m==="near"||k!==0?L=N/2:m==="center"?L=$t.highest.height/2-Y*N:L=$t.highest.height-P*N,v&&(L*=-1),k!==0&&!wt.showLabelBackdrop&&(W+=N/2*Math.sin(k))):(ot=x,L=(1-P)*N/2);let nt;if(wt.showLabelBackdrop){const ct=li(wt.backdropPadding),rt=$t.heights[H],dt=$t.widths[H];let At=L-ct.top,_t=0-ct.left;switch(D){case"middle":At-=rt/2;break;case"bottom":At-=rt;break}switch(O){case"center":_t-=dt/2;break;case"right":_t-=dt;break;case"inner":H===Q-1?_t-=dt:H>0&&(_t-=dt/2);break}nt={left:_t,top:At,width:dt+ct.width,height:rt+ct.height,color:wt.backdropColor}}C.push({label:it,font:I,textOffset:L,options:{rotation:k,color:at,strokeColor:gt,strokeWidth:Nt,textAlign:V,textBaseline:D,translation:[W,ot],backdrop:nt}})}return C}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-va(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,c=this._getLabelSizes(),h=t+o,d=c.widest.width;let m,_;return e==="left"?r?(_=this.right+o,i==="near"?m="left":i==="center"?(m="center",_+=d/2):(m="right",_+=d)):(_=this.right-h,i==="near"?m="right":i==="center"?(m="center",_-=d/2):(m="left",_=this.left)):e==="right"?r?(_=this.left+o,i==="near"?m="right":i==="center"?(m="center",_-=d/2):(m="left",_-=d)):(_=this.left+h,i==="near"?m="left":i==="center"?(m="center",_+=d/2):(m="right",_=this.right)):m="right",{textAlign:m,x:_}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const h=(d,m,_)=>{!_.width||!_.color||(i.save(),i.lineWidth=_.width,i.strokeStyle=_.color,i.setLineDash(_.borderDash||[]),i.lineDashOffset=_.borderDashOffset,i.beginPath(),i.moveTo(d.x,d.y),i.lineTo(m.x,m.y),i.stroke(),i.restore())};if(e.display)for(o=0,c=r.length;o<c;++o){const d=r[o];e.drawOnChartArea&&h({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),e.drawTicks&&h({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const h=r.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let m,_,v,b;this.isHorizontal()?(m=ga(t,this.left,c)-c/2,_=ga(t,this.right,h)+h/2,v=b=d):(v=ga(t,this.top,c)-c/2,b=ga(t,this.bottom,h)+h/2,m=_=d),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(m,v),e.lineTo(_,b),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&z_(i,r);const o=this.getLabelItems(t);for(const c of o){const h=c.options,d=c.font,m=c.label,_=c.textOffset;qf(i,m,0,_,d,h)}r&&B_(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=_n(i.font),c=li(i.padding),h=i.align;let d=o.lineHeight/2;e==="bottom"||e==="center"||Ft(e)?(d+=c.bottom,He(i.text)&&(d+=o.lineHeight*(i.text.length-1))):d+=c.top;const{titleX:m,titleY:_,maxWidth:v,rotation:b}=bV(this,d,e,h);qf(t,i.text,0,0,o,{color:i.color,maxWidth:v,rotation:b,textAlign:vV(h,e,r),textBaseline:"middle",translation:[m,_]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=qt(t.grid&&t.grid.z,-1),r=qt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==sl.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,c;for(o=0,c=e.length;o<c;++o){const h=e[o];h[i]===this.id&&(!t||h.type===t)&&r.push(h)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return _n(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Zh{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;SV(e)&&(i=this.register(e));const r=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,EV(t,c,i),this.override&&Ee.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in Ee[r]&&(delete Ee[r][i],this.override&&delete Ia[i])}}function EV(n,t,e){const i=Wc(Object.create(null),[e?Ee.get(e):{},Ee.get(t),n.defaults]);Ee.set(t,i),n.defaultRoutes&&TV(t,n.defaultRoutes),n.descriptors&&Ee.describe(t,n.descriptors)}function TV(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),c=t[e].split("."),h=c.pop(),d=c.join(".");Ee.route(o,r,d,h)})}function SV(n){return"id"in n&&"defaults"in n}class wV{constructor(){this.controllers=new Zh(hA,"datasets",!0),this.elements=new Zh(hu,"elements"),this.plugins=new Zh(Object,"plugins"),this.scales=new Zh(sl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):Wt(r,c=>{const h=i||this._getRegistryForType(c);this._exec(t,h,c)})})}_exec(t,e,i){const r=L_(t);oe(i["before"+r],[],i),e[t](i),oe(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var Ii=new wV;class AV{constructor(){this._init=[]}notify(t,e,i,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=r?this._descriptors(t).filter(r):this._descriptors(t),c=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),c}_notify(t,e,i,r){r=r||{};for(const o of t){const c=o.plugin,h=c[i],d=[e,r,o.options];if(oe(h,d,c)===!1&&r.cancelable)return!1}return!0}invalidate(){ie(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=qt(i.options&&i.options.plugins,{}),o=xV(i);return r===!1&&!e?[]:IV(t,o,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,c)=>o.filter(h=>!c.some(d=>h.plugin.id===d.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function xV(n){const t={},e=[],i=Object.keys(Ii.plugins.items);for(let o=0;o<i.length;o++)e.push(Ii.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const c=r[o];e.indexOf(c)===-1&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}function RV(n,t){return!t&&n===!1?null:n===!0?{}:n}function IV(n,{plugins:t,localIds:e},i,r){const o=[],c=n.getContext();for(const h of t){const d=h.id,m=RV(i[d],r);m!==null&&o.push({plugin:h,options:CV(n.config,{plugin:h,local:e[d]},m,c)})}return o}function CV(n,{plugin:t,local:e},i,r){const o=n.pluginScopeKeys(t),c=n.getOptionScopes(i,o);return e&&t.defaults&&c.push(t.defaults),n.createResolver(c,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Op(n,t){const e=Ee.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function OV(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function DV(n,t){return n===t?"_index_":"_value_"}function UT(n){if(n==="x"||n==="y"||n==="r")return n}function MV(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Dp(n,...t){if(UT(n))return n;for(const e of t){const i=e.axis||MV(e.position)||n.length>1&&UT(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function zT(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function kV(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return zT(n,"x",e[0])||zT(n,"y",e[0])}return{}}function NV(n,t){const e=Ia[n.type]||{scales:{}},i=t.scales||{},r=Op(n.type,t),o=Object.create(null);return Object.keys(i).forEach(c=>{const h=i[c];if(!Ft(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const d=Dp(c,h,kV(c,n),Ee.scales[h.type]),m=DV(d,r),_=e.scales||{};o[c]=Pc(Object.create(null),[{axis:d},h,_[d],_[m]])}),n.data.datasets.forEach(c=>{const h=c.type||n.type,d=c.indexAxis||Op(h,t),_=(Ia[h]||{}).scales||{};Object.keys(_).forEach(v=>{const b=OV(v,d),S=c[b+"AxisID"]||b;o[S]=o[S]||Object.create(null),Pc(o[S],[{axis:b},i[S],_[v]])})}),Object.keys(o).forEach(c=>{const h=o[c];Pc(h,[Ee.scales[h.type],Ee.scale])}),o}function yA(n){const t=n.options||(n.options={});t.plugins=qt(t.plugins,{}),t.scales=NV(n,t)}function vA(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function PV(n){return n=n||{},n.data=vA(n.data),yA(n),n}const BT=new Map,bA=new Set;function Jh(n,t){let e=BT.get(n);return e||(e=t(),BT.set(n,e),bA.add(e)),e}const vc=(n,t,e)=>{const i=Yo(t,e);i!==void 0&&n.add(i)};class VV{constructor(t){this._config=PV(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=vA(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),yA(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Jh(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Jh(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Jh(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return Jh(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,c=this._cachedScopes(t,i),h=c.get(e);if(h)return h;const d=new Set;e.forEach(_=>{t&&(d.add(t),_.forEach(v=>vc(d,t,v))),_.forEach(v=>vc(d,r,v)),_.forEach(v=>vc(d,Ia[o]||{},v)),_.forEach(v=>vc(d,Ee,v)),_.forEach(v=>vc(d,Cp,v))});const m=Array.from(d);return m.length===0&&m.push(Object.create(null)),bA.has(e)&&c.set(e,m),m}chartOptionScopes(){const{options:t,type:e}=this;return[t,Ia[e]||{},Ee.datasets[e]||{},{type:e},Ee,Cp]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:c,subPrefixes:h}=jT(this._resolverCache,t,r);let d=c;if(UV(c,e)){o.$shared=!1,i=Ar(i)?i():i;const m=this.createResolver(t,i,h);d=Ko(c,i,m)}for(const m of e)o[m]=d[m];return o}createResolver(t,e,i=[""],r){const{resolver:o}=jT(this._resolverCache,t,i);return Ft(e)?Ko(o,e,void 0,r):o}}function jT(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:j_(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},i.set(r,o)),o}const LV=n=>Ft(n)&&Object.getOwnPropertyNames(n).some(t=>Ar(n[t]));function UV(n,t){const{isScriptable:e,isIndexable:i}=iA(n);for(const r of t){const o=e(r),c=i(r),h=(c||o)&&n[r];if(o&&(Ar(h)||LV(h))||c&&He(h))return!0}return!1}var zV="4.5.0";const BV=["top","bottom","left","right","chartArea"];function FT(n,t){return n==="top"||n==="bottom"||BV.indexOf(n)===-1&&t==="x"}function HT(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function qT(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),oe(e&&e.onComplete,[n],t)}function jV(n){const t=n.chart,e=t.options.animation;oe(e&&e.onProgress,[n],t)}function EA(n){return q_()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const mf={},GT=n=>{const t=EA(n);return Object.values(mf).filter(e=>e.canvas===t).pop()};function FV(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const c=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=c)}}}function HV(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let fu=class{static defaults=Ee;static instances=mf;static overrides=Ia;static registry=Ii;static version=zV;static getChart=GT;static register(...t){Ii.add(...t),YT()}static unregister(...t){Ii.remove(...t),YT()}constructor(t,e){const i=this.config=new VV(e),r=EA(t),o=GT(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||oV(r)),this.platform.updateConfig(i);const h=this.platform.acquireContext(r,c.aspectRatio),d=h&&h.canvas,m=d&&d.height,_=d&&d.width;if(this.id=sN(),this.ctx=h,this.canvas=d,this.width=_,this.height=m,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new AV,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=wN(v=>this.update(v),c.resizeDelay||0),this._dataChanges=[],mf[this.id]=this,!h||!d){console.error("Failed to create chart: can't acquire context from the given item");return}us.listen(this,"complete",qT),us.listen(this,"progress",jV),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:o}=this;return ie(t)?e&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ii}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():_T(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return dT(this.canvas,this.ctx),this}stop(){return us.stop(this),this}resize(t,e){us.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(r,t,e,o),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,_T(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),oe(i.onResize,[this,c],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Wt(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((c,h)=>(c[h]=!1,c),{});let o=[];e&&(o=o.concat(Object.keys(e).map(c=>{const h=e[c],d=Dp(c,h),m=d==="r",_=d==="x";return{options:h,dposition:m?"chartArea":_?"bottom":"left",dtype:m?"radialLinear":_?"category":"linear"}}))),Wt(o,c=>{const h=c.options,d=h.id,m=Dp(d,h),_=qt(h.type,c.dtype);(h.position===void 0||FT(h.position,m)!==FT(c.dposition))&&(h.position=c.dposition),r[d]=!0;let v=null;if(d in i&&i[d].type===_)v=i[d];else{const b=Ii.getScale(_);v=new b({id:d,type:_,ctx:this.ctx,chart:this}),i[v.id]=v}v.init(h,t)}),Wt(r,(c,h)=>{c||delete i[h]}),Wt(i,c=>{rr.configure(this,c,c.options),rr.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(HT("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const o=e[i];let c=this.getDatasetMeta(i);const h=o.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=h,c.indexAxis=o.indexAxis||Op(h,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const d=Ii.getController(h),{datasetElementType:m,dataElementType:_}=Ee.datasets[h];Object.assign(d,{dataElementType:Ii.getElement(_),datasetElementType:m&&Ii.getElement(m)}),c.controller=new d(this,i),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){Wt(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let m=0,_=this.data.datasets.length;m<_;m++){const{controller:v}=this.getDatasetMeta(m),b=!r&&o.indexOf(v)===-1;v.buildOrUpdateElements(b),c=Math.max(+v.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),r||Wt(o,m=>{m.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(HT("z","_idx"));const{_active:h,_lastEvent:d}=this;d?this._eventHandler(d,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){Wt(this.scales,t=>{rr.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!iT(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of e){const c=i==="_removeElements"?-o:o;FV(t,r,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(c=>c[0]===o).map((c,h)=>h+","+c.splice(1).join(","))),r=i(0);for(let o=1;o<e;o++)if(!iT(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;rr.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Wt(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Ar(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(us.has(this)?this.attached&&!us.running(this)&&us.start(this):(this.draw(),qT({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,o;for(r=0,o=e.length;r<o;++r){const c=e[r];(!t||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=cP(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&z_(e,r),t.controller.draw(),r&&B_(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return tA(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const o=BP.modes[e];return typeof o=="function"?o(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=il(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,r);$c(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),c.update(o,{visible:i}),this.update(h=>h.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),us.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),dT(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete mf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,c)=>{e.addEventListener(this,o,c),t[o]=c},r=(o,c,h)=>{o.offsetX=c,o.offsetY=h,this._eventHandler(o)};Wt(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(d,m)=>{e.addEventListener(this,d,m),t[d]=m},r=(d,m)=>{t[d]&&(e.removeEventListener(this,d,m),delete t[d])},o=(d,m)=>{this.canvas&&this.resize(d,m)};let c;const h=()=>{r("attach",h),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",h)},e.isAttached(this.canvas)?h():c()}unbindEvents(){Wt(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Wt(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let o,c,h,d;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),h=0,d=t.length;h<d;++h){c=t[h];const m=c&&this.getDatasetMeta(c.datasetIndex).controller;m&&m[r+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:c})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[c],index:c}});!Bf(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,o=(d,m)=>d.filter(_=>!m.some(v=>_.datasetIndex===v.datasetIndex&&_.index===v.index)),c=o(e,t),h=i?t:o(t,e);c.length&&this.updateHoverStyle(c,r.mode,!1),h.length&&r.mode&&this.updateHoverStyle(h,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:o}=this,c=e,h=this._getActiveElements(t,r,i,c),d=uN(t),m=HV(t,this._lastEvent,i,d);i&&(this._lastEvent=null,oe(o.onHover,[t,h,this],this),d&&oe(o.onClick,[t,h,this],this));const _=!Bf(h,r);return(_||e)&&(this._active=h,this._updateHoverStyles(h,r,e)),this._lastEvent=m,_}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}};function YT(){return Wt(fu.instances,n=>n._plugins.invalidate())}function TA(n,t){const{x:e,y:i,base:r,width:o,height:c}=n.getProps(["x","y","base","width","height"],t);let h,d,m,_,v;return n.horizontal?(v=c/2,h=Math.min(e,r),d=Math.max(e,r),m=i-v,_=i+v):(v=o/2,h=e-v,d=e+v,m=Math.min(i,r),_=Math.max(i,r)),{left:h,top:m,right:d,bottom:_}}function ar(n,t,e,i){return n?0:si(t,e,i)}function qV(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,o=nA(i);return{t:ar(r.top,o.top,0,e),r:ar(r.right,o.right,0,t),b:ar(r.bottom,o.bottom,0,e),l:ar(r.left,o.left,0,t)}}function GV(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=Lo(r),c=Math.min(t,e),h=n.borderSkipped,d=i||Ft(r);return{topLeft:ar(!d||h.top||h.left,o.topLeft,0,c),topRight:ar(!d||h.top||h.right,o.topRight,0,c),bottomLeft:ar(!d||h.bottom||h.left,o.bottomLeft,0,c),bottomRight:ar(!d||h.bottom||h.right,o.bottomRight,0,c)}}function YV(n){const t=TA(n),e=t.right-t.left,i=t.bottom-t.top,r=qV(n,e/2,i/2),o=GV(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function Xm(n,t,e,i){const r=t===null,o=e===null,h=n&&!(r&&o)&&TA(n,i);return h&&(r||Do(t,h.left,h.right))&&(o||Do(e,h.top,h.bottom))}function KV(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function QV(n,t){n.rect(t.x,t.y,t.w,t.h)}function Wm(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,c=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+o,h:n.h+c,radius:n.radius}}class SA extends hu{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:c}=YV(this),h=KV(c.radius)?Gf:QV;t.save(),(c.w!==o.w||c.h!==o.h)&&(t.beginPath(),h(t,Wm(c,e,o)),t.clip(),h(t,Wm(o,-e,c)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),h(t,Wm(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return Xm(this,t,e,i)}inXRange(t,e){return Xm(this,t,null,e)}inYRange(t,e){return Xm(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}const KT=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},XV=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class QT extends hu{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=oe(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=_n(i.font),o=r.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:d}=KT(i,o);let m,_;e.font=r.string,this.isHorizontal()?(m=this.maxWidth,_=this._fitRows(c,o,h,d)+10):(_=this.maxHeight,m=this._fitCols(c,r,h,d)+10),this.width=Math.min(m,t.maxWidth||this.maxWidth),this.height=Math.min(_,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:c,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],m=this.lineWidths=[0],_=r+h;let v=t;o.textAlign="left",o.textBaseline="middle";let b=-1,S=-_;return this.legendItems.forEach((R,k)=>{const C=i+e/2+o.measureText(R.text).width;(k===0||m[m.length-1]+C+2*h>c)&&(v+=_,m[m.length-(k>0?0:1)]=0,S+=_,b++),d[k]={left:0,top:S,row:b,width:C,height:r},m[m.length-1]+=C+h}),v}_fitCols(t,e,i,r){const{ctx:o,maxHeight:c,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],m=this.columnSizes=[],_=c-t;let v=h,b=0,S=0,R=0,k=0;return this.legendItems.forEach((C,H)=>{const{itemWidth:Q,itemHeight:J}=WV(i,e,o,C,r);H>0&&S+J+2*h>_&&(v+=b+h,m.push({width:b,height:S}),R+=b+h,k++,b=S=0),d[H]={left:R,top:S,col:k,width:Q,height:J},b=Math.max(b,Q),S+=J+h}),v+=b,m.push({width:b,height:S}),v}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,c=Uo(o,this.left,this.width);if(this.isHorizontal()){let h=0,d=In(i,this.left+r,this.right-this.lineWidths[h]);for(const m of e)h!==m.row&&(h=m.row,d=In(i,this.left+r,this.right-this.lineWidths[h])),m.top+=this.top+t+r,m.left=c.leftForLtr(c.x(d),m.width),d+=m.width+r}else{let h=0,d=In(i,this.top+t+r,this.bottom-this.columnSizes[h].height);for(const m of e)m.col!==h&&(h=m.col,d=In(i,this.top+t+r,this.bottom-this.columnSizes[h].height)),m.top=d,m.left+=this.left+r,m.left=c.leftForLtr(c.x(m.left),m.width),d+=m.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;z_(t,this),this._draw(),B_(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:c}=t,h=Ee.color,d=Uo(t.rtl,this.left,this.width),m=_n(c.font),{padding:_}=c,v=m.size,b=v/2;let S;this.drawTitle(),r.textAlign=d.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=m.string;const{boxWidth:R,boxHeight:k,itemHeight:C}=KT(c,v),H=function(ot,O,x){if(isNaN(R)||R<=0||isNaN(k)||k<0)return;r.save();const I=qt(x.lineWidth,1);if(r.fillStyle=qt(x.fillStyle,h),r.lineCap=qt(x.lineCap,"butt"),r.lineDashOffset=qt(x.lineDashOffset,0),r.lineJoin=qt(x.lineJoin,"miter"),r.lineWidth=I,r.strokeStyle=qt(x.strokeStyle,h),r.setLineDash(qt(x.lineDash,[])),c.usePointStyle){const N={radius:k*Math.SQRT2/2,pointStyle:x.pointStyle,rotation:x.rotation,borderWidth:I},P=d.xPlus(ot,R/2),L=O+b;J1(r,N,P,L,c.pointStyleWidth&&R)}else{const N=O+Math.max((v-k)/2,0),P=d.leftForLtr(ot,R),L=Lo(x.borderRadius);r.beginPath(),Object.values(L).some(D=>D!==0)?Gf(r,{x:P,y:N,w:R,h:k,radius:L}):r.rect(P,N,R,k),r.fill(),I!==0&&r.stroke()}r.restore()},Q=function(ot,O,x){qf(r,x.text,ot,O+C/2,m,{strikethrough:x.hidden,textAlign:d.textAlign(x.textAlign)})},J=this.isHorizontal(),it=this._computeTitleHeight();J?S={x:In(o,this.left+_,this.right-i[0]),y:this.top+_+it,line:0}:S={x:this.left+_,y:In(o,this.top+it+_,this.bottom-e[0].height),line:0},oA(this.ctx,t.textDirection);const W=C+_;this.legendItems.forEach((ot,O)=>{r.strokeStyle=ot.fontColor,r.fillStyle=ot.fontColor;const x=r.measureText(ot.text).width,I=d.textAlign(ot.textAlign||(ot.textAlign=c.textAlign)),N=R+b+x;let P=S.x,L=S.y;d.setWidth(this.width),J?O>0&&P+N+_>this.right&&(L=S.y+=W,S.line++,P=S.x=In(o,this.left+_,this.right-i[S.line])):O>0&&L+W>this.bottom&&(P=S.x=P+e[S.line].width+_,S.line++,L=S.y=In(o,this.top+it+_,this.bottom-e[S.line].height));const D=d.x(P);if(H(D,L,ot),P=AN(I,P+R+b,J?P+N:this.right,t.rtl),Q(d.x(P),L,ot),J)S.x+=N+_;else if(typeof ot.text!="string"){const $t=m.lineHeight;S.y+=wA(ot,$t)+_}else S.y+=W}),lA(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=_n(e.font),r=li(e.padding);if(!e.display)return;const o=Uo(t.rtl,this.left,this.width),c=this.ctx,h=e.position,d=i.size/2,m=r.top+d;let _,v=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),_=this.top+m,v=In(t.align,v,this.right-b);else{const R=this.columnSizes.reduce((k,C)=>Math.max(k,C.height),0);_=m+In(t.align,this.top,this.bottom-R-t.labels.padding-this._computeTitleHeight())}const S=In(h,v,v+b);c.textAlign=o.textAlign(X1(h)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=i.string,qf(c,e.text,S,_,i)}_computeTitleHeight(){const t=this.options.title,e=_n(t.font),i=li(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(Do(t,this.left,this.right)&&Do(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],Do(t,r.left,r.left+r.width)&&Do(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!JV(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=XV(r,i);r&&!o&&oe(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&oe(e.onHover,[t,i,this],this)}else i&&oe(e.onClick,[t,i,this],this)}}function WV(n,t,e,i,r){const o=$V(i,n,t,e),c=ZV(r,i,t.lineHeight);return{itemWidth:o,itemHeight:c}}function $V(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,c)=>o.length>c.length?o:c)),t+e.size/2+i.measureText(r).width}function ZV(n,t,e){let i=n;return typeof t.text!="string"&&(i=wA(t,e)),i}function wA(n,t){const e=n.text?n.text.length:0;return t*e}function JV(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var AA={id:"legend",_element:QT,start(n,t,e){const i=n.legend=new QT({ctx:n.ctx,options:e,chart:n});rr.configure(n,i,e),rr.addBox(n,i)},stop(n){rr.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;rr.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:c,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(d=>{const m=d.controller.getStyle(e?0:void 0),_=li(m.borderWidth);return{text:t[d.index].label,fillStyle:m.backgroundColor,fontColor:o,hidden:!d.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(_.width+_.height)/4,strokeStyle:m.borderColor,pointStyle:i||m.pointStyle,rotation:m.rotation,textAlign:r||m.textAlign,borderRadius:c&&(h||m.borderRadius),datasetIndex:d.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};const Ic={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const d=h.tooltipPosition();i.add(d.x),r+=d.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((h,d)=>h+d)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,c,h;for(o=0,c=n.length;o<c;++o){const d=n[o].element;if(d&&d.hasValue()){const m=d.getCenterPoint(),_=yN(t,m);_<r&&(r=_,h=d)}}if(h){const d=h.tooltipPosition();e=d.x,i=d.y}return{x:e,y:i}}};function Ri(n,t){return t&&(He(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function hs(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function t4(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:c,value:h}=o.getLabelAndValue(r);return{chart:n,label:c,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:h,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function XT(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:c,boxHeight:h}=t,d=_n(t.bodyFont),m=_n(t.titleFont),_=_n(t.footerFont),v=o.length,b=r.length,S=i.length,R=li(t.padding);let k=R.height,C=0,H=i.reduce((it,W)=>it+W.before.length+W.lines.length+W.after.length,0);if(H+=n.beforeBody.length+n.afterBody.length,v&&(k+=v*m.lineHeight+(v-1)*t.titleSpacing+t.titleMarginBottom),H){const it=t.displayColors?Math.max(h,d.lineHeight):d.lineHeight;k+=S*it+(H-S)*d.lineHeight+(H-1)*t.bodySpacing}b&&(k+=t.footerMarginTop+b*_.lineHeight+(b-1)*t.footerSpacing);let Q=0;const J=function(it){C=Math.max(C,e.measureText(it).width+Q)};return e.save(),e.font=m.string,Wt(n.title,J),e.font=d.string,Wt(n.beforeBody.concat(n.afterBody),J),Q=t.displayColors?c+2+t.boxPadding:0,Wt(i,it=>{Wt(it.before,J),Wt(it.lines,J),Wt(it.after,J)}),Q=0,e.font=_.string,Wt(n.footer,J),e.restore(),C+=R.width,{width:C,height:k}}function e4(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function n4(n,t,e,i){const{x:r,width:o}=i,c=e.caretSize+e.caretPadding;if(n==="left"&&r+o+c>t.width||n==="right"&&r-o-c<0)return!0}function i4(n,t,e,i){const{x:r,width:o}=e,{width:c,chartArea:{left:h,right:d}}=n;let m="center";return i==="center"?m=r<=(h+d)/2?"left":"right":r<=o/2?m="left":r>=c-o/2&&(m="right"),n4(m,n,t,e)&&(m="center"),m}function WT(n,t,e){const i=e.yAlign||t.yAlign||e4(n,e);return{xAlign:e.xAlign||t.xAlign||i4(n,t,e,i),yAlign:i}}function s4(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function r4(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function $T(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:c}=n,{xAlign:h,yAlign:d}=e,m=r+o,{topLeft:_,topRight:v,bottomLeft:b,bottomRight:S}=Lo(c);let R=s4(t,h);const k=r4(t,d,m);return d==="center"?h==="left"?R+=m:h==="right"&&(R-=m):h==="left"?R-=Math.max(_,b)+r:h==="right"&&(R+=Math.max(v,S)+r),{x:si(R,0,i.width-t.width),y:si(k,0,i.height-t.height)}}function tf(n,t,e){const i=li(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function ZT(n){return Ri([],hs(n))}function a4(n,t,e){return il(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function JT(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const xA={beforeTitle:cs,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:cs,beforeBody:cs,beforeLabel:cs,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return ie(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:cs,afterBody:cs,beforeFooter:cs,footer:cs,afterFooter:cs};function dn(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?xA[t].call(e,i):r}class tS extends hu{static positioners=Ic;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,o=new cA(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=a4(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=dn(i,"beforeTitle",this,t),o=dn(i,"title",this,t),c=dn(i,"afterTitle",this,t);let h=[];return h=Ri(h,hs(r)),h=Ri(h,hs(o)),h=Ri(h,hs(c)),h}getBeforeBody(t,e){return ZT(dn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return Wt(t,o=>{const c={before:[],lines:[],after:[]},h=JT(i,o);Ri(c.before,hs(dn(h,"beforeLabel",this,o))),Ri(c.lines,dn(h,"label",this,o)),Ri(c.after,hs(dn(h,"afterLabel",this,o))),r.push(c)}),r}getAfterBody(t,e){return ZT(dn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=dn(i,"beforeFooter",this,t),o=dn(i,"footer",this,t),c=dn(i,"afterFooter",this,t);let h=[];return h=Ri(h,hs(r)),h=Ri(h,hs(o)),h=Ri(h,hs(c)),h}_createItems(t){const e=this._active,i=this.chart.data,r=[],o=[],c=[];let h=[],d,m;for(d=0,m=e.length;d<m;++d)h.push(t4(this.chart,e[d]));return t.filter&&(h=h.filter((_,v,b)=>t.filter(_,v,b,i))),t.itemSort&&(h=h.sort((_,v)=>t.itemSort(_,v,i))),Wt(h,_=>{const v=JT(t.callbacks,_);r.push(dn(v,"labelColor",this,_)),o.push(dn(v,"labelPointStyle",this,_)),c.push(dn(v,"labelTextColor",this,_))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=h,h}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let o,c=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const h=Ic[i.position].call(this,r,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const d=this._size=XT(this,i),m=Object.assign({},h,d),_=WT(this.chart,i,m),v=$T(i,m,_,this.chart);this.xAlign=_.xAlign,this.yAlign=_.yAlign,o={opacity:1,x:v.x,y:v.y,width:d.width,height:d.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const o=this.getCaretPosition(t,i,r);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:o}=this,{caretSize:c,cornerRadius:h}=i,{topLeft:d,topRight:m,bottomLeft:_,bottomRight:v}=Lo(h),{x:b,y:S}=t,{width:R,height:k}=e;let C,H,Q,J,it,W;return o==="center"?(it=S+k/2,r==="left"?(C=b,H=C-c,J=it+c,W=it-c):(C=b+R,H=C+c,J=it-c,W=it+c),Q=C):(r==="left"?H=b+Math.max(d,_)+c:r==="right"?H=b+R-Math.max(m,v)-c:H=this.caretX,o==="top"?(J=S,it=J-c,C=H-c,Q=H+c):(J=S+k,it=J+c,C=H+c,Q=H-c),W=J),{x1:C,x2:H,x3:Q,y1:J,y2:it,y3:W}}drawTitle(t,e,i){const r=this.title,o=r.length;let c,h,d;if(o){const m=Uo(i.rtl,this.x,this.width);for(t.x=tf(this,i.titleAlign,i),e.textAlign=m.textAlign(i.titleAlign),e.textBaseline="middle",c=_n(i.titleFont),h=i.titleSpacing,e.fillStyle=i.titleColor,e.font=c.string,d=0;d<o;++d)e.fillText(r[d],m.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+h,d+1===o&&(t.y+=i.titleMarginBottom-h)}}_drawColorBox(t,e,i,r,o){const c=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:d,boxWidth:m}=o,_=_n(o.bodyFont),v=tf(this,"left",o),b=r.x(v),S=d<_.lineHeight?(_.lineHeight-d)/2:0,R=e.y+S;if(o.usePointStyle){const k={radius:Math.min(m,d)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},C=r.leftForLtr(b,m)+m/2,H=R+d/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,gT(t,k,C,H),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,gT(t,k,C,H)}else{t.lineWidth=Ft(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const k=r.leftForLtr(b,m),C=r.leftForLtr(r.xPlus(b,1),m-2),H=Lo(c.borderRadius);Object.values(H).some(Q=>Q!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Gf(t,{x:k,y:R,w:m,h:d,radius:H}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),Gf(t,{x:C,y:R+1,w:m-2,h:d-2,radius:H}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(k,R,m,d),t.strokeRect(k,R,m,d),t.fillStyle=c.backgroundColor,t.fillRect(C,R+1,m-2,d-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:o,bodyAlign:c,displayColors:h,boxHeight:d,boxWidth:m,boxPadding:_}=i,v=_n(i.bodyFont);let b=v.lineHeight,S=0;const R=Uo(i.rtl,this.x,this.width),k=function(x){e.fillText(x,R.x(t.x+S),t.y+b/2),t.y+=b+o},C=R.textAlign(c);let H,Q,J,it,W,ot,O;for(e.textAlign=c,e.textBaseline="middle",e.font=v.string,t.x=tf(this,C,i),e.fillStyle=i.bodyColor,Wt(this.beforeBody,k),S=h&&C!=="right"?c==="center"?m/2+_:m+2+_:0,it=0,ot=r.length;it<ot;++it){for(H=r[it],Q=this.labelTextColors[it],e.fillStyle=Q,Wt(H.before,k),J=H.lines,h&&J.length&&(this._drawColorBox(e,t,it,R,i),b=Math.max(v.lineHeight,d)),W=0,O=J.length;W<O;++W)k(J[W]),b=v.lineHeight;Wt(H.after,k)}S=0,b=v.lineHeight,Wt(this.afterBody,k),t.y-=o}drawFooter(t,e,i){const r=this.footer,o=r.length;let c,h;if(o){const d=Uo(i.rtl,this.x,this.width);for(t.x=tf(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=d.textAlign(i.footerAlign),e.textBaseline="middle",c=_n(i.footerFont),e.fillStyle=i.footerColor,e.font=c.string,h=0;h<o;++h)e.fillText(r[h],d.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:o,yAlign:c}=this,{x:h,y:d}=t,{width:m,height:_}=i,{topLeft:v,topRight:b,bottomLeft:S,bottomRight:R}=Lo(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(h+v,d),c==="top"&&this.drawCaret(t,e,i,r),e.lineTo(h+m-b,d),e.quadraticCurveTo(h+m,d,h+m,d+b),c==="center"&&o==="right"&&this.drawCaret(t,e,i,r),e.lineTo(h+m,d+_-R),e.quadraticCurveTo(h+m,d+_,h+m-R,d+_),c==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(h+S,d+_),e.quadraticCurveTo(h,d+_,h,d+_-S),c==="center"&&o==="left"&&this.drawCaret(t,e,i,r),e.lineTo(h,d+v),e.quadraticCurveTo(h,d,h+v,d),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const c=Ic[t.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=XT(this,t),d=Object.assign({},c,this._size),m=WT(e,t,d),_=$T(t,d,m,e);(r._to!==_.x||o._to!==_.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,_))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=li(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,r,e),oA(t,e.textDirection),o.y+=c.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),lA(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:h,index:d})=>{const m=this.chart.getDatasetMeta(h);if(!m)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:m.data[d],index:d}}),o=!Bf(i,r),c=this._positionChanged(r,e);(o||c)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],c=this._getActiveElements(t,o,e,i),h=this._positionChanged(c,t),d=e||!Bf(c,o)||h;return d&&(this._active=c,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),d}_getActiveElements(t,e,i,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(t,e){const{caretX:i,caretY:r,options:o}=this,c=Ic[o.position].call(this,t,e);return c!==!1&&(i!==c.x||r!==c.y)}}var RA={id:"tooltip",_element:tS,positioners:Ic,afterInit(n,t,e){e&&(n.tooltip=new tS({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:xA},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const o4=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function l4(n,t,e,i){const r=n.indexOf(t);if(r===-1)return o4(n,t,e,i);const o=n.lastIndexOf(t);return r!==o?e:r}const c4=(n,t)=>n===null?null:si(Math.round(n),0,t);function eS(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class IA extends sl{static id="category";static defaults={ticks:{callback:eS}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:o}of e)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(ie(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:l4(i,t,qt(e,t),this._addedLabels),c4(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=t;c<=e;c++)r.push({value:c});return r}getLabelForValue(t){return eS.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function u4(n,t){const e=[],{bounds:r,step:o,min:c,max:h,precision:d,count:m,maxTicks:_,maxDigits:v,includeBounds:b}=n,S=o||1,R=_-1,{min:k,max:C}=t,H=!ie(c),Q=!ie(h),J=!ie(m),it=(C-k)/(v+1);let W=rT((C-k)/R/S)*S,ot,O,x,I;if(W<1e-14&&!H&&!Q)return[{value:k},{value:C}];I=Math.ceil(C/W)-Math.floor(k/W),I>R&&(W=rT(I*W/R/S)*S),ie(d)||(ot=Math.pow(10,d),W=Math.ceil(W*ot)/ot),r==="ticks"?(O=Math.floor(k/W)*W,x=Math.ceil(C/W)*W):(O=k,x=C),H&&Q&&o&&gN((h-c)/o,W/1e3)?(I=Math.round(Math.min((h-c)/W,_)),W=(h-c)/I,O=c,x=h):J?(O=H?c:O,x=Q?h:x,I=m-1,W=(x-O)/I):(I=(x-O)/W,df(I,Math.round(I),W/1e3)?I=Math.round(I):I=Math.ceil(I));const N=Math.max(aT(W),aT(O));ot=Math.pow(10,ie(d)?N:d),O=Math.round(O*ot)/ot,x=Math.round(x*ot)/ot;let P=0;for(H&&(b&&O!==c?(e.push({value:c}),O<c&&P++,df(Math.round((O+P*W)*ot)/ot,c,nS(c,it,n))&&P++):O<c&&P++);P<I;++P){const L=Math.round((O+P*W)*ot)/ot;if(Q&&L>h)break;e.push({value:L})}return Q&&b&&x!==h?e.length&&df(e[e.length-1].value,h,nS(h,it,n))?e[e.length-1].value=h:e.push({value:h}):(!Q||x===h)&&e.push({value:x}),e}function nS(n,t,{horizontal:e,minRotation:i}){const r=va(i),o=(e?Math.sin(r):Math.cos(r))||.001,c=.75*t*(""+n).length;return Math.min(t/o,c)}class h4 extends sl{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return ie(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const c=d=>r=e?r:d,h=d=>o=i?o:d;if(t){const d=pr(r),m=pr(o);d<0&&m<0?h(0):d>0&&m>0&&c(0)}if(r===o){let d=o===0?1:Math.abs(o*.05);h(o+d),t||c(r-d)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,c=u4(r,o);return t.bounds==="ticks"&&mN(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return $1(t,this.chart.options.locale,this.options.ticks.format)}}class CA extends h4{static id="linear";static defaults={ticks:{callback:Z1.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Qn(t)?t:0,this.max=Qn(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=va(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const bd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},pn=Object.keys(bd);function iS(n,t){return n-t}function sS(n,t){if(ie(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let c=t;return typeof i=="function"&&(c=i(c)),Qn(c)||(c=typeof i=="string"?e.parse(c,i):e.parse(c)),c===null?null:(r&&(c=r==="week"&&(Hf(o)||o===!0)?e.startOf(c,"isoWeek",o):e.startOf(c,r)),+c)}function rS(n,t,e,i){const r=pn.length;for(let o=pn.indexOf(n);o<r-1;++o){const c=bd[pn[o]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(h*c.size))<=i)return pn[o]}return pn[r-1]}function f4(n,t,e,i,r){for(let o=pn.length-1;o>=pn.indexOf(e);o--){const c=pn[o];if(bd[c].common&&n._adapter.diff(r,i,c)>=t-1)return c}return pn[e?pn.indexOf(e):0]}function d4(n){for(let t=pn.indexOf(n)+1,e=pn.length;t<e;++t)if(bd[pn[t]].common)return pn[t]}function aS(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=U_(e,t),o=e[i]>=t?e[i]:e[r];n[o]=!0}}function g4(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),c=t[t.length-1].value;let h,d;for(h=o;h<=c;h=+r.add(h,1,i))d=e[h],d>=0&&(t[d].major=!0);return t}function oS(n,t,e){const i=[],r={},o=t.length;let c,h;for(c=0;c<o;++c)h=t[c],r[h]=c,i.push({value:h,major:!1});return o===0||!e?i:g4(n,i,r,e)}class lS extends sl{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new PP._date(t.adapters.date);r.init(e),Pc(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:sS(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:c,maxDefined:h}=this.getUserBounds();function d(m){!c&&!isNaN(m.min)&&(r=Math.min(r,m.min)),!h&&!isNaN(m.max)&&(o=Math.max(o,m.max))}(!c||!h)&&(d(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&d(this.getMinMax(!1))),r=Qn(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),o=Qn(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,c=this.max,h=TN(r,o,c);return this._unit=e.unit||(i.autoSkip?rS(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):f4(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:d4(this._unit),this.initOffsets(r),t.reverse&&h.reverse(),oS(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;e=si(e,0,c),i=si(i,0,c),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,o=r.time,c=o.unit||rS(o.minUnit,e,i,this._getLabelCapacity(e)),h=qt(r.ticks.stepSize,1),d=c==="week"?o.isoWeekday:!1,m=Hf(d)||d===!0,_={};let v=e,b,S;if(m&&(v=+t.startOf(v,"isoWeek",d)),v=+t.startOf(v,m?"day":c),t.diff(i,e,c)>1e5*h)throw new Error(e+" and "+i+" are too far apart with stepSize of "+h+" "+c);const R=r.ticks.source==="data"&&this.getDataTimestamps();for(b=v,S=0;b<i;b=+t.add(b,h,c),S++)aS(_,b,R);return(b===i||r.bounds==="ticks"||S===1)&&aS(_,b,R),Object.keys(_).sort(iS).map(k=>+k)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,o=this._unit,c=e||r[o];return this._adapter.format(t,c)}_tickFormatFunction(t,e,i,r){const o=this.options,c=o.ticks.callback;if(c)return oe(c,[t,e,i],this);const h=o.time.displayFormats,d=this._unit,m=this._majorUnit,_=d&&h[d],v=m&&h[m],b=i[e],S=m&&v&&b&&b.major;return this._adapter.format(t,r||(S?v:_))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=va(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(r),c=Math.sin(r),h=this._resolveTickFontOptions(0).size;return{w:i*o+h*c,h:i*c+h*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,oS(this,[t],this._majorUnit),r),c=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(sS(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Y1(t.sort(iS))}}function ef(n,t,e){let i=0,r=n.length-1,o,c,h,d;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=Ip(n,"pos",t)),{pos:o,time:h}=n[i],{pos:c,time:d}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=Ip(n,"time",t)),{time:o,pos:h}=n[i],{time:c,pos:d}=n[r]);const m=c-o;return m?h+(d-h)*(t-o)/m:h}class Q4 extends lS{static id="timeseries";static defaults=lS.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=ef(e,this.min),this._tableRange=ef(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let c,h,d,m,_;for(c=0,h=t.length;c<h;++c)m=t[c],m>=e&&m<=i&&r.push(m);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(c=0,h=r.length;c<h;++c)_=r[c+1],d=r[c-1],m=r[c],Math.round((_+d)/2)!==m&&o.push({time:m,pos:c/(h-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(ef(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return ef(this._table,i*this._tableRange+this._minPos,!0)}}const OA="label";function cS(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function m4(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function DA(n,t){n.labels=t}function MA(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:OA;const i=[];n.datasets=t.map(r=>{const o=n.datasets.find(c=>c[e]===r[e]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function p4(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:OA;const e={labels:[],datasets:[]};return DA(e,n.labels),MA(e,n.datasets,t),e}function _4(n,t){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:c,data:h,options:d,plugins:m=[],fallbackContent:_,updateMode:v,...b}=n,S=It.useRef(null),R=It.useRef(null),k=()=>{S.current&&(R.current=new fu(S.current,{type:c,data:p4(h,o),options:d&&{...d},plugins:m}),cS(t,R.current))},C=()=>{cS(t,null),R.current&&(R.current.destroy(),R.current=null)};return It.useEffect(()=>{!r&&R.current&&d&&m4(R.current,d)},[r,d]),It.useEffect(()=>{!r&&R.current&&DA(R.current.config.data,h.labels)},[r,h.labels]),It.useEffect(()=>{!r&&R.current&&h.datasets&&MA(R.current.config.data,h.datasets,o)},[r,h.datasets]),It.useEffect(()=>{R.current&&(r?(C(),setTimeout(k)):R.current.update(v))},[r,d,h.labels,h.datasets,v]),It.useEffect(()=>{R.current&&(C(),setTimeout(k))},[c]),It.useEffect(()=>(k(),()=>C()),[]),Dn.createElement("canvas",{ref:S,role:"img",height:e,width:i,...b},_)}const y4=It.forwardRef(_4);function v4(n,t){return fu.register(t),It.forwardRef((e,i)=>Dn.createElement(y4,{...e,ref:i,type:n}))}const Mp=v4("bar",NP);fu.register(SA,IA,CA,RA,AA);function b4({bebidas:n}){if(!n.length)return st.jsx("p",{className:"text-sm italic",children:"Sin datos."});const t=n.reduce((c,h)=>(c[h.tipo]=(c[h.tipo]||0)+1,c),{}),e=Object.keys(t),i=Object.values(t),r={labels:e,datasets:[{label:"Cantidad",data:i,backgroundColor:"rgba(59, 130, 246, 0.6)",borderRadius:4}]},o={indexAxis:"y",scales:{x:{beginAtZero:!0,ticks:{stepSize:1}}},plugins:{legend:{display:!1}}};return st.jsx("div",{className:"bg-white rounded p-2 mt-2",children:st.jsx(Mp,{data:r,options:o})})}function E4({bebidas:n,usuarios:t}){const e=new Date,i=24;return st.jsxs("div",{className:"mt-6",children:[st.jsx("h2",{className:"text-center text-lg font-bold mb-2",children:" Estadsticas Globales"}),t.map(r=>{const o=r.email,c=n.filter(v=>v.email===o),h=c.filter(v=>{const b=new Date(v.timestamp);return(e-b)/(1e3*60*60)<i}),d=c[0],m=h.reduce((v,b)=>(v[b.tipo]=(v[b.tipo]||0)+1,v),{}),_=Object.entries(m).map(([v,b])=>`${b} ${v}${b>1?"s":""}`).join(", ");return st.jsxs("div",{className:"mb-4 border-b pb-2",children:[st.jsx("p",{className:"font-semibold text-xl",children:st.jsx(k_,{email:o})}),d?st.jsxs(st.Fragment,{children:[st.jsxs("p",{className:"text-sm text-gray-600",children:["ltima bebida: ",d.tipo,"  ",new Date(d.timestamp).toLocaleTimeString()]}),st.jsx("p",{className:"text-sm mt-1",children:h.length>0?`ltimas ${i}h: ${_}`:st.jsx("span",{className:"italic text-gray-500",children:"Sin datos recientes"})}),st.jsx(b4,{bebidas:h})]}):st.jsx("p",{className:"text-sm italic text-gray-500",children:"Este usuario an no ha registrado bebidas."})]},o)})]})}fu.register(SA,IA,CA,RA,AA);function T4({bebidas:n}){if(!n.length)return st.jsx("p",{className:"text-center mt-4 text-sm",children:"No has aadido bebidas an."});const t=new Date,e=6,i=24,r=n[0],c=n.filter(it=>{const W=new Date(it.timestamp);return(t-W)/(1e3*60*60)<e}).reduce((it,W)=>(it[W.tipo]=(it[W.tipo]||0)+1,it),{}),d=n.filter(it=>{const W=new Date(it.timestamp);return(t-W)/(1e3*60*60)<i}).reduce((it,W)=>(it[W.tipo]=(it[W.tipo]||0)+1,it),{}),m=Object.keys(d),_=Object.values(d),v={labels:m,datasets:[{label:"Cantidad",data:_,backgroundColor:"rgba(59, 130, 246, 0.6)",borderRadius:4}]},b={indexAxis:"y",scales:{x:{beginAtZero:!0,ticks:{stepSize:1}}},plugins:{legend:{display:!1}}},S=new Date,R=new Date(S);R.setMinutes(0,0,0),R.setHours(R.getHours()+1);const k=Array.from({length:24},(it,W)=>{const ot=new Date(R.getTime()-W*60*60*1e3);return{tInicio:new Date(ot.getTime()-60*60*1e3),tFin:ot}}).reverse(),C=k.map(({tInicio:it,tFin:W})=>n.filter(ot=>{const O=new Date(ot.timestamp);return O>=it&&O<W}).length),Q={labels:k.map(({tInicio:it})=>`${it.getHours()}:00`),datasets:[{label:"Bebidas por hora",data:C,backgroundColor:"rgba(59, 130, 246, 0.6)",borderRadius:4}]},J={scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}}};return st.jsxs("div",{className:"mt-6",children:[st.jsx("h2",{className:" text-center text-lg font-bold mb-2",children:" Tus estadsticas"}),st.jsxs("p",{children:["ltima bebida: ",r.tipo,"  ",new Date(r.timestamp).toLocaleTimeString()]}),st.jsxs("p",{children:["Bebidas en las ltimas ",e,"h:"]}),st.jsx("ul",{className:"list-disc pl-4 text-sm text-gray-700 mb-2",children:Object.entries(c).map(([it,W])=>st.jsxs("li",{children:[it,"s: ",W]},it))}),st.jsx("p",{className:"text-center text-sm mt-4 font-semibold",children:"Bebidas en las ltimas 24h (por tipo):"}),st.jsx("div",{className:"bg-white rounded p-2 mt-2",children:st.jsx(Mp,{data:v,options:b})}),st.jsx("p",{className:"text-center text-sm mt-4 font-semibold",children:"Bebidas en las ltimas 24h (por hora):"}),st.jsx("div",{className:"bg-white rounded p-2 mt-2",children:st.jsx(Mp,{data:Q,options:J})})]})}function S4({resumenUsuarios:n}){const t=[...n].sort((i,r)=>r.total-i.total).slice(0,3),e=["","",""];return st.jsxs("div",{className:"mt-6",children:[st.jsx("h2",{className:"text-xl font-bold mb-4",children:" Top 3 Borrachos (24h)"}),st.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:t.map((i,r)=>st.jsxs("div",{className:`p-4 rounded shadow text-center ${r===0?"bg-yellow-200":r===1?"bg-gray-300":"bg-orange-300"}`,children:[st.jsx("div",{className:"text-3xl",children:e[r]}),st.jsx("div",{className:"text-lg font-semibold mt-2",children:st.jsx(k_,{email:i.email})}),st.jsxs("div",{className:"text-sm text-gray-700 mt-1",children:[i.total," bebidas"]})]},i.uid))})]})}function w4({usuarios:n,bebidas:t}){const e=new Date,i=new Date(e.getTime()-24*60*60*1e3),r=n.map(o=>{const c=t.filter(h=>h.uid===o.id&&new Date(h.timestamp)>i);return{uid:o.id,email:o.email,total:c.length}});return st.jsxs("div",{className:"text-center mt-6 text-gray-700",children:[st.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Ranking"}),r.length===0?st.jsx("p",{className:"text-lg italic",children:"Sin datos recientes "}):st.jsx(S4,{resumenUsuarios:r})]})}function A4({bebidas:n,uid:t,email:e}){const i=new Date,r=new Date(i.getTime()-24*60*60*1e3),o=n.filter(_=>{const v=new Date(_.timestamp);return _.uid===t&&v>r}),c=o.reduce((_,v)=>(_[v.tipo]=_[v.tipo]?[..._[v.tipo],v]:[v],_),{}),h=["chupito","cerveza","ron-cola","ron-naranja","kalimotxo","ron-blanco-limon","ron-energetica"],d=async _=>{try{await N1(Vo(dr,"bebidas"),{uid:t,tipo:_,email:e,timestamp:new Date().toISOString()})}catch(v){console.error("Error aadiendo bebida:",v)}},m=async _=>{try{const v=Ap(Vo(dr,"bebidas"),GE("uid","==",t),GE("tipo","==",_),D1("timestamp","desc"),_k(1)),b=await k1(v);if(!b.empty){const S=b.docs[0];await Tk(Vf(dr,"bebidas",S.id))}}catch(v){console.error("Error eliminando bebida:",v)}};return st.jsxs("div",{className:"mt-6",children:[st.jsx("h2",{className:"text-lg font-bold mb-2",children:" Editar Mis Bebidas (ltimas 24h)"}),h.map(_=>{const v=c[_]?.length||0;return st.jsxs("div",{className:"flex items-center justify-between border rounded p-2 my-1",children:[st.jsxs("span",{className:"font-semibold",children:[_,"s"]}),st.jsxs("div",{className:"flex items-center space-x-3",children:[st.jsx("button",{onClick:()=>m(_),className:"bg-red-500 text-white px-3 py-1 rounded disabled:opacity-50",disabled:v===0,"aria-label":`Eliminar una bebida de tipo ${_}`,children:"-"}),st.jsx("span",{className:"w-6 text-center",children:v}),st.jsx("button",{onClick:()=>d(_),className:"bg-green-500 text-white px-3 py-1 rounded","aria-label":`Aadir una bebida de tipo ${_}`,children:"+"})]})]},_)}),o.length===0&&st.jsx("p",{className:"text-center text-sm text-gray-600 mt-4",children:"No tienes bebidas registradas."})]})}function x4({bebidas:n}){const[t,e]=It.useState([]),[i,r]=It.useState("");return It.useEffect(()=>{async function o(){const c=S1(),h=await k1(Vo(c,"usuarios")),d=[];h.forEach(m=>{const _=m.data();d.push({uid:m.id,email:_.email,Nombre:_.Nombre||"Annimo"})}),e(d)}o()},[]),st.jsxs("div",{className:"mt-6",children:[st.jsx("h2",{className:"text-center text-lg font-bold mb-4",children:" Editar Bebidas (ltimas 24h)"}),st.jsxs("div",{className:"mb-4",children:[st.jsx("label",{className:"block text-sm font-medium mb-1",children:"Seleccionar usuario:"}),st.jsxs("select",{className:"border p-2 rounded w-full",onChange:o=>r(o.target.value),value:i,children:[st.jsx("option",{value:"",disabled:!0,children:"-- Selecciona un usuario --"}),t.map(({uid:o,Nombre:c,email:h})=>st.jsx("option",{value:o,children:`${c}`},o))]})]}),i&&st.jsx("div",{className:"mt-4 border-t pt-4",children:st.jsx(A4,{bebidas:n,uid:i,email:t.find(o=>o.uid===i)?.email||"Annimo"})})]})}function R4({bebidasUsuario:n}){const[t,e]=It.useState("");return It.useEffect(()=>{if(!n||n.length===0){e("");return}const i=new Date(n[0].timestamp),o=(new Date-i)/(1e3*60*60);o>12?e("Ya llevas ms de 12 horas sobrio! Te dormiste? "):o>6?e("Ms de 6 horas sin beber, todo un logro! "):o>3?e("Llevas ms de 3 horas sin beber. Una copita? "):e("")},[n]),t?st.jsx("div",{className:"p-3 rounded text-gray-800 mb-4 text-center font-semibold",children:t}):null}var $m,uS;function I4(){if(uS)return $m;uS=1;var n={linear:function(t,e,i,r){var o=i-e;return o*t/r+e},easeInQuad:function(t,e,i,r){var o=i-e;return o*(t/=r)*t+e},easeOutQuad:function(t,e,i,r){var o=i-e;return-o*(t/=r)*(t-2)+e},easeInOutQuad:function(t,e,i,r){var o=i-e;return(t/=r/2)<1?o/2*t*t+e:-o/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,i,r){var o=i-e;return o*(t/=r)*t*t+e},easeOutCubic:function(t,e,i,r){var o=i-e;return o*((t=t/r-1)*t*t+1)+e},easeInOutCubic:function(t,e,i,r){var o=i-e;return(t/=r/2)<1?o/2*t*t*t+e:o/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,i,r){var o=i-e;return o*(t/=r)*t*t*t+e},easeOutQuart:function(t,e,i,r){var o=i-e;return-o*((t=t/r-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,i,r){var o=i-e;return(t/=r/2)<1?o/2*t*t*t*t+e:-o/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,i,r){var o=i-e;return o*(t/=r)*t*t*t*t+e},easeOutQuint:function(t,e,i,r){var o=i-e;return o*((t=t/r-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,i,r){var o=i-e;return(t/=r/2)<1?o/2*t*t*t*t*t+e:o/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,i,r){var o=i-e;return-o*Math.cos(t/r*(Math.PI/2))+o+e},easeOutSine:function(t,e,i,r){var o=i-e;return o*Math.sin(t/r*(Math.PI/2))+e},easeInOutSine:function(t,e,i,r){var o=i-e;return-o/2*(Math.cos(Math.PI*t/r)-1)+e},easeInExpo:function(t,e,i,r){var o=i-e;return t==0?e:o*Math.pow(2,10*(t/r-1))+e},easeOutExpo:function(t,e,i,r){var o=i-e;return t==r?e+o:o*(-Math.pow(2,-10*t/r)+1)+e},easeInOutExpo:function(t,e,i,r){var o=i-e;return t===0?e:t===r?e+o:(t/=r/2)<1?o/2*Math.pow(2,10*(t-1))+e:o/2*(-Math.pow(2,-10*--t)+2)+e},easeInCirc:function(t,e,i,r){var o=i-e;return-o*(Math.sqrt(1-(t/=r)*t)-1)+e},easeOutCirc:function(t,e,i,r){var o=i-e;return o*Math.sqrt(1-(t=t/r-1)*t)+e},easeInOutCirc:function(t,e,i,r){var o=i-e;return(t/=r/2)<1?-o/2*(Math.sqrt(1-t*t)-1)+e:o/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,i,r){var o=i-e,c,h,d;return d=1.70158,h=0,c=o,t===0?e:(t/=r)===1?e+o:(h||(h=r*.3),c<Math.abs(o)?(c=o,d=h/4):d=h/(2*Math.PI)*Math.asin(o/c),-(c*Math.pow(2,10*(t-=1))*Math.sin((t*r-d)*(2*Math.PI)/h))+e)},easeOutElastic:function(t,e,i,r){var o=i-e,c,h,d;return d=1.70158,h=0,c=o,t===0?e:(t/=r)===1?e+o:(h||(h=r*.3),c<Math.abs(o)?(c=o,d=h/4):d=h/(2*Math.PI)*Math.asin(o/c),c*Math.pow(2,-10*t)*Math.sin((t*r-d)*(2*Math.PI)/h)+o+e)},easeInOutElastic:function(t,e,i,r){var o=i-e,c,h,d;return d=1.70158,h=0,c=o,t===0?e:(t/=r/2)===2?e+o:(h||(h=r*(.3*1.5)),c<Math.abs(o)?(c=o,d=h/4):d=h/(2*Math.PI)*Math.asin(o/c),t<1?-.5*(c*Math.pow(2,10*(t-=1))*Math.sin((t*r-d)*(2*Math.PI)/h))+e:c*Math.pow(2,-10*(t-=1))*Math.sin((t*r-d)*(2*Math.PI)/h)*.5+o+e)},easeInBack:function(t,e,i,r,o){var c=i-e;return o===void 0&&(o=1.70158),c*(t/=r)*t*((o+1)*t-o)+e},easeOutBack:function(t,e,i,r,o){var c=i-e;return o===void 0&&(o=1.70158),c*((t=t/r-1)*t*((o+1)*t+o)+1)+e},easeInOutBack:function(t,e,i,r,o){var c=i-e;return o===void 0&&(o=1.70158),(t/=r/2)<1?c/2*(t*t*(((o*=1.525)+1)*t-o))+e:c/2*((t-=2)*t*(((o*=1.525)+1)*t+o)+2)+e},easeInBounce:function(t,e,i,r){var o=i-e,c;return c=n.easeOutBounce(r-t,0,o,r),o-c+e},easeOutBounce:function(t,e,i,r){var o=i-e;return(t/=r)<1/2.75?o*(7.5625*t*t)+e:t<2/2.75?o*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?o*(7.5625*(t-=2.25/2.75)*t+.9375)+e:o*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOutBounce:function(t,e,i,r){var o=i-e,c;return t<r/2?(c=n.easeInBounce(t*2,0,o,r),c*.5+e):(c=n.easeOutBounce(t*2-r,0,o,r),c*.5+o*.5+e)}};return $m=n,$m}var C4=I4();function O4(n){return n*Math.PI/180}function Cn(n,t){return n+Math.random()*(t-n)}function D4(n,t){return Math.floor(n+Math.random()*(t-n+1))}var Uc;(function(n){n[n.Circle=0]="Circle",n[n.Square=1]="Square",n[n.Strip=2]="Strip"})(Uc||(Uc={}));var Zs;(function(n){n[n.Positive=1]="Positive",n[n.Negative=-1]="Negative"})(Zs||(Zs={}));const M4=1e3/60;class k4{constructor(t,e,i,r){this.getOptions=e;const{colors:o,initialVelocityX:c,initialVelocityY:h}=this.getOptions();this.context=t,this.x=i,this.y=r,this.w=Cn(5,20),this.h=Cn(5,20),this.radius=Cn(5,10),this.vx=typeof c=="number"?Cn(-c,c):Cn(c.min,c.max),this.vy=typeof h=="number"?Cn(-h,0):Cn(h.min,h.max),this.shape=D4(0,2),this.angle=O4(Cn(0,360)),this.angularSpin=Cn(-.2,.2),this.color=o[Math.floor(Math.random()*o.length)],this.rotateY=Cn(0,1),this.rotationDirection=Cn(0,1)?Zs.Positive:Zs.Negative}update(t){const{gravity:e,wind:i,friction:r,opacity:o,drawShape:c}=this.getOptions(),h=t/M4;this.x+=this.vx*h,this.y+=this.vy*h,this.vy+=e*h,this.vx+=i*h,this.vx*=r**h,this.vy*=r**h,this.rotateY>=1&&this.rotationDirection===Zs.Positive?this.rotationDirection=Zs.Negative:this.rotateY<=-1&&this.rotationDirection===Zs.Negative&&(this.rotationDirection=Zs.Positive);const d=.1*this.rotationDirection*h;if(this.rotateY+=d,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=o,this.context.lineCap="round",this.context.lineWidth=2,c&&typeof c=="function")c.call(this,this.context);else switch(this.shape){case Uc.Circle:{this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break}case Uc.Square:{this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break}case Uc.Strip:{this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h);break}}this.context.closePath(),this.context.restore()}}class N4{constructor(t,e){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=r=>{this.particles.splice(r,1)},this.getParticle=()=>{const r=Cn(this.x,this.w+this.x),o=Cn(this.y,this.h+this.y);return new k4(this.context,this.getOptions,r,o)},this.animate=r=>{const{canvas:o,context:c,particlesGenerated:h,lastNumberOfPieces:d}=this,{run:m,recycle:_,numberOfPieces:v,debug:b,tweenFunction:S,tweenDuration:R}=this.getOptions();if(!m)return!1;const k=this.particles.length,C=_?k:h;if(C<v){d!==v&&(this.tweenProgress=0,this.tweenFrom=C,this.lastNumberOfPieces=v),this.tweenProgress=Math.min(R,Math.max(0,this.tweenProgress+r));const H=S(this.tweenProgress,this.tweenFrom,v,R),Q=Math.round(H-C);for(let J=0;J<Q;J++)this.particles.push(this.getParticle());this.particlesGenerated+=Q}b&&(c.font="12px sans-serif",c.fillStyle="#333",c.textAlign="right",c.fillText(`Particles: ${k}`,o.width-10,o.height-20));for(let H=this.particles.length-1;H>=0;H--){const Q=this.particles[H];Q.update(r),(Q.y>o.height||Q.y<-100||Q.x>o.width+100||Q.x<-100)&&(_&&C<=v?this.particles[H]=this.getParticle():this.removeParticleAt(H))}return k>0||C<v},this.canvas=t;const i=this.canvas.getContext("2d");if(!i)throw new Error("Could not get canvas context");this.context=i,this.getOptions=e}}const K_={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:C4.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class P4{constructor(t,e){this.lastFrameTime=0,this.setOptionsWithDefaults=r=>{const o={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...o,...K_,...r},Object.assign(this,r.confettiSource)},this.update=(r=0)=>{const{options:{run:o,onConfettiComplete:c,frameRate:h},canvas:d,context:m}=this,_=Math.min(r-this.lastFrameTime,50);if(h&&_<1e3/h){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=r-(h?_%h:0),o&&(m.fillStyle="white",m.clearRect(0,0,d.width,d.height)),this.generator.animate(_)?this.rafId=requestAnimationFrame(this.update):(c&&typeof c=="function"&&this.generator.particlesGenerated>0&&c.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=t;const i=this.canvas.getContext("2d");if(!i)throw new Error("Could not get canvas context");this.context=i,this.generator=new N4(this.canvas,()=>this.options),this.options=e,this.update()}get options(){return this._options}set options(t){const e=this._options?.run,i=this._options?.recycle;this.setOptionsWithDefaults(t),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof t.recycle=="boolean"&&t.recycle&&i===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof t.run=="boolean"&&t.run&&e===!1&&this.update()}}const V4=Dn.createRef();class Q_ extends Dn.Component{constructor(t){super(t),this.canvas=Dn.createRef(),this.canvas=t.canvasRef||V4}componentDidMount(){if(this.canvas.current){const t=Zm(this.props)[0];this.confetti=new P4(this.canvas.current,t)}}componentDidUpdate(){const t=Zm(this.props)[0];this.confetti&&(this.confetti.options=t)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[t,e]=Zm(this.props),i={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...e.style};return st.jsx("canvas",{width:t.width,height:t.height,ref:this.canvas,...e,style:i})}}Q_.defaultProps={...K_};Q_.displayName="ReactConfetti";function Zm(n){const t={},e={},i={},r=[...Object.keys(K_),"confettiSource","drawShape","onConfettiComplete","frameRate"],o=["canvasRef"];for(const c in n){const h=n[c];r.includes(c)?t[c]=h:o.includes(c)?o[c]=h:i[c]=h}return[t,i,e]}const L4=Dn.forwardRef((n,t)=>st.jsx(Q_,{canvasRef:t,...n}));function U4(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];n&&n.addEventListener&&n.addEventListener.apply(n,t)}function z4(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];n&&n.removeEventListener&&n.removeEventListener.apply(n,t)}var Jm=typeof window<"u",B4=function(n){It.useEffect(n,[])},j4=function(n){var t=It.useRef(n);t.current=n,B4(function(){return function(){return t.current()}})},F4=function(n){var t=It.useRef(0),e=It.useState(n),i=e[0],r=e[1],o=It.useCallback(function(c){cancelAnimationFrame(t.current),t.current=requestAnimationFrame(function(){r(c)})},[]);return j4(function(){cancelAnimationFrame(t.current)}),[i,o]},H4=function(n){var t={},e=t.initialWidth,i=e===void 0?1/0:e,r=t.initialHeight,o=r===void 0?1/0:r,c=t.onChange,h=F4({width:Jm?window.innerWidth:i,height:Jm?window.innerHeight:o}),d=h[0],m=h[1];return It.useEffect(function(){if(Jm){var _=function(){var v=window.innerWidth,b=window.innerHeight;m({width:v,height:b}),c&&c(v,b)};return U4(window,"resize",_),function(){z4(window,"resize",_)}}},[]),d};function q4({totalBebidas:n}){const{width:t,height:e}=H4(),[i,r]=It.useState(!1);return It.useEffect(()=>{if(n===3||n===5){r(!0);const o=setTimeout(()=>r(!1),5e3);return()=>clearTimeout(o)}},[n]),i?st.jsx(L4,{width:t,height:e}):null}function G4(){const[n,t]=It.useState(null),[e,i]=It.useState([]),[r,o]=It.useState("inicio"),[c,h]=It.useState([]);It.useEffect(()=>{const _=Ap(Vo(dr,"usuarios")),v=XE(_,b=>{const S=b.docs.map(R=>({id:R.id,...R.data()}));h(S)});return()=>v()},[]),It.useEffect(()=>{const _=$2(xp,v=>{t(v)});return()=>_()},[]),It.useEffect(()=>{const _=Ap(Vo(dr,"bebidas"),D1("timestamp","desc")),v=XE(_,b=>{const S=b.docs.map(R=>({id:R.id,...R.data()}));i(S)});return()=>v()},[]);const d=async _=>{const v={tipo:_,timestamp:new Date().toISOString(),uid:n.uid,email:n.email};await N1(Vo(dr,"bebidas"),v)};if(!n)return st.jsx(wk,{onLogin:()=>{}});const m=e.filter(_=>_.uid===n.uid);return st.jsxs("div",{className:`max-w-md w-full mx-auto mt-6 p-4 border rounded shadow
                md:max-w-md md:p-4`,children:[st.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-4 gap-2",children:[st.jsx("h1",{className:"text-xl font-bold text-center md:text-left",children:" Contador de Bebidas"}),st.jsx("button",{onClick:()=>Z2(xp),className:"text-sm text-red-600 underline md:self-center",children:"Cerrar sesin"})]}),st.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:[st.jsx("button",{onClick:()=>o("inicio"),className:`px-3 py-1 rounded min-w-[80px] text-center ${r==="inicio"?"bg-blue-500 text-white":"bg-gray-200"}`,children:"Inicio"}),st.jsx("button",{onClick:()=>o("global"),className:`px-3 py-1 rounded min-w-[80px] text-center ${r==="global"?"bg-blue-500 text-white":"bg-gray-200"}`,children:"Global"}),st.jsx("button",{onClick:()=>o("editar"),className:`px-3 py-1 rounded min-w-[80px] text-center ${r==="editar"?"bg-blue-500 text-white":"bg-gray-200"}`,children:"Editar Bebidas"}),st.jsx("button",{onClick:()=>o("ranking"),className:`px-3 py-1 rounded min-w-[80px] text-center ${r==="ranking"?"bg-blue-500 text-white":"bg-gray-200"}`,children:"Ranking"})]}),r==="inicio"&&st.jsxs(st.Fragment,{children:[st.jsxs("p",{className:"text-sm text-gray-600 mb-2 text-center",children:["Bienvenido: ",st.jsx(k_,{email:n.email})]}),st.jsx(Nk,{onAdd:d,uid:n.uid}),st.jsx(q4,{totalBebidas:m.length}),st.jsx(R4,{bebidasUsuario:m}),st.jsx(T4,{bebidas:m})]}),r==="global"&&st.jsx(E4,{bebidas:e,usuarios:c}),r==="editar"&&st.jsx(x4,{bebidas:e}),r==="ranking"&&st.jsx(w4,{usuarios:c,bebidas:e})]})}dR.createRoot(document.getElementById("root")).render(st.jsx(It.StrictMode,{children:st.jsx(G4,{})}));
